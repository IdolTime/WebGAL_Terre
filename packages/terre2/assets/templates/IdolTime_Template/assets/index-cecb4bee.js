var Mee=Object.defineProperty;var Bee=(t,e,r)=>e in t?Mee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ye=(t,e,r)=>(Bee(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var aj={exports:{}},Ev={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Q4=Object.getOwnPropertySymbols,Uee=Object.prototype.hasOwnProperty,jee=Object.prototype.propertyIsEnumerable;function $ee(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Gee(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var eR=Gee()?Object.assign:function(t,e){for(var r,n=$ee(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)Uee.call(r,o)&&(n[o]=r[o]);if(Q4){i=Q4(r);for(var s=0;s<i.length;s++)jee.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const Vee=Ei(eR);var oj={exports:{}},nr={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=eR,ud=60103,sj=60106;nr.Fragment=60107;nr.StrictMode=60108;nr.Profiler=60114;var lj=60109,uj=60110,cj=60112;nr.Suspense=60113;var fj=60115,hj=60116;if(typeof Symbol=="function"&&Symbol.for){var bo=Symbol.for;ud=bo("react.element"),sj=bo("react.portal"),nr.Fragment=bo("react.fragment"),nr.StrictMode=bo("react.strict_mode"),nr.Profiler=bo("react.profiler"),lj=bo("react.provider"),uj=bo("react.context"),cj=bo("react.forward_ref"),nr.Suspense=bo("react.suspense"),fj=bo("react.memo"),hj=bo("react.lazy")}var eN=typeof Symbol=="function"&&Symbol.iterator;function Hee(t){return t===null||typeof t!="object"?null:(t=eN&&t[eN]||t["@@iterator"],typeof t=="function"?t:null)}function Sv(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pj={};function cd(t,e,r){this.props=t,this.context=e,this.refs=pj,this.updater=r||dj}cd.prototype.isReactComponent={};cd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Sv(85));this.updater.enqueueSetState(this,t,e,"setState")};cd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vj(){}vj.prototype=cd.prototype;function rR(t,e,r){this.props=t,this.context=e,this.refs=pj,this.updater=r||dj}var nR=rR.prototype=new vj;nR.constructor=rR;tR(nR,cd.prototype);nR.isPureReactComponent=!0;var iR={current:null},gj=Object.prototype.hasOwnProperty,mj={key:!0,ref:!0,__self:!0,__source:!0};function _j(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)gj.call(e,n)&&!mj.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ud,type:t,key:a,ref:o,props:i,_owner:iR.current}}function Xee(t,e){return{$$typeof:ud,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aR(t){return typeof t=="object"&&t!==null&&t.$$typeof===ud}function Wee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tN=/\/+/g;function kw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wee(""+t.key):e.toString(36)}function r_(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ud:case sj:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+kw(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(tN,"$&/")+"/"),r_(i,e,r,"",function(l){return l})):i!=null&&(aR(i)&&(i=Xee(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+kw(a,s);o+=r_(a,e,r,c,i)}else if(c=Hee(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+kw(a,s++),o+=r_(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(Sv(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function zg(t,e,r){if(t==null)return t;var n=[],i=0;return r_(t,n,"","",function(a){return e.call(r,a,i++)}),n}function zee(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var yj={current:null};function ul(){var t=yj.current;if(t===null)throw Error(Sv(321));return t}var Yee={ReactCurrentDispatcher:yj,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:iR,IsSomeRendererActing:{current:!1},assign:tR};nr.Children={map:zg,forEach:function(t,e,r){zg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zg(t,function(){e++}),e},toArray:function(t){return zg(t,function(e){return e})||[]},only:function(t){if(!aR(t))throw Error(Sv(143));return t}};nr.Component=cd;nr.PureComponent=rR;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yee;nr.cloneElement=function(t,e,r){if(t==null)throw Error(Sv(267,t));var n=tR({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=iR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)gj.call(e,c)&&!mj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:ud,type:t.type,key:i,ref:a,props:n,_owner:o}};nr.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:uj,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:lj,_context:t},t.Consumer=t};nr.createElement=_j;nr.createFactory=function(t){var e=_j.bind(null,t);return e.type=t,e};nr.createRef=function(){return{current:null}};nr.forwardRef=function(t){return{$$typeof:cj,render:t}};nr.isValidElement=aR;nr.lazy=function(t){return{$$typeof:hj,_payload:{_status:-1,_result:t},_init:zee}};nr.memo=function(t,e){return{$$typeof:fj,type:t,compare:e===void 0?null:e}};nr.useCallback=function(t,e){return ul().useCallback(t,e)};nr.useContext=function(t,e){return ul().useContext(t,e)};nr.useDebugValue=function(){};nr.useEffect=function(t,e){return ul().useEffect(t,e)};nr.useImperativeHandle=function(t,e,r){return ul().useImperativeHandle(t,e,r)};nr.useLayoutEffect=function(t,e){return ul().useLayoutEffect(t,e)};nr.useMemo=function(t,e){return ul().useMemo(t,e)};nr.useReducer=function(t,e,r){return ul().useReducer(t,e,r)};nr.useRef=function(t){return ul().useRef(t)};nr.useState=function(t){return ul().useState(t)};nr.version="17.0.2";oj.exports=nr;var ce=oj.exports;const ti=Ei(ce);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qee=ce,xj=60103;Ev.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var rN=Symbol.for;xj=rN("react.element"),Ev.Fragment=rN("react.fragment")}var Kee=qee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zee=Object.prototype.hasOwnProperty,Jee={key:!0,ref:!0,__self:!0,__source:!0};function bj(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Zee.call(e,n)&&!Jee.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xj,type:t,key:a,ref:o,props:i,_owner:Kee.current}}Ev.jsx=bj;Ev.jsxs=bj;aj.exports=Ev;var M=aj.exports,wj={exports:{}},po={},Ej={exports:{}},Sj={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var B=t.unstable_now();c(!0,B),c=null}catch(V){throw setTimeout(u,0),V}};e=function(B){c!==null?setTimeout(e,0,B):(c=B,setTimeout(u,0))},r=function(B,V){l=setTimeout(B,V)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var d=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof d!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,g=-1,m=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<B?Math.floor(1e3/B):5};var x=new MessageChannel,b=x.port2;x.port1.onmessage=function(){if(v!==null){var B=t.unstable_now();_=B+m;try{v(!0,B)?b.postMessage(null):(p=!1,v=null)}catch(V){throw b.postMessage(null),V}}else p=!1},e=function(B){v=B,p||(p=!0,b.postMessage(null))},r=function(B,V){g=f(function(){B(t.unstable_now())},V)},n=function(){h(g),g=-1}}function w(B,V){var U=B.length;B.push(V);e:for(;;){var $=U-1>>>1,J=B[$];if(J!==void 0&&0<A(J,V))B[$]=V,B[U]=J,U=$;else break e}}function S(B){return B=B[0],B===void 0?null:B}function C(B){var V=B[0];if(V!==void 0){var U=B.pop();if(U!==V){B[0]=U;e:for(var $=0,J=B.length;$<J;){var re=2*($+1)-1,fe=B[re],le=re+1,xe=B[le];if(fe!==void 0&&0>A(fe,U))xe!==void 0&&0>A(xe,fe)?(B[$]=xe,B[le]=U,$=le):(B[$]=fe,B[re]=U,$=re);else if(xe!==void 0&&0>A(xe,U))B[$]=xe,B[le]=U,$=le;else break e}}return V}return null}function A(B,V){var U=B.sortIndex-V.sortIndex;return U!==0?U:B.id-V.id}var T=[],R=[],O=1,P=null,k=3,F=!1,L=!1,D=!1;function H(B){for(var V=S(R);V!==null;){if(V.callback===null)C(R);else if(V.startTime<=B)C(R),V.sortIndex=V.expirationTime,w(T,V);else break;V=S(R)}}function Q(B){if(D=!1,H(B),!L)if(S(T)!==null)L=!0,e(ee);else{var V=S(R);V!==null&&r(Q,V.startTime-B)}}function ee(B,V){L=!1,D&&(D=!1,n()),F=!0;var U=k;try{for(H(V),P=S(T);P!==null&&(!(P.expirationTime>V)||B&&!t.unstable_shouldYield());){var $=P.callback;if(typeof $=="function"){P.callback=null,k=P.priorityLevel;var J=$(P.expirationTime<=V);V=t.unstable_now(),typeof J=="function"?P.callback=J:P===S(T)&&C(T),H(V)}else C(T);P=S(T)}if(P!==null)var re=!0;else{var fe=S(R);fe!==null&&r(Q,fe.startTime-V),re=!1}return re}finally{P=null,k=U,F=!1}}var G=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){L||F||(L=!0,e(ee))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(B){switch(k){case 1:case 2:case 3:var V=3;break;default:V=k}var U=k;k=V;try{return B()}finally{k=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=k;k=B;try{return V()}finally{k=U}},t.unstable_scheduleCallback=function(B,V,U){var $=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,B={id:O++,callback:V,priorityLevel:B,startTime:U,expirationTime:J,sortIndex:-1},U>$?(B.sortIndex=U,w(R,B),S(T)===null&&B===S(R)&&(D?n():D=!0,r(Q,U-$))):(B.sortIndex=J,w(T,B),L||F||(L=!0,e(ee))),B},t.unstable_wrapCallback=function(B){var V=k;return function(){var U=k;k=V;try{return B.apply(this,arguments)}finally{k=U}}}})(Sj);Ej.exports=Sj;var Qee=Ej.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=ce,Yr=eR,ii=Qee;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!sx)throw Error(Me(227));var Cj=new Set,wp={};function Kc(t,e){Dh(t,e),Dh(t+"Capture",e)}function Dh(t,e){for(wp[t]=e,t=0;t<e.length;t++)Cj.add(e[t])}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ete=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nN=Object.prototype.hasOwnProperty,iN={},aN={};function tte(t){return nN.call(aN,t)?!0:nN.call(iN,t)?!1:ete.test(t)?aN[t]=!0:(iN[t]=!0,!1)}function rte(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nte(t,e,r,n){if(e===null||typeof e>"u"||rte(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ia(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wi[t]=new ia(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wi[e]=new ia(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wi[t]=new ia(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wi[t]=new ia(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wi[t]=new ia(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wi[t]=new ia(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wi[t]=new ia(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wi[t]=new ia(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wi[t]=new ia(t,5,!1,t.toLowerCase(),null,!1,!1)});var oR=/[\-:]([a-z])/g;function sR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oR,sR);wi[e]=new ia(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oR,sR);wi[e]=new ia(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oR,sR);wi[e]=new ia(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wi[t]=new ia(t,1,!1,t.toLowerCase(),null,!1,!1)});wi.xlinkHref=new ia("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wi[t]=new ia(t,1,!1,t.toLowerCase(),null,!0,!0)});function lR(t,e,r,n){var i=wi.hasOwnProperty(e)?wi[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(nte(e,r,i,n)&&(r=null),n||i===null?tte(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zc=sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M0=60103,fc=60106,Ll=60107,uR=60108,q0=60114,cR=60109,fR=60110,lx=60112,K0=60113,V_=60120,ux=60115,hR=60116,dR=60121,pR=60128,Aj=60129,vR=60130,g2=60131;if(typeof Symbol=="function"&&Symbol.for){var Kn=Symbol.for;M0=Kn("react.element"),fc=Kn("react.portal"),Ll=Kn("react.fragment"),uR=Kn("react.strict_mode"),q0=Kn("react.profiler"),cR=Kn("react.provider"),fR=Kn("react.context"),lx=Kn("react.forward_ref"),K0=Kn("react.suspense"),V_=Kn("react.suspense_list"),ux=Kn("react.memo"),hR=Kn("react.lazy"),dR=Kn("react.block"),Kn("react.scope"),pR=Kn("react.opaque.id"),Aj=Kn("react.debug_trace_mode"),vR=Kn("react.offscreen"),g2=Kn("react.legacy_hidden")}var oN=typeof Symbol=="function"&&Symbol.iterator;function a0(t){return t===null||typeof t!="object"?null:(t=oN&&t[oN]||t["@@iterator"],typeof t=="function"?t:null)}var Fw;function B0(t){if(Fw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Fw=e&&e[1]||""}return`
`+Fw+t}var Nw=!1;function Yg(t,e){if(!t||Nw)return"";Nw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{Nw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?B0(t):""}function ite(t){switch(t.tag){case 5:return B0(t.type);case 16:return B0("Lazy");case 13:return B0("Suspense");case 19:return B0("SuspenseList");case 0:case 2:case 15:return t=Yg(t.type,!1),t;case 11:return t=Yg(t.type.render,!1),t;case 22:return t=Yg(t.type._render,!1),t;case 1:return t=Yg(t.type,!0),t;default:return""}}function hh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ll:return"Fragment";case fc:return"Portal";case q0:return"Profiler";case uR:return"StrictMode";case K0:return"Suspense";case V_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fR:return(t.displayName||"Context")+".Consumer";case cR:return(t._context.displayName||"Context")+".Provider";case lx:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ux:return hh(t.type);case dR:return hh(t._render);case hR:e=t._payload,t=t._init;try{return hh(t(e))}catch{}}return null}function fu(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Tj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ate(t){var e=Tj(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qg(t){t._valueTracker||(t._valueTracker=ate(t))}function Ij(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Tj(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function H_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function m2(t,e){var r=e.checked;return Yr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function sN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rj(t,e){e=e.checked,e!=null&&lR(t,"checked",e,!1)}function _2(t,e){Rj(t,e);var r=fu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y2(t,e.type,r):e.hasOwnProperty("defaultValue")&&y2(t,e.type,fu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function y2(t,e,r){(e!=="number"||H_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function ote(t){var e="";return sx.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function x2(t,e){return t=Yr({children:void 0},e),(e=ote(e.children))&&(t.children=e),t}function dh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Yr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Me(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fu(r)}}function Pj(t,e){var r=fu(e.value),n=fu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var w2={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Oj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Oj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kg,kj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==w2.svg||"innerHTML"in t)t.innerHTML=e;else{for(Kg=Kg||document.createElement("div"),Kg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ep(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Z0={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ste=["Webkit","ms","Moz","O"];Object.keys(Z0).forEach(function(t){ste.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Z0[e]=Z0[t]})});function Fj(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Z0.hasOwnProperty(t)&&Z0[t]?(""+e).trim():e+"px"}function Nj(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Fj(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lte=Yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S2(t,e){if(e){if(lte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function C2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function gR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A2=null,ph=null,vh=null;function fN(t){if(t=Av(t)){if(typeof A2!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=vx(e),A2(t.stateNode,t.type,e))}}function Lj(t){ph?vh?vh.push(t):vh=[t]:ph=t}function Mj(){if(ph){var t=ph,e=vh;if(vh=ph=null,fN(t),e)for(t=0;t<e.length;t++)fN(e[t])}}function mR(t,e){return t(e)}function Bj(t,e,r,n,i){return t(e,r,n,i)}function _R(){}var Dj=mR,hc=!1,Lw=!1;function yR(){(ph!==null||vh!==null)&&(_R(),Mj())}function ute(t,e,r){if(Lw)return t(e,r);Lw=!0;try{return Dj(t,e,r)}finally{Lw=!1,yR()}}function Sp(t,e){var r=t.stateNode;if(r===null)return null;var n=vx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Me(231,e,typeof r));return r}var T2=!1;if(nl)try{var o0={};Object.defineProperty(o0,"passive",{get:function(){T2=!0}}),window.addEventListener("test",o0,o0),window.removeEventListener("test",o0,o0)}catch{T2=!1}function cte(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var J0=!1,X_=null,W_=!1,I2=null,fte={onError:function(t){J0=!0,X_=t}};function hte(t,e,r,n,i,a,o,s,c){J0=!1,X_=null,cte.apply(fte,arguments)}function dte(t,e,r,n,i,a,o,s,c){if(hte.apply(this,arguments),J0){if(J0){var l=X_;J0=!1,X_=null}else throw Error(Me(198));W_||(W_=!0,I2=l)}}function Jc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Uj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hN(t){if(Jc(t)!==t)throw Error(Me(188))}function pte(t){var e=t.alternate;if(!e){if(e=Jc(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return hN(i),t;if(a===n)return hN(i),e;a=a.sibling}throw Error(Me(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?t:e}function jj(t){if(t=pte(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function dN(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var $j,xR,Gj,Vj,R2=!1,is=[],Kl=null,Zl=null,Jl=null,Cp=new Map,Ap=new Map,s0=[],pN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P2(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function vN(t,e){switch(t){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":Cp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(e.pointerId)}}function l0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=P2(e,r,n,i,a),e!==null&&(e=Av(e),e!==null&&xR(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vte(t,e,r,n,i){switch(e){case"focusin":return Kl=l0(Kl,t,e,r,n,i),!0;case"dragenter":return Zl=l0(Zl,t,e,r,n,i),!0;case"mouseover":return Jl=l0(Jl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Cp.set(a,l0(Cp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ap.set(a,l0(Ap.get(a)||null,t,e,r,n,i)),!0}return!1}function gte(t){var e=dc(t.target);if(e!==null){var r=Jc(e);if(r!==null){if(e=r.tag,e===13){if(e=Uj(r),e!==null){t.blockedOn=e,Vj(t.lanePriority,function(){ii.unstable_runWithPriority(t.priority,function(){Gj(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=SR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Av(r),e!==null&&xR(e),t.blockedOn=r,!1;e.shift()}return!0}function gN(t,e,r){n_(t)&&r.delete(e)}function mte(){for(R2=!1;0<is.length;){var t=is[0];if(t.blockedOn!==null){t=Av(t.blockedOn),t!==null&&$j(t);break}for(var e=t.targetContainers;0<e.length;){var r=SR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&is.shift()}Kl!==null&&n_(Kl)&&(Kl=null),Zl!==null&&n_(Zl)&&(Zl=null),Jl!==null&&n_(Jl)&&(Jl=null),Cp.forEach(gN),Ap.forEach(gN)}function u0(t,e){t.blockedOn===e&&(t.blockedOn=null,R2||(R2=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,mte)))}function Hj(t){function e(i){return u0(i,t)}if(0<is.length){u0(is[0],t);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Kl!==null&&u0(Kl,t),Zl!==null&&u0(Zl,t),Jl!==null&&u0(Jl,t),Cp.forEach(e),Ap.forEach(e),r=0;r<s0.length;r++)n=s0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<s0.length&&(r=s0[0],r.blockedOn===null);)gte(r),r.blockedOn===null&&s0.shift()}function Zg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Kf={animationend:Zg("Animation","AnimationEnd"),animationiteration:Zg("Animation","AnimationIteration"),animationstart:Zg("Animation","AnimationStart"),transitionend:Zg("Transition","TransitionEnd")},Mw={},Xj={};nl&&(Xj=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function cx(t){if(Mw[t])return Mw[t];if(!Kf[t])return t;var e=Kf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Xj)return Mw[t]=e[r];return t}var Wj=cx("animationend"),zj=cx("animationiteration"),Yj=cx("animationstart"),qj=cx("transitionend"),Kj=new Map,bR=new Map,_te=["abort","abort",Wj,"animationEnd",zj,"animationIteration",Yj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qj,"transitionEnd","waiting","waiting"];function wR(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bR.set(n,e),Kj.set(n,i),Kc(i,[n])}}var yte=ii.unstable_now;yte();var Pr=8;function Wf(t){if(1&t)return Pr=15,1;if(2&t)return Pr=14,2;if(4&t)return Pr=13,4;var e=24&t;return e!==0?(Pr=12,e):t&32?(Pr=11,32):(e=192&t,e!==0?(Pr=10,e):t&256?(Pr=9,256):(e=3584&t,e!==0?(Pr=8,e):t&4096?(Pr=7,4096):(e=4186112&t,e!==0?(Pr=6,e):(e=62914560&t,e!==0?(Pr=5,e):t&67108864?(Pr=4,67108864):t&134217728?(Pr=3,134217728):(e=805306368&t,e!==0?(Pr=2,e):1073741824&t?(Pr=1,1073741824):(Pr=8,t))))))}function xte(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function bte(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Me(358,t))}}function Tp(t,e){var r=t.pendingLanes;if(r===0)return Pr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=Pr=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=Wf(c),i=Pr):(s&=a,s!==0&&(n=Wf(s),i=Pr))}else a=r&~o,a!==0?(n=Wf(a),i=Pr):s!==0&&(n=Wf(s),i=Pr);if(n===0)return 0;if(n=31-hu(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(Wf(e),i<=Pr)return e;Pr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hu(e),i=1<<r,n|=t[r],e&=~i;return n}function Zj(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z_(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=zf(24&~e),t===0?z_(10,e):t;case 10:return t=zf(192&~e),t===0?z_(8,e):t;case 8:return t=zf(3584&~e),t===0&&(t=zf(4186112&~e),t===0&&(t=512)),t;case 2:return e=zf(805306368&~e),e===0&&(e=268435456),e}throw Error(Me(358,t))}function zf(t){return t&-t}function Bw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fx(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-hu(e),t[e]=r}var hu=Math.clz32?Math.clz32:Ste,wte=Math.log,Ete=Math.LN2;function Ste(t){return t===0?32:31-(wte(t)/Ete|0)|0}var Cte=ii.unstable_UserBlockingPriority,Ate=ii.unstable_runWithPriority,i_=!0;function Tte(t,e,r,n){hc||_R();var i=ER,a=hc;hc=!0;try{Bj(i,t,e,r,n)}finally{(hc=a)||yR()}}function Ite(t,e,r,n){Ate(Cte,ER.bind(null,t,e,r,n))}function ER(t,e,r,n){if(i_){var i;if((i=(e&4)===0)&&0<is.length&&-1<pN.indexOf(t))t=P2(null,t,e,r,n),is.push(t);else{var a=SR(t,e,r,n);if(a===null)i&&vN(t,n);else{if(i){if(-1<pN.indexOf(t)){t=P2(a,t,e,r,n),is.push(t);return}if(vte(a,t,e,r,n))return;vN(t,n)}c$(t,e,n,null,r)}}}}function SR(t,e,r,n){var i=gR(n);if(i=dc(i),i!==null){var a=Jc(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=Uj(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return c$(t,e,n,i,r),null}var $l=null,CR=null,a_=null;function Jj(){if(a_)return a_;var t,e=CR,r=e.length,n,i="value"in $l?$l.value:$l.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return a_=i.slice(t,1<n?1-n:void 0)}function o_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jg(){return!0}function mN(){return!1}function Ga(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jg:mN,this.isPropagationStopped=mN,this}return Yr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jg)},persist:function(){},isPersistent:Jg}),e}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AR=Ga(fd),Cv=Yr({},fd,{view:0,detail:0}),Rte=Ga(Cv),Dw,Uw,c0,hx=Yr({},Cv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==c0&&(c0&&t.type==="mousemove"?(Dw=t.screenX-c0.screenX,Uw=t.screenY-c0.screenY):Uw=Dw=0,c0=t),Dw)},movementY:function(t){return"movementY"in t?t.movementY:Uw}}),_N=Ga(hx),Pte=Yr({},hx,{dataTransfer:0}),Ote=Ga(Pte),kte=Yr({},Cv,{relatedTarget:0}),jw=Ga(kte),Fte=Yr({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),Nte=Ga(Fte),Lte=Yr({},fd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mte=Ga(Lte),Bte=Yr({},fd,{data:0}),yN=Ga(Bte),Dte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ute={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $te(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jte[t])?!!e[t]:!1}function TR(){return $te}var Gte=Yr({},Cv,{key:function(t){if(t.key){var e=Dte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=o_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ute[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TR,charCode:function(t){return t.type==="keypress"?o_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?o_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vte=Ga(Gte),Hte=Yr({},hx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xN=Ga(Hte),Xte=Yr({},Cv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TR}),Wte=Ga(Xte),zte=Yr({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yte=Ga(zte),qte=Yr({},hx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kte=Ga(qte),Zte=[9,13,27,32],IR=nl&&"CompositionEvent"in window,Q0=null;nl&&"documentMode"in document&&(Q0=document.documentMode);var Jte=nl&&"TextEvent"in window&&!Q0,Qj=nl&&(!IR||Q0&&8<Q0&&11>=Q0),bN=String.fromCharCode(32),wN=!1;function e$(t,e){switch(t){case"keyup":return Zte.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zf=!1;function Qte(t,e){switch(t){case"compositionend":return t$(e);case"keypress":return e.which!==32?null:(wN=!0,bN);case"textInput":return t=e.data,t===bN&&wN?null:t;default:return null}}function ere(t,e){if(Zf)return t==="compositionend"||!IR&&e$(t,e)?(t=Jj(),a_=CR=$l=null,Zf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qj&&e.locale!=="ko"?null:e.data;default:return null}}var tre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tre[t.type]:e==="textarea"}function r$(t,e,r,n){Lj(n),e=Y_(e,"onChange"),0<e.length&&(r=new AR("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ep=null,Ip=null;function rre(t){s$(t,0)}function dx(t){var e=Qf(t);if(Ij(e))return t}function nre(t,e){if(t==="change")return e}var n$=!1;if(nl){var $w;if(nl){var Gw="oninput"in document;if(!Gw){var SN=document.createElement("div");SN.setAttribute("oninput","return;"),Gw=typeof SN.oninput=="function"}$w=Gw}else $w=!1;n$=$w&&(!document.documentMode||9<document.documentMode)}function CN(){ep&&(ep.detachEvent("onpropertychange",i$),Ip=ep=null)}function i$(t){if(t.propertyName==="value"&&dx(Ip)){var e=[];if(r$(e,Ip,t,gR(t)),t=rre,hc)t(e);else{hc=!0;try{mR(t,e)}finally{hc=!1,yR()}}}}function ire(t,e,r){t==="focusin"?(CN(),ep=e,Ip=r,ep.attachEvent("onpropertychange",i$)):t==="focusout"&&CN()}function are(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dx(Ip)}function ore(t,e){if(t==="click")return dx(e)}function sre(t,e){if(t==="input"||t==="change")return dx(e)}function lre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ao=typeof Object.is=="function"?Object.is:lre,ure=Object.prototype.hasOwnProperty;function Rp(t,e){if(ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ure.call(e,r[n])||!ao(t[r[n]],e[r[n]]))return!1;return!0}function AN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TN(t,e){var r=AN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AN(r)}}function a$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?a$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IN(){for(var t=window,e=H_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=H_(t.document)}return e}function O2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cre=nl&&"documentMode"in document&&11>=document.documentMode,Jf=null,k2=null,tp=null,F2=!1;function RN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;F2||Jf==null||Jf!==H_(n)||(n=Jf,"selectionStart"in n&&O2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tp&&Rp(tp,n)||(tp=n,n=Y_(k2,"onSelect"),0<n.length&&(e=new AR("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Jf)))}wR("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);wR("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);wR(_te,2);for(var PN="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vw=0;Vw<PN.length;Vw++)bR.set(PN[Vw],0);Dh("onMouseEnter",["mouseout","mouseover"]);Dh("onMouseLeave",["mouseout","mouseover"]);Dh("onPointerEnter",["pointerout","pointerover"]);Dh("onPointerLeave",["pointerout","pointerover"]);Kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o$=new Set("cancel close invalid load scroll toggle".split(" ").concat(D0));function ON(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dte(n,e,void 0,t),t.currentTarget=null}function s$(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;ON(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;ON(i,s,l),a=c}}}if(W_)throw t=I2,W_=!1,I2=null,t}function Lr(t,e){var r=h$(e),n=t+"__bubble";r.has(n)||(u$(e,t,2,!1),r.add(n))}var kN="_reactListening"+Math.random().toString(36).slice(2);function l$(t){t[kN]||(t[kN]=!0,Cj.forEach(function(e){o$.has(e)||FN(e,!1,t,null),FN(e,!0,t,null)}))}function FN(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&o$.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=h$(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),u$(a,t,i,e),o.add(s))}function u$(t,e,r,n){var i=bR.get(e);switch(i===void 0?2:i){case 0:i=Tte;break;case 1:i=Ite;break;default:i=ER}r=i.bind(null,e,r,t),i=void 0,!T2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function c$(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=dc(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}ute(function(){var l=a,u=gR(r),f=[];e:{var h=Kj.get(t);if(h!==void 0){var d=AR,p=t;switch(t){case"keypress":if(o_(r)===0)break e;case"keydown":case"keyup":d=Vte;break;case"focusin":p="focus",d=jw;break;case"focusout":p="blur",d=jw;break;case"beforeblur":case"afterblur":d=jw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=_N;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Ote;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Wte;break;case Wj:case zj:case Yj:d=Nte;break;case qj:d=Yte;break;case"scroll":d=Rte;break;case"wheel":d=Kte;break;case"copy":case"cut":case"paste":d=Mte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=xN}var v=(e&4)!==0,g=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var _=l,x;_!==null;){x=_;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,m!==null&&(b=Sp(_,m),b!=null&&v.push(Pp(_,b,x)))),g)break;_=_.return}0<v.length&&(h=new d(h,p,null,r,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(p=r.relatedTarget||r.fromElement)&&(dc(p)||p[hd]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=l,p=p?dc(p):null,p!==null&&(g=Jc(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=l),d!==p)){if(v=_N,b="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=xN,b="onPointerLeave",m="onPointerEnter",_="pointer"),g=d==null?h:Qf(d),x=p==null?h:Qf(p),h=new v(b,_+"leave",d,r,u),h.target=g,h.relatedTarget=x,b=null,dc(u)===l&&(v=new v(m,_+"enter",p,r,u),v.target=x,v.relatedTarget=g,b=v),g=b,d&&p)t:{for(v=d,m=p,_=0,x=v;x;x=Tf(x))_++;for(x=0,b=m;b;b=Tf(b))x++;for(;0<_-x;)v=Tf(v),_--;for(;0<x-_;)m=Tf(m),x--;for(;_--;){if(v===m||m!==null&&v===m.alternate)break t;v=Tf(v),m=Tf(m)}v=null}else v=null;d!==null&&NN(f,h,d,v,!1),p!==null&&g!==null&&NN(f,g,p,v,!0)}}e:{if(h=l?Qf(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=nre;else if(EN(h))if(n$)w=sre;else{w=are;var S=ire}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=ore);if(w&&(w=w(t,l))){r$(f,w,r,u);break e}S&&S(t,h,l),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&y2(h,"number",h.value)}switch(S=l?Qf(l):window,t){case"focusin":(EN(S)||S.contentEditable==="true")&&(Jf=S,k2=l,tp=null);break;case"focusout":tp=k2=Jf=null;break;case"mousedown":F2=!0;break;case"contextmenu":case"mouseup":case"dragend":F2=!1,RN(f,r,u);break;case"selectionchange":if(cre)break;case"keydown":case"keyup":RN(f,r,u)}var C;if(IR)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Zf?e$(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Qj&&r.locale!=="ko"&&(Zf||A!=="onCompositionStart"?A==="onCompositionEnd"&&Zf&&(C=Jj()):($l=u,CR="value"in $l?$l.value:$l.textContent,Zf=!0)),S=Y_(l,A),0<S.length&&(A=new yN(A,t,null,r,u),f.push({event:A,listeners:S}),C?A.data=C:(C=t$(r),C!==null&&(A.data=C)))),(C=Jte?Qte(t,r):ere(t,r))&&(l=Y_(l,"onBeforeInput"),0<l.length&&(u=new yN("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}s$(f,e)})}function Pp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Y_(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Sp(t,r),a!=null&&n.unshift(Pp(t,a,i)),a=Sp(t,e),a!=null&&n.push(Pp(t,a,i))),t=t.return}return n}function Tf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NN(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=Sp(r,a),c!=null&&o.unshift(Pp(r,c,s))):i||(c=Sp(r,a),c!=null&&o.push(Pp(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function q_(){}var Hw=null,Xw=null;function f$(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function N2(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var LN=typeof setTimeout=="function"?setTimeout:void 0,fre=typeof clearTimeout=="function"?clearTimeout:void 0;function RR(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function gh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function MN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ww=0;function hre(t){return{$$typeof:pR,toString:t,valueOf:t}}var px=Math.random().toString(36).slice(2),Gl="__reactFiber$"+px,K_="__reactProps$"+px,hd="__reactContainer$"+px,BN="__reactEvents$"+px;function dc(t){var e=t[Gl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hd]||r[Gl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=MN(t);t!==null;){if(r=t[Gl])return r;t=MN(t)}return e}t=r,r=t.parentNode}return null}function Av(t){return t=t[Gl]||t[hd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function vx(t){return t[K_]||null}function h$(t){var e=t[BN];return e===void 0&&(e=t[BN]=new Set),e}var L2=[],eh=-1;function Au(t){return{current:t}}function Dr(t){0>eh||(t.current=L2[eh],L2[eh]=null,eh--)}function hn(t,e){eh++,L2[eh]=t.current,t.current=e}var du={},Ui=Au(du),ma=Au(!1),Mc=du;function Uh(t,e){var r=t.type.contextTypes;if(!r)return du;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _a(t){return t=t.childContextTypes,t!=null}function Z_(){Dr(ma),Dr(Ui)}function DN(t,e,r){if(Ui.current!==du)throw Error(Me(168));hn(Ui,e),hn(ma,r)}function d$(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Me(108,hh(e)||"Unknown",i));return Yr({},r,n)}function s_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||du,Mc=Ui.current,hn(Ui,t),hn(ma,ma.current),!0}function UN(t,e,r){var n=t.stateNode;if(!n)throw Error(Me(169));r?(t=d$(t,e,Mc),n.__reactInternalMemoizedMergedChildContext=t,Dr(ma),Dr(Ui),hn(Ui,t)):Dr(ma),hn(ma,r)}var PR=null,Ac=null,dre=ii.unstable_runWithPriority,OR=ii.unstable_scheduleCallback,M2=ii.unstable_cancelCallback,pre=ii.unstable_shouldYield,jN=ii.unstable_requestPaint,B2=ii.unstable_now,vre=ii.unstable_getCurrentPriorityLevel,gx=ii.unstable_ImmediatePriority,p$=ii.unstable_UserBlockingPriority,v$=ii.unstable_NormalPriority,g$=ii.unstable_LowPriority,m$=ii.unstable_IdlePriority,zw={},gre=jN!==void 0?jN:function(){},Vs=null,l_=null,Yw=!1,$N=B2(),Li=1e4>$N?B2:function(){return B2()-$N};function jh(){switch(vre()){case gx:return 99;case p$:return 98;case v$:return 97;case g$:return 96;case m$:return 95;default:throw Error(Me(332))}}function _$(t){switch(t){case 99:return gx;case 98:return p$;case 97:return v$;case 96:return g$;case 95:return m$;default:throw Error(Me(332))}}function Bc(t,e){return t=_$(t),dre(t,e)}function Op(t,e,r){return t=_$(t),OR(t,e,r)}function bs(){if(l_!==null){var t=l_;l_=null,M2(t)}y$()}function y$(){if(!Yw&&Vs!==null){Yw=!0;var t=0;try{var e=Vs;Bc(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Vs=null}catch(r){throw Vs!==null&&(Vs=Vs.slice(t+1)),OR(gx,bs),r}finally{Yw=!1}}}var mre=Zc.ReactCurrentBatchConfig;function Io(t,e){if(t&&t.defaultProps){e=Yr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var J_=Au(null),Q_=null,th=null,ey=null;function kR(){ey=th=Q_=null}function FR(t){var e=J_.current;Dr(J_),t.type._context._currentValue=e}function x$(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function mh(t,e){Q_=t,ey=th=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ko=!0),t.firstContext=null)}function fo(t,e){if(ey!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ey=t,e=1073741823),e={context:t,observedBits:e,next:null},th===null){if(Q_===null)throw Error(Me(308));th=e,Q_.dependencies={lanes:0,firstContext:e,responders:null}}else th=th.next=e;return t._currentValue}var kl=!1;function NR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function b$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ql(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eu(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function GN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function kp(t,e,r,n){var i=t.updateQueue;kl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=t,p=a;switch(s=e,h=r,p.tag){case 1:if(d=p.payload,typeof d=="function"){f=d.call(h,f,s);break e}f=d;break e;case 3:d.flags=d.flags&-4097|64;case 0:if(d=p.payload,s=typeof d=="function"?d.call(h,f,s):d,s==null)break e;f=Yr({},f,s);break e;case 2:kl=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,Iv|=o,t.lanes=o,t.memoizedState=f}}function VN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Me(191,i));i.call(n)}}}var w$=new sx.Component().refs;function ty(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Yr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mx={isMounted:function(t){return(t=t._reactInternals)?Jc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ba(),i=tu(t),a=Ql(n,i);a.payload=e,r!=null&&(a.callback=r),eu(t,a),ru(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ba(),i=tu(t),a=Ql(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),eu(t,a),ru(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ba(),n=tu(t),i=Ql(r,n);i.tag=2,e!=null&&(i.callback=e),eu(t,i),ru(t,n,r)}};function HN(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Rp(r,n)||!Rp(i,a):!0}function E$(t,e,r){var n=!1,i=du,a=e.contextType;return typeof a=="object"&&a!==null?a=fo(a):(i=_a(e)?Mc:Ui.current,n=e.contextTypes,a=(n=n!=null)?Uh(t,i):du),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function XN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mx.enqueueReplaceState(e,e.state,null)}function D2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=w$,NR(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=fo(a):(a=_a(e)?Mc:Ui.current,i.context=Uh(t,a)),kp(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ty(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mx.enqueueReplaceState(i,i.state,null),kp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Qg=Array.isArray;function f0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===w$&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,t))}return t}function em(t,e){if(t.type!=="textarea")throw Error(Me(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function S$(t){function e(g,m){if(t){var _=g.lastEffect;_!==null?(_.nextEffect=m,g.lastEffect=m):g.firstEffect=g.lastEffect=m,m.nextEffect=null,m.flags=8}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=vu(g,m),g.index=0,g.sibling=null,g}function a(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags=2,m):_):(g.flags=2,m)):m}function o(g){return t&&g.alternate===null&&(g.flags=2),g}function s(g,m,_,x){return m===null||m.tag!==6?(m=Qw(_,g.mode,x),m.return=g,m):(m=i(m,_),m.return=g,m)}function c(g,m,_,x){return m!==null&&m.elementType===_.type?(x=i(m,_.props),x.ref=f0(g,m,_),x.return=g,x):(x=h_(_.type,_.key,_.props,null,g.mode,x),x.ref=f0(g,m,_),x.return=g,x)}function l(g,m,_,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=eE(_,g.mode,x),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function u(g,m,_,x,b){return m===null||m.tag!==7?(m=bh(_,g.mode,x,b),m.return=g,m):(m=i(m,_),m.return=g,m)}function f(g,m,_){if(typeof m=="string"||typeof m=="number")return m=Qw(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case M0:return _=h_(m.type,m.key,m.props,null,g.mode,_),_.ref=f0(g,null,m),_.return=g,_;case fc:return m=eE(m,g.mode,_),m.return=g,m}if(Qg(m)||a0(m))return m=bh(m,g.mode,_,null),m.return=g,m;em(g,m)}return null}function h(g,m,_,x){var b=m!==null?m.key:null;if(typeof _=="string"||typeof _=="number")return b!==null?null:s(g,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M0:return _.key===b?_.type===Ll?u(g,m,_.props.children,x,b):c(g,m,_,x):null;case fc:return _.key===b?l(g,m,_,x):null}if(Qg(_)||a0(_))return b!==null?null:u(g,m,_,x,null);em(g,_)}return null}function d(g,m,_,x,b){if(typeof x=="string"||typeof x=="number")return g=g.get(_)||null,s(m,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case M0:return g=g.get(x.key===null?_:x.key)||null,x.type===Ll?u(m,g,x.props.children,b,x.key):c(m,g,x,b);case fc:return g=g.get(x.key===null?_:x.key)||null,l(m,g,x,b)}if(Qg(x)||a0(x))return g=g.get(_)||null,u(m,g,x,b,null);em(m,x)}return null}function p(g,m,_,x){for(var b=null,w=null,S=m,C=m=0,A=null;S!==null&&C<_.length;C++){S.index>C?(A=S,S=null):A=S.sibling;var T=h(g,S,_[C],x);if(T===null){S===null&&(S=A);break}t&&S&&T.alternate===null&&e(g,S),m=a(T,m,C),w===null?b=T:w.sibling=T,w=T,S=A}if(C===_.length)return r(g,S),b;if(S===null){for(;C<_.length;C++)S=f(g,_[C],x),S!==null&&(m=a(S,m,C),w===null?b=S:w.sibling=S,w=S);return b}for(S=n(g,S);C<_.length;C++)A=d(S,g,C,_[C],x),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?C:A.key),m=a(A,m,C),w===null?b=A:w.sibling=A,w=A);return t&&S.forEach(function(R){return e(g,R)}),b}function v(g,m,_,x){var b=a0(_);if(typeof b!="function")throw Error(Me(150));if(_=b.call(_),_==null)throw Error(Me(151));for(var w=b=null,S=m,C=m=0,A=null,T=_.next();S!==null&&!T.done;C++,T=_.next()){S.index>C?(A=S,S=null):A=S.sibling;var R=h(g,S,T.value,x);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(g,S),m=a(R,m,C),w===null?b=R:w.sibling=R,w=R,S=A}if(T.done)return r(g,S),b;if(S===null){for(;!T.done;C++,T=_.next())T=f(g,T.value,x),T!==null&&(m=a(T,m,C),w===null?b=T:w.sibling=T,w=T);return b}for(S=n(g,S);!T.done;C++,T=_.next())T=d(S,g,C,T.value,x),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?C:T.key),m=a(T,m,C),w===null?b=T:w.sibling=T,w=T);return t&&S.forEach(function(O){return e(g,O)}),b}return function(g,m,_,x){var b=typeof _=="object"&&_!==null&&_.type===Ll&&_.key===null;b&&(_=_.props.children);var w=typeof _=="object"&&_!==null;if(w)switch(_.$$typeof){case M0:e:{for(w=_.key,b=m;b!==null;){if(b.key===w){switch(b.tag){case 7:if(_.type===Ll){r(g,b.sibling),m=i(b,_.props.children),m.return=g,g=m;break e}break;default:if(b.elementType===_.type){r(g,b.sibling),m=i(b,_.props),m.ref=f0(g,b,_),m.return=g,g=m;break e}}r(g,b);break}else e(g,b);b=b.sibling}_.type===Ll?(m=bh(_.props.children,g.mode,x,_.key),m.return=g,g=m):(x=h_(_.type,_.key,_.props,null,g.mode,x),x.ref=f0(g,m,_),x.return=g,g=x)}return o(g);case fc:e:{for(b=_.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){r(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=eE(_,g.mode,x),m.return=g,g=m}return o(g)}if(typeof _=="string"||typeof _=="number")return _=""+_,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,_),m.return=g,g=m):(r(g,m),m=Qw(_,g.mode,x),m.return=g,g=m),o(g);if(Qg(_))return p(g,m,_,x);if(a0(_))return v(g,m,_,x);if(w&&em(g,_),typeof _>"u"&&!b)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Me(152,hh(g.type)||"Component"))}return r(g,m)}}var ry=S$(!0),C$=S$(!1),Tv={},ls=Au(Tv),Fp=Au(Tv),Np=Au(Tv);function pc(t){if(t===Tv)throw Error(Me(174));return t}function U2(t,e){switch(hn(Np,e),hn(Fp,t),hn(ls,Tv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E2(e,t)}Dr(ls),hn(ls,e)}function $h(){Dr(ls),Dr(Fp),Dr(Np)}function WN(t){pc(Np.current);var e=pc(ls.current),r=E2(e,t.type);e!==r&&(hn(Fp,t),hn(ls,r))}function LR(t){Fp.current===t&&(Dr(ls),Dr(Fp))}var fn=Au(0);function ny(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ys=null,Vl=null,us=!1;function A$(t,e){var r=oo(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function zN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function j2(t){if(us){var e=Vl;if(e){var r=e;if(!zN(t,e)){if(e=gh(r.nextSibling),!e||!zN(t,e)){t.flags=t.flags&-1025|2,us=!1,Ys=t;return}A$(Ys,r)}Ys=t,Vl=gh(e.firstChild)}else t.flags=t.flags&-1025|2,us=!1,Ys=t}}function YN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ys=t}function tm(t){if(t!==Ys)return!1;if(!us)return YN(t),us=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!N2(e,t.memoizedProps))for(e=Vl;e;)A$(t,e),e=gh(e.nextSibling);if(YN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vl=gh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vl=null}}else Vl=Ys?gh(t.stateNode.nextSibling):null;return!0}function qw(){Vl=Ys=null,us=!1}var _h=[];function MR(){for(var t=0;t<_h.length;t++)_h[t]._workInProgressVersionPrimary=null;_h.length=0}var rp=Zc.ReactCurrentDispatcher,co=Zc.ReactCurrentBatchConfig,Lp=0,Sn=null,Ni=null,vi=null,iy=!1,np=!1;function ca(){throw Error(Me(321))}function BR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ao(t[r],e[r]))return!1;return!0}function DR(t,e,r,n,i,a){if(Lp=a,Sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rp.current=t===null||t.memoizedState===null?yre:xre,t=r(n,i),np){a=0;do{if(np=!1,!(25>a))throw Error(Me(301));a+=1,vi=Ni=null,e.updateQueue=null,rp.current=bre,t=r(n,i)}while(np)}if(rp.current=ly,e=Ni!==null&&Ni.next!==null,Lp=0,vi=Ni=Sn=null,iy=!1,e)throw Error(Me(300));return t}function vc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Sn.memoizedState=vi=t:vi=vi.next=t,vi}function Qc(){if(Ni===null){var t=Sn.alternate;t=t!==null?t.memoizedState:null}else t=Ni.next;var e=vi===null?Sn.memoizedState:vi.next;if(e!==null)vi=e,Ni=t;else{if(t===null)throw Error(Me(310));Ni=t,t={memoizedState:Ni.memoizedState,baseState:Ni.baseState,baseQueue:Ni.baseQueue,queue:Ni.queue,next:null},vi===null?Sn.memoizedState=vi=t:vi=vi.next=t}return vi}function as(t,e){return typeof e=="function"?e(t):e}function h0(t){var e=Qc(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=Ni,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((Lp&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Sn.lanes|=l,Iv|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,ao(n,e.memoizedState)||(ko=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function d0(t){var e=Qc(),r=e.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ao(a,e.memoizedState)||(ko=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function qN(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Lp&t)===t)&&(e._workInProgressVersionPrimary=n,_h.push(e))),t)return r(e._source);throw _h.push(e),Error(Me(350))}function T$(t,e,r,n){var i=ta;if(i===null)throw Error(Me(349));var a=e._getVersion,o=a(e._source),s=rp.current,c=s.useState(function(){return qN(i,e,r)}),l=c[1],u=c[0];c=vi;var f=t.memoizedState,h=f.refs,d=h.getSnapshot,p=f.source;f=f.subscribe;var v=Sn;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var g=a(e._source);if(!ao(o,g)){g=r(e._source),ao(u,g)||(l(g),g=tu(v),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var m=i.entanglements,_=g;0<_;){var x=31-hu(_),b=1<<x;m[x]|=g,_&=~b}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var g=h.getSnapshot,m=h.setSnapshot;try{m(g(e._source));var _=tu(v);i.mutableReadLanes|=_&i.pendingLanes}catch(x){m(function(){throw x})}})},[e,n]),ao(d,r)&&ao(p,e)&&ao(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:as,lastRenderedState:u},t.dispatch=l=$R.bind(null,Sn,t),c.queue=t,c.baseQueue=null,u=qN(i,e,r),c.memoizedState=c.baseState=u),u}function I$(t,e,r){var n=Qc();return T$(n,t,e,r)}function p0(t){var e=vc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},t=t.dispatch=$R.bind(null,Sn,t),[e.memoizedState,t]}function ay(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Sn.updateQueue,e===null?(e={lastEffect:null},Sn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function KN(t){var e=vc();return t={current:t},e.memoizedState=t}function oy(){return Qc().memoizedState}function $2(t,e,r,n){var i=vc();Sn.flags|=t,i.memoizedState=ay(1|e,r,void 0,n===void 0?null:n)}function UR(t,e,r,n){var i=Qc();n=n===void 0?null:n;var a=void 0;if(Ni!==null){var o=Ni.memoizedState;if(a=o.destroy,n!==null&&BR(n,o.deps)){ay(e,r,a,n);return}}Sn.flags|=t,i.memoizedState=ay(1|e,r,a,n)}function ZN(t,e){return $2(516,4,t,e)}function sy(t,e){return UR(516,4,t,e)}function R$(t,e){return UR(4,2,t,e)}function P$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O$(t,e,r){return r=r!=null?r.concat([t]):null,UR(4,2,P$.bind(null,e,t),r)}function jR(){}function k$(t,e){var r=Qc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&BR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function F$(t,e){var r=Qc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&BR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _re(t,e){var r=jh();Bc(98>r?98:r,function(){t(!0)}),Bc(97<r?97:r,function(){var n=co.transition;co.transition=1;try{t(!1),e()}finally{co.transition=n}})}function $R(t,e,r){var n=Ba(),i=tu(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Sn||o!==null&&o===Sn)np=iy=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,ao(c,s))return}catch{}finally{}ru(t,i,n)}}var ly={readContext:fo,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useOpaqueIdentifier:ca,unstable_isNewReconciler:!1},yre={readContext:fo,useCallback:function(t,e){return vc().memoizedState=[t,e===void 0?null:e],t},useContext:fo,useEffect:ZN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$2(4,2,P$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $2(4,2,t,e)},useMemo:function(t,e){var r=vc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=$R.bind(null,Sn,t),[n.memoizedState,t]},useRef:KN,useState:p0,useDebugValue:jR,useDeferredValue:function(t){var e=p0(t),r=e[0],n=e[1];return ZN(function(){var i=co.transition;co.transition=1;try{n(t)}finally{co.transition=i}},[t]),r},useTransition:function(){var t=p0(!1),e=t[0];return t=_re.bind(null,t[1]),KN(t),[t,e]},useMutableSource:function(t,e,r){var n=vc();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},T$(n,t,e,r)},useOpaqueIdentifier:function(){if(us){var t=!1,e=hre(function(){throw t||(t=!0,r("r:"+(Ww++).toString(36))),Error(Me(355))}),r=p0(e)[1];return!(Sn.mode&2)&&(Sn.flags|=516,ay(5,function(){r("r:"+(Ww++).toString(36))},void 0,null)),e}return e="r:"+(Ww++).toString(36),p0(e),e},unstable_isNewReconciler:!1},xre={readContext:fo,useCallback:k$,useContext:fo,useEffect:sy,useImperativeHandle:O$,useLayoutEffect:R$,useMemo:F$,useReducer:h0,useRef:oy,useState:function(){return h0(as)},useDebugValue:jR,useDeferredValue:function(t){var e=h0(as),r=e[0],n=e[1];return sy(function(){var i=co.transition;co.transition=1;try{n(t)}finally{co.transition=i}},[t]),r},useTransition:function(){var t=h0(as)[0];return[oy().current,t]},useMutableSource:I$,useOpaqueIdentifier:function(){return h0(as)[0]},unstable_isNewReconciler:!1},bre={readContext:fo,useCallback:k$,useContext:fo,useEffect:sy,useImperativeHandle:O$,useLayoutEffect:R$,useMemo:F$,useReducer:d0,useRef:oy,useState:function(){return d0(as)},useDebugValue:jR,useDeferredValue:function(t){var e=d0(as),r=e[0],n=e[1];return sy(function(){var i=co.transition;co.transition=1;try{n(t)}finally{co.transition=i}},[t]),r},useTransition:function(){var t=d0(as)[0];return[oy().current,t]},useMutableSource:I$,useOpaqueIdentifier:function(){return d0(as)[0]},unstable_isNewReconciler:!1},wre=Zc.ReactCurrentOwner,ko=!1;function ha(t,e,r,n){e.child=t===null?C$(e,null,r,n):ry(e,t.child,r,n)}function JN(t,e,r,n,i){r=r.render;var a=e.ref;return mh(e,i),n=DR(t,e,r,n,a,i),t!==null&&!ko?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,qs(t,e,i)):(e.flags|=1,ha(t,e,n,i),e.child)}function QN(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!zR(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,N$(t,e,o,n,i,a)):(t=h_(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:Rp,r(i,n)&&t.ref===e.ref)?qs(t,e,a):(e.flags|=1,t=vu(o,n),t.ref=e.ref,t.return=e,e.child=t)}function N$(t,e,r,n,i,a){if(t!==null&&Rp(t.memoizedProps,n)&&t.ref===e.ref)if(ko=!1,(a&i)!==0)t.flags&16384&&(ko=!0);else return e.lanes=t.lanes,qs(t,e,a);return G2(t,e,r,n,a)}function Kw(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},nm(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},nm(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},nm(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,nm(e,n);return ha(t,e,i,r),e.child}function L$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function G2(t,e,r,n,i){var a=_a(r)?Mc:Ui.current;return a=Uh(e,a),mh(e,i),r=DR(t,e,r,n,a,i),t!==null&&!ko?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,qs(t,e,i)):(e.flags|=1,ha(t,e,r,i),e.child)}function eL(t,e,r,n,i){if(_a(r)){var a=!0;s_(e)}else a=!1;if(mh(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),E$(e,r,n),D2(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=fo(l):(l=_a(r)?Mc:Ui.current,l=Uh(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&XN(e,o,n,l),kl=!1;var h=e.memoizedState;o.state=h,kp(e,n,o,i),c=e.memoizedState,s!==n||h!==c||ma.current||kl?(typeof u=="function"&&(ty(e,r,u,n),c=e.memoizedState),(s=kl||HN(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,b$(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Io(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fo(c):(c=_a(r)?Mc:Ui.current,c=Uh(e,c));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&XN(e,o,n,c),kl=!1,h=e.memoizedState,o.state=h,kp(e,n,o,i);var p=e.memoizedState;s!==f||h!==p||ma.current||kl?(typeof d=="function"&&(ty(e,r,d,n),p=e.memoizedState),(l=kl||HN(e,r,l,n,h,p,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return V2(t,e,r,n,a,i)}function V2(t,e,r,n,i,a){L$(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&UN(e,r,!1),qs(t,e,a);n=e.stateNode,wre.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ry(e,t.child,null,a),e.child=ry(e,null,s,a)):ha(t,e,s,a),e.memoizedState=n.state,i&&UN(e,r,!0),e.child}function tL(t){var e=t.stateNode;e.pendingContext?DN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DN(t,e.context,!1),U2(t,e.containerInfo)}var rm={dehydrated:null,retryLane:0};function rL(t,e,r){var n=e.pendingProps,i=fn.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),hn(fn,i&1),t===null?(n.fallback!==void 0&&j2(e),t=n.children,i=n.fallback,a?(t=nL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=rm,t):typeof n.unstable_expectedLoadTime=="number"?(t=nL(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=rm,e.lanes=33554432,t):(r=YR({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=aL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=rm,n):(r=iL(t,e,n.children,r),e.memoizedState=null,r):a?(n=aL(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=rm,n):(r=iL(t,e,n.children,r),e.memoizedState=null,r)}function nL(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=YR(e,i,0,null),r=bh(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function iL(t,e,r,n){var i=t.child;return t=i.sibling,r=vu(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function aL(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=vu(o,s),t!==null?n=vu(t,n):(n=bh(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function oL(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x$(t.return,e)}function Zw(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function sL(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ha(t,e,n.children,r),n=fn.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oL(t,r);else if(t.tag===19)oL(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(hn(fn,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ny(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zw(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ny(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zw(e,!0,r,null,a,e.lastEffect);break;case"together":Zw(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function qs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Iv|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,r=vu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=vu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var M$,H2,B$,D$;M$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};H2=function(){};B$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,pc(ls.current);var a=null;switch(r){case"input":i=m2(t,i),n=m2(t,n),a=[];break;case"option":i=x2(t,i),n=x2(t,n),a=[];break;case"select":i=Yr({},i,{value:void 0}),n=Yr({},n,{value:void 0}),a=[];break;case"textarea":i=b2(t,i),n=b2(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=q_)}S2(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wp.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(wp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Lr("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===pR?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};D$=function(t,e,r,n){r!==n&&(e.flags|=4)};function v0(t,e){if(!us)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ere(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _a(e.type)&&Z_(),null;case 3:return $h(),Dr(ma),Dr(Ui),MR(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(tm(e)?e.flags|=4:n.hydrate||(e.flags|=256)),H2(e),null;case 5:LR(e);var i=pc(Np.current);if(r=e.type,t!==null&&e.stateNode!=null)B$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Me(166));return null}if(t=pc(ls.current),tm(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Gl]=e,n[K_]=a,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(t=0;t<D0.length;t++)Lr(D0[t],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":sN(n,a),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",n);break;case"textarea":uN(n,a),Lr("invalid",n)}S2(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):wp.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Lr("scroll",n));switch(r){case"input":qg(n),lN(n,a,!0);break;case"textarea":qg(n),cN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=q_)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===w2.html&&(t=Oj(r)),t===w2.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Gl]=e,t[K_]=n,M$(t,e,!1,!1),e.stateNode=t,o=C2(r,n),r){case"dialog":Lr("cancel",t),Lr("close",t),i=n;break;case"iframe":case"object":case"embed":Lr("load",t),i=n;break;case"video":case"audio":for(i=0;i<D0.length;i++)Lr(D0[i],t);i=n;break;case"source":Lr("error",t),i=n;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),i=n;break;case"details":Lr("toggle",t),i=n;break;case"input":sN(t,n),i=m2(t,n),Lr("invalid",t);break;case"option":i=x2(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Yr({},n,{value:void 0}),Lr("invalid",t);break;case"textarea":uN(t,n),i=b2(t,n),Lr("invalid",t);break;default:i=n}S2(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?Nj(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kj(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ep(t,c):typeof c=="number"&&Ep(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Lr("scroll",t):c!=null&&lR(t,a,c,o))}switch(r){case"input":qg(t),lN(t,n,!1);break;case"textarea":qg(t),cN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?dh(t,!!n.multiple,a,!1):n.defaultValue!=null&&dh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=q_)}f$(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)D$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Me(166));r=pc(Np.current),pc(ls.current),tm(e)?(n=e.stateNode,r=e.memoizedProps,n[Gl]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gl]=e,e.stateNode=n)}return null;case 13:return Dr(fn),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&tm(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||fn.current&1?_i===0&&(_i=3):((_i===0||_i===3)&&(_i=4),ta===null||!(Iv&134217727)&&!(pd&134217727)||yh(ta,Mi))),(n||r)&&(e.flags|=4),null);case 4:return $h(),H2(e),t===null&&l$(e.stateNode.containerInfo),null;case 10:return FR(e),null;case 17:return _a(e.type)&&Z_(),null;case 19:if(Dr(fn),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)v0(n,!1);else{if(_i!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=ny(t),o!==null){for(e.flags|=64,v0(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return hn(fn,fn.current&1|2),e.child}t=t.sibling}n.tail!==null&&Li()>K2&&(e.flags|=64,a=!0,v0(n,!1),e.lanes=33554432)}else{if(!a)if(t=ny(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),v0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!us)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Li()-n.renderingStartTime>K2&&r!==1073741824&&(e.flags|=64,a=!0,v0(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Li(),r.sibling=null,e=fn.current,hn(fn,a?e&1|2:e&1),r):null;case 23:case 24:return WR(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Me(156,e.tag))}function Sre(t){switch(t.tag){case 1:_a(t.type)&&Z_();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if($h(),Dr(ma),Dr(Ui),MR(),e=t.flags,e&64)throw Error(Me(285));return t.flags=e&-4097|64,t;case 5:return LR(t),null;case 13:return Dr(fn),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Dr(fn),null;case 4:return $h(),null;case 10:return FR(t),null;case 23:case 24:return WR(),null;default:return null}}function GR(t,e){try{var r="",n=e;do r+=ite(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function X2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Cre=typeof WeakMap=="function"?WeakMap:Map;function U$(t,e,r){r=Ql(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cy||(cy=!0,Z2=n),X2(t,e)},r}function j$(t,e,r){r=Ql(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return X2(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(os===null?os=new Set([this]):os.add(this),X2(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var Are=typeof WeakSet=="function"?WeakSet:Set;function lL(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){nu(t,r)}else e.current=null}function Tre(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Io(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&RR(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Me(163))}function Ire(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(q$(r,t),Mre(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Io(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&VN(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}VN(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&f$(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&Hj(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Me(163))}function uL(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Fj("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function cL(t,e){if(Ac&&typeof Ac.onCommitFiberUnmount=="function")try{Ac.onCommitFiberUnmount(PR,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)q$(e,r);else{n=e;try{i()}catch(a){nu(n,a)}}r=r.next}while(r!==t)}break;case 1:if(lL(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){nu(e,a)}break;case 5:lL(e);break;case 4:$$(t,e)}}function fL(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function hL(t){return t.tag===5||t.tag===3||t.tag===4}function dL(t){e:{for(var e=t.return;e!==null;){if(hL(e))break e;e=e.return}throw Error(Me(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Me(161))}r.flags&16&&(Ep(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||hL(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?W2(t,r,e):z2(t,r,e)}function W2(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=q_));else if(n!==4&&(t=t.child,t!==null))for(W2(t,e,r),t=t.sibling;t!==null;)W2(t,e,r),t=t.sibling}function z2(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(z2(t,e,r),t=t.sibling;t!==null;)z2(t,e,r),t=t.sibling}function $$(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Me(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(cL(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(cL(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Jw(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[K_]=n,t==="input"&&n.type==="radio"&&n.name!=null&&Rj(r,n),C2(t,i),e=C2(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?Nj(r,s):o==="dangerouslySetInnerHTML"?kj(r,s):o==="children"?Ep(r,s):lR(r,o,s,e)}switch(t){case"input":_2(r,n);break;case"textarea":Pj(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?dh(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?dh(r,!!n.multiple,n.defaultValue,!0):dh(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Me(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,Hj(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(XR=Li(),uL(e.child,!0)),pL(e);return;case 19:pL(e);return;case 17:return;case 23:case 24:uL(e,e.memoizedState!==null);return}throw Error(Me(163))}function pL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Are),e.forEach(function(n){var i=Ure.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rre(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Pre=Math.ceil,uy=Zc.ReactCurrentDispatcher,VR=Zc.ReactCurrentOwner,wt=0,ta=null,Gn=null,Mi=0,Dc=0,Y2=Au(0),_i=0,_x=null,dd=0,Iv=0,pd=0,HR=0,q2=null,XR=0,K2=1/0;function vd(){K2=Li()+500}var Qe=null,cy=!1,Z2=null,os=null,pu=!1,ip=null,U0=90,J2=[],Q2=[],el=null,ap=0,eA=null,u_=-1,Ws=0,c_=0,op=null,f_=!1;function Ba(){return wt&48?Li():u_!==-1?u_:u_=Li()}function tu(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return jh()===99?1:2;if(Ws===0&&(Ws=dd),mre.transition!==0){c_!==0&&(c_=q2!==null?q2.pendingLanes:0),t=Ws;var e=4186112&~c_;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=jh(),wt&4&&t===98?t=z_(12,Ws):(t=xte(t),t=z_(t,Ws)),t}function ru(t,e,r){if(50<ap)throw ap=0,eA=null,Error(Me(185));if(t=yx(t,e),t===null)return null;fx(t,e,r),t===ta&&(pd|=e,_i===4&&yh(t,Mi));var n=jh();e===1?wt&8&&!(wt&48)?tA(t):(ho(t,r),wt===0&&(vd(),bs())):(!(wt&4)||n!==98&&n!==99||(el===null?el=new Set([t]):el.add(t)),ho(t,r)),q2=t}function yx(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function ho(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-hu(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,Wf(c);var u=Pr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=Tp(t,t===ta?Mi:0),e=Pr,n===0)r!==null&&(r!==zw&&M2(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==zw&&M2(r)}e===15?(r=tA.bind(null,t),Vs===null?(Vs=[r],l_=OR(gx,y$)):Vs.push(r),r=zw):e===14?r=Op(99,tA.bind(null,t)):(r=bte(e),r=Op(r,G$.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function G$(t){if(u_=-1,c_=Ws=0,wt&48)throw Error(Me(327));var e=t.callbackNode;if(Tu()&&t.callbackNode!==e)return null;var r=Tp(t,t===ta?Mi:0);if(r===0)return null;var n=r,i=wt;wt|=16;var a=W$();(ta!==t||Mi!==n)&&(vd(),xh(t,n));do try{Fre();break}catch(s){X$(t,s)}while(1);if(kR(),uy.current=a,wt=i,Gn!==null?n=0:(ta=null,Mi=0,n=_i),dd&pd)xh(t,0);else if(n!==0){if(n===2&&(wt|=64,t.hydrate&&(t.hydrate=!1,RR(t.containerInfo)),r=Zj(t),r!==0&&(n=j0(t,r))),n===1)throw e=_x,xh(t,0),yh(t,r),ho(t,Li()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Me(345));case 2:Qu(t);break;case 3:if(yh(t,r),(r&62914560)===r&&(n=XR+500-Li(),10<n)){if(Tp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ba(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=LN(Qu.bind(null,t),n);break}Qu(t);break;case 4:if(yh(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-hu(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Li()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pre(r/1960))-r,10<r){t.timeoutHandle=LN(Qu.bind(null,t),r);break}Qu(t);break;case 5:Qu(t);break;default:throw Error(Me(329))}}return ho(t,Li()),t.callbackNode===e?G$.bind(null,t):null}function yh(t,e){for(e&=~HR,e&=~pd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hu(e),n=1<<r;t[r]=-1,e&=~n}}function tA(t){if(wt&48)throw Error(Me(327));if(Tu(),t===ta&&t.expiredLanes&Mi){var e=Mi,r=j0(t,e);dd&pd&&(e=Tp(t,e),r=j0(t,e))}else e=Tp(t,0),r=j0(t,e);if(t.tag!==0&&r===2&&(wt|=64,t.hydrate&&(t.hydrate=!1,RR(t.containerInfo)),e=Zj(t),e!==0&&(r=j0(t,e))),r===1)throw r=_x,xh(t,0),yh(t,e),ho(t,Li()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qu(t),ho(t,Li()),null}function Ore(){if(el!==null){var t=el;el=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,ho(e,Li())})}bs()}function V$(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(vd(),bs())}}function H$(t,e){var r=wt;wt&=-2,wt|=8;try{return t(e)}finally{wt=r,wt===0&&(vd(),bs())}}function nm(t,e){hn(Y2,Dc),Dc|=e,dd|=e}function WR(){Dc=Y2.current,Dr(Y2)}function xh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fre(r)),Gn!==null)for(r=Gn.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Z_();break;case 3:$h(),Dr(ma),Dr(Ui),MR();break;case 5:LR(n);break;case 4:$h();break;case 13:Dr(fn);break;case 19:Dr(fn);break;case 10:FR(n);break;case 23:case 24:WR()}r=r.return}ta=t,Gn=vu(t.current,null),Mi=Dc=dd=e,_i=0,_x=null,HR=pd=Iv=0}function X$(t,e){do{var r=Gn;try{if(kR(),rp.current=ly,iy){for(var n=Sn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}iy=!1}if(Lp=0,vi=Ni=Sn=null,np=!1,VR.current=null,r===null||r.return===null){_i=1,_x=e,Gn=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=Mi,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(fn.current&1)!==0,h=o;do{var d;if(d=h.tag===13){var p=h.memoizedState;if(p!==null)d=p.dehydrated!==null;else{var v=h.memoizedProps;d=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!f}}if(d){var g=h.updateQueue;if(g===null){var m=new Set;m.add(l),h.updateQueue=m}else g.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var _=Ql(-1,1);_.tag=2,eu(s,_)}s.lanes|=1;break e}c=void 0,s=e;var x=a.pingCache;if(x===null?(x=a.pingCache=new Cre,c=new Set,x.set(l,c)):(c=x.get(l),c===void 0&&(c=new Set,x.set(l,c))),!c.has(s)){c.add(s);var b=Dre.bind(null,a,l,s);l.then(b,b)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((hh(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}_i!==5&&(_i=2),c=GR(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var w=U$(h,a,e);GN(h,w);break e;case 1:a=c;var S=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(os===null||!os.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var A=j$(h,a,e);GN(h,A);break e}}h=h.return}while(h!==null)}Y$(r)}catch(T){e=T,Gn===r&&r!==null&&(Gn=r=r.return);continue}break}while(1)}function W$(){var t=uy.current;return uy.current=ly,t===null?ly:t}function j0(t,e){var r=wt;wt|=16;var n=W$();ta===t&&Mi===e||xh(t,e);do try{kre();break}catch(i){X$(t,i)}while(1);if(kR(),wt=r,uy.current=n,Gn!==null)throw Error(Me(261));return ta=null,Mi=0,_i}function kre(){for(;Gn!==null;)z$(Gn)}function Fre(){for(;Gn!==null&&!pre();)z$(Gn)}function z$(t){var e=K$(t.alternate,t,Dc);t.memoizedProps=t.pendingProps,e===null?Y$(t):Gn=e,VR.current=null}function Y$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=Sre(e),r!==null){r.flags&=2047,Gn=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=Ere(r,e,Dc),r!==null){Gn=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Dc&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=t}while(e!==null);_i===0&&(_i=5)}function Qu(t){var e=jh();return Bc(99,Nre.bind(null,t,e)),null}function Nre(t,e){do Tu();while(ip!==null);if(wt&48)throw Error(Me(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Me(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-hu(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(el!==null&&!(n&24)&&el.has(t)&&el.delete(t),t===ta&&(Gn=ta=null,Mi=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=wt,wt|=32,VR.current=null,Hw=i_,o=IN(),O2(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,d=0,p=0,v=o,g=null;t:for(;;){for(var m;v!==s||a!==0&&v.nodeType!==3||(f=u+a),v!==c||l!==0&&v.nodeType!==3||(h=u+l),v.nodeType===3&&(u+=v.nodeValue.length),(m=v.firstChild)!==null;)g=v,v=m;for(;;){if(v===o)break t;if(g===s&&++d===a&&(f=u),g===c&&++p===l&&(h=u),(m=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=m}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Xw={focusedElem:o,selectionRange:s},i_=!1,op=null,f_=!1,Qe=n;do try{Lre()}catch(T){if(Qe===null)throw Error(Me(330));nu(Qe,T),Qe=Qe.nextEffect}while(Qe!==null);op=null,Qe=n;do try{for(o=t;Qe!==null;){var _=Qe.flags;if(_&16&&Ep(Qe.stateNode,""),_&128){var x=Qe.alternate;if(x!==null){var b=x.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(_&1038){case 2:dL(Qe),Qe.flags&=-3;break;case 6:dL(Qe),Qe.flags&=-3,Jw(Qe.alternate,Qe);break;case 1024:Qe.flags&=-1025;break;case 1028:Qe.flags&=-1025,Jw(Qe.alternate,Qe);break;case 4:Jw(Qe.alternate,Qe);break;case 8:s=Qe,$$(o,s);var w=s.alternate;fL(s),w!==null&&fL(w)}Qe=Qe.nextEffect}}catch(T){if(Qe===null)throw Error(Me(330));nu(Qe,T),Qe=Qe.nextEffect}while(Qe!==null);if(b=Xw,x=IN(),_=b.focusedElem,o=b.selectionRange,x!==_&&_&&_.ownerDocument&&a$(_.ownerDocument.documentElement,_)){for(o!==null&&O2(_)&&(x=o.start,b=o.end,b===void 0&&(b=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(b,_.value.length)):(b=(x=_.ownerDocument||document)&&x.defaultView||window,b.getSelection&&(b=b.getSelection(),s=_.textContent.length,w=Math.min(o.start,s),o=o.end===void 0?w:Math.min(o.end,s),!b.extend&&w>o&&(s=o,o=w,w=s),s=TN(_,w),a=TN(_,o),s&&a&&(b.rangeCount!==1||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&(x=x.createRange(),x.setStart(s.node,s.offset),b.removeAllRanges(),w>o?(b.addRange(x),b.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),b.addRange(x)))))),x=[],b=_;b=b.parentNode;)b.nodeType===1&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<x.length;_++)b=x[_],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}i_=!!Hw,Xw=Hw=null,t.current=r,Qe=n;do try{for(_=t;Qe!==null;){var S=Qe.flags;if(S&36&&Ire(_,Qe.alternate,Qe),S&128){x=void 0;var C=Qe.ref;if(C!==null){var A=Qe.stateNode;switch(Qe.tag){case 5:x=A;break;default:x=A}typeof C=="function"?C(x):C.current=x}}Qe=Qe.nextEffect}}catch(T){if(Qe===null)throw Error(Me(330));nu(Qe,T),Qe=Qe.nextEffect}while(Qe!==null);Qe=null,gre(),wt=i}else t.current=r;if(pu)pu=!1,ip=t,U0=e;else for(Qe=n;Qe!==null;)e=Qe.nextEffect,Qe.nextEffect=null,Qe.flags&8&&(S=Qe,S.sibling=null,S.stateNode=null),Qe=e;if(n=t.pendingLanes,n===0&&(os=null),n===1?t===eA?ap++:(ap=0,eA=t):ap=0,r=r.stateNode,Ac&&typeof Ac.onCommitFiberRoot=="function")try{Ac.onCommitFiberRoot(PR,r,void 0,(r.current.flags&64)===64)}catch{}if(ho(t,Li()),cy)throw cy=!1,t=Z2,Z2=null,t;return wt&8||bs(),null}function Lre(){for(;Qe!==null;){var t=Qe.alternate;f_||op===null||(Qe.flags&8?dN(Qe,op)&&(f_=!0):Qe.tag===13&&Rre(t,Qe)&&dN(Qe,op)&&(f_=!0));var e=Qe.flags;e&256&&Tre(t,Qe),!(e&512)||pu||(pu=!0,Op(97,function(){return Tu(),null})),Qe=Qe.nextEffect}}function Tu(){if(U0!==90){var t=97<U0?97:U0;return U0=90,Bc(t,Bre)}return!1}function Mre(t,e){J2.push(e,t),pu||(pu=!0,Op(97,function(){return Tu(),null}))}function q$(t,e){Q2.push(e,t),pu||(pu=!0,Op(97,function(){return Tu(),null}))}function Bre(){if(ip===null)return!1;var t=ip;if(ip=null,wt&48)throw Error(Me(331));var e=wt;wt|=32;var r=Q2;Q2=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(Me(330));nu(a,c)}}for(r=J2,J2=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(Me(330));nu(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return wt=e,bs(),!0}function vL(t,e,r){e=GR(r,e),e=U$(t,e,1),eu(t,e),e=Ba(),t=yx(t,1),t!==null&&(fx(t,1,e),ho(t,e))}function nu(t,e){if(t.tag===3)vL(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){vL(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(os===null||!os.has(n))){t=GR(e,t);var i=j$(r,t,1);if(eu(r,i),i=Ba(),r=yx(r,1),r!==null)fx(r,1,i),ho(r,i);else if(typeof n.componentDidCatch=="function"&&(os===null||!os.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Dre(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ba(),t.pingedLanes|=t.suspendedLanes&r,ta===t&&(Mi&r)===r&&(_i===4||_i===3&&(Mi&62914560)===Mi&&500>Li()-XR?xh(t,0):HR|=r),ho(t,e)}function Ure(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Ws===0&&(Ws=dd),e=zf(62914560&~Ws),e===0&&(e=4194304)):e=jh()===99?1:2:e=1),r=Ba(),t=yx(t,e),t!==null&&(fx(t,e,r),ho(t,r))}var K$;K$=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||ma.current)ko=!0;else if(r&n)ko=!!(t.flags&16384);else{switch(ko=!1,e.tag){case 3:tL(e),qw();break;case 5:WN(e);break;case 1:_a(e.type)&&s_(e);break;case 4:U2(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;hn(J_,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?rL(t,e,r):(hn(fn,fn.current&1),e=qs(t,e,r),e!==null?e.sibling:null);hn(fn,fn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return sL(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(fn,fn.current),n)break;return null;case 23:case 24:return e.lanes=0,Kw(t,e,r)}return qs(t,e,r)}else ko=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Uh(e,Ui.current),mh(e,r),i=DR(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_a(n)){var a=!0;s_(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NR(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&ty(e,n,o,t),i.updater=mx,e.stateNode=i,i._reactInternals=e,D2(e,n,t,r),e=V2(null,e,n,!0,a,r)}else e.tag=0,ha(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=$re(i),t=Io(i,t),a){case 0:e=G2(null,e,i,t,r);break e;case 1:e=eL(null,e,i,t,r);break e;case 11:e=JN(null,e,i,t,r);break e;case 14:e=QN(null,e,i,Io(i.type,t),n,r);break e}throw Error(Me(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Io(n,i),G2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Io(n,i),eL(t,e,n,i,r);case 3:if(tL(e),n=e.updateQueue,t===null||n===null)throw Error(Me(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,b$(t,e),kp(e,n,null,r),n=e.memoizedState.element,n===i)qw(),e=qs(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(Vl=gh(e.stateNode.containerInfo.firstChild),Ys=e,a=us=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],_h.push(a);for(r=C$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else ha(t,e,n,r),qw();e=e.child}return e;case 5:return WN(e),t===null&&j2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,N2(n,i)?o=null:a!==null&&N2(n,a)&&(e.flags|=16),L$(t,e),ha(t,e,o,r),e.child;case 6:return t===null&&j2(e),null;case 13:return rL(t,e,r);case 4:return U2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ry(e,null,n,r):ha(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Io(n,i),JN(t,e,n,i,r);case 7:return ha(t,e,e.pendingProps,r),e.child;case 8:return ha(t,e,e.pendingProps.children,r),e.child;case 12:return ha(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(hn(J_,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=ao(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!ma.current){e=qs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=Ql(-1,r&-r),l.tag=2,eu(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),x$(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ha(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,mh(e,r),i=fo(i,a.unstable_observedBits),n=n(i),e.flags|=1,ha(t,e,n,r),e.child;case 14:return i=e.type,a=Io(i,e.pendingProps),a=Io(i.type,a),QN(t,e,i,a,n,r);case 15:return N$(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Io(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,_a(n)?(t=!0,s_(e)):t=!1,mh(e,r),E$(e,n,i),D2(e,n,i,r),V2(null,e,n,!0,t,r);case 19:return sL(t,e,r);case 23:return Kw(t,e,r);case 24:return Kw(t,e,r)}throw Error(Me(156,e.tag))};function jre(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function oo(t,e,r,n){return new jre(t,e,r,n)}function zR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $re(t){if(typeof t=="function")return zR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lx)return 11;if(t===ux)return 14}return 2}function vu(t,e){var r=t.alternate;return r===null?(r=oo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function h_(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")zR(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ll:return bh(r.children,i,a,e);case Aj:o=8,i|=16;break;case uR:o=8,i|=1;break;case q0:return t=oo(12,r,e,i|8),t.elementType=q0,t.type=q0,t.lanes=a,t;case K0:return t=oo(13,r,e,i),t.type=K0,t.elementType=K0,t.lanes=a,t;case V_:return t=oo(19,r,e,i),t.elementType=V_,t.lanes=a,t;case vR:return YR(r,i,a,e);case g2:return t=oo(24,r,e,i),t.elementType=g2,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cR:o=10;break e;case fR:o=9;break e;case lx:o=11;break e;case ux:o=14;break e;case hR:o=16,n=null;break e;case dR:o=22;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=oo(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function bh(t,e,r,n){return t=oo(7,t,n,e),t.lanes=r,t}function YR(t,e,r,n){return t=oo(23,t,n,e),t.elementType=vR,t.lanes=r,t}function Qw(t,e,r){return t=oo(6,t,null,e),t.lanes=r,t}function eE(t,e,r){return e=oo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gre(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bw(0),this.expirationTimes=Bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.mutableSourceEagerHydrationData=null}function Vre(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fy(t,e,r,n){var i=e.current,a=Ba(),o=tu(i);e:if(r){r=r._reactInternals;t:{if(Jc(r)!==r||r.tag!==1)throw Error(Me(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(_a(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Me(171))}if(r.tag===1){var c=r.type;if(_a(c)){r=d$(r,c,s);break e}}r=s}else r=du;return e.context===null?e.context=r:e.pendingContext=r,e=Ql(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),eu(i,e),ru(i,o,a),o}function tE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function qR(t,e){gL(t,e),(t=t.alternate)&&gL(t,e)}function Hre(){return null}function KR(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Gre(t,e,r!=null&&r.hydrate===!0),e=oo(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,NR(e),t[hd]=r.current,l$(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}KR.prototype.render=function(t){fy(t,this._internalRoot,null,null)};KR.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;fy(null,t,null,function(){e[hd]=null})};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xre(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new KR(t,0,e?{hydrate:!0}:void 0)}function xx(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=tE(o);s.call(l)}}fy(e,o,t,i)}else{if(a=r._reactRootContainer=Xre(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=tE(o);c.call(l)}}H$(function(){fy(e,o,t,i)})}return tE(o)}$j=function(t){if(t.tag===13){var e=Ba();ru(t,4,e),qR(t,4)}};xR=function(t){if(t.tag===13){var e=Ba();ru(t,67108864,e),qR(t,67108864)}};Gj=function(t){if(t.tag===13){var e=Ba(),r=tu(t);ru(t,r,e),qR(t,r)}};Vj=function(t,e){return e()};A2=function(t,e,r){switch(e){case"input":if(_2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=vx(n);if(!i)throw Error(Me(90));Ij(n),_2(n,i)}}}break;case"textarea":Pj(t,r);break;case"select":e=r.value,e!=null&&dh(t,!!r.multiple,e,!1)}};mR=V$;Bj=function(t,e,r,n,i){var a=wt;wt|=4;try{return Bc(98,t.bind(null,e,r,n,i))}finally{wt=a,wt===0&&(vd(),bs())}};_R=function(){!(wt&49)&&(Ore(),Tu())};Dj=function(t,e){var r=wt;wt|=2;try{return t(e)}finally{wt=r,wt===0&&(vd(),bs())}};function Z$(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(Me(200));return Vre(t,e,null,r)}var Wre={Events:[Av,Qf,vx,Lj,Mj,Tu,{current:!1}]},g0={findFiberByHostInstance:dc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},zre={bundleType:g0.bundleType,version:g0.version,rendererPackageName:g0.rendererPackageName,rendererConfig:g0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jj(t),t===null?null:t.stateNode},findFiberByHostInstance:g0.findFiberByHostInstance||Hre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{PR=im.inject(zre),Ac=im}catch{}}po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wre;po.createPortal=Z$;po.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):Error(Me(268,Object.keys(t)));return t=jj(e),t=t===null?null:t.stateNode,t};po.flushSync=function(t,e){var r=wt;if(r&48)return t(e);wt|=1;try{if(t)return Bc(99,t.bind(null,e))}finally{wt=r,bs()}};po.hydrate=function(t,e,r){if(!Rv(e))throw Error(Me(200));return xx(null,t,e,!0,r)};po.render=function(t,e,r){if(!Rv(e))throw Error(Me(200));return xx(null,t,e,!1,r)};po.unmountComponentAtNode=function(t){if(!Rv(t))throw Error(Me(40));return t._reactRootContainer?(H$(function(){xx(null,null,t,!1,function(){t._reactRootContainer=null,t[hd]=null})}),!0):!1};po.unstable_batchedUpdates=V$;po.unstable_createPortal=function(t,e){return Z$(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};po.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Rv(r))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return xx(t,e,r,!1,n)};po.version="17.0.2";function J$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J$)}catch(t){console.error(t)}}J$(),wj.exports=po;var Q$=wj.exports;const Uc=Ei(Q$);const Yre="_Title_main_1yfxh_1",qre="_Title_buttonList_1yfxh_8",Kre="_Title_button_1yfxh_8",Zre="_Title_button_hover_1yfxh_35",Jre="_button_animation_pulse_1yfxh_1",Qre="_Title_button_text_1yfxh_39",ene="_Title_button_custom_1yfxh_45",tne="_Title_backup_background_1yfxh_64",If={Title_main:Yre,Title_buttonList:qre,Title_button:Kre,Title_button_hover:Zre,button_animation_pulse:Jre,Title_button_text:Qre,Title_button_custom:ene,Title_backup_background:tne};function Po(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function gu(t){return!!t&&!!t[Hr]}function il(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===cne}(t)||Array.isArray(t)||!!t[EL]||!!(!((e=t.constructor)===null||e===void 0)&&e[EL])||ZR(t)||JR(t))}function jc(t,e,r){r===void 0&&(r=!1),gd(t)===0?(r?Object.keys:Eh)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function gd(t){var e=t[Hr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ZR(t)?2:JR(t)?3:0}function wh(t,e){return gd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rne(t,e){return gd(t)===2?t.get(e):t[e]}function e9(t,e,r){var n=gd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function t9(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ZR(t){return lne&&t instanceof Map}function JR(t){return une&&t instanceof Set}function ec(t){return t.o||t.t}function QR(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=n9(t);delete e[Hr];for(var r=Eh(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function eP(t,e){return e===void 0&&(e=!1),tP(t)||gu(t)||!il(t)||(gd(t)>1&&(t.set=t.add=t.clear=t.delete=nne),Object.freeze(t),e&&jc(t,function(r,n){return eP(n,!0)},!0)),t}function nne(){Po(2)}function tP(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function cs(t){var e=aA[t];return e||Po(18,t),e}function ine(t,e){aA[t]||(aA[t]=e)}function rA(){return Mp}function rE(t,e){e&&(cs("Patches"),t.u=[],t.s=[],t.v=e)}function hy(t){nA(t),t.p.forEach(ane),t.p=null}function nA(t){t===Mp&&(Mp=t.l)}function mL(t){return Mp={p:[],l:Mp,h:t,m:!0,_:0}}function ane(t){var e=t[Hr];e.i===0||e.i===1?e.j():e.g=!0}function nE(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||cs("ES5").S(e,t,n),n?(r[Hr].P&&(hy(e),Po(4)),il(t)&&(t=dy(e,t),e.l||py(e,t)),e.u&&cs("Patches").M(r[Hr].t,t,e.u,e.s)):t=dy(e,r,[]),hy(e),e.u&&e.v(e.u,e.s),t!==r9?t:void 0}function dy(t,e,r){if(tP(e))return e;var n=e[Hr];if(!n)return jc(e,function(s,c){return _L(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return py(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=QR(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),jc(a,function(s,c){return _L(t,n,i,s,c,r,o)}),py(t,i,!1),r&&t.u&&cs("Patches").N(n,r,t.u,t.s)}return n.o}function _L(t,e,r,n,i,a,o){if(gu(i)){var s=dy(t,i,a&&e&&e.i!==3&&!wh(e.R,n)?a.concat(n):void 0);if(e9(r,n,s),!gu(s))return;t.m=!1}else o&&r.add(i);if(il(i)&&!tP(i)){if(!t.h.D&&t._<1)return;dy(t,i),e&&e.A.l||py(t,i)}}function py(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&eP(e,r)}function iE(t,e){var r=t[Hr];return(r?ec(r):t)[e]}function yL(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Ml(t){t.P||(t.P=!0,t.l&&Ml(t.l))}function aE(t){t.o||(t.o=QR(t.t))}function iA(t,e,r){var n=ZR(e)?cs("MapSet").F(e,r):JR(e)?cs("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:rA(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=Bp;o&&(c=[s],l=$0);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):cs("ES5").J(e,r);return(r?r.A:rA()).p.push(n),n}function one(t){return gu(t)||Po(22,t),function e(r){if(!il(r))return r;var n,i=r[Hr],a=gd(r);if(i){if(!i.P&&(i.i<4||!cs("ES5").K(i)))return i.t;i.I=!0,n=xL(r,a),i.I=!1}else n=xL(r,a);return jc(n,function(o,s){i&&rne(i.t,o)===s||e9(n,o,e(s))}),a===3?new Set(n):n}(t)}function xL(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return QR(t)}function sne(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[Hr];return Bp.get(c,a)},set:function(c){var l=this[Hr];Bp.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][Hr];if(!s.P)switch(s.i){case 5:n(s)&&Ml(s);break;case 4:r(s)&&Ml(s)}}}function r(a){for(var o=a.t,s=a.k,c=Eh(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==Hr){var f=o[u];if(f===void 0&&!wh(o,u))return!0;var h=s[u],d=h&&h[Hr];if(d?d.t!==f:!t9(h,f))return!0}}var p=!!o[Hr];return c.length!==Eh(o).length+(p?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};ine("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),d=0;d<f.length;d++)Object.defineProperty(h,""+d,t(d,!0));return h}var p=n9(f);delete p[Hr];for(var v=Eh(p),g=0;g<v.length;g++){var m=v[g];p[m]=t(m,u||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(s,a),l={i:s?5:4,A:o?o.A:rA(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Hr,{value:l,writable:!0}),c},S:function(a,o,s){s?gu(o)&&o[Hr].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[Hr];if(u){var f=u.t,h=u.k,d=u.R,p=u.i;if(p===4)jc(h,function(x){x!==Hr&&(f[x]!==void 0||wh(f,x)?d[x]||c(h[x]):(d[x]=!0,Ml(u)))}),jc(f,function(x){h[x]!==void 0||wh(h,x)||(d[x]=!1,Ml(u))});else if(p===5){if(n(u)&&(Ml(u),d.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)d[v]=!1;else for(var g=f.length;g<h.length;g++)d[g]=!0;for(var m=Math.min(h.length,f.length),_=0;_<m;_++)h.hasOwnProperty(_)||(d[_]=!0),d[_]===void 0&&c(h[_])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var bL,Mp,rP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lne=typeof Map<"u",une=typeof Set<"u",wL=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",r9=rP?Symbol.for("immer-nothing"):((bL={})["immer-nothing"]=!0,bL),EL=rP?Symbol.for("immer-draftable"):"__$immer_draftable",Hr=rP?Symbol.for("immer-state"):"__$immer_state",cne=""+Object.prototype.constructor,Eh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,n9=Object.getOwnPropertyDescriptors||function(t){var e={};return Eh(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},aA={},Bp={get:function(t,e){if(e===Hr)return t;var r=ec(t);if(!wh(r,e))return function(i,a,o){var s,c=yL(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!il(n)?n:n===iE(t.t,e)?(aE(t),t.o[e]=iA(t.A.h,n,t)):n},has:function(t,e){return e in ec(t)},ownKeys:function(t){return Reflect.ownKeys(ec(t))},set:function(t,e,r){var n=yL(ec(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=iE(ec(t),e),a=i==null?void 0:i[Hr];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(t9(r,i)&&(r!==void 0||wh(t.t,e)))return!0;aE(t),Ml(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return iE(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,aE(t),Ml(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=ec(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Po(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Po(12)}},$0={};jc(Bp,function(t,e){$0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),$0.deleteProperty=function(t,e){return $0.set.call(this,t,e,void 0)},$0.set=function(t,e,r){return Bp.set.call(this,t[0],e,r,t[0])};var fne=function(){function t(r){var n=this;this.O=wL,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(v){var g=this;v===void 0&&(v=s);for(var m=arguments.length,_=Array(m>1?m-1:0),x=1;x<m;x++)_[x-1]=arguments[x];return c.produce(v,function(b){var w;return(w=a).call.apply(w,[g,b].concat(_))})}}var l;if(typeof a!="function"&&Po(6),o!==void 0&&typeof o!="function"&&Po(7),il(i)){var u=mL(n),f=iA(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?hy(u):nA(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return rE(u,o),nE(v,u)},function(v){throw hy(u),v}):(rE(u,o),nE(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===r9&&(l=void 0),n.D&&eP(l,!0),o){var d=[],p=[];cs("Patches").M(i,l,d,p),o(d,p)}return l}Po(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){il(r)||Po(8),gu(r)&&(r=one(r));var n=mL(this),i=iA(this,r,void 0);return i[Hr].C=!0,nA(n),i},e.finishDraft=function(r,n){var i=r&&r[Hr],a=i.A;return rE(a,n),nE(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!wL&&Po(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=cs("Patches").$;return gu(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),Ua=new fne,i9=Ua.produce;Ua.produceWithPatches.bind(Ua);Ua.setAutoFreeze.bind(Ua);Ua.setUseProxies.bind(Ua);Ua.applyPatches.bind(Ua);Ua.createDraft.bind(Ua);Ua.finishDraft.bind(Ua);function ri(t){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(t)}function hne(t,e){if(ri(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a9(t){var e=hne(t,"string");return ri(e)=="symbol"?e:e+""}function Va(t,e,r){return e=a9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ki(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var AL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),oE=function(){return Math.random().toString(36).substring(7).split("").join(".")},vy={INIT:"@@redux/INIT"+oE(),REPLACE:"@@redux/REPLACE"+oE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oE()}};function dne(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function o9(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ki(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ki(1));return r(o9)(t,e)}if(typeof t!="function")throw new Error(ki(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(ki(3));return a}function f(v){if(typeof v!="function")throw new Error(ki(4));if(c)throw new Error(ki(5));var g=!0;return l(),s.push(v),function(){if(g){if(c)throw new Error(ki(6));g=!1,l();var _=s.indexOf(v);s.splice(_,1),o=null}}}function h(v){if(!dne(v))throw new Error(ki(7));if(typeof v.type>"u")throw new Error(ki(8));if(c)throw new Error(ki(9));try{c=!0,a=i(a,v)}finally{c=!1}for(var g=o=s,m=0;m<g.length;m++){var _=g[m];_()}return v}function d(v){if(typeof v!="function")throw new Error(ki(10));i=v,h({type:vy.REPLACE})}function p(){var v,g=f;return v={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(ki(11));function x(){_.next&&_.next(u())}x();var b=g(x);return{unsubscribe:b}}},v[AL]=function(){return this},v}return h({type:vy.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:d},n[AL]=p,n}function pne(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:vy.INIT});if(typeof n>"u")throw new Error(ki(12));if(typeof r(void 0,{type:vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ki(13))})}function vne(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{pne(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var d=a[h],p=r[d],v=c[d],g=p(v,l);if(typeof g>"u")throw l&&l.type,new Error(ki(14));f[d]=g,u=u||g!==v}return u=u||a.length!==Object.keys(c).length,u?f:c}}function gy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function gne(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(ki(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=gy.apply(void 0,s)(i.dispatch),CL(CL({},i),{},{dispatch:a})}}}function s9(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var l9=s9();l9.withExtraArgument=s9;const TL=l9;var u9=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mne=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Gh=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},_ne=Object.defineProperty,yne=Object.defineProperties,xne=Object.getOwnPropertyDescriptors,IL=Object.getOwnPropertySymbols,bne=Object.prototype.hasOwnProperty,wne=Object.prototype.propertyIsEnumerable,RL=function(t,e,r){return e in t?_ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},iu=function(t,e){for(var r in e||(e={}))bne.call(e,r)&&RL(t,r,e[r]);if(IL)for(var n=0,i=IL(e);n<i.length;n++){var r=i[n];wne.call(e,r)&&RL(t,r,e[r])}return t},sE=function(t,e){return yne(t,xne(e))},Ene=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},Sne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gy:gy.apply(null,arguments)};function Cne(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function au(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return iu(iu({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var Ane=function(t){u9(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Gh([void 0],r[0].concat(this)))):new(e.bind.apply(e,Gh([void 0],r.concat(this))))},e}(Array),Tne=function(t){u9(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,Gh([void 0],r[0].concat(this)))):new(e.bind.apply(e,Gh([void 0],r.concat(this))))},e}(Array);function oA(t){return il(t)?i9(t,function(){}):t}function Ine(t){return typeof t=="boolean"}function Rne(){return function(e){return c9(e)}}function c9(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new Ane;return r&&(Ine(r)?n.push(TL):n.push(TL.withExtraArgument(r.extraArgument))),n}var Pne=!0;function One(t){var e=Rne(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,d;if(typeof i=="function")d=i;else if(Cne(i))d=vne(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var v=gne.apply(void 0,p),g=gy;c&&(g=Sne(iu({trace:!Pne},typeof c=="object"&&c)));var m=new Tne(v),_=m;Array.isArray(h)?_=Gh([v],h):typeof h=="function"&&(_=h(m));var x=g.apply(void 0,_);return o9(d,u,x)}function f9(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function kne(t){return typeof t=="function"}function Fne(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?f9(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(kne(t))c=function(){return oA(t())};else{var l=oA(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var d=Gh([a[h.type]],o.filter(function(p){var v=p.matcher;return v(h)}).map(function(p){var v=p.reducer;return v}));return d.filter(function(p){return!!p}).length===0&&(d=[s]),d.reduce(function(p,v){if(v)if(gu(p)){var g=p,m=v(g,h);return m===void 0?p:m}else{if(il(p))return i9(p,function(_){return v(_,h)});var m=v(p,h);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return u.getInitialState=c,u}function Nne(t,e){return t+"/"+e}function bx(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:oA(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=Nne(e,u),d,p;"reducer"in f?(d=f.reducer,p=f.prepare):d=f,a[u]=d,o[h]=d,s[u]=p?au(h,p):au(h)});function c(){var u=typeof t.extraReducers=="function"?f9(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,d=u[1],p=d===void 0?[]:d,v=u[2],g=v===void 0?void 0:v,m=iu(iu({},h),o);return Fne(r,function(_){for(var x in m)_.addCase(x,m[x]);for(var b=0,w=p;b<w.length;b++){var S=w[b];_.addMatcher(S.matcher,S.reducer)}g&&_.addDefaultCase(g)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var Lne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mne=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=Lne[Math.random()*64|0];return e},Bne=["name","message","stack","code"],lE=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),PL=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Dne=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=Bne;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=au(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:sE(iu({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=au(e+"/pending",function(l,u,f){return{payload:void 0,meta:sE(iu({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=au(e+"/rejected",function(l,u,f,h,d){return{payload:h,error:(n&&n.serializeError||Dne)(l||"Rejected"),meta:sE(iu({},d||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var d=n!=null&&n.idGenerator?n.idGenerator(l):Mne(),p=new s,v;function g(_){v=_,p.abort()}var m=function(){return Ene(this,null,function(){var _,x,b,w,S,C,A;return mne(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),w=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,l,{getState:f,extra:h}),jne(w)?[4,w]:[3,2];case 1:w=T.sent(),T.label=2;case 2:if(w===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(R,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:v||"Aborted"})})}),u(a(d,l,(x=n==null?void 0:n.getPendingMeta)==null?void 0:x.call(n,{requestId:d,arg:l},{getState:f,extra:h}))),[4,Promise.race([S,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:d,signal:p.signal,abort:g,rejectWithValue:function(R,O){return new lE(R,O)},fulfillWithValue:function(R,O){return new PL(R,O)}})).then(function(R){if(R instanceof lE)throw R;return R instanceof PL?i(R.payload,d,l,R.meta):i(R,d,l)})])];case 3:return b=T.sent(),[3,5];case 4:return C=T.sent(),b=C instanceof lE?o(null,d,l,C.payload,C.meta):o(C,d,l),[3,5];case 5:return A=n&&!n.dispatchConditionRejection&&o.match(b)&&b.meta.condition,A||u(b),[2,b]}})})}();return Object.assign(m,{abort:g,requestId:d,arg:l,unwrap:function(){return m.then(Une)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Une(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function jne(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var nP="listenerMiddleware";au(nP+"/add");au(nP+"/removeAll");au(nP+"/remove");var OL;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);sne();function $ne(){this.__data__=[],this.size=0}var Gne=$ne;function Vne(t,e){return t===e||t!==t&&e!==e}var iP=Vne,Hne=iP;function Xne(t,e){for(var r=t.length;r--;)if(Hne(t[r][0],e))return r;return-1}var wx=Xne,Wne=wx,zne=Array.prototype,Yne=zne.splice;function qne(t){var e=this.__data__,r=Wne(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Yne.call(e,r,1),--this.size,!0}var Kne=qne,Zne=wx;function Jne(t){var e=this.__data__,r=Zne(e,t);return r<0?void 0:e[r][1]}var Qne=Jne,eie=wx;function tie(t){return eie(this.__data__,t)>-1}var rie=tie,nie=wx;function iie(t,e){var r=this.__data__,n=nie(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var aie=iie,oie=Gne,sie=Kne,lie=Qne,uie=rie,cie=aie;function md(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}md.prototype.clear=oie;md.prototype.delete=sie;md.prototype.get=lie;md.prototype.has=uie;md.prototype.set=cie;var Ex=md,fie=Ex;function hie(){this.__data__=new fie,this.size=0}var die=hie;function pie(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var vie=pie;function gie(t){return this.__data__.get(t)}var mie=gie;function _ie(t){return this.__data__.has(t)}var yie=_ie,xie=typeof ot=="object"&&ot&&ot.Object===Object&&ot,h9=xie,bie=h9,wie=typeof self=="object"&&self&&self.Object===Object&&self,Eie=bie||wie||Function("return this")(),Do=Eie,Sie=Do,Cie=Sie.Symbol,Pv=Cie,kL=Pv,d9=Object.prototype,Aie=d9.hasOwnProperty,Tie=d9.toString,m0=kL?kL.toStringTag:void 0;function Iie(t){var e=Aie.call(t,m0),r=t[m0];try{t[m0]=void 0;var n=!0}catch{}var i=Tie.call(t);return n&&(e?t[m0]=r:delete t[m0]),i}var Rie=Iie,Pie=Object.prototype,Oie=Pie.toString;function kie(t){return Oie.call(t)}var Fie=kie,FL=Pv,Nie=Rie,Lie=Fie,Mie="[object Null]",Bie="[object Undefined]",NL=FL?FL.toStringTag:void 0;function Die(t){return t==null?t===void 0?Bie:Mie:NL&&NL in Object(t)?Nie(t):Lie(t)}var Ov=Die;function Uie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ws=Uie,jie=Ov,$ie=ws,Gie="[object AsyncFunction]",Vie="[object Function]",Hie="[object GeneratorFunction]",Xie="[object Proxy]";function Wie(t){if(!$ie(t))return!1;var e=jie(t);return e==Vie||e==Hie||e==Gie||e==Xie}var p9=Wie,zie=Do,Yie=zie["__core-js_shared__"],qie=Yie,uE=qie,LL=function(){var t=/[^.]+$/.exec(uE&&uE.keys&&uE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Kie(t){return!!LL&&LL in t}var Zie=Kie,Jie=Function.prototype,Qie=Jie.toString;function eae(t){if(t!=null){try{return Qie.call(t)}catch{}try{return t+""}catch{}}return""}var v9=eae,tae=p9,rae=Zie,nae=ws,iae=v9,aae=/[\\^$.*+?()[\]{}|]/g,oae=/^\[object .+?Constructor\]$/,sae=Function.prototype,lae=Object.prototype,uae=sae.toString,cae=lae.hasOwnProperty,fae=RegExp("^"+uae.call(cae).replace(aae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hae(t){if(!nae(t)||rae(t))return!1;var e=tae(t)?fae:oae;return e.test(iae(t))}var dae=hae;function pae(t,e){return t==null?void 0:t[e]}var vae=pae,gae=dae,mae=vae;function _ae(t,e){var r=mae(t,e);return gae(r)?r:void 0}var ef=_ae,yae=ef,xae=Do,bae=yae(xae,"Map"),aP=bae,wae=ef,Eae=wae(Object,"create"),Sx=Eae,ML=Sx;function Sae(){this.__data__=ML?ML(null):{},this.size=0}var Cae=Sae;function Aae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Tae=Aae,Iae=Sx,Rae="__lodash_hash_undefined__",Pae=Object.prototype,Oae=Pae.hasOwnProperty;function kae(t){var e=this.__data__;if(Iae){var r=e[t];return r===Rae?void 0:r}return Oae.call(e,t)?e[t]:void 0}var Fae=kae,Nae=Sx,Lae=Object.prototype,Mae=Lae.hasOwnProperty;function Bae(t){var e=this.__data__;return Nae?e[t]!==void 0:Mae.call(e,t)}var Dae=Bae,Uae=Sx,jae="__lodash_hash_undefined__";function $ae(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Uae&&e===void 0?jae:e,this}var Gae=$ae,Vae=Cae,Hae=Tae,Xae=Fae,Wae=Dae,zae=Gae;function _d(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_d.prototype.clear=Vae;_d.prototype.delete=Hae;_d.prototype.get=Xae;_d.prototype.has=Wae;_d.prototype.set=zae;var Yae=_d,BL=Yae,qae=Ex,Kae=aP;function Zae(){this.size=0,this.__data__={hash:new BL,map:new(Kae||qae),string:new BL}}var Jae=Zae;function Qae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var eoe=Qae,toe=eoe;function roe(t,e){var r=t.__data__;return toe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Cx=roe,noe=Cx;function ioe(t){var e=noe(this,t).delete(t);return this.size-=e?1:0,e}var aoe=ioe,ooe=Cx;function soe(t){return ooe(this,t).get(t)}var loe=soe,uoe=Cx;function coe(t){return uoe(this,t).has(t)}var foe=coe,hoe=Cx;function doe(t,e){var r=hoe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var poe=doe,voe=Jae,goe=aoe,moe=loe,_oe=foe,yoe=poe;function yd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yd.prototype.clear=voe;yd.prototype.delete=goe;yd.prototype.get=moe;yd.prototype.has=_oe;yd.prototype.set=yoe;var oP=yd,xoe=Ex,boe=aP,woe=oP,Eoe=200;function Soe(t,e){var r=this.__data__;if(r instanceof xoe){var n=r.__data__;if(!boe||n.length<Eoe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new woe(n)}return r.set(t,e),this.size=r.size,this}var Coe=Soe,Aoe=Ex,Toe=die,Ioe=vie,Roe=mie,Poe=yie,Ooe=Coe;function xd(t){var e=this.__data__=new Aoe(t);this.size=e.size}xd.prototype.clear=Toe;xd.prototype.delete=Ioe;xd.prototype.get=Roe;xd.prototype.has=Poe;xd.prototype.set=Ooe;var sP=xd;function koe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Foe=koe,Noe=ef,Loe=function(){try{var t=Noe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Moe=Loe,DL=Moe;function Boe(t,e,r){e=="__proto__"&&DL?DL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var g9=Boe,Doe=g9,Uoe=iP,joe=Object.prototype,$oe=joe.hasOwnProperty;function Goe(t,e,r){var n=t[e];(!($oe.call(t,e)&&Uoe(n,r))||r===void 0&&!(e in t))&&Doe(t,e,r)}var lP=Goe,Voe=lP,Hoe=g9;function Xoe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?Hoe(r,s,c):Voe(r,s,c)}return r}var Ax=Xoe;function Woe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var zoe=Woe;function Yoe(t){return t!=null&&typeof t=="object"}var tf=Yoe,qoe=Ov,Koe=tf,Zoe="[object Arguments]";function Joe(t){return Koe(t)&&qoe(t)==Zoe}var Qoe=Joe,UL=Qoe,ese=tf,m9=Object.prototype,tse=m9.hasOwnProperty,rse=m9.propertyIsEnumerable,nse=UL(function(){return arguments}())?UL:function(t){return ese(t)&&tse.call(t,"callee")&&!rse.call(t,"callee")},_9=nse,ise=Array.isArray,cl=ise,my={exports:{}};function ase(){return!1}var ose=ase;my.exports;(function(t,e){var r=Do,n=ose,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(my,my.exports);var uP=my.exports,sse=9007199254740991,lse=/^(?:0|[1-9]\d*)$/;function use(t,e){var r=typeof t;return e=e??sse,!!e&&(r=="number"||r!="symbol"&&lse.test(t))&&t>-1&&t%1==0&&t<e}var cP=use,cse=9007199254740991;function fse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cse}var fP=fse,hse=Ov,dse=fP,pse=tf,vse="[object Arguments]",gse="[object Array]",mse="[object Boolean]",_se="[object Date]",yse="[object Error]",xse="[object Function]",bse="[object Map]",wse="[object Number]",Ese="[object Object]",Sse="[object RegExp]",Cse="[object Set]",Ase="[object String]",Tse="[object WeakMap]",Ise="[object ArrayBuffer]",Rse="[object DataView]",Pse="[object Float32Array]",Ose="[object Float64Array]",kse="[object Int8Array]",Fse="[object Int16Array]",Nse="[object Int32Array]",Lse="[object Uint8Array]",Mse="[object Uint8ClampedArray]",Bse="[object Uint16Array]",Dse="[object Uint32Array]",Mr={};Mr[Pse]=Mr[Ose]=Mr[kse]=Mr[Fse]=Mr[Nse]=Mr[Lse]=Mr[Mse]=Mr[Bse]=Mr[Dse]=!0;Mr[vse]=Mr[gse]=Mr[Ise]=Mr[mse]=Mr[Rse]=Mr[_se]=Mr[yse]=Mr[xse]=Mr[bse]=Mr[wse]=Mr[Ese]=Mr[Sse]=Mr[Cse]=Mr[Ase]=Mr[Tse]=!1;function Use(t){return pse(t)&&dse(t.length)&&!!Mr[hse(t)]}var jse=Use;function $se(t){return function(e){return t(e)}}var hP=$se,_y={exports:{}};_y.exports;(function(t,e){var r=h9,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(_y,_y.exports);var dP=_y.exports,Gse=jse,Vse=hP,jL=dP,$L=jL&&jL.isTypedArray,Hse=$L?Vse($L):Gse,y9=Hse,Xse=zoe,Wse=_9,zse=cl,Yse=uP,qse=cP,Kse=y9,Zse=Object.prototype,Jse=Zse.hasOwnProperty;function Qse(t,e){var r=zse(t),n=!r&&Wse(t),i=!r&&!n&&Yse(t),a=!r&&!n&&!i&&Kse(t),o=r||n||i||a,s=o?Xse(t.length,String):[],c=s.length;for(var l in t)(e||Jse.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||qse(l,c)))&&s.push(l);return s}var x9=Qse,ele=Object.prototype;function tle(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ele;return t===r}var pP=tle;function rle(t,e){return function(r){return t(e(r))}}var b9=rle,nle=b9,ile=nle(Object.keys,Object),ale=ile,ole=pP,sle=ale,lle=Object.prototype,ule=lle.hasOwnProperty;function cle(t){if(!ole(t))return sle(t);var e=[];for(var r in Object(t))ule.call(t,r)&&r!="constructor"&&e.push(r);return e}var fle=cle,hle=p9,dle=fP;function ple(t){return t!=null&&dle(t.length)&&!hle(t)}var w9=ple,vle=x9,gle=fle,mle=w9;function _le(t){return mle(t)?vle(t):gle(t)}var Tx=_le,yle=Ax,xle=Tx;function ble(t,e){return t&&yle(e,xle(e),t)}var wle=ble;function Ele(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Sle=Ele,Cle=ws,Ale=pP,Tle=Sle,Ile=Object.prototype,Rle=Ile.hasOwnProperty;function Ple(t){if(!Cle(t))return Tle(t);var e=Ale(t),r=[];for(var n in t)n=="constructor"&&(e||!Rle.call(t,n))||r.push(n);return r}var Ole=Ple,kle=x9,Fle=Ole,Nle=w9;function Lle(t){return Nle(t)?kle(t,!0):Fle(t)}var vP=Lle,Mle=Ax,Ble=vP;function Dle(t,e){return t&&Mle(e,Ble(e),t)}var Ule=Dle,yy={exports:{}};yy.exports;(function(t,e){var r=Do,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(yy,yy.exports);var jle=yy.exports;function $le(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Gle=$le;function Vle(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var Hle=Vle;function Xle(){return[]}var E9=Xle,Wle=Hle,zle=E9,Yle=Object.prototype,qle=Yle.propertyIsEnumerable,GL=Object.getOwnPropertySymbols,Kle=GL?function(t){return t==null?[]:(t=Object(t),Wle(GL(t),function(e){return qle.call(t,e)}))}:zle,gP=Kle,Zle=Ax,Jle=gP;function Qle(t,e){return Zle(t,Jle(t),e)}var eue=Qle;function tue(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var S9=tue,rue=b9,nue=rue(Object.getPrototypeOf,Object),C9=nue,iue=S9,aue=C9,oue=gP,sue=E9,lue=Object.getOwnPropertySymbols,uue=lue?function(t){for(var e=[];t;)iue(e,oue(t)),t=aue(t);return e}:sue,A9=uue,cue=Ax,fue=A9;function hue(t,e){return cue(t,fue(t),e)}var due=hue,pue=S9,vue=cl;function gue(t,e,r){var n=e(t);return vue(t)?n:pue(n,r(t))}var T9=gue,mue=T9,_ue=gP,yue=Tx;function xue(t){return mue(t,yue,_ue)}var I9=xue,bue=T9,wue=A9,Eue=vP;function Sue(t){return bue(t,Eue,wue)}var R9=Sue,Cue=ef,Aue=Do,Tue=Cue(Aue,"DataView"),Iue=Tue,Rue=ef,Pue=Do,Oue=Rue(Pue,"Promise"),kue=Oue,Fue=ef,Nue=Do,Lue=Fue(Nue,"Set"),P9=Lue,Mue=ef,Bue=Do,Due=Mue(Bue,"WeakMap"),Uue=Due,sA=Iue,lA=aP,uA=kue,cA=P9,fA=Uue,O9=Ov,bd=v9,VL="[object Map]",jue="[object Object]",HL="[object Promise]",XL="[object Set]",WL="[object WeakMap]",zL="[object DataView]",$ue=bd(sA),Gue=bd(lA),Vue=bd(uA),Hue=bd(cA),Xue=bd(fA),tc=O9;(sA&&tc(new sA(new ArrayBuffer(1)))!=zL||lA&&tc(new lA)!=VL||uA&&tc(uA.resolve())!=HL||cA&&tc(new cA)!=XL||fA&&tc(new fA)!=WL)&&(tc=function(t){var e=O9(t),r=e==jue?t.constructor:void 0,n=r?bd(r):"";if(n)switch(n){case $ue:return zL;case Gue:return VL;case Vue:return HL;case Hue:return XL;case Xue:return WL}return e});var Ix=tc,Wue=Object.prototype,zue=Wue.hasOwnProperty;function Yue(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&zue.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var que=Yue,Kue=Do,Zue=Kue.Uint8Array,k9=Zue,YL=k9;function Jue(t){var e=new t.constructor(t.byteLength);return new YL(e).set(new YL(t)),e}var mP=Jue,Que=mP;function ece(t,e){var r=e?Que(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var tce=ece,rce=/\w*$/;function nce(t){var e=new t.constructor(t.source,rce.exec(t));return e.lastIndex=t.lastIndex,e}var ice=nce,qL=Pv,KL=qL?qL.prototype:void 0,ZL=KL?KL.valueOf:void 0;function ace(t){return ZL?Object(ZL.call(t)):{}}var oce=ace,sce=mP;function lce(t,e){var r=e?sce(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var uce=lce,cce=mP,fce=tce,hce=ice,dce=oce,pce=uce,vce="[object Boolean]",gce="[object Date]",mce="[object Map]",_ce="[object Number]",yce="[object RegExp]",xce="[object Set]",bce="[object String]",wce="[object Symbol]",Ece="[object ArrayBuffer]",Sce="[object DataView]",Cce="[object Float32Array]",Ace="[object Float64Array]",Tce="[object Int8Array]",Ice="[object Int16Array]",Rce="[object Int32Array]",Pce="[object Uint8Array]",Oce="[object Uint8ClampedArray]",kce="[object Uint16Array]",Fce="[object Uint32Array]";function Nce(t,e,r){var n=t.constructor;switch(e){case Ece:return cce(t);case vce:case gce:return new n(+t);case Sce:return fce(t,r);case Cce:case Ace:case Tce:case Ice:case Rce:case Pce:case Oce:case kce:case Fce:return pce(t,r);case mce:return new n;case _ce:case bce:return new n(t);case yce:return hce(t);case xce:return new n;case wce:return dce(t)}}var Lce=Nce,Mce=ws,JL=Object.create,Bce=function(){function t(){}return function(e){if(!Mce(e))return{};if(JL)return JL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Dce=Bce,Uce=Dce,jce=C9,$ce=pP;function Gce(t){return typeof t.constructor=="function"&&!$ce(t)?Uce(jce(t)):{}}var Vce=Gce,Hce=Ix,Xce=tf,Wce="[object Map]";function zce(t){return Xce(t)&&Hce(t)==Wce}var Yce=zce,qce=Yce,Kce=hP,QL=dP,eM=QL&&QL.isMap,Zce=eM?Kce(eM):qce,Jce=Zce,Qce=Ix,efe=tf,tfe="[object Set]";function rfe(t){return efe(t)&&Qce(t)==tfe}var nfe=rfe,ife=nfe,afe=hP,tM=dP,rM=tM&&tM.isSet,ofe=rM?afe(rM):ife,sfe=ofe,lfe=sP,ufe=Foe,cfe=lP,ffe=wle,hfe=Ule,dfe=jle,pfe=Gle,vfe=eue,gfe=due,mfe=I9,_fe=R9,yfe=Ix,xfe=que,bfe=Lce,wfe=Vce,Efe=cl,Sfe=uP,Cfe=Jce,Afe=ws,Tfe=sfe,Ife=Tx,Rfe=vP,Pfe=1,Ofe=2,kfe=4,F9="[object Arguments]",Ffe="[object Array]",Nfe="[object Boolean]",Lfe="[object Date]",Mfe="[object Error]",N9="[object Function]",Bfe="[object GeneratorFunction]",Dfe="[object Map]",Ufe="[object Number]",L9="[object Object]",jfe="[object RegExp]",$fe="[object Set]",Gfe="[object String]",Vfe="[object Symbol]",Hfe="[object WeakMap]",Xfe="[object ArrayBuffer]",Wfe="[object DataView]",zfe="[object Float32Array]",Yfe="[object Float64Array]",qfe="[object Int8Array]",Kfe="[object Int16Array]",Zfe="[object Int32Array]",Jfe="[object Uint8Array]",Qfe="[object Uint8ClampedArray]",ehe="[object Uint16Array]",the="[object Uint32Array]",Ir={};Ir[F9]=Ir[Ffe]=Ir[Xfe]=Ir[Wfe]=Ir[Nfe]=Ir[Lfe]=Ir[zfe]=Ir[Yfe]=Ir[qfe]=Ir[Kfe]=Ir[Zfe]=Ir[Dfe]=Ir[Ufe]=Ir[L9]=Ir[jfe]=Ir[$fe]=Ir[Gfe]=Ir[Vfe]=Ir[Jfe]=Ir[Qfe]=Ir[ehe]=Ir[the]=!0;Ir[Mfe]=Ir[N9]=Ir[Hfe]=!1;function d_(t,e,r,n,i,a){var o,s=e&Pfe,c=e&Ofe,l=e&kfe;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!Afe(t))return t;var u=Efe(t);if(u){if(o=xfe(t),!s)return pfe(t,o)}else{var f=yfe(t),h=f==N9||f==Bfe;if(Sfe(t))return dfe(t,s);if(f==L9||f==F9||h&&!i){if(o=c||h?{}:wfe(t),!s)return c?gfe(t,hfe(o,t)):vfe(t,ffe(o,t))}else{if(!Ir[f])return i?t:{};o=bfe(t,f,s)}}a||(a=new lfe);var d=a.get(t);if(d)return d;a.set(t,o),Tfe(t)?t.forEach(function(g){o.add(d_(g,e,r,g,t,a))}):Cfe(t)&&t.forEach(function(g,m){o.set(m,d_(g,e,r,m,t,a))});var p=l?c?_fe:mfe:c?Rfe:Ife,v=u?void 0:p(t);return ufe(v||t,function(g,m){v&&(m=g,g=t[m]),cfe(o,m,d_(g,e,r,m,t,a))}),o}var rhe=d_,nhe=rhe,ihe=1,ahe=4;function ohe(t){return nhe(t,ihe|ahe)}var she=ohe;const nn=Ei(she);var Tt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t[t.clearScreen=42]="clearScreen",t[t.showUI=43]="showUI",t))(Tt||{});function am(){let t=1280,e=720;const r=window.localStorage.getItem("game-screen-size"),n=(r==null?void 0:r.split("x"))??[];return(n==null?void 0:n.length)>0&&(t=Number(n[0]),e=Number(n[1])),{defaultWidth:t,defaultHeight:e}}const M9={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},hasCustomClickSe:!1,uiSe:"",gameSe:"",gameScounds:[],menuScounds:[],miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:am().defaultWidth,storyLineBgY:am().defaultHeight,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:am().defaultWidth,achieveBgY:am().defaultHeight,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[]},_P=bx({name:"stage",initialState:nn(M9),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Tt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{const r=t.showValueList.findIndex(n=>n.showValueName===e.payload.showValueName);if(r>-1){const n=[...t.showValueList];n[r]=e.payload,t.showValueList=n}else t.showValueList=[...t.showValueList,e.payload]},updateShowValueList:(t,e)=>{t.showValueList=e.payload}}}),{resetStageState:Rx,setStage:vt,setStageVar:B9,setAchieveBg:lhe,setUnlockAchieve:bGe,setStoryLineBg:wGe,addShowValues:Rf,addShowValueList:uhe,updateShowValueList:che}=_P.actions,pa=_P.actions,fhe=_P.reducer;function G0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var D9={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof G0=="function"&&G0;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(p){var v=n[l][1][p];return o(v||p)},d,d.exports,r,n,i,a)}return i[l].exports}for(var s=typeof G0=="function"&&G0,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(p),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=p,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var g=a.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:s=function(){setTimeout(p,0)};var h,d=[];function p(){h=!0;for(var g,m,_=d.length;_;){for(m=d,d=[],g=-1;++g<_;)m[g]();_=d.length}h=!1}n.exports=v;function v(g){d.push(g)===1&&!h&&s()}}).call(this,typeof ot<"u"?ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,w!==o&&v(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,S){if(typeof w!="function"&&this.state===l||typeof S!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var A=this.state===l?w:S;d(C,A,this.outcome)}else this.queue.push(new h(C,w,S));return C};function h(w,S,C){this.promise=w,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(w){s.resolve(this.promise,w)},h.prototype.otherCallFulfilled=function(w){d(this.promise,this.onFulfilled,w)},h.prototype.callRejected=function(w){s.reject(this.promise,w)},h.prototype.otherCallRejected=function(w){d(this.promise,this.onRejected,w)};function d(w,S,C){a(function(){var A;try{A=S(C)}catch(T){return s.reject(w,T)}A===w?s.reject(w,new TypeError("Cannot resolve promise with itself")):s.resolve(w,A)})}s.resolve=function(w,S){var C=g(p,S);if(C.status==="error")return s.reject(w,C.value);var A=C.value;if(A)v(w,A);else{w.state=l,w.outcome=S;for(var T=-1,R=w.queue.length;++T<R;)w.queue[T].callFulfilled(S)}return w},s.reject=function(w,S){w.state=c,w.outcome=S;for(var C=-1,A=w.queue.length;++C<A;)w.queue[C].callRejected(S);return w};function p(w){var S=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof S=="function")return function(){S.apply(w,arguments)}}function v(w,S){var C=!1;function A(P){C||(C=!0,s.reject(w,P))}function T(P){C||(C=!0,s.resolve(w,P))}function R(){S(T,A)}var O=g(R);O.status==="error"&&A(O.value)}function g(w,S){var C={};try{C.value=w(S),C.status="success"}catch(A){C.status="error",C.value=A}return C}f.resolve=m;function m(w){return w instanceof this?w:s.resolve(new this(o),w)}f.reject=_;function _(w){var S=new this(o);return s.reject(S,w)}f.all=x;function x(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,A=!1;if(!C)return this.resolve([]);for(var T=new Array(C),R=0,O=-1,P=new this(o);++O<C;)k(w[O],O);return P;function k(F,L){S.resolve(F).then(D,function(H){A||(A=!0,s.reject(P,H))});function D(H){T[L]=H,++R===C&&!A&&(A=!0,s.resolve(P,T))}}}f.race=b;function b(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,A=!1;if(!C)return this.resolve([]);for(var T=-1,R=new this(o);++T<C;)O(w[T]);return R;function O(P){S.resolve(P).then(function(k){A||(A=!0,s.resolve(R,k))},function(k){A||(A=!0,s.reject(R,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof ot<"u"?ot:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y};function o(Y,ne){if(!(Y instanceof ne))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var Y=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Y||ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(Y,ne){Y=Y||[],ne=ne||{};try{return new Blob(Y,ne)}catch(oe){if(oe.name!=="TypeError")throw oe;for(var Z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new Z,pe=0;pe<Y.length;pe+=1)se.append(Y[pe]);return se.getBlob(ne.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(Y,ne){ne&&Y.then(function(Z){ne(null,Z)},function(Z){ne(Z)})}function d(Y,ne,Z){typeof ne=="function"&&Y.then(ne),typeof Z=="function"&&Y.catch(Z)}function p(Y){return typeof Y!="string"&&(console.warn(Y+" used as a key, but it is not a string."),Y=String(Y)),Y}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",m=void 0,_={},x=Object.prototype.toString,b="readonly",w="readwrite";function S(Y){for(var ne=Y.length,Z=new ArrayBuffer(ne),se=new Uint8Array(Z),pe=0;pe<ne;pe++)se[pe]=Y.charCodeAt(pe);return Z}function C(Y){return new f(function(ne){var Z=Y.transaction(g,w),se=u([""]);Z.objectStore(g).put(se,"key"),Z.onabort=function(pe){pe.preventDefault(),pe.stopPropagation(),ne(!1)},Z.oncomplete=function(){var pe=navigator.userAgent.match(/Chrome\/(\d+)/),oe=navigator.userAgent.match(/Edge\//);ne(oe||!pe||parseInt(pe[1],10)>=43)}}).catch(function(){return!1})}function A(Y){return typeof m=="boolean"?f.resolve(m):C(Y).then(function(ne){return m=ne,m})}function T(Y){var ne=_[Y.name],Z={};Z.promise=new f(function(se,pe){Z.resolve=se,Z.reject=pe}),ne.deferredOperations.push(Z),ne.dbReady?ne.dbReady=ne.dbReady.then(function(){return Z.promise}):ne.dbReady=Z.promise}function R(Y){var ne=_[Y.name],Z=ne.deferredOperations.pop();if(Z)return Z.resolve(),Z.promise}function O(Y,ne){var Z=_[Y.name],se=Z.deferredOperations.pop();if(se)return se.reject(ne),se.promise}function P(Y,ne){return new f(function(Z,se){if(_[Y.name]=_[Y.name]||V(),Y.db)if(ne)T(Y),Y.db.close();else return Z(Y.db);var pe=[Y.name];ne&&pe.push(Y.version);var oe=c.open.apply(c,pe);ne&&(oe.onupgradeneeded=function(Ee){var Re=oe.result;try{Re.createObjectStore(Y.storeName),Ee.oldVersion<=1&&Re.createObjectStore(g)}catch(Fe){if(Fe.name==="ConstraintError")console.warn('The database "'+Y.name+'" has been upgraded from version '+Ee.oldVersion+" to version "+Ee.newVersion+', but the storage "'+Y.storeName+'" already exists.');else throw Fe}}),oe.onerror=function(Ee){Ee.preventDefault(),se(oe.error)},oe.onsuccess=function(){var Ee=oe.result;Ee.onversionchange=function(Re){Re.target.close()},Z(Ee),R(Y)}})}function k(Y){return P(Y,!1)}function F(Y){return P(Y,!0)}function L(Y,ne){if(!Y.db)return!0;var Z=!Y.db.objectStoreNames.contains(Y.storeName),se=Y.version<Y.db.version,pe=Y.version>Y.db.version;if(se&&(Y.version!==ne&&console.warn('The database "'+Y.name+`" can't be downgraded from version `+Y.db.version+" to version "+Y.version+"."),Y.version=Y.db.version),pe||Z){if(Z){var oe=Y.db.version+1;oe>Y.version&&(Y.version=oe)}return!0}return!1}function D(Y){return new f(function(ne,Z){var se=new FileReader;se.onerror=Z,se.onloadend=function(pe){var oe=btoa(pe.target.result||"");ne({__local_forage_encoded_blob:!0,data:oe,type:Y.type})},se.readAsBinaryString(Y)})}function H(Y){var ne=S(atob(Y.data));return u([ne],{type:Y.type})}function Q(Y){return Y&&Y.__local_forage_encoded_blob}function ee(Y){var ne=this,Z=ne._initReady().then(function(){var se=_[ne._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return d(Z,Y,Y),Z}function G(Y){T(Y);for(var ne=_[Y.name],Z=ne.forages,se=0;se<Z.length;se++){var pe=Z[se];pe._dbInfo.db&&(pe._dbInfo.db.close(),pe._dbInfo.db=null)}return Y.db=null,k(Y).then(function(oe){return Y.db=oe,L(Y)?F(Y):oe}).then(function(oe){Y.db=ne.db=oe;for(var Ee=0;Ee<Z.length;Ee++)Z[Ee]._dbInfo.db=oe}).catch(function(oe){throw O(Y,oe),oe})}function B(Y,ne,Z,se){se===void 0&&(se=1);try{var pe=Y.db.transaction(Y.storeName,ne);Z(null,pe)}catch(oe){if(se>0&&(!Y.db||oe.name==="InvalidStateError"||oe.name==="NotFoundError"))return f.resolve().then(function(){if(!Y.db||oe.name==="NotFoundError"&&!Y.db.objectStoreNames.contains(Y.storeName)&&Y.version<=Y.db.version)return Y.db&&(Y.version=Y.db.version+1),F(Y)}).then(function(){return G(Y).then(function(){B(Y,ne,Z,se-1)})}).catch(Z);Z(oe)}}function V(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function U(Y){var ne=this,Z={db:null};if(Y)for(var se in Y)Z[se]=Y[se];var pe=_[Z.name];pe||(pe=V(),_[Z.name]=pe),pe.forages.push(ne),ne._initReady||(ne._initReady=ne.ready,ne.ready=ee);var oe=[];function Ee(){return f.resolve()}for(var Re=0;Re<pe.forages.length;Re++){var Fe=pe.forages[Re];Fe!==ne&&oe.push(Fe._initReady().catch(Ee))}var Ne=pe.forages.slice(0);return f.all(oe).then(function(){return Z.db=pe.db,k(Z)}).then(function(Be){return Z.db=Be,L(Z,ne._defaultConfig.version)?F(Z):Be}).then(function(Be){Z.db=pe.db=Be,ne._dbInfo=Z;for(var et=0;et<Ne.length;et++){var Nt=Ne[et];Nt!==ne&&(Nt._dbInfo.db=Z.db,Nt._dbInfo.version=Z.version)}})}function $(Y,ne){var Z=this;Y=p(Y);var se=new f(function(pe,oe){Z.ready().then(function(){B(Z._dbInfo,b,function(Ee,Re){if(Ee)return oe(Ee);try{var Fe=Re.objectStore(Z._dbInfo.storeName),Ne=Fe.get(Y);Ne.onsuccess=function(){var Be=Ne.result;Be===void 0&&(Be=null),Q(Be)&&(Be=H(Be)),pe(Be)},Ne.onerror=function(){oe(Ne.error)}}catch(Be){oe(Be)}})}).catch(oe)});return h(se,ne),se}function J(Y,ne){var Z=this,se=new f(function(pe,oe){Z.ready().then(function(){B(Z._dbInfo,b,function(Ee,Re){if(Ee)return oe(Ee);try{var Fe=Re.objectStore(Z._dbInfo.storeName),Ne=Fe.openCursor(),Be=1;Ne.onsuccess=function(){var et=Ne.result;if(et){var Nt=et.value;Q(Nt)&&(Nt=H(Nt));var tr=Y(Nt,et.key,Be++);tr!==void 0?pe(tr):et.continue()}else pe()},Ne.onerror=function(){oe(Ne.error)}}catch(et){oe(et)}})}).catch(oe)});return h(se,ne),se}function re(Y,ne,Z){var se=this;Y=p(Y);var pe=new f(function(oe,Ee){var Re;se.ready().then(function(){return Re=se._dbInfo,x.call(ne)==="[object Blob]"?A(Re.db).then(function(Fe){return Fe?ne:D(ne)}):ne}).then(function(Fe){B(se._dbInfo,w,function(Ne,Be){if(Ne)return Ee(Ne);try{var et=Be.objectStore(se._dbInfo.storeName);Fe===null&&(Fe=void 0);var Nt=et.put(Fe,Y);Be.oncomplete=function(){Fe===void 0&&(Fe=null),oe(Fe)},Be.onabort=Be.onerror=function(){var tr=Nt.error?Nt.error:Nt.transaction.error;Ee(tr)}}catch(tr){Ee(tr)}})}).catch(Ee)});return h(pe,Z),pe}function fe(Y,ne){var Z=this;Y=p(Y);var se=new f(function(pe,oe){Z.ready().then(function(){B(Z._dbInfo,w,function(Ee,Re){if(Ee)return oe(Ee);try{var Fe=Re.objectStore(Z._dbInfo.storeName),Ne=Fe.delete(Y);Re.oncomplete=function(){pe()},Re.onerror=function(){oe(Ne.error)},Re.onabort=function(){var Be=Ne.error?Ne.error:Ne.transaction.error;oe(Be)}}catch(Be){oe(Be)}})}).catch(oe)});return h(se,ne),se}function le(Y){var ne=this,Z=new f(function(se,pe){ne.ready().then(function(){B(ne._dbInfo,w,function(oe,Ee){if(oe)return pe(oe);try{var Re=Ee.objectStore(ne._dbInfo.storeName),Fe=Re.clear();Ee.oncomplete=function(){se()},Ee.onabort=Ee.onerror=function(){var Ne=Fe.error?Fe.error:Fe.transaction.error;pe(Ne)}}catch(Ne){pe(Ne)}})}).catch(pe)});return h(Z,Y),Z}function xe(Y){var ne=this,Z=new f(function(se,pe){ne.ready().then(function(){B(ne._dbInfo,b,function(oe,Ee){if(oe)return pe(oe);try{var Re=Ee.objectStore(ne._dbInfo.storeName),Fe=Re.count();Fe.onsuccess=function(){se(Fe.result)},Fe.onerror=function(){pe(Fe.error)}}catch(Ne){pe(Ne)}})}).catch(pe)});return h(Z,Y),Z}function Ae(Y,ne){var Z=this,se=new f(function(pe,oe){if(Y<0){pe(null);return}Z.ready().then(function(){B(Z._dbInfo,b,function(Ee,Re){if(Ee)return oe(Ee);try{var Fe=Re.objectStore(Z._dbInfo.storeName),Ne=!1,Be=Fe.openKeyCursor();Be.onsuccess=function(){var et=Be.result;if(!et){pe(null);return}Y===0||Ne?pe(et.key):(Ne=!0,et.advance(Y))},Be.onerror=function(){oe(Be.error)}}catch(et){oe(et)}})}).catch(oe)});return h(se,ne),se}function ye(Y){var ne=this,Z=new f(function(se,pe){ne.ready().then(function(){B(ne._dbInfo,b,function(oe,Ee){if(oe)return pe(oe);try{var Re=Ee.objectStore(ne._dbInfo.storeName),Fe=Re.openKeyCursor(),Ne=[];Fe.onsuccess=function(){var Be=Fe.result;if(!Be){se(Ne);return}Ne.push(Be.key),Be.continue()},Fe.onerror=function(){pe(Fe.error)}}catch(Be){pe(Be)}})}).catch(pe)});return h(Z,Y),Z}function we(Y,ne){ne=v.apply(this,arguments);var Z=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||Z.name,Y.storeName=Y.storeName||Z.storeName);var se=this,pe;if(!Y.name)pe=f.reject("Invalid arguments");else{var oe=Y.name===Z.name&&se._dbInfo.db,Ee=oe?f.resolve(se._dbInfo.db):k(Y).then(function(Re){var Fe=_[Y.name],Ne=Fe.forages;Fe.db=Re;for(var Be=0;Be<Ne.length;Be++)Ne[Be]._dbInfo.db=Re;return Re});Y.storeName?pe=Ee.then(function(Re){if(Re.objectStoreNames.contains(Y.storeName)){var Fe=Re.version+1;T(Y);var Ne=_[Y.name],Be=Ne.forages;Re.close();for(var et=0;et<Be.length;et++){var Nt=Be[et];Nt._dbInfo.db=null,Nt._dbInfo.version=Fe}var tr=new f(function(rr,jr){var yr=c.open(Y.name,Fe);yr.onerror=function(Hi){var pl=yr.result;pl.close(),jr(Hi)},yr.onupgradeneeded=function(){var Hi=yr.result;Hi.deleteObjectStore(Y.storeName)},yr.onsuccess=function(){var Hi=yr.result;Hi.close(),rr(Hi)}});return tr.then(function(rr){Ne.db=rr;for(var jr=0;jr<Be.length;jr++){var yr=Be[jr];yr._dbInfo.db=rr,R(yr._dbInfo)}}).catch(function(rr){throw(O(Y,rr)||f.resolve()).catch(function(){}),rr})}}):pe=Ee.then(function(Re){T(Y);var Fe=_[Y.name],Ne=Fe.forages;Re.close();for(var Be=0;Be<Ne.length;Be++){var et=Ne[Be];et._dbInfo.db=null}var Nt=new f(function(tr,rr){var jr=c.deleteDatabase(Y.name);jr.onerror=function(){var yr=jr.result;yr&&yr.close(),rr(jr.error)},jr.onblocked=function(){console.warn('dropInstance blocked for database "'+Y.name+'" until all open connections are closed')},jr.onsuccess=function(){var yr=jr.result;yr&&yr.close(),tr(yr)}});return Nt.then(function(tr){Fe.db=tr;for(var rr=0;rr<Ne.length;rr++){var jr=Ne[rr];R(jr._dbInfo)}}).catch(function(tr){throw(O(Y,tr)||f.resolve()).catch(function(){}),tr})})}return h(pe,ne),pe}var me={_driver:"asyncStorage",_initStorage:U,_support:l(),iterate:J,getItem:$,setItem:re,removeItem:fe,clear:le,length:xe,key:Ae,keys:ye,dropInstance:we};function Pe(){return typeof openDatabase=="function"}var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",ze=/^~~local_forage_type~([^~]+)~/,st="__lfsc__:",xt=st.length,Et="arbf",it="blob",ct="si08",bt="ui08",mr="uic8",_r="si16",fr="si32",ir="ur16",Rt="ui32",Er="fl32",_e="fl64",Se=xt+Et.length,Oe=Object.prototype.toString;function qe(Y){var ne=Y.length*.75,Z=Y.length,se,pe=0,oe,Ee,Re,Fe;Y[Y.length-1]==="="&&(ne--,Y[Y.length-2]==="="&&ne--);var Ne=new ArrayBuffer(ne),Be=new Uint8Array(Ne);for(se=0;se<Z;se+=4)oe=je.indexOf(Y[se]),Ee=je.indexOf(Y[se+1]),Re=je.indexOf(Y[se+2]),Fe=je.indexOf(Y[se+3]),Be[pe++]=oe<<2|Ee>>4,Be[pe++]=(Ee&15)<<4|Re>>2,Be[pe++]=(Re&3)<<6|Fe&63;return Ne}function He(Y){var ne=new Uint8Array(Y),Z="",se;for(se=0;se<ne.length;se+=3)Z+=je[ne[se]>>2],Z+=je[(ne[se]&3)<<4|ne[se+1]>>4],Z+=je[(ne[se+1]&15)<<2|ne[se+2]>>6],Z+=je[ne[se+2]&63];return ne.length%3===2?Z=Z.substring(0,Z.length-1)+"=":ne.length%3===1&&(Z=Z.substring(0,Z.length-2)+"=="),Z}function at(Y,ne){var Z="";if(Y&&(Z=Oe.call(Y)),Y&&(Z==="[object ArrayBuffer]"||Y.buffer&&Oe.call(Y.buffer)==="[object ArrayBuffer]")){var se,pe=st;Y instanceof ArrayBuffer?(se=Y,pe+=Et):(se=Y.buffer,Z==="[object Int8Array]"?pe+=ct:Z==="[object Uint8Array]"?pe+=bt:Z==="[object Uint8ClampedArray]"?pe+=mr:Z==="[object Int16Array]"?pe+=_r:Z==="[object Uint16Array]"?pe+=ir:Z==="[object Int32Array]"?pe+=fr:Z==="[object Uint32Array]"?pe+=Rt:Z==="[object Float32Array]"?pe+=Er:Z==="[object Float64Array]"?pe+=_e:ne(new Error("Failed to get type for BinaryArray"))),ne(pe+He(se))}else if(Z==="[object Blob]"){var oe=new FileReader;oe.onload=function(){var Ee=Le+Y.type+"~"+He(this.result);ne(st+it+Ee)},oe.readAsArrayBuffer(Y)}else try{ne(JSON.stringify(Y))}catch(Ee){console.error("Couldn't convert value into a JSON string: ",Y),ne(null,Ee)}}function ar(Y){if(Y.substring(0,xt)!==st)return JSON.parse(Y);var ne=Y.substring(Se),Z=Y.substring(xt,Se),se;if(Z===it&&ze.test(ne)){var pe=ne.match(ze);se=pe[1],ne=ne.substring(pe[0].length)}var oe=qe(ne);switch(Z){case Et:return oe;case it:return u([oe],{type:se});case ct:return new Int8Array(oe);case bt:return new Uint8Array(oe);case mr:return new Uint8ClampedArray(oe);case _r:return new Int16Array(oe);case ir:return new Uint16Array(oe);case fr:return new Int32Array(oe);case Rt:return new Uint32Array(oe);case Er:return new Float32Array(oe);case _e:return new Float64Array(oe);default:throw new Error("Unkown type: "+Z)}}var kr={serialize:at,deserialize:ar,stringToBuffer:qe,bufferToString:He};function zn(Y,ne,Z,se){Y.executeSql("CREATE TABLE IF NOT EXISTS "+ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Z,se)}function Yn(Y){var ne=this,Z={db:null};if(Y)for(var se in Y)Z[se]=typeof Y[se]!="string"?Y[se].toString():Y[se];var pe=new f(function(oe,Ee){try{Z.db=openDatabase(Z.name,String(Z.version),Z.description,Z.size)}catch(Re){return Ee(Re)}Z.db.transaction(function(Re){zn(Re,Z,function(){ne._dbInfo=Z,oe()},function(Fe,Ne){Ee(Ne)})},Ee)});return Z.serializer=kr,pe}function Ar(Y,ne,Z,se,pe,oe){Y.executeSql(Z,se,pe,function(Ee,Re){Re.code===Re.SYNTAX_ERR?Ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ne.storeName],function(Fe,Ne){Ne.rows.length?oe(Fe,Re):zn(Fe,ne,function(){Fe.executeSql(Z,se,pe,oe)},oe)},oe):oe(Ee,Re)},oe)}function Ea(Y,ne){var Z=this;Y=p(Y);var se=new f(function(pe,oe){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Ar(Re,Ee,"SELECT * FROM "+Ee.storeName+" WHERE key = ? LIMIT 1",[Y],function(Fe,Ne){var Be=Ne.rows.length?Ne.rows.item(0).value:null;Be&&(Be=Ee.serializer.deserialize(Be)),pe(Be)},function(Fe,Ne){oe(Ne)})})}).catch(oe)});return h(se,ne),se}function Si(Y,ne){var Z=this,se=new f(function(pe,oe){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Ar(Re,Ee,"SELECT * FROM "+Ee.storeName,[],function(Fe,Ne){for(var Be=Ne.rows,et=Be.length,Nt=0;Nt<et;Nt++){var tr=Be.item(Nt),rr=tr.value;if(rr&&(rr=Ee.serializer.deserialize(rr)),rr=Y(rr,tr.key,Nt+1),rr!==void 0){pe(rr);return}}pe()},function(Fe,Ne){oe(Ne)})})}).catch(oe)});return h(se,ne),se}function Ln(Y,ne,Z,se){var pe=this;Y=p(Y);var oe=new f(function(Ee,Re){pe.ready().then(function(){ne===void 0&&(ne=null);var Fe=ne,Ne=pe._dbInfo;Ne.serializer.serialize(ne,function(Be,et){et?Re(et):Ne.db.transaction(function(Nt){Ar(Nt,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[Y,Be],function(){Ee(Fe)},function(tr,rr){Re(rr)})},function(Nt){if(Nt.code===Nt.QUOTA_ERR){if(se>0){Ee(Ln.apply(pe,[Y,Fe,Z,se-1]));return}Re(Nt)}})})}).catch(Re)});return h(oe,Z),oe}function Sa(Y,ne,Z){return Ln.apply(this,[Y,ne,Z,1])}function Wa(Y,ne){var Z=this;Y=p(Y);var se=new f(function(pe,oe){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Ar(Re,Ee,"DELETE FROM "+Ee.storeName+" WHERE key = ?",[Y],function(){pe()},function(Fe,Ne){oe(Ne)})})}).catch(oe)});return h(se,ne),se}function Ho(Y){var ne=this,Z=new f(function(se,pe){ne.ready().then(function(){var oe=ne._dbInfo;oe.db.transaction(function(Ee){Ar(Ee,oe,"DELETE FROM "+oe.storeName,[],function(){se()},function(Re,Fe){pe(Fe)})})}).catch(pe)});return h(Z,Y),Z}function Gi(Y){var ne=this,Z=new f(function(se,pe){ne.ready().then(function(){var oe=ne._dbInfo;oe.db.transaction(function(Ee){Ar(Ee,oe,"SELECT COUNT(key) as c FROM "+oe.storeName,[],function(Re,Fe){var Ne=Fe.rows.item(0).c;se(Ne)},function(Re,Fe){pe(Fe)})})}).catch(pe)});return h(Z,Y),Z}function hl(Y,ne){var Z=this,se=new f(function(pe,oe){Z.ready().then(function(){var Ee=Z._dbInfo;Ee.db.transaction(function(Re){Ar(Re,Ee,"SELECT key FROM "+Ee.storeName+" WHERE id = ? LIMIT 1",[Y+1],function(Fe,Ne){var Be=Ne.rows.length?Ne.rows.item(0).key:null;pe(Be)},function(Fe,Ne){oe(Ne)})})}).catch(oe)});return h(se,ne),se}function Vi(Y){var ne=this,Z=new f(function(se,pe){ne.ready().then(function(){var oe=ne._dbInfo;oe.db.transaction(function(Ee){Ar(Ee,oe,"SELECT key FROM "+oe.storeName,[],function(Re,Fe){for(var Ne=[],Be=0;Be<Fe.rows.length;Be++)Ne.push(Fe.rows.item(Be).key);se(Ne)},function(Re,Fe){pe(Fe)})})}).catch(pe)});return h(Z,Y),Z}function go(Y){return new f(function(ne,Z){Y.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(pe,oe){for(var Ee=[],Re=0;Re<oe.rows.length;Re++)Ee.push(oe.rows.item(Re).name);ne({db:Y,storeNames:Ee})},function(pe,oe){Z(oe)})},function(se){Z(se)})})}function Ci(Y,ne){ne=v.apply(this,arguments);var Z=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||Z.name,Y.storeName=Y.storeName||Z.storeName);var se=this,pe;return Y.name?pe=new f(function(oe){var Ee;Y.name===Z.name?Ee=se._dbInfo.db:Ee=openDatabase(Y.name,"","",0),Y.storeName?oe({db:Ee,storeNames:[Y.storeName]}):oe(go(Ee))}).then(function(oe){return new f(function(Ee,Re){oe.db.transaction(function(Fe){function Ne(tr){return new f(function(rr,jr){Fe.executeSql("DROP TABLE IF EXISTS "+tr,[],function(){rr()},function(yr,Hi){jr(Hi)})})}for(var Be=[],et=0,Nt=oe.storeNames.length;et<Nt;et++)Be.push(Ne(oe.storeNames[et]));f.all(Be).then(function(){Ee()}).catch(function(tr){Re(tr)})},function(Fe){Re(Fe)})})}):pe=f.reject("Invalid arguments"),h(pe,ne),pe}var on={_driver:"webSQLStorage",_initStorage:Yn,_support:Pe(),iterate:Si,getItem:Ea,setItem:Sa,removeItem:Wa,clear:Ho,length:Gi,key:hl,keys:Vi,dropInstance:Ci};function aa(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Fu(Y,ne){var Z=Y.name+"/";return Y.storeName!==ne.storeName&&(Z+=Y.storeName+"/"),Z}function $d(){var Y="_localforage_support_test";try{return localStorage.setItem(Y,!0),localStorage.removeItem(Y),!1}catch{return!0}}function lb(){return!$d()||localStorage.length>0}function ub(Y){var ne=this,Z={};if(Y)for(var se in Y)Z[se]=Y[se];return Z.keyPrefix=Fu(Y,ne._defaultConfig),lb()?(ne._dbInfo=Z,Z.serializer=kr,f.resolve()):f.reject()}function cb(Y){var ne=this,Z=ne.ready().then(function(){for(var se=ne._dbInfo.keyPrefix,pe=localStorage.length-1;pe>=0;pe--){var oe=localStorage.key(pe);oe.indexOf(se)===0&&localStorage.removeItem(oe)}});return h(Z,Y),Z}function fb(Y,ne){var Z=this;Y=p(Y);var se=Z.ready().then(function(){var pe=Z._dbInfo,oe=localStorage.getItem(pe.keyPrefix+Y);return oe&&(oe=pe.serializer.deserialize(oe)),oe});return h(se,ne),se}function hb(Y,ne){var Z=this,se=Z.ready().then(function(){for(var pe=Z._dbInfo,oe=pe.keyPrefix,Ee=oe.length,Re=localStorage.length,Fe=1,Ne=0;Ne<Re;Ne++){var Be=localStorage.key(Ne);if(Be.indexOf(oe)===0){var et=localStorage.getItem(Be);if(et&&(et=pe.serializer.deserialize(et)),et=Y(et,Be.substring(Ee),Fe++),et!==void 0)return et}}});return h(se,ne),se}function db(Y,ne){var Z=this,se=Z.ready().then(function(){var pe=Z._dbInfo,oe;try{oe=localStorage.key(Y)}catch{oe=null}return oe&&(oe=oe.substring(pe.keyPrefix.length)),oe});return h(se,ne),se}function tg(Y){var ne=this,Z=ne.ready().then(function(){for(var se=ne._dbInfo,pe=localStorage.length,oe=[],Ee=0;Ee<pe;Ee++){var Re=localStorage.key(Ee);Re.indexOf(se.keyPrefix)===0&&oe.push(Re.substring(se.keyPrefix.length))}return oe});return h(Z,Y),Z}function pb(Y){var ne=this,Z=ne.keys().then(function(se){return se.length});return h(Z,Y),Z}function vb(Y,ne){var Z=this;Y=p(Y);var se=Z.ready().then(function(){var pe=Z._dbInfo;localStorage.removeItem(pe.keyPrefix+Y)});return h(se,ne),se}function gb(Y,ne,Z){var se=this;Y=p(Y);var pe=se.ready().then(function(){ne===void 0&&(ne=null);var oe=ne;return new f(function(Ee,Re){var Fe=se._dbInfo;Fe.serializer.serialize(ne,function(Ne,Be){if(Be)Re(Be);else try{localStorage.setItem(Fe.keyPrefix+Y,Ne),Ee(oe)}catch(et){(et.name==="QuotaExceededError"||et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Re(et),Re(et)}})})});return h(pe,Z),pe}function mb(Y,ne){if(ne=v.apply(this,arguments),Y=typeof Y!="function"&&Y||{},!Y.name){var Z=this.config();Y.name=Y.name||Z.name,Y.storeName=Y.storeName||Z.storeName}var se=this,pe;return Y.name?pe=new f(function(oe){Y.storeName?oe(Fu(Y,se._defaultConfig)):oe(Y.name+"/")}).then(function(oe){for(var Ee=localStorage.length-1;Ee>=0;Ee--){var Re=localStorage.key(Ee);Re.indexOf(oe)===0&&localStorage.removeItem(Re)}}):pe=f.reject("Invalid arguments"),h(pe,ne),pe}var _b={_driver:"localStorageWrapper",_initStorage:ub,_support:aa(),iterate:hb,getItem:fb,setItem:gb,removeItem:vb,clear:cb,length:pb,key:db,keys:tg,dropInstance:mb},yb=function(ne,Z){return ne===Z||typeof ne=="number"&&typeof Z=="number"&&isNaN(ne)&&isNaN(Z)},ff=function(ne,Z){for(var se=ne.length,pe=0;pe<se;){if(yb(ne[pe],Z))return!0;pe++}return!1},rg=Array.isArray||function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},Xo={},ng={},dl={INDEXEDDB:me,WEBSQL:on,LOCALSTORAGE:_b},xb=[dl.INDEXEDDB._driver,dl.WEBSQL._driver,dl.LOCALSTORAGE._driver],Nu=["dropInstance"],hf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Nu),ig={description:"",driver:xb.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function bb(Y,ne){Y[ne]=function(){var Z=arguments;return Y.ready().then(function(){return Y[ne].apply(Y,Z)})}}function Gd(){for(var Y=1;Y<arguments.length;Y++){var ne=arguments[Y];if(ne)for(var Z in ne)ne.hasOwnProperty(Z)&&(rg(ne[Z])?arguments[0][Z]=ne[Z].slice():arguments[0][Z]=ne[Z])}return arguments[0]}var wb=function(){function Y(ne){o(this,Y);for(var Z in dl)if(dl.hasOwnProperty(Z)){var se=dl[Z],pe=se._driver;this[Z]=pe,Xo[pe]||this.defineDriver(se)}this._defaultConfig=Gd({},ig),this._config=Gd({},this._defaultConfig,ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Y.prototype.config=function(Z){if((typeof Z>"u"?"undefined":a(Z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in Z){if(se==="storeName"&&(Z[se]=Z[se].replace(/\W/g,"_")),se==="version"&&typeof Z[se]!="number")return new Error("Database version must be a number.");this._config[se]=Z[se]}return"driver"in Z&&Z.driver?this.setDriver(this._config.driver):!0}else return typeof Z=="string"?this._config[Z]:this._config},Y.prototype.defineDriver=function(Z,se,pe){var oe=new f(function(Ee,Re){try{var Fe=Z._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Z._driver){Re(Ne);return}for(var Be=hf.concat("_initStorage"),et=0,Nt=Be.length;et<Nt;et++){var tr=Be[et],rr=!ff(Nu,tr);if((rr||Z[tr])&&typeof Z[tr]!="function"){Re(Ne);return}}var jr=function(){for(var pl=function(og){return function(){var Cb=new Error("Method "+og+" is not implemented by the current driver"),sg=f.reject(Cb);return h(sg,arguments[arguments.length-1]),sg}},Vd=0,ag=Nu.length;Vd<ag;Vd++){var df=Nu[Vd];Z[df]||(Z[df]=pl(df))}};jr();var yr=function(pl){Xo[Fe]&&console.info("Redefining LocalForage driver: "+Fe),Xo[Fe]=Z,ng[Fe]=pl,Ee()};"_support"in Z?Z._support&&typeof Z._support=="function"?Z._support().then(yr,Re):yr(!!Z._support):yr(!0)}catch(Hi){Re(Hi)}});return d(oe,se,pe),oe},Y.prototype.driver=function(){return this._driver||null},Y.prototype.getDriver=function(Z,se,pe){var oe=Xo[Z]?f.resolve(Xo[Z]):f.reject(new Error("Driver not found."));return d(oe,se,pe),oe},Y.prototype.getSerializer=function(Z){var se=f.resolve(kr);return d(se,Z),se},Y.prototype.ready=function(Z){var se=this,pe=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return d(pe,Z,Z),pe},Y.prototype.setDriver=function(Z,se,pe){var oe=this;rg(Z)||(Z=[Z]);var Ee=this._getSupportedDrivers(Z);function Re(){oe._config.driver=oe.driver()}function Fe(et){return oe._extend(et),Re(),oe._ready=oe._initStorage(oe._config),oe._ready}function Ne(et){return function(){var Nt=0;function tr(){for(;Nt<et.length;){var rr=et[Nt];return Nt++,oe._dbInfo=null,oe._ready=null,oe.getDriver(rr).then(Fe).catch(tr)}Re();var jr=new Error("No available storage method found.");return oe._driverSet=f.reject(jr),oe._driverSet}return tr()}}var Be=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Be.then(function(){var et=Ee[0];return oe._dbInfo=null,oe._ready=null,oe.getDriver(et).then(function(Nt){oe._driver=Nt._driver,Re(),oe._wrapLibraryMethodsWithReady(),oe._initDriver=Ne(Ee)})}).catch(function(){Re();var et=new Error("No available storage method found.");return oe._driverSet=f.reject(et),oe._driverSet}),d(this._driverSet,se,pe),this._driverSet},Y.prototype.supports=function(Z){return!!ng[Z]},Y.prototype._extend=function(Z){Gd(this,Z)},Y.prototype._getSupportedDrivers=function(Z){for(var se=[],pe=0,oe=Z.length;pe<oe;pe++){var Ee=Z[pe];this.supports(Ee)&&se.push(Ee)}return se},Y.prototype._wrapLibraryMethodsWithReady=function(){for(var Z=0,se=hf.length;Z<se;Z++)bb(this,hf[Z])},Y.prototype.createInstance=function(Z){return new Y(Z)},Y}(),Eb=new wb;n.exports=Eb},{3:3}]},{},[4])(4)})})(D9);var $c=D9.exports;const Es=Ei($c);var yP={exports:{}},U9=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},hhe=U9,rf=Object.prototype.toString;function xP(t){return rf.call(t)==="[object Array]"}function hA(t){return typeof t>"u"}function dhe(t){return t!==null&&!hA(t)&&t.constructor!==null&&!hA(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function phe(t){return rf.call(t)==="[object ArrayBuffer]"}function vhe(t){return typeof FormData<"u"&&t instanceof FormData}function ghe(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function mhe(t){return typeof t=="string"}function _he(t){return typeof t=="number"}function j9(t){return t!==null&&typeof t=="object"}function p_(t){if(rf.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function yhe(t){return rf.call(t)==="[object Date]"}function xhe(t){return rf.call(t)==="[object File]"}function bhe(t){return rf.call(t)==="[object Blob]"}function $9(t){return rf.call(t)==="[object Function]"}function whe(t){return j9(t)&&$9(t.pipe)}function Ehe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function She(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Che(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function bP(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),xP(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function dA(){var t={};function e(i,a){p_(t[a])&&p_(i)?t[a]=dA(t[a],i):p_(i)?t[a]=dA({},i):xP(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)bP(arguments[r],e);return t}function Ahe(t,e,r){return bP(e,function(i,a){r&&typeof i=="function"?t[a]=hhe(i,r):t[a]=i}),t}function The(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Ha={isArray:xP,isArrayBuffer:phe,isBuffer:dhe,isFormData:vhe,isArrayBufferView:ghe,isString:mhe,isNumber:_he,isObject:j9,isPlainObject:p_,isUndefined:hA,isDate:yhe,isFile:xhe,isBlob:bhe,isFunction:$9,isStream:whe,isURLSearchParams:Ehe,isStandardBrowserEnv:Che,forEach:bP,merge:dA,extend:Ahe,trim:She,stripBOM:The},Pf=Ha;function nM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var G9=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Pf.isURLSearchParams(r))i=r.toString();else{var a=[];Pf.forEach(r,function(c,l){c===null||typeof c>"u"||(Pf.isArray(c)?l=l+"[]":c=[c],Pf.forEach(c,function(f){Pf.isDate(f)?f=f.toISOString():Pf.isObject(f)&&(f=JSON.stringify(f)),a.push(nM(l)+"="+nM(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Ihe=Ha;function Px(){this.handlers=[]}Px.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Px.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Px.prototype.forEach=function(e){Ihe.forEach(this.handlers,function(n){n!==null&&e(n)})};var Rhe=Px,Phe=Ha,Ohe=function(e,r){Phe.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},V9=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},cE,iM;function H9(){if(iM)return cE;iM=1;var t=V9;return cE=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},cE}var fE,aM;function khe(){if(aM)return fE;aM=1;var t=H9();return fE=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},fE}var hE,oM;function Fhe(){if(oM)return hE;oM=1;var t=Ha;return hE=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),hE}var dE,sM;function Nhe(){return sM||(sM=1,dE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),dE}var pE,lM;function Lhe(){return lM||(lM=1,pE=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),pE}var vE,uM;function Mhe(){if(uM)return vE;uM=1;var t=Nhe(),e=Lhe();return vE=function(n,i){return n&&!t(i)?e(n,i):i},vE}var gE,cM;function Bhe(){if(cM)return gE;cM=1;var t=Ha,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return gE=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},gE}var mE,fM;function Dhe(){if(fM)return mE;fM=1;var t=Ha;return mE=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),mE}var _E,hM;function Ox(){if(hM)return _E;hM=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,_E=t,_E}var yE,dM;function pM(){if(dM)return yE;dM=1;var t=Ha,e=khe(),r=Fhe(),n=G9,i=Mhe(),a=Bhe(),o=Dhe(),s=H9(),c=kx(),l=Ox();return yE=function(f){return new Promise(function(d,p){var v=f.data,g=f.headers,m=f.responseType,_;function x(){f.cancelToken&&f.cancelToken.unsubscribe(_),f.signal&&f.signal.removeEventListener("abort",_)}t.isFormData(v)&&delete g["Content-Type"];var b=new XMLHttpRequest;if(f.auth){var w=f.auth.username||"",S=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+S)}var C=i(f.baseURL,f.url);b.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),b.timeout=f.timeout;function A(){if(b){var R="getAllResponseHeaders"in b?a(b.getAllResponseHeaders()):null,O=!m||m==="text"||m==="json"?b.responseText:b.response,P={data:O,status:b.status,statusText:b.statusText,headers:R,config:f,request:b};e(function(F){d(F),x()},function(F){p(F),x()},P),b=null}}if("onloadend"in b?b.onloadend=A:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(A)},b.onabort=function(){b&&(p(s("Request aborted",f,"ECONNABORTED",b)),b=null)},b.onerror=function(){p(s("Network Error",f,null,b)),b=null},b.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||c.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),p(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},t.isStandardBrowserEnv()){var T=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;T&&(g[f.xsrfHeaderName]=T)}"setRequestHeader"in b&&t.forEach(g,function(O,P){typeof v>"u"&&P.toLowerCase()==="content-type"?delete g[P]:b.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(b.withCredentials=!!f.withCredentials),m&&m!=="json"&&(b.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&b.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(_=function(R){b&&(p(!R||R&&R.type?new l("canceled"):R),b.abort(),b=null)},f.cancelToken&&f.cancelToken.subscribe(_),f.signal&&(f.signal.aborted?_():f.signal.addEventListener("abort",_))),v||(v=null),b.send(v)})},yE}var xE,vM;function kx(){if(vM)return xE;vM=1;var t=Ha,e=Ohe,r=V9,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=pM()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,d=!f&&this.responseType==="json";if(d||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(p){if(d)throw p.name==="SyntaxError"?r(p,this,"E_JSON_PARSE"):p}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),xE=s,xE}var Uhe=Ha,jhe=kx(),$he=function(e,r,n){var i=this||jhe;return Uhe.forEach(n,function(o){e=o.call(i,e,r)}),e},bE,gM;function X9(){return gM||(gM=1,bE=function(e){return!!(e&&e.__CANCEL__)}),bE}var mM=Ha,wE=$he,Ghe=X9(),Vhe=kx(),Hhe=Ox();function EE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hhe("canceled")}var Xhe=function(e){EE(e),e.headers=e.headers||{},e.data=wE.call(e,e.data,e.headers,e.transformRequest),e.headers=mM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),mM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Vhe.adapter;return r(e).then(function(i){return EE(e),i.data=wE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Ghe(i)||(EE(e),i&&i.response&&(i.response.data=wE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Oa=Ha,W9=function(e,r){r=r||{};var n={};function i(u,f){return Oa.isPlainObject(u)&&Oa.isPlainObject(f)?Oa.merge(u,f):Oa.isPlainObject(f)?Oa.merge({},f):Oa.isArray(f)?f.slice():f}function a(u){if(Oa.isUndefined(r[u])){if(!Oa.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Oa.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Oa.isUndefined(r[u])){if(!Oa.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Oa.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);Oa.isUndefined(d)&&h!==c||(n[f]=d)}),n},SE,_M;function z9(){return _M||(_M=1,SE={version:"0.24.0"}),SE}var Whe=z9().version,wP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){wP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var yM={};wP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Whe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!yM[o]&&(yM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function zhe(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var Yhe={assertOptions:zhe,validators:wP},Y9=Ha,qhe=G9,xM=Rhe,bM=Xhe,Fx=W9,q9=Yhe,Of=q9.validators;function kv(t){this.defaults=t,this.interceptors={request:new xM,response:new xM}}kv.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Fx(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&q9.assertOptions(r,{silentJSONParsing:Of.transitional(Of.boolean),forcedJSONParsing:Of.transitional(Of.boolean),clarifyTimeoutError:Of.transitional(Of.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[bM,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=bM(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};kv.prototype.getUri=function(e){return e=Fx(this.defaults,e),qhe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Y9.forEach(["delete","get","head","options"],function(e){kv.prototype[e]=function(r,n){return this.request(Fx(n||{},{method:e,url:r,data:(n||{}).data}))}});Y9.forEach(["post","put","patch"],function(e){kv.prototype[e]=function(r,n,i){return this.request(Fx(i||{},{method:e,url:r,data:n}))}});var Khe=kv,CE,wM;function Zhe(){if(wM)return CE;wM=1;var t=Ox();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},CE=e,CE}var AE,EM;function Jhe(){return EM||(EM=1,AE=function(e){return function(n){return e.apply(null,n)}}),AE}var TE,SM;function Qhe(){return SM||(SM=1,TE=function(e){return typeof e=="object"&&e.isAxiosError===!0}),TE}var CM=Ha,ede=U9,v_=Khe,tde=W9,rde=kx();function K9(t){var e=new v_(t),r=ede(v_.prototype.request,e);return CM.extend(r,v_.prototype,e),CM.extend(r,e),r.create=function(i){return K9(tde(t,i))},r}var Ss=K9(rde);Ss.Axios=v_;Ss.Cancel=Ox();Ss.CancelToken=Zhe();Ss.isCancel=X9();Ss.VERSION=z9().version;Ss.all=function(e){return Promise.all(e)};Ss.spread=Jhe();Ss.isAxiosError=Qhe();yP.exports=Ss;yP.exports.default=Ss;var nde=yP.exports,ide=nde;const ade=ide;class ode{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&ade.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var sde=ode;const lde=Ei(sde),Ve=new lde,ude={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},cde={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},fde={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:"",collection:"",collected:"",continue:"",backToLevel:"",setting:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},hde={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},dde={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},pde={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var wd=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(wd||{});const AM={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},vde={en:{translation:ude},zhCn:{translation:fde},jp:{translation:cde},fr:{translation:hde},de:{translation:dde},zhTw:{translation:pde}},gde=0;var tl=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(tl||{}),fs=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(fs||{}),Tc=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Tc||{}),EP=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(EP||{}),lo=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(lo||{}),Oi=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(Oi||{});const Z9={slPage:1,volumeMain:100,textSpeed:tl.normal,autoSpeed:tl.normal,textSize:fs.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Tc.song,textboxOpacity:75,language:wd.zhCn,voiceInterruption:EP.yes,fullScreen:lo.off,uiLight:100,videoSize:Oi.Size720P},pA={optionData:Z9,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},J9=bx({name:"userData",initialState:nn(pA),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,Z9)},resetAllData(t){Object.assign(t,nn(pA))}}}),{setUserData:EGe,resetUserData:SP,setOptionData:Fa,setGlobalVar:mde,setSlPage:gc,unlockCgInUserData:Q9,unlockBgmInUserData:eG,resetOptionSet:SGe,resetAllData:CGe}=J9.actions,_de=J9.reducer,tG={backlog_size:200,fast_timeout:50},yde={textInitialDelay:80};class xde{constructor(e){Ye(this,"isSaveBacklogNext",!1);Ye(this,"backlog",[]);Ye(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=ae.getState().stage,r=nn(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:nn(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>tG.backlog_size;)this.getBacklog().shift()}}var pt=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font",t))(pt||{});const yt=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;case 8:r=`./game/image/${t}`;break;case 9:r=`./game/font/${t}`;break;default:r="";break}return r}},bde=(t,e)=>{(!W.sceneManager.sceneAssetsList[e]||!Object.values(W.sceneManager.sceneAssetsList[e]).length)&&(W.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=W.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?(_0(e),Ve.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",_0(e),W.videoManager.preloadVideo(r.url)):(n[r.url]="loading",wde(r.url,3,1e3,()=>{n[r.url]="success",_0(e)},()=>{n[r.url]="error",_0(e);const i=W.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&W.sceneManager.settledAssets.splice(i,1)}),W.sceneManager.settledAssets.push(r.url)))}t.length===0&&_0(e)},_0=t=>{const e=W.sceneManager.sceneAssetsList[t];Object.values(e).every(r=>r==="error"||r==="success"),W.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(r=>r==="success")},wde=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],d=["mp4","webm","ogg","flv"],p=["wav","mp3","ogg"];return h.includes(f)?u.blob():p.includes(f)||d.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var Ge;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t[t.clearScreen=42]="clearScreen",t[t.showUI=43]="showUI"})(Ge||(Ge={}));Ge.intro,Ge.changeBg,Ge.changeFigure,Ge.miniAvatar,Ge.changeScene,Ge.choose,Ge.end,Ge.bgm,Ge.video,Ge.setComplexAnimation,Ge.setFilter,Ge.pixiInit,Ge.pixi,Ge.label,Ge.jumpLabel,Ge.setVar,Ge.callScene,Ge.showVars,Ge.unlockCg,Ge.unlockBgm,Ge.say,Ge.filmMode,Ge.callScene,Ge.setTextbox,Ge.setAnimation,Ge.playEffect,Ge.applyStyle,Ge.unlockAchieve,Ge.unlockStoryline,Ge.showValue,Ge.payProduct,Ge.finishTrial,Ge.moveCamera,Ge.changeAffinity,Ge.unlockAffinity,Ge.popUpImage,Ge.clearScreen,Ge.showUI;Ge.bgm,Ge.pixi,Ge.pixiInit,Ge.label,Ge.if,Ge.miniAvatar,Ge.setVar,Ge.unlockBgm,Ge.unlockCg,Ge.filmMode,Ge.playEffect,Ge.showValue;var cn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font"})(cn||(cn={}));function rG(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,cn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function Ede(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of rG(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function Sde(t){return t.replaceAll("\r","").split(`
`).map(r=>Ede(r)).filter(r=>r.command!=="")}const TM=(t,e,r)=>{let n={type:Ge.say,additionalArgs:[]};const i=Cde(t,e,r);return n.type=i,i===Ge.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=Ade(n,i,e),n};function Cde(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??Ge.say}function Ade(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const Tde=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case Ge.playEffect:return r(t,cn.vocal);case Ge.changeBg:return r(t,cn.background);case Ge.changeFigure:return r(t,cn.figure);case Ge.popUpImage:return r(t,cn.image);case Ge.bgm:return r(t,cn.bgm);case Ge.callScene:return r(t,cn.scene);case Ge.changeScene:return r(t,cn.scene);case Ge.miniAvatar:return r(t,cn.figure);case Ge.video:return r(t,cn.video);case Ge.choose:return Ide(t,r);case Ge.unlockBgm:return r(t,cn.bgm);case Ge.unlockCg:return r(t,cn.background);default:return t}};function Ide(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,cn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const Rde=(t,e,r)=>{const n=[];return t===Ge.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:cn.vocal})}),e==="none"||e===""||(t===Ge.changeBg&&n.push({name:e,url:e,lineNumber:0,type:cn.background}),t===Ge.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:cn.figure}),t===Ge.popUpImage&&n.push({name:e,url:e,lineNumber:0,type:cn.image}),t===Ge.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:cn.figure}),t===Ge.video&&n.push({name:e,url:e,lineNumber:0,type:cn.video}),t===Ge.bgm&&n.push({name:e,url:e,lineNumber:0,type:cn.bgm})),n},Pde=(t,e)=>{const r=[];return(t===Ge.changeScene||t===Ge.callScene)&&r.push(e),(t===Ge.choose||t===Ge.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},Ode=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:Ge.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=TM(u,r,n),i=l.type;for(const p of l.additionalArgs)i===Ge.say&&p.key==="speaker"||s.push(p)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=TM(u,r,n),i=l.type;for(const p of l.additionalArgs)s.push(p)}const d=/ -/.exec(f);if(d){const p=f.substring(d.index,t.length);f=f.substring(0,d.index);for(const v of rG(p,e))s.push(v)}return a=Tde(f,i,e),c=Rde(i,a,s),o=Pde(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kde=typeof om=="object"&&om&&om.Object===Object&&om,Fde=kde,Nde=Fde,Lde=typeof self=="object"&&self&&self.Object===Object&&self,Mde=Nde||Lde||Function("return this")(),Nx=Mde,Bde=Nx,Dde=Bde.Symbol,nG=Dde,IM=nG,iG=Object.prototype,Ude=iG.hasOwnProperty,jde=iG.toString,y0=IM?IM.toStringTag:void 0;function $de(t){var e=Ude.call(t,y0),r=t[y0];try{t[y0]=void 0;var n=!0}catch{}var i=jde.call(t);return n&&(e?t[y0]=r:delete t[y0]),i}var Gde=$de,Vde=Object.prototype,Hde=Vde.toString;function Xde(t){return Hde.call(t)}var Wde=Xde,RM=nG,zde=Gde,Yde=Wde,qde="[object Null]",Kde="[object Undefined]",PM=RM?RM.toStringTag:void 0;function Zde(t){return t==null?t===void 0?Kde:qde:PM&&PM in Object(t)?zde(t):Yde(t)}var Jde=Zde;function Qde(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var aG=Qde,e0e=Jde,t0e=aG,r0e="[object AsyncFunction]",n0e="[object Function]",i0e="[object GeneratorFunction]",a0e="[object Proxy]";function o0e(t){if(!t0e(t))return!1;var e=e0e(t);return e==n0e||e==i0e||e==r0e||e==a0e}var s0e=o0e,l0e=Nx,u0e=l0e["__core-js_shared__"],c0e=u0e,IE=c0e,OM=function(){var t=/[^.]+$/.exec(IE&&IE.keys&&IE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function f0e(t){return!!OM&&OM in t}var h0e=f0e,d0e=Function.prototype,p0e=d0e.toString;function v0e(t){if(t!=null){try{return p0e.call(t)}catch{}try{return t+""}catch{}}return""}var g0e=v0e,m0e=s0e,_0e=h0e,y0e=aG,x0e=g0e,b0e=/[\\^$.*+?()[\]{}|]/g,w0e=/^\[object .+?Constructor\]$/,E0e=Function.prototype,S0e=Object.prototype,C0e=E0e.toString,A0e=S0e.hasOwnProperty,T0e=RegExp("^"+C0e.call(A0e).replace(b0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I0e(t){if(!y0e(t)||_0e(t))return!1;var e=m0e(t)?T0e:w0e;return e.test(x0e(t))}var R0e=I0e;function P0e(t,e){return t==null?void 0:t[e]}var O0e=P0e,k0e=R0e,F0e=O0e;function N0e(t,e){var r=F0e(t,e);return k0e(r)?r:void 0}var CP=N0e,L0e=CP,M0e=L0e(Object,"create"),Lx=M0e,kM=Lx;function B0e(){this.__data__=kM?kM(null):{},this.size=0}var D0e=B0e;function U0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var j0e=U0e,$0e=Lx,G0e="__lodash_hash_undefined__",V0e=Object.prototype,H0e=V0e.hasOwnProperty;function X0e(t){var e=this.__data__;if($0e){var r=e[t];return r===G0e?void 0:r}return H0e.call(e,t)?e[t]:void 0}var W0e=X0e,z0e=Lx,Y0e=Object.prototype,q0e=Y0e.hasOwnProperty;function K0e(t){var e=this.__data__;return z0e?e[t]!==void 0:q0e.call(e,t)}var Z0e=K0e,J0e=Lx,Q0e="__lodash_hash_undefined__";function epe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=J0e&&e===void 0?Q0e:e,this}var tpe=epe,rpe=D0e,npe=j0e,ipe=W0e,ape=Z0e,ope=tpe;function Ed(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ed.prototype.clear=rpe;Ed.prototype.delete=npe;Ed.prototype.get=ipe;Ed.prototype.has=ape;Ed.prototype.set=ope;var spe=Ed;function lpe(){this.__data__=[],this.size=0}var upe=lpe;function cpe(t,e){return t===e||t!==t&&e!==e}var fpe=cpe,hpe=fpe;function dpe(t,e){for(var r=t.length;r--;)if(hpe(t[r][0],e))return r;return-1}var Mx=dpe,ppe=Mx,vpe=Array.prototype,gpe=vpe.splice;function mpe(t){var e=this.__data__,r=ppe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():gpe.call(e,r,1),--this.size,!0}var _pe=mpe,ype=Mx;function xpe(t){var e=this.__data__,r=ype(e,t);return r<0?void 0:e[r][1]}var bpe=xpe,wpe=Mx;function Epe(t){return wpe(this.__data__,t)>-1}var Spe=Epe,Cpe=Mx;function Ape(t,e){var r=this.__data__,n=Cpe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Tpe=Ape,Ipe=upe,Rpe=_pe,Ppe=bpe,Ope=Spe,kpe=Tpe;function Sd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sd.prototype.clear=Ipe;Sd.prototype.delete=Rpe;Sd.prototype.get=Ppe;Sd.prototype.has=Ope;Sd.prototype.set=kpe;var Fpe=Sd,Npe=CP,Lpe=Nx,Mpe=Npe(Lpe,"Map"),Bpe=Mpe,FM=spe,Dpe=Fpe,Upe=Bpe;function jpe(){this.size=0,this.__data__={hash:new FM,map:new(Upe||Dpe),string:new FM}}var $pe=jpe;function Gpe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Vpe=Gpe,Hpe=Vpe;function Xpe(t,e){var r=t.__data__;return Hpe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Bx=Xpe,Wpe=Bx;function zpe(t){var e=Wpe(this,t).delete(t);return this.size-=e?1:0,e}var Ype=zpe,qpe=Bx;function Kpe(t){return qpe(this,t).get(t)}var Zpe=Kpe,Jpe=Bx;function Qpe(t){return Jpe(this,t).has(t)}var eve=Qpe,tve=Bx;function rve(t,e){var r=tve(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var nve=rve,ive=$pe,ave=Ype,ove=Zpe,sve=eve,lve=nve;function Cd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cd.prototype.clear=ive;Cd.prototype.delete=ave;Cd.prototype.get=ove;Cd.prototype.has=sve;Cd.prototype.set=lve;var uve=Cd,cve="__lodash_hash_undefined__";function fve(t){return this.__data__.set(t,cve),this}var hve=fve;function dve(t){return this.__data__.has(t)}var pve=dve,vve=uve,gve=hve,mve=pve;function xy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new vve;++e<r;)this.add(t[e])}xy.prototype.add=xy.prototype.push=gve;xy.prototype.has=mve;var _ve=xy;function yve(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var xve=yve;function bve(t){return t!==t}var wve=bve;function Eve(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Sve=Eve,Cve=xve,Ave=wve,Tve=Sve;function Ive(t,e,r){return e===e?Tve(t,e,r):Cve(t,Ave,r)}var Rve=Ive,Pve=Rve;function Ove(t,e){var r=t==null?0:t.length;return!!r&&Pve(t,e,0)>-1}var kve=Ove;function Fve(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Nve=Fve;function Lve(t,e){return t.has(e)}var Mve=Lve,Bve=CP,Dve=Nx,Uve=Bve(Dve,"Set"),jve=Uve;function $ve(){}var Gve=$ve;function Vve(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var oG=Vve,RE=jve,Hve=Gve,Xve=oG,Wve=1/0,zve=RE&&1/Xve(new RE([,-0]))[1]==Wve?function(t){return new RE(t)}:Hve,Yve=zve,qve=_ve,Kve=kve,Zve=Nve,Jve=Mve,Qve=Yve,ege=oG,tge=200;function rge(t,e,r){var n=-1,i=Kve,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Zve;else if(a>=tge){var l=e?null:Qve(t);if(l)return ege(l);o=!1,i=Jve,c=new qve}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var nge=rge,ige=nge;function age(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ige(t,void 0,e):[]}var oge=age;const sge=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(d=>{const p=Ode(d,i,a,o);return l=[...l,...p.sentenceAssets],u=[...u,...p.subScene],p});l=oge(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(d=>h.includes(d.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function lge(t){const[e,r]=uge(t);return{classNameStyles:e,others:r}}function uge(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class cge{constructor(e,r,n,i){Ye(this,"assetsPrefetcher");Ye(this,"assetSetter");Ye(this,"ADD_NEXT_ARG_LIST");Ye(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return sge(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return Sde(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return lge(e)}}function Xt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const fge=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=Xt(t,"enter"),a=Xt(t,"volume");return r!==""&&ae.dispatch(eG({name:r,url:e,series:n})),NO(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var AP={exports:{}},sG=function(e,r){return function(){return e.apply(r,arguments)}},hge=sG,TP=Object.prototype.toString,IP=function(t){return function(e){var r=TP.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Iu(t){return t=t.toLowerCase(),function(r){return IP(r)===t}}function Dx(t){return Array.isArray(t)}function vA(t){return typeof t>"u"}function dge(t){return t!==null&&!vA(t)&&t.constructor!==null&&!vA(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var lG=Iu("ArrayBuffer");function pge(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lG(t.buffer),e}function vge(t){return typeof t=="string"}function uG(t){return typeof t=="number"}function cG(t){return t!==null&&typeof t=="object"}function g_(t){if(IP(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function gge(t){return t&&Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}var mge=Iu("Date"),_ge=Iu("File"),yge=Iu("Blob"),xge=Iu("FileList");function RP(t){return TP.call(t)==="[object Function]"}function bge(t){return cG(t)&&RP(t.pipe)}function wge(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||TP.call(t)===e||RP(t.toString)&&t.toString()===e)}var Ege=Iu("URLSearchParams");function Sge(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Cge(){var t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"}function PP(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Dx(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function gA(){var t={};function e(i,a){g_(t[a])&&g_(i)?t[a]=gA(t[a],i):g_(i)?t[a]=gA({},i):Dx(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)PP(arguments[r],e);return t}function Age(t,e,r){return PP(e,function(i,a){r&&typeof i=="function"?t[a]=hge(i,r):t[a]=i}),t}function Tge(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Ige(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function Rge(t,e,r,n){var i,a,o,s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function Pge(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function Oge(t){if(!t)return null;if(Dx(t))return t;var e=t.length;if(!uG(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var kge=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function Fge(t,e){for(var r=t&&t[Symbol.iterator],n=r.call(t),i;(i=n.next())&&!i.done;){var a=i.value;e.call(t,a[0],a[1])}}function Nge(t,e){for(var r,n=[];(r=t.exec(e))!==null;)n.push(r);return n}var Lge=Iu("HTMLFormElement"),Mge=function(e){return function(r,n){return e.call(r,n)}}(Object.prototype.hasOwnProperty),Wn={isArray:Dx,isArrayBuffer:lG,isBuffer:dge,isFormData:wge,isArrayBufferView:pge,isString:vge,isNumber:uG,isObject:cG,isPlainObject:g_,isEmptyObject:gge,isUndefined:vA,isDate:mge,isFile:_ge,isBlob:yge,isFunction:RP,isStream:bge,isURLSearchParams:Ege,isStandardBrowserEnv:Cge,forEach:PP,merge:gA,extend:Age,trim:Sge,stripBOM:Tge,inherits:Ige,toFlatObject:Rge,kindOf:IP,kindOfTest:Iu,endsWith:Pge,toArray:Oge,isTypedArray:kge,isFileList:xge,forEachEntry:Fge,matchAll:Nge,isHTMLForm:Lge,hasOwnProperty:Mge},fG=Wn;function Vh(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}fG.inherits(Vh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var hG=Vh.prototype,dG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(t){dG[t]={value:t}});Object.defineProperties(Vh,dG);Object.defineProperty(hG,"isAxiosError",{value:!0});Vh.from=function(t,e,r,n,i,a){var o=Object.create(hG);return fG.toFlatObject(t,o,function(c){return c!==Error.prototype}),Vh.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var nf=Vh,Bge=typeof self=="object"?self.FormData:window.FormData,Dge=Bge,Rr=Wn,Uge=nf,jge=Dge;function mA(t){return Rr.isPlainObject(t)||Rr.isArray(t)}function pG(t){return Rr.endsWith(t,"[]")?t.slice(0,-2):t}function NM(t,e,r){return t?t.concat(e).map(function(i,a){return i=pG(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function $ge(t){return Rr.isArray(t)&&!t.some(mA)}var Gge=Rr.toFlatObject(Rr,{},null,function(e){return/^is[A-Z]/.test(e)});function Vge(t){return t&&Rr.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Hge(t,e,r){if(!Rr.isObject(t))throw new TypeError("target must be an object");e=e||new(jge||FormData),r=Rr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!Rr.isUndefined(g[v])});var n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,s=r.Blob||typeof Blob<"u"&&Blob,c=s&&Vge(e);if(!Rr.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(Rr.isDate(p))return p.toISOString();if(!c&&Rr.isBlob(p))throw new Uge("Blob is not supported. Use a Buffer instead.");return Rr.isArrayBuffer(p)||Rr.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,g){var m=p;if(p&&!g&&typeof p=="object"){if(Rr.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(Rr.isArray(p)&&$ge(p)||Rr.isFileList(p)||Rr.endsWith(v,"[]")&&(m=Rr.toArray(p)))return v=pG(v),m.forEach(function(x,b){!Rr.isUndefined(x)&&e.append(o===!0?NM([v],b,a):o===null?v:v+"[]",l(x))}),!1}return mA(p)?!0:(e.append(NM(g,v,a),l(p)),!1)}var f=[],h=Object.assign(Gge,{defaultVisitor:u,convertValue:l,isVisitable:mA});function d(p,v){if(!Rr.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),Rr.forEach(p,function(m,_){var x=!Rr.isUndefined(m)&&i.call(e,m,Rr.isString(_)?_.trim():_,v,h);x===!0&&d(m,v?v.concat(_):[_])}),f.pop()}}if(!Rr.isObject(t))throw new TypeError("data must be an object");return d(t),e}var Ux=Hge,Xge=Ux;function LM(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,function(n){return e[n]})}function vG(t,e){this._pairs=[],t&&Xge(t,this,e)}var gG=vG.prototype;gG.append=function(e,r){this._pairs.push([e,r])};gG.toString=function(e){var r=e?function(n){return e.call(this,n,LM)}:LM;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var mG=vG,Wge=Wn,zge=mG;function Yge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var _G=function(e,r,n){if(!r)return e;var i=e.indexOf("#");i!==-1&&(e=e.slice(0,i));var a=n&&n.encode||Yge,o=Wge.isURLSearchParams(r)?r.toString():new zge(r,n).toString(a);return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e},qge=Wn;function Fv(){this.handlers=[]}Fv.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Fv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Fv.prototype.clear=function(){this.handlers&&(this.handlers=[])};Fv.prototype.forEach=function(e){qge.forEach(this.handlers,function(n){n!==null&&e(n)})};var Kge=Fv,Zge=Wn,yG=function(e,r){Zge.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},xG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jge=mG,Qge=typeof URLSearchParams<"u"?URLSearchParams:Jge,eme=FormData,tme={isBrowser:!0,classes:{URLSearchParams:Qge,FormData:eme,Blob},protocols:["http","https","file","blob","url","data"]},OP=tme,rme=Wn,nme=Ux,MM=OP,ime=function(e,r){return nme(e,new MM.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,o){return MM.isNode&&rme.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))},Pl=Wn;function ame(t){return Pl.matchAll(/\w+|\[(\w*)]/g,t).map(function(e){return e[0]==="[]"?"":e[1]||e[0]})}function ome(t){var e={},r=Object.keys(t),n,i=r.length,a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function sme(t){function e(n,i,a,o){var s=n[o++],c=Number.isFinite(+s),l=o>=n.length;if(s=!s&&Pl.isArray(a)?a.length:s,l)return Pl.hasOwnProperty(a,s)?a[s]=[a[s],i]:a[s]=i,!c;(!a[s]||!Pl.isObject(a[s]))&&(a[s]=[]);var u=e(n,i,a[s],o);return u&&Pl.isArray(a[s])&&(a[s]=ome(a[s])),!c}if(Pl.isFormData(t)&&Pl.isFunction(t.entries)){var r={};return Pl.forEachEntry(t,function(n,i){e(ame(n),i,r,0)}),r}return null}var bG=sme,PE,BM;function lme(){if(BM)return PE;BM=1;var t=nf;return PE=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},PE}var OE,DM;function ume(){if(DM)return OE;DM=1;var t=Wn;return OE=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),OE}var cme=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},fme=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},hme=cme,dme=fme,wG=function(e,r){return e&&!hme(r)?dme(e,r):r},kE,UM;function pme(){if(UM)return kE;UM=1;var t=Wn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return kE=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.slice(0,s)).toLowerCase(),o=t.trim(l.slice(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},kE}var FE,jM;function vme(){if(jM)return FE;jM=1;var t=Wn;return FE=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),FE}var NE,$M;function jx(){if($M)return NE;$M=1;var t=nf,e=Wn;function r(n,i,a){t.call(this,n??"canceled",t.ERR_CANCELED,i,a),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),NE=r,NE}var LE,GM;function gme(){return GM||(GM=1,LE=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),LE}var ME,VM;function HM(){if(VM)return ME;VM=1;var t=Wn,e=lme(),r=ume(),n=_G,i=wG,a=pme(),o=vme(),s=xG,c=nf,l=jx(),u=gme(),f=OP;return ME=function(d){return new Promise(function(v,g){var m=d.data,_=d.headers,x=d.responseType,b=d.withXSRFToken,w;function S(){d.cancelToken&&d.cancelToken.unsubscribe(w),d.signal&&d.signal.removeEventListener("abort",w)}t.isFormData(m)&&t.isStandardBrowserEnv()&&delete _["Content-Type"];var C=new XMLHttpRequest;if(d.auth){var A=d.auth.username||"",T=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";_.Authorization="Basic "+btoa(A+":"+T)}var R=i(d.baseURL,d.url);C.open(d.method.toUpperCase(),n(R,d.params,d.paramsSerializer),!0),C.timeout=d.timeout;function O(){if(C){var F="getAllResponseHeaders"in C?a(C.getAllResponseHeaders()):null,L=!x||x==="text"||x==="json"?C.responseText:C.response,D={data:L,status:C.status,statusText:C.statusText,headers:F,config:d,request:C};e(function(Q){v(Q),S()},function(Q){g(Q),S()},D),C=null}}if("onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(g(new c("Request aborted",c.ECONNABORTED,d,C)),C=null)},C.onerror=function(){g(new c("Network Error",c.ERR_NETWORK,d,C)),C=null},C.ontimeout=function(){var L=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",D=d.transitional||s;d.timeoutErrorMessage&&(L=d.timeoutErrorMessage),g(new c(L,D.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,d,C)),C=null},t.isStandardBrowserEnv()&&(b&&t.isFunction(b)&&(b=b(d)),b||b!==!1&&o(R))){var P=d.xsrfHeaderName&&d.xsrfCookieName&&r.read(d.xsrfCookieName);P&&(_[d.xsrfHeaderName]=P)}"setRequestHeader"in C&&t.forEach(_,function(L,D){typeof m>"u"&&D.toLowerCase()==="content-type"?delete _[D]:C.setRequestHeader(D,L)}),t.isUndefined(d.withCredentials)||(C.withCredentials=!!d.withCredentials),x&&x!=="json"&&(C.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&C.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(w=function(F){C&&(g(!F||F.type?new l(null,d,req):F),C.abort(),C=null)},d.cancelToken&&d.cancelToken.subscribe(w),d.signal&&(d.signal.aborted?w():d.signal.addEventListener("abort",w))),!m&&m!==!1&&m!==0&&m!==""&&(m=null);var k=u(R);if(k&&f.protocols.indexOf(k)===-1){g(new c("Unsupported protocol "+k+":",c.ERR_BAD_REQUEST,d));return}C.send(m)})},ME}var Un=Wn,XM=yG,WM=nf,mme=xG,_me=Ux,yme=ime,zM=OP,xme=bG,bme={"Content-Type":"application/x-www-form-urlencoded"};function YM(t,e){!Un.isUndefined(t)&&Un.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function wme(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=HM()),t}function Eme(t,e,r){if(Un.isString(t))try{return(e||JSON.parse)(t),Un.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var $x={transitional:mme,adapter:wme(),transformRequest:[function(e,r){XM(r,"Accept"),XM(r,"Content-Type");var n=r&&r["Content-Type"]||"",i=n.indexOf("application/json")>-1,a=Un.isObject(e);a&&Un.isHTMLForm(e)&&(e=new FormData(e));var o=Un.isFormData(e);if(o)return i?JSON.stringify(xme(e)):e;if(Un.isArrayBuffer(e)||Un.isBuffer(e)||Un.isStream(e)||Un.isFile(e)||Un.isBlob(e))return e;if(Un.isArrayBufferView(e))return e.buffer;if(Un.isURLSearchParams(e))return YM(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var s;if(a){if(n.indexOf("application/x-www-form-urlencoded")!==-1)return yme(e,this.formSerializer).toString();if((s=Un.isFileList(e))||n.indexOf("multipart/form-data")>-1){var c=this.env&&this.env.FormData;return _me(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(YM(r,"application/json"),Eme(e)):e}],transformResponse:[function(e){var r=this.transitional||$x.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Un.isString(e)&&(n&&!this.responseType||i)){var a=r&&r.silentJSONParsing,o=!a&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?WM.from(s,WM.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zM.classes.FormData,Blob:zM.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Un.forEach(["delete","get","head"],function(e){$x.headers[e]={}});Un.forEach(["post","put","patch"],function(e){$x.headers[e]=Un.merge(bme)});var kP=$x,Sme=Wn,Cme=kP,Ame=function(e,r,n,i){var a=this||Cme;return Sme.forEach(i,function(s){e=s.call(a,e,r,n)}),e},BE,qM;function EG(){return qM||(qM=1,BE=function(e){return!!(e&&e.__CANCEL__)}),BE}var KM=Wn,DE=Ame,Tme=EG(),Ime=kP,Rme=jx(),ZM=yG;function UE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rme}var Pme=function(e){UE(e),e.headers=e.headers||{},e.data=DE.call(e,e.data,e.headers,null,e.transformRequest),ZM(e.headers,"Accept"),ZM(e.headers,"Content-Type"),e.headers=KM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),KM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Ime.adapter;return r(e).then(function(i){return UE(e),i.data=DE.call(e,i.data,i.headers,i.status,e.transformResponse),i},function(i){return Tme(i)||(UE(e),i&&i.response&&(i.response.data=DE.call(e,i.response.data,i.response.headers,i.response.status,e.transformResponse))),Promise.reject(i)})},Yi=Wn,SG=function(e,r){r=r||{};var n={};function i(u,f){return Yi.isPlainObject(u)&&Yi.isPlainObject(f)?Yi.merge(u,f):Yi.isEmptyObject(f)?Yi.merge({},u):Yi.isPlainObject(f)?Yi.merge({},f):Yi.isArray(f)?f.slice():f}function a(u){if(Yi.isUndefined(r[u])){if(!Yi.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Yi.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Yi.isUndefined(r[u])){if(!Yi.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Yi.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,d=h(f);Yi.isUndefined(d)&&h!==c||(n[f]=d)}),n},jE,JM;function CG(){return JM||(JM=1,jE={version:"0.28.0"}),jE}var Ome=CG().version,Fl=nf,FP={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){FP[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var QM={};FP.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Ome+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Fl(i(o," has been removed"+(r?" in "+r:"")),Fl.ERR_DEPRECATED);return r&&!QM[o]&&(QM[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function kme(t,e,r){if(typeof t!="object")throw new Fl("options must be an object",Fl.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Fl("option "+a+" must be "+c,Fl.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fl("Unknown option "+a,Fl.ERR_BAD_OPTION)}}var Fme={assertOptions:kme,validators:FP},NP=Wn,Nme=_G,eB=Kge,tB=Pme,Gx=SG,Lme=wG,AG=Fme,kf=AG.validators;function Hh(t){this.defaults=t,this.interceptors={request:new eB,response:new eB}}Hh.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Gx(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&AG.assertOptions(n,{silentJSONParsing:kf.transitional(kf.boolean),forcedJSONParsing:kf.transitional(kf.boolean),clarifyTimeoutError:kf.transitional(kf.boolean)},!1);var i=r.paramsSerializer;NP.isFunction(i)&&(r.paramsSerializer={serialize:i});var a=[],o=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(o=o&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});var s=[];this.interceptors.response.forEach(function(p){s.push(p.fulfilled,p.rejected)});var c;if(!o){var l=[tB,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(s),c=Promise.resolve(r);l.length;)c=c.then(l.shift(),l.shift());return c}for(var u=r;a.length;){var f=a.shift(),h=a.shift();try{u=f(u)}catch(d){h(d);break}}try{c=tB(u)}catch(d){return Promise.reject(d)}for(;s.length;)c=c.then(s.shift(),s.shift());return c};Hh.prototype.getUri=function(e){e=Gx(this.defaults,e);var r=Lme(e.baseURL,e.url);return Nme(r,e.params,e.paramsSerializer)};NP.forEach(["delete","get","head","options"],function(e){Hh.prototype[e]=function(r,n){return this.request(Gx(n||{},{method:e,url:r,data:(n||{}).data}))}});NP.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Gx(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Hh.prototype[e]=r(),Hh.prototype[e+"Form"]=r(!0)});var Mme=Hh,$E,rB;function Bme(){if(rB)return $E;rB=1;var t=jx();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o,s,c){i.reason||(i.reason=new t(o,s,c),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},$E=e,$E}var GE,nB;function Dme(){return nB||(nB=1,GE=function(e){return function(n){return e.apply(null,n)}}),GE}var VE,iB;function Ume(){if(iB)return VE;iB=1;var t=Wn;return VE=function(r){return t.isObject(r)&&r.isAxiosError===!0},VE}var _A=Wn,jme=sG,m_=Mme,$me=SG,Gme=kP,Vme=bG;function TG(t){var e=new m_(t),r=jme(m_.prototype.request,e);return _A.extend(r,m_.prototype,e),_A.extend(r,e),r.create=function(i){return TG($me(t,i))},r}var na=TG(Gme);na.Axios=m_;na.CanceledError=jx();na.CancelToken=Bme();na.isCancel=EG();na.VERSION=CG().version;na.toFormData=Ux;na.AxiosError=nf;na.Cancel=na.CanceledError;na.all=function(e){return Promise.all(e)};na.spread=Dme();na.isAxiosError=Ume();na.formToJSON=function(t){return Vme(_A.isHTMLForm(t)?new FormData(t):t)};AP.exports=na;AP.exports.default=na;var Hme=AP.exports,Xme=Hme;const Dp=Ei(Xme),wa=t=>new Promise(e=>{Dp.get(t).then(r=>{const n=r.data.toString();e(n)})}),Wme={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},Nv=t=>{var n;let e=Wme;e=(((n=WV[t.command])==null?void 0:n.scriptFunction)??I7.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>W.gameplay.performController.arrangeNewPerform(i,t)):W.gameplay.performController.arrangeNewPerform(e,t)},zme=t=>{wa(t.sceneUrl).then(async e=>{await W.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(W.sceneManager.sceneData.currentSentenceId=t.continueLine+1,Ve.debug("",W.sceneManager.sceneData.currentScene),An())})};var LP={},Up={document:{}},IG=Object.prototype.hasOwnProperty,RG=function(t){return Vx(t)?t.toLowerCase():t},sp=Array.isArray,Yme=function(t){return Vx(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(RG=Yme);var qme,MP=Object.prototype.toString,PG=Object.getPrototypeOf,HE=LG("ng");Up.angular||(Up.angular={});Up.document.documentMode;function Kme(t){if(t==null||UP(t))return!1;if(sp(t)||Vx(t)||qme)return!0;var e="length"in Object(t)&&t.length;return DP(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Qr(t,e,r){var n,i;if(t)if(FG(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(sp(t)||Kme(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Qr)t.forEach(e,r,t);else if(kG(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)IG.call(t,n)&&e.call(r,t[n],n,t);return t}function Zme(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function BP(){}BP.$inject=[];function Jme(t){return typeof t>"u"}function rh(t){return typeof t<"u"}function OG(t){return t!==null&&typeof t=="object"}function kG(t){return t!==null&&typeof t=="object"&&!PG(t)}function Vx(t){return typeof t=="string"}function DP(t){return typeof t=="number"}function FG(t){return typeof t=="function"}function UP(t){return t&&t.window===t}function NG(t){return t&&t.$evalAsync&&t.$watch}var Qme=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function e_e(t){return t&&DP(t.length)&&Qme.test(MP.call(t))}function t_e(t){return MP.call(t)==="[object ArrayBuffer]"}function r_e(t,e){var r=[],n=[];if(e){if(e_e(e)||t_e(e))throw HE("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw HE("cpi","Can't copy! Source and destination are identical.");return sp(e)?e.length=0:Qr(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(sp(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(kG(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)IG.call(s,u)&&(c[u]=a(s[u]));return Zme(c,l),c}function a(s){if(!OG(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(UP(s)||NG(s))throw HE("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=sp(s)?[]:Object.create(PG(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(MP.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(FG(s.cloneNode))return s.cloneNode(!0)}}function n_e(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:UP(e)?r="$WINDOW":e&&Up.document===e?r="$DOCUMENT":NG(e)&&(r="$SCOPE"),r}function i_e(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}i_e(Up.document);function a_e(){return Object.create(null)}function o_e(t){var e=[];return JSON.stringify(t,function(r,n){if(n=n_e(r,n),OG(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function aB(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):Jme(t)?"undefined":typeof t!="string"?o_e(t):t}function LG(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?aB(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(aB(n[c]));return new e(a)}}var nh=LG("$parse");({}).constructor.prototype.valueOf;function MG(t){return t+""}var __=a_e();Qr("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){__[t]=!0});var s_e={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},yA=function(e){this.options=e};yA.prototype={constructor:yA,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=__[e],a=__[r],o=__[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=rh(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw nh("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=RG(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=s_e[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var ke=function(e,r){this.lexer=e,this.options=r};ke.Program="Program";ke.ExpressionStatement="ExpressionStatement";ke.AssignmentExpression="AssignmentExpression";ke.ConditionalExpression="ConditionalExpression";ke.LogicalExpression="LogicalExpression";ke.BinaryExpression="BinaryExpression";ke.UnaryExpression="UnaryExpression";ke.CallExpression="CallExpression";ke.MemberExpression="MemberExpression";ke.Identifier="Identifier";ke.Literal="Literal";ke.ArrayExpression="ArrayExpression";ke.Property="Property";ke.ObjectExpression="ObjectExpression";ke.ThisExpression="ThisExpression";ke.LocalsExpression="LocalsExpression";ke.NGValueParameter="NGValueParameter";ke.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:ke.Program,body:t}},expressionStatement:function(){return{type:ke.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!UG(t))throw nh("lval","Trying to assign a value to a non l-value");t={type:ke.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:ke.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:ke.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:ke.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:ke.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:ke.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=r_e(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:ke.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:ke.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:ke.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:ke.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:ke.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:ke.Identifier,name:t.text}},constant:function(){return{type:ke.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ke.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:ke.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ke.ObjectExpression,properties:t}},throwError:function(t,e){throw nh("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw nh("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw nh("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:ke.ThisExpression},$locals:{type:ke.LocalsExpression}}};function l_e(t,e){return typeof t<"u"?t:e}function BG(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function u_e(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function Jn(t,e){var r,n,i;switch(t.type){case ke.Program:r=!0,Qr(t.body,function(a){Jn(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case ke.Literal:t.constant=!0,t.toWatch=[];break;case ke.UnaryExpression:Jn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case ke.BinaryExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case ke.LogicalExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case ke.ConditionalExpression:Jn(t.test,e),Jn(t.alternate,e),Jn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case ke.Identifier:t.constant=!1,t.toWatch=[t];break;case ke.MemberExpression:Jn(t.object,e),t.computed&&Jn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case ke.CallExpression:i=t.filter?u_e(e,t.callee.name):!1,r=i,n=[],Qr(t.arguments,function(a){Jn(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case ke.AssignmentExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case ke.ArrayExpression:r=!0,n=[],Qr(t.elements,function(a){Jn(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case ke.ObjectExpression:r=!0,n=[],Qr(t.properties,function(a){Jn(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case ke.ThisExpression:t.constant=!1,t.toWatch=[];break;case ke.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function DG(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function UG(t){return t.type===ke.Identifier||t.type===ke.MemberExpression}function jG(t){if(t.body.length===1&&UG(t.body[0].expression))return{type:ke.AssignmentExpression,left:t.body[0].expression,right:{type:ke.NGValueParameter},operator:"="}}function $G(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===ke.Literal||t.body[0].expression.type===ke.ArrayExpression||t.body[0].expression.type===ke.ObjectExpression)}function GG(t){return t.constant}function VG(t,e){this.astBuilder=t,this.$filter=e}VG.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Jn(r,e.$filter);var n="",i;if(this.stage="assign",i=jG(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=DG(r.body);e.stage="inputs",Qr(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,MG,l_e,BG);return this.state=this.stage=void 0,c.ast=r,c.literal=$G(r),c.constant=GG(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Qr(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Qr(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||BP,!a&&rh(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case ke.Program:Qr(t.body,function(d,p){c.recurse(d.expression,void 0,void 0,function(v){s=v}),p!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case ke.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case ke.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(d){s=d}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case ke.BinaryExpression:this.recurse(t.left,void 0,void 0,function(d){o=d}),this.recurse(t.right,void 0,void 0,function(d){s=d}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case ke.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case ke.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case ke.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case ke.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var d=null,p=c.current().inAssignment;t.computed?(s=c.nextId(),p||c.state.computing==="assign"?d=c.unsafeComputedMember(o,s):d=c.computedMember(o,s)):(p||c.state.computing==="assign"?d=c.unsafeNonComputedMember(o,t.property.name):d=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===ke.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(d),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==ke.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(d),c.lazyAssign(d,"{}")),c.assign(e,d),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(d),c.lazyAssign(d,"{}")),c.assign(e,d),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case ke.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],Qr(t.arguments,function(d){var p=c.nextId();c.recurse(d,p),l.push(p)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(Qr(t.arguments,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(v){l.push(v)})}),o.name){var d=c.member(o.context,o.name,o.computed);u="("+d+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case ke.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case ke.ArrayExpression:l=[],Qr(t.elements,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(p){l.push(p)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case ke.ObjectExpression:l=[],f=!1,Qr(t.properties,function(d){d.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Qr(t.properties,function(d){d.computed?(o=c.nextId(),c.recurse(d.key,o)):o=d.key.type===ke.Identifier?d.key.name:""+d.key.value,s=c.nextId(),c.recurse(d.value,s),c.assign(c.unsafeMember(e,o,d.computed),s)})):(Qr(t.properties,function(d){c.recurse(d.value,t.constant?void 0:c.nextId(),void 0,function(p){l.push(c.escape(d.key.type===ke.Identifier?d.key.name:""+d.key.value)+":"+p)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case ke.ThisExpression:this.assign(e,"s"),n(e||"s");break;case ke.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case ke.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(Vx(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(DP(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw nh("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function HG(t,e){this.astBuilder=t,this.$filter=e}HG.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);Jn(r,e.$filter);var n,i;(n=jG(r))&&(i=this.recurse(n));var a=DG(r.body),o;a&&(o=[],Qr(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];Qr(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?BP:r.body.length===1?s[0]:function(l,u){var f;return Qr(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=$G(r),c.constant=GG(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case ke.Literal:return this.value(t.value,e);case ke.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case ke.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case ke.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case ke.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case ke.Identifier:return a.identifier(t.name,e,r);case ke.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case ke.CallExpression:return o=[],Qr(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var d=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:d}:d}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var d=[],p=0;p<o.length;++p)d.push(o[p](s,c,l,u));h=f.value.apply(f.context,d)}return e?{value:h}:h};case ke.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case ke.ArrayExpression:return o=[],Qr(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case ke.ObjectExpression:return o=[],Qr(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===ke.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case ke.ThisExpression:return function(s){return e?{value:s}:s};case ke.LocalsExpression:return function(s,c){return e?{value:c}:c};case ke.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return rh(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return rh(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=BG(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(rh(s)?s:0)-(rh(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=MG(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var xA=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new ke(e,n),this.astCompiler=n.csp?new HG(this.ast,r):new VG(this.ast,r)};xA.prototype={constructor:xA,parse:function(t){return this.astCompiler.compile(t)}};LP.Lexer=yA;LP.Parser=xA;var XG=LP,c_e={},f_e=XG.Lexer,h_e=XG.Parser;function jP(t,e){e=e||{};var r=e.filters||c_e,n=e.filters?e.cache||{}:jP.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new f_e(i),c=new h_e(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}jP.cache=Object.create(null);var WG=jP;function d_e(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const p_e=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=d_e(r,n));let o;if(e?o=mde:o=B9,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();ae.dispatch(o({key:s,value:l})),ae.dispatch(Rf({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(d=>d.match(/[a-zA-Z]/)?$P(d).toString():d).reduce((d,p)=>d+p,"");let h=WG(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),ae.dispatch(o({key:s,value:h})),ae.dispatch(Rf({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(ae.dispatch(o({key:s,value:!0})),ae.dispatch(Rf({key:s,value:!0}))),c.match(/false/)&&(ae.dispatch(o({key:s,value:!1})),ae.dispatch(Rf({key:s,value:!1})))):isNaN(Number(c))?(ae.dispatch(o({key:s,value:i?a:c})),ae.dispatch(Rf({key:s,value:i?a:c}))):(ae.dispatch(o({key:s,value:i?a:Number(c)})),ae.dispatch(Rf({key:s,value:i?a:Number(c)})));e?(Ve.debug("",{key:s,value:ae.getState().userData.globalGameVar[s]}),D7()):Ve.debug("",{key:s,value:ae.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function $P(t){let e=0;return ae.getState().stage.GameVar.hasOwnProperty(t)?e=ae.getState().stage.GameVar[t]:ae.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=ae.getState().userData.globalGameVar[t]),e}function v_e(t){return WG(t)()}const bA=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:$P(i).toString():i).reduce((i,a)=>i+a,"");return!!v_e(n)}return!0},zG=()=>{if(W.sceneManager.sceneData.currentScene.sceneName,W.sceneManager.sceneData.currentSentenceId>W.sceneManager.sceneData.currentScene.sentenceList.length-1){if(W.sceneManager.sceneData.sceneStack.length!==0){const l=W.sceneManager.sceneData.sceneStack.pop();l!==void 0&&zme(l)}return}const t=W.sceneManager.sceneData.currentScene.sentenceList[W.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((d,p)=>{const v=u.indexOf(d,p?u.indexOf(h[p-1])+h[p-1].length:0);return v===0||u[v-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const d=$P(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,d?d.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=bA(a)),!n){Ve.warn(""),W.sceneManager.sceneData.currentSentenceId++,An();return}Nv(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Tt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){W.sceneManager.sceneData.currentSentenceId++,zG();return}setTimeout(()=>{c=ae.getState().stage,ae.getState().userData.globalGameVar,Ve.debug("",W.sceneManager.sceneData.currentSentenceId),s&&W.backlogManager.saveCurrentStateToBacklog()},0),W.sceneManager.sceneData.currentSentenceId++},An=()=>{W.events.userInteractNext.emit();const t=ae.getState().GUI;if(t.showTitle&&!t.showStoryLine&&!t.showAchievement){Ve.warn("");return}let e=!1;if(W.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&!W.gameplay.isFast&&!W.gameplay.isSyncingWithOrigine&&(e=!0)}),e){Ve.warn("next ");return}let r=!0;if(W.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=ae.getState().stage,a=nn(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);ae.dispatch(Rx(a)),zG();return}Ve.warn("");let n=!1;for(let i=0;i<W.gameplay.performController.performList.length;i++){const a=W.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),W.gameplay.performController.performList.splice(i,1),i--))}n&&An()};var g_e="__lodash_hash_undefined__";function m_e(t){return this.__data__.set(t,g_e),this}var __e=m_e;function y_e(t){return this.__data__.has(t)}var x_e=y_e,b_e=oP,w_e=__e,E_e=x_e;function by(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new b_e;++e<r;)this.add(t[e])}by.prototype.add=by.prototype.push=w_e;by.prototype.has=E_e;var YG=by;function S_e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var C_e=S_e;function A_e(t){return t!==t}var T_e=A_e;function I_e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var R_e=I_e,P_e=C_e,O_e=T_e,k_e=R_e;function F_e(t,e,r){return e===e?k_e(t,e,r):P_e(t,O_e,r)}var N_e=F_e,L_e=N_e;function M_e(t,e){var r=t==null?0:t.length;return!!r&&L_e(t,e,0)>-1}var B_e=M_e;function D_e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var U_e=D_e;function j_e(t,e){return t.has(e)}var qG=j_e;function $_e(){}var G_e=$_e;function V_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var GP=V_e,XE=P9,H_e=G_e,X_e=GP,W_e=1/0,z_e=XE&&1/X_e(new XE([,-0]))[1]==W_e?function(t){return new XE(t)}:H_e,Y_e=z_e,q_e=YG,K_e=B_e,Z_e=U_e,J_e=qG,Q_e=Y_e,eye=GP,tye=200;function rye(t,e,r){var n=-1,i=K_e,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=Z_e;else if(a>=tye){var l=e?null:Q_e(t);if(l)return eye(l);o=!1,i=J_e,c=new q_e}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var nye=rye,iye=nye;function aye(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?iye(t,void 0,e):[]}var oye=aye;const Lv=Ei(oye),Ad=t=>{for(const e of t)W.sceneManager.settledScenes.includes(e)?Ve.warn(`${e}`):(Ve.info(`${e}`),wa(e).then(r=>{const n=e.split("./game/scene/")[1];qh(r,n||"",e)}))},sye=(t,e)=>{W.sceneManager.sceneData.sceneStack.push({sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl,continueLine:W.sceneManager.sceneData.currentSentenceId}),wa(t).then(async r=>{if(await W.sceneManager.setCurrentScene(r,e,t,!0)){W.sceneManager.sceneData.currentSentenceId=0;const i=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const a=Lv(i);Ad(a),Ve.debug("",W.sceneManager.sceneData),An()}})},lye=t=>{const e=t.content.split("/"),r=e[e.length-1];return sye(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function jp(t,e,r){let n;const a=ae.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function KG(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function ZG(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const VP={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};var rc=(t=>(t.Click="click",t.Move="move",t.Error="error",t.Alert="alert",t))(rc||{});function JG(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var uye=function(){},oB=function(){};const wA=(t,e,r)=>Math.min(Math.max(r,t),e),WE=.001,cye=.01,sB=10,fye=.05,hye=1;function dye({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;uye(t<=sB*1e3);let o=1-e;o=wA(fye,hye,o),t=wA(cye,sB,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,d=EA(l,o),p=Math.exp(-f);return WE-h/d*p},a=l=>{const f=l*o*t,h=f*r+r,d=Math.pow(o,2)*Math.pow(l,2)*t,p=Math.exp(-f),v=EA(Math.pow(l,2),o);return(-i(l)+WE>0?-1:1)*((h-d)*p)/v}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-WE+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=vye(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const pye=12;function vye(t,e,r){let n=r;for(let i=1;i<pye;i++)n=n-t(n)/e(n);return n}function EA(t,e){return t*Math.sqrt(1-e*e)}const gye=["duration","bounce"],mye=["stiffness","damping","mass"];function lB(t,e){return e.some(r=>t[r]!==void 0)}function _ye(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!lB(t,mye)&&lB(t,gye)){const r=dye(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function HP(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=JG(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=_ye(a),d=uB,p=uB;function v(){const g=u?-(u/1e3):0,m=r-e,_=c/(2*Math.sqrt(s*l)),x=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),_<1){const b=EA(x,_);d=w=>{const S=Math.exp(-_*x*w);return r-S*((g+_*x*m)/b*Math.sin(b*w)+m*Math.cos(b*w))},p=w=>{const S=Math.exp(-_*x*w);return _*x*S*(Math.sin(b*w)*(g+_*x*m)/b+m*Math.cos(b*w))-S*(Math.cos(b*w)*(g+_*x*m)-b*m*Math.sin(b*w))}}else if(_===1)d=b=>r-Math.exp(-x*b)*(m+(g+x*m)*b);else{const b=x*Math.sqrt(_*_-1);d=w=>{const S=Math.exp(-_*x*w),C=Math.min(b*w,300);return r-S*((g+_*x*m)*Math.sinh(C)+b*m*Math.cosh(C))/b}}}return v(),{next:g=>{const m=d(g);if(h)o.done=g>=f;else{const _=p(g)*1e3,x=Math.abs(_)<=n,b=Math.abs(r-m)<=i;o.done=x&&b}return o.value=o.done?r:m,o},flipTarget:()=>{u=-u,[e,r]=[r,e],v()}}}HP.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const uB=t=>0,QG=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},XP=(t,e,r)=>-r*t+r*e+t,eV=(t,e)=>r=>Math.max(Math.min(r,e),t),lp=t=>t%1?Number(t.toFixed(5)):t,wy=/(-)?([\d]*\.?[\d])+/g,SA=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yye=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mv(t){return typeof t=="string"}const Hx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tV=Object.assign(Object.assign({},Hx),{transform:eV(0,1)});Object.assign(Object.assign({},Hx),{default:1});const xye=t=>({test:e=>Mv(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),up=xye("%");Object.assign(Object.assign({},up),{parse:t=>up.parse(t)/100,transform:t=>up.transform(t*100)});const WP=(t,e)=>r=>!!(Mv(r)&&yye.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),rV=(t,e,r)=>n=>{if(!Mv(n))return n;const[i,a,o,s]=n.match(wy);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},mc={test:WP("hsl","hue"),parse:rV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+up.transform(lp(e))+", "+up.transform(lp(r))+", "+lp(tV.transform(n))+")"},bye=eV(0,255),zE=Object.assign(Object.assign({},Hx),{transform:t=>Math.round(bye(t))}),Hl={test:WP("rgb","red"),parse:rV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+zE.transform(t)+", "+zE.transform(e)+", "+zE.transform(r)+", "+lp(tV.transform(n))+")"};function wye(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const CA={test:WP("#"),parse:wye,transform:Hl.transform},Xx={test:t=>Hl.test(t)||CA.test(t)||mc.test(t),parse:t=>Hl.test(t)?Hl.parse(t):mc.test(t)?mc.parse(t):CA.parse(t),transform:t=>Mv(t)?t:t.hasOwnProperty("red")?Hl.transform(t):mc.transform(t)},nV="${c}",iV="${n}";function Eye(t){var e,r,n,i;return isNaN(t)&&Mv(t)&&((r=(e=t.match(wy))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(SA))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function aV(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(SA);n&&(r=n.length,t=t.replace(SA,nV),e.push(...n.map(Xx.parse)));const i=t.match(wy);return i&&(t=t.replace(wy,iV),e.push(...i.map(Hx.parse))),{values:e,numColors:r,tokenised:t}}function oV(t){return aV(t).values}function sV(t){const{values:e,numColors:r,tokenised:n}=aV(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?nV:iV,s<r?Xx.transform(a[s]):lp(a[s]));return o}}const Sye=t=>typeof t=="number"?0:t;function Cye(t){const e=oV(t);return sV(t)(e.map(Sye))}const lV={test:Eye,parse:oV,createTransformer:sV,getAnimatableNone:Cye};function YE(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function cB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=YE(c,s,t+1/3),a=YE(c,s,t),o=YE(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Aye=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},Tye=[CA,Hl,mc],fB=t=>Tye.find(e=>e.test(t)),uV=(t,e)=>{let r=fB(t),n=fB(e),i=r.parse(t),a=n.parse(e);r===mc&&(i=cB(i),r=Hl),n===mc&&(a=cB(a),n=Hl);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=Aye(i[c],a[c],s));return o.alpha=XP(i.alpha,a.alpha,s),r.transform(o)}},Iye=t=>typeof t=="number",Rye=(t,e)=>r=>e(t(r)),cV=(...t)=>t.reduce(Rye);function fV(t,e){return Iye(t)?r=>XP(t,e,r):Xx.test(t)?uV(t,e):dV(t,e)}const hV=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>fV(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Pye=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=fV(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function hB(t){const e=lV.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const dV=(t,e)=>{const r=lV.createTransformer(e),n=hB(t),i=hB(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?cV(hV(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Oye=(t,e)=>r=>XP(t,e,r);function kye(t){if(typeof t=="number")return Oye;if(typeof t=="string")return Xx.test(t)?uV:dV;if(Array.isArray(t))return hV;if(typeof t=="object")return Pye}function Fye(t,e,r){const n=[],i=r||kye(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=cV(c,s)}n.push(s)}return n}function Nye([t,e],[r]){return n=>r(QG(t,e,n))}function Lye(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=QG(t[a],t[a+1],i);return e[a](s)}}function pV(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;oB(a===e.length),oB(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Fye(e,n,i),s=a===2?Nye(t,o):Lye(t,o);return r?c=>s(wA(t[0],t[a-1],c)):s}const Mye=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Bye=t=>e=>Math.pow(e,t),Dye=t=>e=>e*e*((t+1)*e-t),Uye=t=>{const e=Dye(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},jye=1.525,$ye=Bye(2),Gye=Mye($ye);Uye(jye);function Vye(t,e){return t.map(()=>e||Gye).splice(0,t.length-1)}function Hye(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function Xye(t,e){return t.map(r=>r*e)}function y_({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=Xye(n&&n.length===o.length?n:Hye(o),i);function c(){return pV(s,o,{ease:Array.isArray(r)?r:Vye(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function Wye({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const dB={keyframes:y_,spring:HP,decay:Wye};function zye(t){if(Array.isArray(t.to))return y_;if(dB[t.type])return dB[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?y_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?HP:y_}const vV=1/60*1e3,Yye=typeof performance<"u"?()=>performance.now():()=>Date.now(),gV=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Yye()),vV);function qye(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const Kye=40;let AA=!0,$p=!1,TA=!1;const cp={delta:0,timestamp:0},Bv=["read","update","preRender","render","postRender"],Wx=Bv.reduce((t,e)=>(t[e]=qye(()=>$p=!0),t),{}),Zye=Bv.reduce((t,e)=>{const r=Wx[e];return t[e]=(n,i=!1,a=!1)=>($p||exe(),r.schedule(n,i,a)),t},{}),Jye=Bv.reduce((t,e)=>(t[e]=Wx[e].cancel,t),{});Bv.reduce((t,e)=>(t[e]=()=>Wx[e].process(cp),t),{});const Qye=t=>Wx[t].process(cp),mV=t=>{$p=!1,cp.delta=AA?vV:Math.max(Math.min(t-cp.timestamp,Kye),1),cp.timestamp=t,TA=!0,Bv.forEach(Qye),TA=!1,$p&&(AA=!1,gV(mV))},exe=()=>{$p=!0,AA=!0,TA||gV(mV)},txe=Zye;function _V(t,e,r=0){return t-e-r}function rxe(t,e,r=0,n=!0){return n?_V(e+-t,e,r):e-(t-e)+r}function nxe(t,e,r,n){return n?t>=e+r:t<=-r}const ixe=t=>{const e=({delta:r})=>t(r);return{start:()=>txe.update(e,!0),stop:()=>Jye.update(e)}};function axe(t){var e,r,{from:n,autoplay:i=!0,driver:a=ixe,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:d,onUpdate:p}=t,v=JG(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=v,m,_=0,x=v.duration,b,w=!1,S=!0,C;const A=zye(v);!((r=(e=A).needsInterpolation)===null||r===void 0)&&r.call(e,n,g)&&(C=pV([0,100],[n,g],{clamp:!1}),n=0,g=100);const T=A(Object.assign(Object.assign({},v),{from:n,to:g}));function R(){_++,c==="reverse"?(S=_%2===0,o=rxe(o,x,l,S)):(o=_V(o,x,l),c==="mirror"&&T.flipTarget()),w=!1,d&&d()}function O(){m.stop(),h&&h()}function P(F){if(S||(F=-F),o+=F,!w){const L=T.next(Math.max(0,o));b=L.value,C&&(b=C(b)),w=S?L.done:o<=0}p==null||p(b),w&&(_===0&&(x??(x=o)),_<s?nxe(o,x,l,S)&&R():O())}function k(){u==null||u(),m=a(P),m.start()}return i&&k(),{stop:()=>{f==null||f(),m.stop()}}}function oxe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var sxe=oxe,lxe=YG,uxe=sxe,cxe=qG,fxe=1,hxe=2;function dxe(t,e,r,n,i,a){var o=r&fxe,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,d=r&hxe?new lxe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],v=e[f];if(n)var g=o?n(v,p,f,e,t,a):n(p,v,f,t,e,a);if(g!==void 0){if(g)continue;h=!1;break}if(d){if(!uxe(e,function(m,_){if(!cxe(d,_)&&(p===m||i(p,m,r,n,a)))return d.push(_)})){h=!1;break}}else if(!(p===v||i(p,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var yV=dxe;function pxe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var vxe=pxe,pB=Pv,vB=k9,gxe=iP,mxe=yV,_xe=vxe,yxe=GP,xxe=1,bxe=2,wxe="[object Boolean]",Exe="[object Date]",Sxe="[object Error]",Cxe="[object Map]",Axe="[object Number]",Txe="[object RegExp]",Ixe="[object Set]",Rxe="[object String]",Pxe="[object Symbol]",Oxe="[object ArrayBuffer]",kxe="[object DataView]",gB=pB?pB.prototype:void 0,qE=gB?gB.valueOf:void 0;function Fxe(t,e,r,n,i,a,o){switch(r){case kxe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Oxe:return!(t.byteLength!=e.byteLength||!a(new vB(t),new vB(e)));case wxe:case Exe:case Axe:return gxe(+t,+e);case Sxe:return t.name==e.name&&t.message==e.message;case Txe:case Rxe:return t==e+"";case Cxe:var s=_xe;case Ixe:var c=n&xxe;if(s||(s=yxe),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=bxe,o.set(t,e);var u=mxe(s(t),s(e),n,i,a,o);return o.delete(t),u;case Pxe:if(qE)return qE.call(t)==qE.call(e)}return!1}var Nxe=Fxe,mB=I9,Lxe=1,Mxe=Object.prototype,Bxe=Mxe.hasOwnProperty;function Dxe(t,e,r,n,i,a){var o=r&Lxe,s=mB(t),c=s.length,l=mB(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:Bxe.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<c;){h=s[f];var m=t[h],_=e[h];if(n)var x=o?n(_,m,h,e,t,a):n(m,_,h,t,e,a);if(!(x===void 0?m===_||i(m,_,r,n,a):x)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(v=!1)}return a.delete(t),a.delete(e),v}var Uxe=Dxe,KE=sP,jxe=yV,$xe=Nxe,Gxe=Uxe,_B=Ix,yB=cl,xB=uP,Vxe=y9,Hxe=1,bB="[object Arguments]",wB="[object Array]",sm="[object Object]",Xxe=Object.prototype,EB=Xxe.hasOwnProperty;function Wxe(t,e,r,n,i,a){var o=yB(t),s=yB(e),c=o?wB:_B(t),l=s?wB:_B(e);c=c==bB?sm:c,l=l==bB?sm:l;var u=c==sm,f=l==sm,h=c==l;if(h&&xB(t)){if(!xB(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new KE),o||Vxe(t)?jxe(t,e,r,n,i,a):$xe(t,e,c,r,n,i,a);if(!(r&Hxe)){var d=u&&EB.call(t,"__wrapped__"),p=f&&EB.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return a||(a=new KE),i(v,g,r,n,a)}}return h?(a||(a=new KE),Gxe(t,e,r,n,i,a)):!1}var zxe=Wxe,Yxe=zxe,SB=tf;function xV(t,e,r,n,i){return t===e?!0:t==null||e==null||!SB(t)&&!SB(e)?t!==t&&e!==e:Yxe(t,e,r,n,xV,i)}var bV=xV,qxe=sP,Kxe=bV,Zxe=1,Jxe=2;function Qxe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new qxe;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?Kxe(u,l,Zxe|Jxe,n,f):h))return!1}}return!0}var e1e=Qxe,t1e=ws;function r1e(t){return t===t&&!t1e(t)}var wV=r1e,n1e=wV,i1e=Tx;function a1e(t){for(var e=i1e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,n1e(i)]}return e}var o1e=a1e;function s1e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var EV=s1e,l1e=e1e,u1e=o1e,c1e=EV;function f1e(t){var e=u1e(t);return e.length==1&&e[0][2]?c1e(e[0][0],e[0][1]):function(r){return r===t||l1e(r,t,e)}}var h1e=f1e,d1e=Ov,p1e=tf,v1e="[object Symbol]";function g1e(t){return typeof t=="symbol"||p1e(t)&&d1e(t)==v1e}var zx=g1e,m1e=cl,_1e=zx,y1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x1e=/^\w*$/;function b1e(t,e){if(m1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||_1e(t)?!0:x1e.test(t)||!y1e.test(t)||e!=null&&t in Object(e)}var zP=b1e,SV=oP,w1e="Expected a function";function YP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(w1e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(YP.Cache||SV),r}YP.Cache=SV;var E1e=YP,S1e=E1e,C1e=500;function A1e(t){var e=S1e(t,function(n){return r.size===C1e&&r.clear(),n}),r=e.cache;return e}var T1e=A1e,I1e=T1e,R1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P1e=/\\(\\)?/g,O1e=I1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(R1e,function(r,n,i,a){e.push(i?a.replace(P1e,"$1"):n||r)}),e}),k1e=O1e;function F1e(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var CV=F1e,CB=Pv,N1e=CV,L1e=cl,M1e=zx,B1e=1/0,AB=CB?CB.prototype:void 0,TB=AB?AB.toString:void 0;function AV(t){if(typeof t=="string")return t;if(L1e(t))return N1e(t,AV)+"";if(M1e(t))return TB?TB.call(t):"";var e=t+"";return e=="0"&&1/t==-B1e?"-0":e}var D1e=AV,U1e=D1e;function j1e(t){return t==null?"":U1e(t)}var $1e=j1e,G1e=cl,V1e=zP,H1e=k1e,X1e=$1e;function W1e(t,e){return G1e(t)?t:V1e(t,e)?[t]:H1e(X1e(t))}var Yx=W1e,z1e=zx,Y1e=1/0;function q1e(t){if(typeof t=="string"||z1e(t))return t;var e=t+"";return e=="0"&&1/t==-Y1e?"-0":e}var Dv=q1e,K1e=Yx,Z1e=Dv;function J1e(t,e){e=K1e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Z1e(e[r++])];return r&&r==n?t:void 0}var qP=J1e,Q1e=qP;function ebe(t,e,r){var n=t==null?void 0:Q1e(t,e);return n===void 0?r:n}var tbe=ebe;function rbe(t,e){return t!=null&&e in Object(t)}var nbe=rbe,ibe=Yx,abe=_9,obe=cl,sbe=cP,lbe=fP,ube=Dv;function cbe(t,e,r){e=ibe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=ube(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&lbe(i)&&sbe(o,i)&&(obe(t)||abe(t)))}var fbe=cbe,hbe=nbe,dbe=fbe;function pbe(t,e){return t!=null&&dbe(t,e,hbe)}var vbe=pbe,gbe=bV,mbe=tbe,_be=vbe,ybe=zP,xbe=wV,bbe=EV,wbe=Dv,Ebe=1,Sbe=2;function Cbe(t,e){return ybe(t)&&xbe(e)?bbe(wbe(t),e):function(r){var n=mbe(r,t);return n===void 0&&n===e?_be(r,t):gbe(e,n,Ebe|Sbe)}}var Abe=Cbe;function Tbe(t){return t}var Ibe=Tbe;function Rbe(t){return function(e){return e==null?void 0:e[t]}}var Pbe=Rbe,Obe=qP;function kbe(t){return function(e){return Obe(e,t)}}var Fbe=kbe,Nbe=Pbe,Lbe=Fbe,Mbe=zP,Bbe=Dv;function Dbe(t){return Mbe(t)?Nbe(Bbe(t)):Lbe(t)}var Ube=Dbe,jbe=h1e,$be=Abe,Gbe=Ibe,Vbe=cl,Hbe=Ube;function Xbe(t){return typeof t=="function"?t:t==null?Gbe:typeof t=="object"?Vbe(t)?$be(t[0],t[1]):jbe(t):Hbe(t)}var TV=Xbe,Wbe="Expected a function";function zbe(t){if(typeof t!="function")throw new TypeError(Wbe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var Ybe=zbe,qbe=lP,Kbe=Yx,Zbe=cP,IB=ws,Jbe=Dv;function Qbe(t,e,r,n){if(!IB(t))return t;e=Kbe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=Jbe(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=IB(u)?u:Zbe(e[i+1])?[]:{})}qbe(s,c,l),s=s[c]}return t}var ewe=Qbe,twe=qP,rwe=ewe,nwe=Yx;function iwe(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=twe(t,o);r(s,o)&&rwe(a,nwe(o,t),s)}return a}var awe=iwe,owe=CV,swe=TV,lwe=awe,uwe=R9;function cwe(t,e){if(t==null)return{};var r=owe(uwe(t),function(n){return[n]});return e=swe(e),lwe(t,r,function(n,i){return e(n,i[0])})}var fwe=cwe,hwe=TV,dwe=Ybe,pwe=fwe;function vwe(t,e){return pwe(t,dwe(hwe(e)))}var gwe=vwe;const ZE=Ei(gwe);function mwe(t){return t===void 0}var _we=mwe;const Ms=Ei(_we);function IV(t,e,r){const n=W.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const m of t){const _=m.duration;i+=_;const{position:x,scale:b,...w}=m;a.push({x:x.x,y:x.y,scaleX:b.x,scaleY:b.y,...w}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=axe({to:a,offset:o,duration:r,onUpdate:m=>{if(s){const{scaleX:_,scaleY:x,...b}=m;Object.assign(s,ZE(b,Ms)),Ms(_)||(s.scale.x=_),Ms(x)||(s.scale.y=x)}}}));const{duration:l,...u}=v();ae.dispatch(pa.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:m,scale:_,...x}=p(),b=ZE({x:m.x,y:m.y,...x},Ms);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Ms(_.x)||(n.pixiContainer.scale.x=_.x),Ms(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:m,scale:_,...x}=v(),b=ZE({x:m.x,y:m.y,...x},Ms);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Ms(_.x)||(n.pixiContainer.scale.x=_.x),Ms(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function d(m){}function p(){return t[0]}function v(){return t[t.length-1]}function g(){const m=t[t.length-1],{alpha:_,rotation:x,blur:b,duration:w,scale:S,position:C,...A}=m;return A}return{setStartState:f,setEndState:h,tickerFunc:d,getEndFilterEffect:g}}function Ey(t,e,r){const n=W.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=ae.getState().stage.effects.find(c=>c.target===e),s=nn({...(o==null?void 0:o.transform)??VP,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return Ve.debug("",i),IV(i,e,r)}return null}function ga(t){const e=W.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function Bl(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=KG(t,n);const a=W.animationManager.nextEnterAnimationName.get(t);return a&&(Ve.debug("",t),i=Ey(a,t,ga(a)),n=ga(a),W.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=ZG(t,n);const a=W.animationManager.nextExitAnimationName.get(t);return a&&(Ve.debug("",t),i=Ey(a,t,ga(a)),n=ga(a),W.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Xh=()=>Math.random().toString().substring(0,10);class ywe{constructor(){Ye(this,"performList",[]);Ye(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};ae.dispatch(pa.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){ae.dispatch(pa.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){var r;let e=!1;(r=this.performList)==null||r.forEach(n=>{n.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):An()}}const xwe=t=>{const e=t.content,r=ae.dispatch;if(ae.getState().GUI.showStoryLine)return r(vt({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(vt({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(vt({key:"storyLineBgY",value:f.value}))}),{performName:Xh(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(ae.getState().GUI.showAchievement)return r(lhe(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(vt({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(vt({key:"achieveBgY",value:f.value}))}),{performName:Xh(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(Q9({name:n,url:e,series:i})),r(pa.removeEffectByTargetId("bg-main"));const s=Xt(t,"transform");let c=Xt(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=jp("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),d={name:h,effects:l};W.animationManager.addAnimation(d),c=ga(h),W.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=jp("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),d={name:h,effects:l};W.animationManager.addAnimation(d),c=ga(h),W.animationManager.nextEnterAnimationName.set("bg-main",h)}return Xt(t,"enter")&&(W.animationManager.nextEnterAnimationName.set("bg-main",Xt(t,"enter").toString()),c=ga(Xt(t,"enter").toString())),Xt(t,"exit")&&(W.animationManager.nextExitAnimationName.set("bg-main-off",Xt(t,"exit").toString()),c=ga(Xt(t,"exit").toString())),a&&r(vt({key:"bgX",value:a})),o&&r(vt({key:"bgY",value:o})),r(vt({key:"bgName",value:t.content})),{performName:"none",duration:c,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function bwe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",d="";const p=ae.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"expression":a=w.value.toString();break;case"mouthOpen":c=w.value.toString(),c=yt(c,pt.figure);break;case"mouthClose":l=w.value.toString(),l=yt(l,pt.figure);break;case"mouthHalfOpen":u=w.value.toString(),u=yt(u,pt.figure);break;case"eyesOpen":f=w.value.toString(),f=yt(f,pt.figure);break;case"eyesClose":h=w.value.toString(),h=yt(h,pt.figure);break;case"animationFlag":d=w.value.toString();break;case"none":r="";break}const v=o||`fig-${e}`,m=ae.getState().stage.figureAssociatedAnimation.filter(w=>w.targetId!==v),_={targetId:v,animationFlag:d,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};m.push(_),p(vt({key:"figureAssociatedAnimation",value:m}));let x=!0;if(o!==""){const w=ae.getState().stage.freeFigure.find(S=>S.key===o);w&&w.name===t.content&&(x=!1)}else e==="center"&&ae.getState().stage.figName===t.content&&(x=!1),e==="left"&&ae.getState().stage.figNameLeft===t.content&&(x=!1),e==="right"&&ae.getState().stage.figNameRight===t.content&&(x=!1);if(x){const w=`fig-${e}`,S=`${o}`;ae.dispatch(pa.removeEffectByTargetId(w)),ae.dispatch(pa.removeEffectByTargetId(S))}const b=(w,S)=>{const C=Xt(S,"transform"),A=Xt(S,"duration");A&&typeof A=="number"&&(s=A);let T;if(C){console.log(C);try{const k=JSON.parse(C.toString());T=jp(w,k,s),T[0].alpha=0;const F=(Math.random()*10).toString(16),L={name:F,effects:T};W.animationManager.addAnimation(L),s=ga(F),W.animationManager.nextEnterAnimationName.set(w,F)}catch{R()}}else R();function R(){T=jp(w,{},s),T[0].alpha=0;const F=(Math.random()*10).toString(16),L={name:F,effects:T};W.animationManager.addAnimation(L),s=ga(F),W.animationManager.nextEnterAnimationName.set(w,F)}const O=Xt(S,"enter"),P=Xt(S,"exit");O&&(W.animationManager.nextEnterAnimationName.set(w,O.toString()),s=ga(O.toString())),P&&(W.animationManager.nextExitAnimationName.set(w+"-off",P.toString()),s=ga(P.toString()))};if(n){ae.getState().stage.freeFigure;const w={key:o,name:r,basePosition:e};b(o,t),i&&p(pa.setLive2dMotion({target:o,motion:i})),a&&p(pa.setLive2dExpression({target:o,expression:a})),p(pa.setFreeFigureByKey(w))}else{const w={center:"fig-center",left:"fig-left",right:"fig-right"},S={center:"figName",left:"figNameLeft",right:"figNameRight"};o=w[e],b(o,t),i&&p(pa.setLive2dMotion({target:o,motion:i})),a&&p(pa.setLive2dExpression({target:o,expression:a})),p(vt({key:S[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const RV=(t,e)=>{wa(t).then(async r=>{if(await W.sceneManager.setCurrentScene(r,e,t,!0)){W.sceneManager.sceneData.currentSentenceId=0;const i=[];W.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),W.videoManager.destroyExcept(i);const a=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const o=Lv(a);Ad(o),Ve.debug("",W.sceneManager.sceneData),An()}})},wwe=t=>{const e=t.content.split("/"),r=e[e.length-1];return RV(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},PV=t=>{const e=W.sceneManager.sceneData.currentSentenceId;let r=e;W.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Tt.label&&n.content===t&&i!==e&&(r=i)}),W.sceneManager.sceneData.currentSentenceId=r,setTimeout(An,1)},Ewe="_Choose_Main_94qva_1",Swe="_Choose_item_94qva_13",Cwe="_Choose_item_image_94qva_30",Awe="_Choose_item_countdown_94qva_45",Twe="_Choose_item_countdown_disabled_94qva_52",Iwe="_Choose_item_progress_bar_94qva_59",Rwe="_Choose_item_disabled_94qva_68",Hu={Choose_Main:Ewe,Choose_item:Swe,Choose_item_image:Cwe,Choose_item_countdown:Awe,Choose_item_countdown_disabled:Twe,Choose_item_progress_bar:Iwe,Choose_item_disabled:Rwe};var OV={exports:{}},kV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=ce;function Pwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Owe=typeof Object.is=="function"?Object.is:Pwe,kwe=Wh.useState,Fwe=Wh.useEffect,Nwe=Wh.useLayoutEffect,Lwe=Wh.useDebugValue;function Mwe(t,e){var r=e(),n=kwe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Nwe(function(){i.value=r,i.getSnapshot=e,JE(i)&&a({inst:i})},[t,r,e]),Fwe(function(){return JE(i)&&a({inst:i}),t(function(){JE(i)&&a({inst:i})})},[t]),Lwe(r),r}function JE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Owe(t,r)}catch{return!0}}function Bwe(t,e){return e()}var Dwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bwe:Mwe;kV.useSyncExternalStore=Wh.useSyncExternalStore!==void 0?Wh.useSyncExternalStore:Dwe;OV.exports=kV;var Uwe=OV.exports,FV={exports:{}},NV={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=ce,jwe=Uwe;function $we(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gwe=typeof Object.is=="function"?Object.is:$we,Vwe=jwe.useSyncExternalStore,Hwe=qx.useRef,Xwe=qx.useEffect,Wwe=qx.useMemo,zwe=qx.useDebugValue;NV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Hwe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Wwe(function(){function c(d){if(!l){if(l=!0,u=d,d=n(d),i!==void 0&&o.hasValue){var p=o.value;if(i(p,d))return f=p}return f=d}if(p=f,Gwe(u,d))return p;var v=n(d);return i!==void 0&&i(p,v)?p:(u=d,f=v)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=Vwe(t,a[0],a[1]);return Xwe(function(){o.hasValue=!0,o.value=s},[s]),zwe(s),s};FV.exports=NV;var Ywe=FV.exports;function qwe(t){t()}let LV=qwe;const Kwe=t=>LV=t,Zwe=()=>LV,RB=Symbol.for("react-redux-context"),PB=typeof globalThis<"u"?globalThis:{};function Jwe(){var t;if(!ce.createContext)return{};const e=(t=PB[RB])!=null?t:PB[RB]=new Map;let r=e.get(ce.createContext);return r||(r=ce.createContext(null),e.set(ce.createContext,r)),r}const mu=Jwe();function KP(t=mu){return function(){return ce.useContext(t)}}const MV=KP(),Qwe=()=>{throw new Error("uSES not initialized!")};let BV=Qwe;const eEe=t=>{BV=t},tEe=(t,e)=>t===e;function rEe(t=mu){const e=t===mu?MV:KP(t);return function(n,i={}){const{equalityFn:a=tEe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();ce.useRef(!0);const d=ce.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,o]),p=BV(l.addNestedSub,c.getState,u||c.getState,d,a);return ce.useDebugValue(p),p}}const tt=rEe();function nEe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var DV={exports:{}},gr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si=typeof Symbol=="function"&&Symbol.for,ZP=si?Symbol.for("react.element"):60103,JP=si?Symbol.for("react.portal"):60106,Kx=si?Symbol.for("react.fragment"):60107,Zx=si?Symbol.for("react.strict_mode"):60108,Jx=si?Symbol.for("react.profiler"):60114,Qx=si?Symbol.for("react.provider"):60109,e1=si?Symbol.for("react.context"):60110,QP=si?Symbol.for("react.async_mode"):60111,t1=si?Symbol.for("react.concurrent_mode"):60111,r1=si?Symbol.for("react.forward_ref"):60112,n1=si?Symbol.for("react.suspense"):60113,iEe=si?Symbol.for("react.suspense_list"):60120,i1=si?Symbol.for("react.memo"):60115,a1=si?Symbol.for("react.lazy"):60116,aEe=si?Symbol.for("react.block"):60121,oEe=si?Symbol.for("react.fundamental"):60117,sEe=si?Symbol.for("react.responder"):60118,lEe=si?Symbol.for("react.scope"):60119;function Xa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ZP:switch(t=t.type,t){case QP:case t1:case Kx:case Jx:case Zx:case n1:return t;default:switch(t=t&&t.$$typeof,t){case e1:case r1:case a1:case i1:case Qx:return t;default:return e}}case JP:return e}}}function UV(t){return Xa(t)===t1}gr.AsyncMode=QP;gr.ConcurrentMode=t1;gr.ContextConsumer=e1;gr.ContextProvider=Qx;gr.Element=ZP;gr.ForwardRef=r1;gr.Fragment=Kx;gr.Lazy=a1;gr.Memo=i1;gr.Portal=JP;gr.Profiler=Jx;gr.StrictMode=Zx;gr.Suspense=n1;gr.isAsyncMode=function(t){return UV(t)||Xa(t)===QP};gr.isConcurrentMode=UV;gr.isContextConsumer=function(t){return Xa(t)===e1};gr.isContextProvider=function(t){return Xa(t)===Qx};gr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ZP};gr.isForwardRef=function(t){return Xa(t)===r1};gr.isFragment=function(t){return Xa(t)===Kx};gr.isLazy=function(t){return Xa(t)===a1};gr.isMemo=function(t){return Xa(t)===i1};gr.isPortal=function(t){return Xa(t)===JP};gr.isProfiler=function(t){return Xa(t)===Jx};gr.isStrictMode=function(t){return Xa(t)===Zx};gr.isSuspense=function(t){return Xa(t)===n1};gr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kx||t===t1||t===Jx||t===Zx||t===n1||t===iEe||typeof t=="object"&&t!==null&&(t.$$typeof===a1||t.$$typeof===i1||t.$$typeof===Qx||t.$$typeof===e1||t.$$typeof===r1||t.$$typeof===oEe||t.$$typeof===sEe||t.$$typeof===lEe||t.$$typeof===aEe)};gr.typeOf=Xa;DV.exports=gr;var uEe=DV.exports,jV=uEe,cEe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fEe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$V={};$V[jV.ForwardRef]=cEe;$V[jV.Memo]=fEe;var wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eO=Symbol.for("react.element"),tO=Symbol.for("react.portal"),o1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),u1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),hEe=Symbol.for("react.server_context"),f1=Symbol.for("react.forward_ref"),h1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),p1=Symbol.for("react.memo"),v1=Symbol.for("react.lazy"),dEe=Symbol.for("react.offscreen"),GV;GV=Symbol.for("react.module.reference");function vo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eO:switch(t=t.type,t){case o1:case l1:case s1:case h1:case d1:return t;default:switch(t=t&&t.$$typeof,t){case hEe:case c1:case f1:case v1:case p1:case u1:return t;default:return e}}case tO:return e}}}wr.ContextConsumer=c1;wr.ContextProvider=u1;wr.Element=eO;wr.ForwardRef=f1;wr.Fragment=o1;wr.Lazy=v1;wr.Memo=p1;wr.Portal=tO;wr.Profiler=l1;wr.StrictMode=s1;wr.Suspense=h1;wr.SuspenseList=d1;wr.isAsyncMode=function(){return!1};wr.isConcurrentMode=function(){return!1};wr.isContextConsumer=function(t){return vo(t)===c1};wr.isContextProvider=function(t){return vo(t)===u1};wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eO};wr.isForwardRef=function(t){return vo(t)===f1};wr.isFragment=function(t){return vo(t)===o1};wr.isLazy=function(t){return vo(t)===v1};wr.isMemo=function(t){return vo(t)===p1};wr.isPortal=function(t){return vo(t)===tO};wr.isProfiler=function(t){return vo(t)===l1};wr.isStrictMode=function(t){return vo(t)===s1};wr.isSuspense=function(t){return vo(t)===h1};wr.isSuspenseList=function(t){return vo(t)===d1};wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===o1||t===l1||t===s1||t===h1||t===d1||t===dEe||typeof t=="object"&&t!==null&&(t.$$typeof===v1||t.$$typeof===p1||t.$$typeof===u1||t.$$typeof===c1||t.$$typeof===f1||t.$$typeof===GV||t.getModuleId!==void 0)};wr.typeOf=vo;function pEe(){const t=Zwe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const OB={notify(){},get:()=>[]};function vEe(t,e){let r,n=OB,i=0,a=!1;function o(v){u();const g=n.subscribe(v);let m=!1;return()=>{m||(m=!0,g(),f())}}function s(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=pEe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=OB)}function h(){a||(a=!0,u())}function d(){a&&(a=!1,f())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return p}const gEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mEe=gEe?ce.useLayoutEffect:ce.useEffect;function _Ee({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=ce.useMemo(()=>{const l=vEe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=ce.useMemo(()=>t.getState(),[t]);mEe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||mu;return ce.createElement(c.Provider,{value:o},r)}function VV(t=mu){const e=t===mu?MV:KP(t);return function(){const{store:n}=e();return n}}const yEe=VV();function xEe(t=mu){const e=t===mu?yEe:VV(t);return function(){return e().dispatch}}const qr=xEe();eEe(Ywe.useSyncExternalStoreWithSelector);Kwe(Q$.unstable_batchedUpdates);const bEe=""+new URL("page-flip-1.mp3",import.meta.url).href,wEe=""+new URL("switch-1.mp3",import.meta.url).href,HV=""+new URL("mouse-enter.mp3",import.meta.url).href,EEe=""+new URL("dialog.mp3",import.meta.url).href,XV=""+new URL("click.mp3",import.meta.url).href,li=()=>{const t=qr();let e=!1;const r=(c,l)=>{var f,h;const u=ae.getState().GUI.currentPlayAudio;c&&typeof c=="boolean"||(u&&((f=u==null?void 0:u.pause)==null||f.call(u),u.volume=0,(h=u==null?void 0:u.remove)==null||h.call(u),ae.dispatch(MA(null))),t(vt({key:"uiSe",value:c||l})),e=!1)};return{playSeEnter:()=>{var u,f;if(e)return;e=!0;const c=ae.getState().saveData,l=ae.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[rc.Move]:(f=c.menuScounds)==null?void 0:f[rc.Move];r(l,HV)},playSeClick:c=>{var f,h;const l=ae.getState().saveData,u=ae.getState().GUI.isInGaming?(f=l.gameScounds)==null?void 0:f[rc.Click]:(h=l.menuScounds)==null?void 0:h[rc.Click];c?t(vt({key:"uiSe",value:c})):r(u,XV)},playSePageChange:()=>{t(vt({key:"uiSe",value:bEe}))},playSeDialogOpen:()=>{var u,f;const c=ae.getState().saveData,l=ae.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[rc.Alert]:(f=c.menuScounds)==null?void 0:f[rc.Alert];r(l,EEe)},playSeSwitch:()=>{t(vt({key:"uiSe",value:wEe}))}}},rO=()=>({playSeEnter:()=>{ae.dispatch(vt({key:"uiSe",value:HV}))},playSeClick:()=>{ae.dispatch(vt({key:"uiSe",value:XV}))}}),SEe=""+new URL("progress-bar-bg.png",import.meta.url).href,CEe=""+new URL("progress-bar.png",import.meta.url).href;var Sy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Sy.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,d=4,p=1,v=2,g=1,m=2,_=4,x=8,b=16,w=32,S=64,C=128,A=256,T=512,R=30,O="...",P=800,k=16,F=1,L=2,D=3,H=1/0,Q=9007199254740991,ee=17976931348623157e292,G=0/0,B=4294967295,V=B-1,U=B>>>1,$=[["ary",C],["bind",g],["bindKey",m],["curry",x],["curryRight",b],["flip",T],["partial",w],["partialRight",S],["rearg",A]],J="[object Arguments]",re="[object Array]",fe="[object AsyncFunction]",le="[object Boolean]",xe="[object Date]",Ae="[object DOMException]",ye="[object Error]",we="[object Function]",me="[object GeneratorFunction]",Pe="[object Map]",je="[object Number]",Le="[object Null]",ze="[object Object]",st="[object Promise]",xt="[object Proxy]",Et="[object RegExp]",it="[object Set]",ct="[object String]",bt="[object Symbol]",mr="[object Undefined]",_r="[object WeakMap]",fr="[object WeakSet]",ir="[object ArrayBuffer]",Rt="[object DataView]",Er="[object Float32Array]",_e="[object Float64Array]",Se="[object Int8Array]",Oe="[object Int16Array]",qe="[object Int32Array]",He="[object Uint8Array]",at="[object Uint8ClampedArray]",ar="[object Uint16Array]",kr="[object Uint32Array]",zn=/\b__p \+= '';/g,Yn=/\b(__p \+=) '' \+/g,Ar=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ea=/&(?:amp|lt|gt|quot|#39);/g,Si=/[&<>"']/g,Ln=RegExp(Ea.source),Sa=RegExp(Si.source),Wa=/<%-([\s\S]+?)%>/g,Ho=/<%([\s\S]+?)%>/g,Gi=/<%=([\s\S]+?)%>/g,hl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vi=/^\w*$/,go=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ci=/[\\^$.*+?()[\]{}|]/g,on=RegExp(Ci.source),aa=/^\s+/,Fu=/\s/,$d=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lb=/\{\n\/\* \[wrapped with (.+)\] \*/,ub=/,? & /,cb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fb=/[()=,{}\[\]\/\s]/,hb=/\\(\\)?/g,db=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tg=/\w*$/,pb=/^[-+]0x[0-9a-f]+$/i,vb=/^0b[01]+$/i,gb=/^\[object .+?Constructor\]$/,mb=/^0o[0-7]+$/i,_b=/^(?:0|[1-9]\d*)$/,yb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ff=/($^)/,rg=/['\n\r\u2028\u2029\\]/g,Xo="\\ud800-\\udfff",ng="\\u0300-\\u036f",dl="\\ufe20-\\ufe2f",xb="\\u20d0-\\u20ff",Nu=ng+dl+xb,hf="\\u2700-\\u27bf",ig="a-z\\xdf-\\xf6\\xf8-\\xff",bb="\\xac\\xb1\\xd7\\xf7",Gd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wb="\\u2000-\\u206f",Eb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Y="A-Z\\xc0-\\xd6\\xd8-\\xde",ne="\\ufe0e\\ufe0f",Z=bb+Gd+wb+Eb,se="[']",pe="["+Xo+"]",oe="["+Z+"]",Ee="["+Nu+"]",Re="\\d+",Fe="["+hf+"]",Ne="["+ig+"]",Be="[^"+Xo+Z+Re+hf+ig+Y+"]",et="\\ud83c[\\udffb-\\udfff]",Nt="(?:"+Ee+"|"+et+")",tr="[^"+Xo+"]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",jr="[\\ud800-\\udbff][\\udc00-\\udfff]",yr="["+Y+"]",Hi="\\u200d",pl="(?:"+Ne+"|"+Be+")",Vd="(?:"+yr+"|"+Be+")",ag="(?:"+se+"(?:d|ll|m|re|s|t|ve))?",df="(?:"+se+"(?:D|LL|M|RE|S|T|VE))?",Sb=Nt+"?",og="["+ne+"]?",Cb="(?:"+Hi+"(?:"+[tr,rr,jr].join("|")+")"+og+Sb+")*",sg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gz="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",XF=og+Sb+Cb,Vz="(?:"+[Fe,rr,jr].join("|")+")"+XF,Hz="(?:"+[tr+Ee+"?",Ee,rr,jr,pe].join("|")+")",Xz=RegExp(se,"g"),Wz=RegExp(Ee,"g"),Ab=RegExp(et+"(?="+et+")|"+Hz+XF,"g"),zz=RegExp([yr+"?"+Ne+"+"+ag+"(?="+[oe,yr,"$"].join("|")+")",Vd+"+"+df+"(?="+[oe,yr+pl,"$"].join("|")+")",yr+"?"+pl+"+"+ag,yr+"+"+df,Gz,sg,Re,Vz].join("|"),"g"),Yz=RegExp("["+Hi+Xo+Nu+ne+"]"),qz=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kz=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zz=-1,Fr={};Fr[Er]=Fr[_e]=Fr[Se]=Fr[Oe]=Fr[qe]=Fr[He]=Fr[at]=Fr[ar]=Fr[kr]=!0,Fr[J]=Fr[re]=Fr[ir]=Fr[le]=Fr[Rt]=Fr[xe]=Fr[ye]=Fr[we]=Fr[Pe]=Fr[je]=Fr[ze]=Fr[Et]=Fr[it]=Fr[ct]=Fr[_r]=!1;var Tr={};Tr[J]=Tr[re]=Tr[ir]=Tr[Rt]=Tr[le]=Tr[xe]=Tr[Er]=Tr[_e]=Tr[Se]=Tr[Oe]=Tr[qe]=Tr[Pe]=Tr[je]=Tr[ze]=Tr[Et]=Tr[it]=Tr[ct]=Tr[bt]=Tr[He]=Tr[at]=Tr[ar]=Tr[kr]=!0,Tr[ye]=Tr[we]=Tr[_r]=!1;var Jz={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Qz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eY={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tY={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rY=parseFloat,nY=parseInt,WF=typeof ot=="object"&&ot&&ot.Object===Object&&ot,iY=typeof self=="object"&&self&&self.Object===Object&&self,ci=WF||iY||Function("return this")(),Tb=e&&!e.nodeType&&e,Lu=Tb&&!0&&t&&!t.nodeType&&t,zF=Lu&&Lu.exports===Tb,Ib=zF&&WF.process,za=function(){try{var ue=Lu&&Lu.require&&Lu.require("util").types;return ue||Ib&&Ib.binding&&Ib.binding("util")}catch{}}(),YF=za&&za.isArrayBuffer,qF=za&&za.isDate,KF=za&&za.isMap,ZF=za&&za.isRegExp,JF=za&&za.isSet,QF=za&&za.isTypedArray;function Ca(ue,be,ge){switch(ge.length){case 0:return ue.call(be);case 1:return ue.call(be,ge[0]);case 2:return ue.call(be,ge[0],ge[1]);case 3:return ue.call(be,ge[0],ge[1],ge[2])}return ue.apply(be,ge)}function aY(ue,be,ge,Je){for(var Ct=-1,lr=ue==null?0:ue.length;++Ct<lr;){var Mn=ue[Ct];be(Je,Mn,ge(Mn),ue)}return Je}function Ya(ue,be){for(var ge=-1,Je=ue==null?0:ue.length;++ge<Je&&be(ue[ge],ge,ue)!==!1;);return ue}function oY(ue,be){for(var ge=ue==null?0:ue.length;ge--&&be(ue[ge],ge,ue)!==!1;);return ue}function e3(ue,be){for(var ge=-1,Je=ue==null?0:ue.length;++ge<Je;)if(!be(ue[ge],ge,ue))return!1;return!0}function vl(ue,be){for(var ge=-1,Je=ue==null?0:ue.length,Ct=0,lr=[];++ge<Je;){var Mn=ue[ge];be(Mn,ge,ue)&&(lr[Ct++]=Mn)}return lr}function lg(ue,be){var ge=ue==null?0:ue.length;return!!ge&&pf(ue,be,0)>-1}function Rb(ue,be,ge){for(var Je=-1,Ct=ue==null?0:ue.length;++Je<Ct;)if(ge(be,ue[Je]))return!0;return!1}function $r(ue,be){for(var ge=-1,Je=ue==null?0:ue.length,Ct=Array(Je);++ge<Je;)Ct[ge]=be(ue[ge],ge,ue);return Ct}function gl(ue,be){for(var ge=-1,Je=be.length,Ct=ue.length;++ge<Je;)ue[Ct+ge]=be[ge];return ue}function Pb(ue,be,ge,Je){var Ct=-1,lr=ue==null?0:ue.length;for(Je&&lr&&(ge=ue[++Ct]);++Ct<lr;)ge=be(ge,ue[Ct],Ct,ue);return ge}function sY(ue,be,ge,Je){var Ct=ue==null?0:ue.length;for(Je&&Ct&&(ge=ue[--Ct]);Ct--;)ge=be(ge,ue[Ct],Ct,ue);return ge}function Ob(ue,be){for(var ge=-1,Je=ue==null?0:ue.length;++ge<Je;)if(be(ue[ge],ge,ue))return!0;return!1}var lY=kb("length");function uY(ue){return ue.split("")}function cY(ue){return ue.match(cb)||[]}function t3(ue,be,ge){var Je;return ge(ue,function(Ct,lr,Mn){if(be(Ct,lr,Mn))return Je=lr,!1}),Je}function ug(ue,be,ge,Je){for(var Ct=ue.length,lr=ge+(Je?1:-1);Je?lr--:++lr<Ct;)if(be(ue[lr],lr,ue))return lr;return-1}function pf(ue,be,ge){return be===be?wY(ue,be,ge):ug(ue,r3,ge)}function fY(ue,be,ge,Je){for(var Ct=ge-1,lr=ue.length;++Ct<lr;)if(Je(ue[Ct],be))return Ct;return-1}function r3(ue){return ue!==ue}function n3(ue,be){var ge=ue==null?0:ue.length;return ge?Nb(ue,be)/ge:G}function kb(ue){return function(be){return be==null?r:be[ue]}}function Fb(ue){return function(be){return ue==null?r:ue[be]}}function i3(ue,be,ge,Je,Ct){return Ct(ue,function(lr,Mn,Sr){ge=Je?(Je=!1,lr):be(ge,lr,Mn,Sr)}),ge}function hY(ue,be){var ge=ue.length;for(ue.sort(be);ge--;)ue[ge]=ue[ge].value;return ue}function Nb(ue,be){for(var ge,Je=-1,Ct=ue.length;++Je<Ct;){var lr=be(ue[Je]);lr!==r&&(ge=ge===r?lr:ge+lr)}return ge}function Lb(ue,be){for(var ge=-1,Je=Array(ue);++ge<ue;)Je[ge]=be(ge);return Je}function dY(ue,be){return $r(be,function(ge){return[ge,ue[ge]]})}function a3(ue){return ue&&ue.slice(0,u3(ue)+1).replace(aa,"")}function Aa(ue){return function(be){return ue(be)}}function Mb(ue,be){return $r(be,function(ge){return ue[ge]})}function Hd(ue,be){return ue.has(be)}function o3(ue,be){for(var ge=-1,Je=ue.length;++ge<Je&&pf(be,ue[ge],0)>-1;);return ge}function s3(ue,be){for(var ge=ue.length;ge--&&pf(be,ue[ge],0)>-1;);return ge}function pY(ue,be){for(var ge=ue.length,Je=0;ge--;)ue[ge]===be&&++Je;return Je}var vY=Fb(Jz),gY=Fb(Qz);function mY(ue){return"\\"+tY[ue]}function _Y(ue,be){return ue==null?r:ue[be]}function vf(ue){return Yz.test(ue)}function yY(ue){return qz.test(ue)}function xY(ue){for(var be,ge=[];!(be=ue.next()).done;)ge.push(be.value);return ge}function Bb(ue){var be=-1,ge=Array(ue.size);return ue.forEach(function(Je,Ct){ge[++be]=[Ct,Je]}),ge}function l3(ue,be){return function(ge){return ue(be(ge))}}function ml(ue,be){for(var ge=-1,Je=ue.length,Ct=0,lr=[];++ge<Je;){var Mn=ue[ge];(Mn===be||Mn===u)&&(ue[ge]=u,lr[Ct++]=ge)}return lr}function cg(ue){var be=-1,ge=Array(ue.size);return ue.forEach(function(Je){ge[++be]=Je}),ge}function bY(ue){var be=-1,ge=Array(ue.size);return ue.forEach(function(Je){ge[++be]=[Je,Je]}),ge}function wY(ue,be,ge){for(var Je=ge-1,Ct=ue.length;++Je<Ct;)if(ue[Je]===be)return Je;return-1}function EY(ue,be,ge){for(var Je=ge+1;Je--;)if(ue[Je]===be)return Je;return Je}function gf(ue){return vf(ue)?CY(ue):lY(ue)}function mo(ue){return vf(ue)?AY(ue):uY(ue)}function u3(ue){for(var be=ue.length;be--&&Fu.test(ue.charAt(be)););return be}var SY=Fb(eY);function CY(ue){for(var be=Ab.lastIndex=0;Ab.test(ue);)++be;return be}function AY(ue){return ue.match(Ab)||[]}function TY(ue){return ue.match(zz)||[]}var IY=function ue(be){be=be==null?ci:mf.defaults(ci.Object(),be,mf.pick(ci,Kz));var ge=be.Array,Je=be.Date,Ct=be.Error,lr=be.Function,Mn=be.Math,Sr=be.Object,Db=be.RegExp,RY=be.String,qa=be.TypeError,fg=ge.prototype,PY=lr.prototype,_f=Sr.prototype,hg=be["__core-js_shared__"],dg=PY.toString,pr=_f.hasOwnProperty,OY=0,c3=function(){var y=/[^.]+$/.exec(hg&&hg.keys&&hg.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),pg=_f.toString,kY=dg.call(Sr),FY=ci._,NY=Db("^"+dg.call(pr).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vg=zF?be.Buffer:r,_l=be.Symbol,gg=be.Uint8Array,f3=vg?vg.allocUnsafe:r,mg=l3(Sr.getPrototypeOf,Sr),h3=Sr.create,d3=_f.propertyIsEnumerable,_g=fg.splice,p3=_l?_l.isConcatSpreadable:r,Xd=_l?_l.iterator:r,Mu=_l?_l.toStringTag:r,yg=function(){try{var y=$u(Sr,"defineProperty");return y({},"",{}),y}catch{}}(),LY=be.clearTimeout!==ci.clearTimeout&&be.clearTimeout,MY=Je&&Je.now!==ci.Date.now&&Je.now,BY=be.setTimeout!==ci.setTimeout&&be.setTimeout,xg=Mn.ceil,bg=Mn.floor,Ub=Sr.getOwnPropertySymbols,DY=vg?vg.isBuffer:r,v3=be.isFinite,UY=fg.join,jY=l3(Sr.keys,Sr),Bn=Mn.max,Ai=Mn.min,$Y=Je.now,GY=be.parseInt,g3=Mn.random,VY=fg.reverse,jb=$u(be,"DataView"),Wd=$u(be,"Map"),$b=$u(be,"Promise"),yf=$u(be,"Set"),zd=$u(be,"WeakMap"),Yd=$u(Sr,"create"),wg=zd&&new zd,xf={},HY=Gu(jb),XY=Gu(Wd),WY=Gu($b),zY=Gu(yf),YY=Gu(zd),Eg=_l?_l.prototype:r,qd=Eg?Eg.valueOf:r,m3=Eg?Eg.toString:r;function X(y){if(sn(y)&&!At(y)&&!(y instanceof Wt)){if(y instanceof Ka)return y;if(pr.call(y,"__wrapped__"))return _4(y)}return new Ka(y)}var bf=function(){function y(){}return function(E){if(!Jr(E))return{};if(h3)return h3(E);y.prototype=E;var I=new y;return y.prototype=r,I}}();function Sg(){}function Ka(y,E){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=r}X.templateSettings={escape:Wa,evaluate:Ho,interpolate:Gi,variable:"",imports:{_:X}},X.prototype=Sg.prototype,X.prototype.constructor=X,Ka.prototype=bf(Sg.prototype),Ka.prototype.constructor=Ka;function Wt(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function qY(){var y=new Wt(this.__wrapped__);return y.__actions__=oa(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=oa(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=oa(this.__views__),y}function KY(){if(this.__filtered__){var y=new Wt(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function ZY(){var y=this.__wrapped__.value(),E=this.__dir__,I=At(y),N=E<0,j=I?y.length:0,q=uK(0,j,this.__views__),te=q.start,ie=q.end,de=ie-te,Ce=N?ie:te-1,Te=this.__iteratees__,Ie=Te.length,Xe=0,nt=Ai(de,this.__takeCount__);if(!I||!N&&j==de&&nt==de)return $3(y,this.__actions__);var ht=[];e:for(;de--&&Xe<nt;){Ce+=E;for(var Lt=-1,dt=y[Ce];++Lt<Ie;){var Gt=Te[Lt],Zt=Gt.iteratee,Ra=Gt.type,zi=Zt(dt);if(Ra==L)dt=zi;else if(!zi){if(Ra==F)continue e;break e}}ht[Xe++]=dt}return ht}Wt.prototype=bf(Sg.prototype),Wt.prototype.constructor=Wt;function Bu(y){var E=-1,I=y==null?0:y.length;for(this.clear();++E<I;){var N=y[E];this.set(N[0],N[1])}}function JY(){this.__data__=Yd?Yd(null):{},this.size=0}function QY(y){var E=this.has(y)&&delete this.__data__[y];return this.size-=E?1:0,E}function eq(y){var E=this.__data__;if(Yd){var I=E[y];return I===c?r:I}return pr.call(E,y)?E[y]:r}function tq(y){var E=this.__data__;return Yd?E[y]!==r:pr.call(E,y)}function rq(y,E){var I=this.__data__;return this.size+=this.has(y)?0:1,I[y]=Yd&&E===r?c:E,this}Bu.prototype.clear=JY,Bu.prototype.delete=QY,Bu.prototype.get=eq,Bu.prototype.has=tq,Bu.prototype.set=rq;function Ts(y){var E=-1,I=y==null?0:y.length;for(this.clear();++E<I;){var N=y[E];this.set(N[0],N[1])}}function nq(){this.__data__=[],this.size=0}function iq(y){var E=this.__data__,I=Cg(E,y);if(I<0)return!1;var N=E.length-1;return I==N?E.pop():_g.call(E,I,1),--this.size,!0}function aq(y){var E=this.__data__,I=Cg(E,y);return I<0?r:E[I][1]}function oq(y){return Cg(this.__data__,y)>-1}function sq(y,E){var I=this.__data__,N=Cg(I,y);return N<0?(++this.size,I.push([y,E])):I[N][1]=E,this}Ts.prototype.clear=nq,Ts.prototype.delete=iq,Ts.prototype.get=aq,Ts.prototype.has=oq,Ts.prototype.set=sq;function Is(y){var E=-1,I=y==null?0:y.length;for(this.clear();++E<I;){var N=y[E];this.set(N[0],N[1])}}function lq(){this.size=0,this.__data__={hash:new Bu,map:new(Wd||Ts),string:new Bu}}function uq(y){var E=Bg(this,y).delete(y);return this.size-=E?1:0,E}function cq(y){return Bg(this,y).get(y)}function fq(y){return Bg(this,y).has(y)}function hq(y,E){var I=Bg(this,y),N=I.size;return I.set(y,E),this.size+=I.size==N?0:1,this}Is.prototype.clear=lq,Is.prototype.delete=uq,Is.prototype.get=cq,Is.prototype.has=fq,Is.prototype.set=hq;function Du(y){var E=-1,I=y==null?0:y.length;for(this.__data__=new Is;++E<I;)this.add(y[E])}function dq(y){return this.__data__.set(y,c),this}function pq(y){return this.__data__.has(y)}Du.prototype.add=Du.prototype.push=dq,Du.prototype.has=pq;function _o(y){var E=this.__data__=new Ts(y);this.size=E.size}function vq(){this.__data__=new Ts,this.size=0}function gq(y){var E=this.__data__,I=E.delete(y);return this.size=E.size,I}function mq(y){return this.__data__.get(y)}function _q(y){return this.__data__.has(y)}function yq(y,E){var I=this.__data__;if(I instanceof Ts){var N=I.__data__;if(!Wd||N.length<i-1)return N.push([y,E]),this.size=++I.size,this;I=this.__data__=new Is(N)}return I.set(y,E),this.size=I.size,this}_o.prototype.clear=vq,_o.prototype.delete=gq,_o.prototype.get=mq,_o.prototype.has=_q,_o.prototype.set=yq;function _3(y,E){var I=At(y),N=!I&&Vu(y),j=!I&&!N&&El(y),q=!I&&!N&&!j&&Cf(y),te=I||N||j||q,ie=te?Lb(y.length,RY):[],de=ie.length;for(var Ce in y)(E||pr.call(y,Ce))&&!(te&&(Ce=="length"||j&&(Ce=="offset"||Ce=="parent")||q&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||ks(Ce,de)))&&ie.push(Ce);return ie}function y3(y){var E=y.length;return E?y[Jb(0,E-1)]:r}function xq(y,E){return Dg(oa(y),Uu(E,0,y.length))}function bq(y){return Dg(oa(y))}function Gb(y,E,I){(I!==r&&!yo(y[E],I)||I===r&&!(E in y))&&Rs(y,E,I)}function Kd(y,E,I){var N=y[E];(!(pr.call(y,E)&&yo(N,I))||I===r&&!(E in y))&&Rs(y,E,I)}function Cg(y,E){for(var I=y.length;I--;)if(yo(y[I][0],E))return I;return-1}function wq(y,E,I,N){return yl(y,function(j,q,te){E(N,j,I(j),te)}),N}function x3(y,E){return y&&zo(E,qn(E),y)}function Eq(y,E){return y&&zo(E,la(E),y)}function Rs(y,E,I){E=="__proto__"&&yg?yg(y,E,{configurable:!0,enumerable:!0,value:I,writable:!0}):y[E]=I}function Vb(y,E){for(var I=-1,N=E.length,j=ge(N),q=y==null;++I<N;)j[I]=q?r:Ew(y,E[I]);return j}function Uu(y,E,I){return y===y&&(I!==r&&(y=y<=I?y:I),E!==r&&(y=y>=E?y:E)),y}function Za(y,E,I,N,j,q){var te,ie=E&f,de=E&h,Ce=E&d;if(I&&(te=j?I(y,N,j,q):I(y)),te!==r)return te;if(!Jr(y))return y;var Te=At(y);if(Te){if(te=fK(y),!ie)return oa(y,te)}else{var Ie=Ti(y),Xe=Ie==we||Ie==me;if(El(y))return H3(y,ie);if(Ie==ze||Ie==J||Xe&&!j){if(te=de||Xe?{}:u4(y),!ie)return de?eK(y,Eq(te,y)):Qq(y,x3(te,y))}else{if(!Tr[Ie])return j?y:{};te=hK(y,Ie,ie)}}q||(q=new _o);var nt=q.get(y);if(nt)return nt;q.set(y,te),D4(y)?y.forEach(function(dt){te.add(Za(dt,E,I,dt,y,q))}):M4(y)&&y.forEach(function(dt,Gt){te.set(Gt,Za(dt,E,I,Gt,y,q))});var ht=Ce?de?uw:lw:de?la:qn,Lt=Te?r:ht(y);return Ya(Lt||y,function(dt,Gt){Lt&&(Gt=dt,dt=y[Gt]),Kd(te,Gt,Za(dt,E,I,Gt,y,q))}),te}function Sq(y){var E=qn(y);return function(I){return b3(I,y,E)}}function b3(y,E,I){var N=I.length;if(y==null)return!N;for(y=Sr(y);N--;){var j=I[N],q=E[j],te=y[j];if(te===r&&!(j in y)||!q(te))return!1}return!0}function w3(y,E,I){if(typeof y!="function")throw new qa(o);return n0(function(){y.apply(r,I)},E)}function Zd(y,E,I,N){var j=-1,q=lg,te=!0,ie=y.length,de=[],Ce=E.length;if(!ie)return de;I&&(E=$r(E,Aa(I))),N?(q=Rb,te=!1):E.length>=i&&(q=Hd,te=!1,E=new Du(E));e:for(;++j<ie;){var Te=y[j],Ie=I==null?Te:I(Te);if(Te=N||Te!==0?Te:0,te&&Ie===Ie){for(var Xe=Ce;Xe--;)if(E[Xe]===Ie)continue e;de.push(Te)}else q(E,Ie,N)||de.push(Te)}return de}var yl=q3(Wo),E3=q3(Xb,!0);function Cq(y,E){var I=!0;return yl(y,function(N,j,q){return I=!!E(N,j,q),I}),I}function Ag(y,E,I){for(var N=-1,j=y.length;++N<j;){var q=y[N],te=E(q);if(te!=null&&(ie===r?te===te&&!Ia(te):I(te,ie)))var ie=te,de=q}return de}function Aq(y,E,I,N){var j=y.length;for(I=Pt(I),I<0&&(I=-I>j?0:j+I),N=N===r||N>j?j:Pt(N),N<0&&(N+=j),N=I>N?0:j4(N);I<N;)y[I++]=E;return y}function S3(y,E){var I=[];return yl(y,function(N,j,q){E(N,j,q)&&I.push(N)}),I}function fi(y,E,I,N,j){var q=-1,te=y.length;for(I||(I=pK),j||(j=[]);++q<te;){var ie=y[q];E>0&&I(ie)?E>1?fi(ie,E-1,I,N,j):gl(j,ie):N||(j[j.length]=ie)}return j}var Hb=K3(),C3=K3(!0);function Wo(y,E){return y&&Hb(y,E,qn)}function Xb(y,E){return y&&C3(y,E,qn)}function Tg(y,E){return vl(E,function(I){return Fs(y[I])})}function ju(y,E){E=bl(E,y);for(var I=0,N=E.length;y!=null&&I<N;)y=y[Yo(E[I++])];return I&&I==N?y:r}function A3(y,E,I){var N=E(y);return At(y)?N:gl(N,I(y))}function Xi(y){return y==null?y===r?mr:Le:Mu&&Mu in Sr(y)?lK(y):bK(y)}function Wb(y,E){return y>E}function Tq(y,E){return y!=null&&pr.call(y,E)}function Iq(y,E){return y!=null&&E in Sr(y)}function Rq(y,E,I){return y>=Ai(E,I)&&y<Bn(E,I)}function zb(y,E,I){for(var N=I?Rb:lg,j=y[0].length,q=y.length,te=q,ie=ge(q),de=1/0,Ce=[];te--;){var Te=y[te];te&&E&&(Te=$r(Te,Aa(E))),de=Ai(Te.length,de),ie[te]=!I&&(E||j>=120&&Te.length>=120)?new Du(te&&Te):r}Te=y[0];var Ie=-1,Xe=ie[0];e:for(;++Ie<j&&Ce.length<de;){var nt=Te[Ie],ht=E?E(nt):nt;if(nt=I||nt!==0?nt:0,!(Xe?Hd(Xe,ht):N(Ce,ht,I))){for(te=q;--te;){var Lt=ie[te];if(!(Lt?Hd(Lt,ht):N(y[te],ht,I)))continue e}Xe&&Xe.push(ht),Ce.push(nt)}}return Ce}function Pq(y,E,I,N){return Wo(y,function(j,q,te){E(N,I(j),q,te)}),N}function Jd(y,E,I){E=bl(E,y),y=d4(y,E);var N=y==null?y:y[Yo(Qa(E))];return N==null?r:Ca(N,y,I)}function T3(y){return sn(y)&&Xi(y)==J}function Oq(y){return sn(y)&&Xi(y)==ir}function kq(y){return sn(y)&&Xi(y)==xe}function Qd(y,E,I,N,j){return y===E?!0:y==null||E==null||!sn(y)&&!sn(E)?y!==y&&E!==E:Fq(y,E,I,N,Qd,j)}function Fq(y,E,I,N,j,q){var te=At(y),ie=At(E),de=te?re:Ti(y),Ce=ie?re:Ti(E);de=de==J?ze:de,Ce=Ce==J?ze:Ce;var Te=de==ze,Ie=Ce==ze,Xe=de==Ce;if(Xe&&El(y)){if(!El(E))return!1;te=!0,Te=!1}if(Xe&&!Te)return q||(q=new _o),te||Cf(y)?o4(y,E,I,N,j,q):oK(y,E,de,I,N,j,q);if(!(I&p)){var nt=Te&&pr.call(y,"__wrapped__"),ht=Ie&&pr.call(E,"__wrapped__");if(nt||ht){var Lt=nt?y.value():y,dt=ht?E.value():E;return q||(q=new _o),j(Lt,dt,I,N,q)}}return Xe?(q||(q=new _o),sK(y,E,I,N,j,q)):!1}function Nq(y){return sn(y)&&Ti(y)==Pe}function Yb(y,E,I,N){var j=I.length,q=j,te=!N;if(y==null)return!q;for(y=Sr(y);j--;){var ie=I[j];if(te&&ie[2]?ie[1]!==y[ie[0]]:!(ie[0]in y))return!1}for(;++j<q;){ie=I[j];var de=ie[0],Ce=y[de],Te=ie[1];if(te&&ie[2]){if(Ce===r&&!(de in y))return!1}else{var Ie=new _o;if(N)var Xe=N(Ce,Te,de,y,E,Ie);if(!(Xe===r?Qd(Te,Ce,p|v,N,Ie):Xe))return!1}}return!0}function I3(y){if(!Jr(y)||gK(y))return!1;var E=Fs(y)?NY:gb;return E.test(Gu(y))}function Lq(y){return sn(y)&&Xi(y)==Et}function Mq(y){return sn(y)&&Ti(y)==it}function Bq(y){return sn(y)&&Hg(y.length)&&!!Fr[Xi(y)]}function R3(y){return typeof y=="function"?y:y==null?ua:typeof y=="object"?At(y)?k3(y[0],y[1]):O3(y):Z4(y)}function qb(y){if(!r0(y))return jY(y);var E=[];for(var I in Sr(y))pr.call(y,I)&&I!="constructor"&&E.push(I);return E}function Dq(y){if(!Jr(y))return xK(y);var E=r0(y),I=[];for(var N in y)N=="constructor"&&(E||!pr.call(y,N))||I.push(N);return I}function Kb(y,E){return y<E}function P3(y,E){var I=-1,N=sa(y)?ge(y.length):[];return yl(y,function(j,q,te){N[++I]=E(j,q,te)}),N}function O3(y){var E=fw(y);return E.length==1&&E[0][2]?f4(E[0][0],E[0][1]):function(I){return I===y||Yb(I,y,E)}}function k3(y,E){return dw(y)&&c4(E)?f4(Yo(y),E):function(I){var N=Ew(I,y);return N===r&&N===E?Sw(I,y):Qd(E,N,p|v)}}function Ig(y,E,I,N,j){y!==E&&Hb(E,function(q,te){if(j||(j=new _o),Jr(q))Uq(y,E,te,I,Ig,N,j);else{var ie=N?N(vw(y,te),q,te+"",y,E,j):r;ie===r&&(ie=q),Gb(y,te,ie)}},la)}function Uq(y,E,I,N,j,q,te){var ie=vw(y,I),de=vw(E,I),Ce=te.get(de);if(Ce){Gb(y,I,Ce);return}var Te=q?q(ie,de,I+"",y,E,te):r,Ie=Te===r;if(Ie){var Xe=At(de),nt=!Xe&&El(de),ht=!Xe&&!nt&&Cf(de);Te=de,Xe||nt||ht?At(ie)?Te=ie:gn(ie)?Te=oa(ie):nt?(Ie=!1,Te=H3(de,!0)):ht?(Ie=!1,Te=X3(de,!0)):Te=[]:i0(de)||Vu(de)?(Te=ie,Vu(ie)?Te=$4(ie):(!Jr(ie)||Fs(ie))&&(Te=u4(de))):Ie=!1}Ie&&(te.set(de,Te),j(Te,de,N,q,te),te.delete(de)),Gb(y,I,Te)}function F3(y,E){var I=y.length;if(I)return E+=E<0?I:0,ks(E,I)?y[E]:r}function N3(y,E,I){E.length?E=$r(E,function(q){return At(q)?function(te){return ju(te,q.length===1?q[0]:q)}:q}):E=[ua];var N=-1;E=$r(E,Aa(ft()));var j=P3(y,function(q,te,ie){var de=$r(E,function(Ce){return Ce(q)});return{criteria:de,index:++N,value:q}});return hY(j,function(q,te){return Jq(q,te,I)})}function jq(y,E){return L3(y,E,function(I,N){return Sw(y,N)})}function L3(y,E,I){for(var N=-1,j=E.length,q={};++N<j;){var te=E[N],ie=ju(y,te);I(ie,te)&&e0(q,bl(te,y),ie)}return q}function $q(y){return function(E){return ju(E,y)}}function Zb(y,E,I,N){var j=N?fY:pf,q=-1,te=E.length,ie=y;for(y===E&&(E=oa(E)),I&&(ie=$r(y,Aa(I)));++q<te;)for(var de=0,Ce=E[q],Te=I?I(Ce):Ce;(de=j(ie,Te,de,N))>-1;)ie!==y&&_g.call(ie,de,1),_g.call(y,de,1);return y}function M3(y,E){for(var I=y?E.length:0,N=I-1;I--;){var j=E[I];if(I==N||j!==q){var q=j;ks(j)?_g.call(y,j,1):tw(y,j)}}return y}function Jb(y,E){return y+bg(g3()*(E-y+1))}function Gq(y,E,I,N){for(var j=-1,q=Bn(xg((E-y)/(I||1)),0),te=ge(q);q--;)te[N?q:++j]=y,y+=I;return te}function Qb(y,E){var I="";if(!y||E<1||E>Q)return I;do E%2&&(I+=y),E=bg(E/2),E&&(y+=y);while(E);return I}function Bt(y,E){return gw(h4(y,E,ua),y+"")}function Vq(y){return y3(Af(y))}function Hq(y,E){var I=Af(y);return Dg(I,Uu(E,0,I.length))}function e0(y,E,I,N){if(!Jr(y))return y;E=bl(E,y);for(var j=-1,q=E.length,te=q-1,ie=y;ie!=null&&++j<q;){var de=Yo(E[j]),Ce=I;if(de==="__proto__"||de==="constructor"||de==="prototype")return y;if(j!=te){var Te=ie[de];Ce=N?N(Te,de,ie):r,Ce===r&&(Ce=Jr(Te)?Te:ks(E[j+1])?[]:{})}Kd(ie,de,Ce),ie=ie[de]}return y}var B3=wg?function(y,E){return wg.set(y,E),y}:ua,Xq=yg?function(y,E){return yg(y,"toString",{configurable:!0,enumerable:!1,value:Aw(E),writable:!0})}:ua;function Wq(y){return Dg(Af(y))}function Ja(y,E,I){var N=-1,j=y.length;E<0&&(E=-E>j?0:j+E),I=I>j?j:I,I<0&&(I+=j),j=E>I?0:I-E>>>0,E>>>=0;for(var q=ge(j);++N<j;)q[N]=y[N+E];return q}function zq(y,E){var I;return yl(y,function(N,j,q){return I=E(N,j,q),!I}),!!I}function Rg(y,E,I){var N=0,j=y==null?N:y.length;if(typeof E=="number"&&E===E&&j<=U){for(;N<j;){var q=N+j>>>1,te=y[q];te!==null&&!Ia(te)&&(I?te<=E:te<E)?N=q+1:j=q}return j}return ew(y,E,ua,I)}function ew(y,E,I,N){var j=0,q=y==null?0:y.length;if(q===0)return 0;E=I(E);for(var te=E!==E,ie=E===null,de=Ia(E),Ce=E===r;j<q;){var Te=bg((j+q)/2),Ie=I(y[Te]),Xe=Ie!==r,nt=Ie===null,ht=Ie===Ie,Lt=Ia(Ie);if(te)var dt=N||ht;else Ce?dt=ht&&(N||Xe):ie?dt=ht&&Xe&&(N||!nt):de?dt=ht&&Xe&&!nt&&(N||!Lt):nt||Lt?dt=!1:dt=N?Ie<=E:Ie<E;dt?j=Te+1:q=Te}return Ai(q,V)}function D3(y,E){for(var I=-1,N=y.length,j=0,q=[];++I<N;){var te=y[I],ie=E?E(te):te;if(!I||!yo(ie,de)){var de=ie;q[j++]=te===0?0:te}}return q}function U3(y){return typeof y=="number"?y:Ia(y)?G:+y}function Ta(y){if(typeof y=="string")return y;if(At(y))return $r(y,Ta)+"";if(Ia(y))return m3?m3.call(y):"";var E=y+"";return E=="0"&&1/y==-H?"-0":E}function xl(y,E,I){var N=-1,j=lg,q=y.length,te=!0,ie=[],de=ie;if(I)te=!1,j=Rb;else if(q>=i){var Ce=E?null:iK(y);if(Ce)return cg(Ce);te=!1,j=Hd,de=new Du}else de=E?[]:ie;e:for(;++N<q;){var Te=y[N],Ie=E?E(Te):Te;if(Te=I||Te!==0?Te:0,te&&Ie===Ie){for(var Xe=de.length;Xe--;)if(de[Xe]===Ie)continue e;E&&de.push(Ie),ie.push(Te)}else j(de,Ie,I)||(de!==ie&&de.push(Ie),ie.push(Te))}return ie}function tw(y,E){return E=bl(E,y),y=d4(y,E),y==null||delete y[Yo(Qa(E))]}function j3(y,E,I,N){return e0(y,E,I(ju(y,E)),N)}function Pg(y,E,I,N){for(var j=y.length,q=N?j:-1;(N?q--:++q<j)&&E(y[q],q,y););return I?Ja(y,N?0:q,N?q+1:j):Ja(y,N?q+1:0,N?j:q)}function $3(y,E){var I=y;return I instanceof Wt&&(I=I.value()),Pb(E,function(N,j){return j.func.apply(j.thisArg,gl([N],j.args))},I)}function rw(y,E,I){var N=y.length;if(N<2)return N?xl(y[0]):[];for(var j=-1,q=ge(N);++j<N;)for(var te=y[j],ie=-1;++ie<N;)ie!=j&&(q[j]=Zd(q[j]||te,y[ie],E,I));return xl(fi(q,1),E,I)}function G3(y,E,I){for(var N=-1,j=y.length,q=E.length,te={};++N<j;){var ie=N<q?E[N]:r;I(te,y[N],ie)}return te}function nw(y){return gn(y)?y:[]}function iw(y){return typeof y=="function"?y:ua}function bl(y,E){return At(y)?y:dw(y,E)?[y]:m4(hr(y))}var Yq=Bt;function wl(y,E,I){var N=y.length;return I=I===r?N:I,!E&&I>=N?y:Ja(y,E,I)}var V3=LY||function(y){return ci.clearTimeout(y)};function H3(y,E){if(E)return y.slice();var I=y.length,N=f3?f3(I):new y.constructor(I);return y.copy(N),N}function aw(y){var E=new y.constructor(y.byteLength);return new gg(E).set(new gg(y)),E}function qq(y,E){var I=E?aw(y.buffer):y.buffer;return new y.constructor(I,y.byteOffset,y.byteLength)}function Kq(y){var E=new y.constructor(y.source,tg.exec(y));return E.lastIndex=y.lastIndex,E}function Zq(y){return qd?Sr(qd.call(y)):{}}function X3(y,E){var I=E?aw(y.buffer):y.buffer;return new y.constructor(I,y.byteOffset,y.length)}function W3(y,E){if(y!==E){var I=y!==r,N=y===null,j=y===y,q=Ia(y),te=E!==r,ie=E===null,de=E===E,Ce=Ia(E);if(!ie&&!Ce&&!q&&y>E||q&&te&&de&&!ie&&!Ce||N&&te&&de||!I&&de||!j)return 1;if(!N&&!q&&!Ce&&y<E||Ce&&I&&j&&!N&&!q||ie&&I&&j||!te&&j||!de)return-1}return 0}function Jq(y,E,I){for(var N=-1,j=y.criteria,q=E.criteria,te=j.length,ie=I.length;++N<te;){var de=W3(j[N],q[N]);if(de){if(N>=ie)return de;var Ce=I[N];return de*(Ce=="desc"?-1:1)}}return y.index-E.index}function z3(y,E,I,N){for(var j=-1,q=y.length,te=I.length,ie=-1,de=E.length,Ce=Bn(q-te,0),Te=ge(de+Ce),Ie=!N;++ie<de;)Te[ie]=E[ie];for(;++j<te;)(Ie||j<q)&&(Te[I[j]]=y[j]);for(;Ce--;)Te[ie++]=y[j++];return Te}function Y3(y,E,I,N){for(var j=-1,q=y.length,te=-1,ie=I.length,de=-1,Ce=E.length,Te=Bn(q-ie,0),Ie=ge(Te+Ce),Xe=!N;++j<Te;)Ie[j]=y[j];for(var nt=j;++de<Ce;)Ie[nt+de]=E[de];for(;++te<ie;)(Xe||j<q)&&(Ie[nt+I[te]]=y[j++]);return Ie}function oa(y,E){var I=-1,N=y.length;for(E||(E=ge(N));++I<N;)E[I]=y[I];return E}function zo(y,E,I,N){var j=!I;I||(I={});for(var q=-1,te=E.length;++q<te;){var ie=E[q],de=N?N(I[ie],y[ie],ie,I,y):r;de===r&&(de=y[ie]),j?Rs(I,ie,de):Kd(I,ie,de)}return I}function Qq(y,E){return zo(y,hw(y),E)}function eK(y,E){return zo(y,s4(y),E)}function Og(y,E){return function(I,N){var j=At(I)?aY:wq,q=E?E():{};return j(I,y,ft(N,2),q)}}function wf(y){return Bt(function(E,I){var N=-1,j=I.length,q=j>1?I[j-1]:r,te=j>2?I[2]:r;for(q=y.length>3&&typeof q=="function"?(j--,q):r,te&&Wi(I[0],I[1],te)&&(q=j<3?r:q,j=1),E=Sr(E);++N<j;){var ie=I[N];ie&&y(E,ie,N,q)}return E})}function q3(y,E){return function(I,N){if(I==null)return I;if(!sa(I))return y(I,N);for(var j=I.length,q=E?j:-1,te=Sr(I);(E?q--:++q<j)&&N(te[q],q,te)!==!1;);return I}}function K3(y){return function(E,I,N){for(var j=-1,q=Sr(E),te=N(E),ie=te.length;ie--;){var de=te[y?ie:++j];if(I(q[de],de,q)===!1)break}return E}}function tK(y,E,I){var N=E&g,j=t0(y);function q(){var te=this&&this!==ci&&this instanceof q?j:y;return te.apply(N?I:this,arguments)}return q}function Z3(y){return function(E){E=hr(E);var I=vf(E)?mo(E):r,N=I?I[0]:E.charAt(0),j=I?wl(I,1).join(""):E.slice(1);return N[y]()+j}}function Ef(y){return function(E){return Pb(q4(Y4(E).replace(Xz,"")),y,"")}}function t0(y){return function(){var E=arguments;switch(E.length){case 0:return new y;case 1:return new y(E[0]);case 2:return new y(E[0],E[1]);case 3:return new y(E[0],E[1],E[2]);case 4:return new y(E[0],E[1],E[2],E[3]);case 5:return new y(E[0],E[1],E[2],E[3],E[4]);case 6:return new y(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new y(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var I=bf(y.prototype),N=y.apply(I,E);return Jr(N)?N:I}}function rK(y,E,I){var N=t0(y);function j(){for(var q=arguments.length,te=ge(q),ie=q,de=Sf(j);ie--;)te[ie]=arguments[ie];var Ce=q<3&&te[0]!==de&&te[q-1]!==de?[]:ml(te,de);if(q-=Ce.length,q<I)return r4(y,E,kg,j.placeholder,r,te,Ce,r,r,I-q);var Te=this&&this!==ci&&this instanceof j?N:y;return Ca(Te,this,te)}return j}function J3(y){return function(E,I,N){var j=Sr(E);if(!sa(E)){var q=ft(I,3);E=qn(E),I=function(ie){return q(j[ie],ie,j)}}var te=y(E,I,N);return te>-1?j[q?E[te]:te]:r}}function Q3(y){return Os(function(E){var I=E.length,N=I,j=Ka.prototype.thru;for(y&&E.reverse();N--;){var q=E[N];if(typeof q!="function")throw new qa(o);if(j&&!te&&Mg(q)=="wrapper")var te=new Ka([],!0)}for(N=te?N:I;++N<I;){q=E[N];var ie=Mg(q),de=ie=="wrapper"?cw(q):r;de&&pw(de[0])&&de[1]==(C|x|w|A)&&!de[4].length&&de[9]==1?te=te[Mg(de[0])].apply(te,de[3]):te=q.length==1&&pw(q)?te[ie]():te.thru(q)}return function(){var Ce=arguments,Te=Ce[0];if(te&&Ce.length==1&&At(Te))return te.plant(Te).value();for(var Ie=0,Xe=I?E[Ie].apply(this,Ce):Te;++Ie<I;)Xe=E[Ie].call(this,Xe);return Xe}})}function kg(y,E,I,N,j,q,te,ie,de,Ce){var Te=E&C,Ie=E&g,Xe=E&m,nt=E&(x|b),ht=E&T,Lt=Xe?r:t0(y);function dt(){for(var Gt=arguments.length,Zt=ge(Gt),Ra=Gt;Ra--;)Zt[Ra]=arguments[Ra];if(nt)var zi=Sf(dt),Pa=pY(Zt,zi);if(N&&(Zt=z3(Zt,N,j,nt)),q&&(Zt=Y3(Zt,q,te,nt)),Gt-=Pa,nt&&Gt<Ce){var mn=ml(Zt,zi);return r4(y,E,kg,dt.placeholder,I,Zt,mn,ie,de,Ce-Gt)}var xo=Ie?I:this,Ls=Xe?xo[y]:y;return Gt=Zt.length,ie?Zt=wK(Zt,ie):ht&&Gt>1&&Zt.reverse(),Te&&de<Gt&&(Zt.length=de),this&&this!==ci&&this instanceof dt&&(Ls=Lt||t0(Ls)),Ls.apply(xo,Zt)}return dt}function e4(y,E){return function(I,N){return Pq(I,y,E(N),{})}}function Fg(y,E){return function(I,N){var j;if(I===r&&N===r)return E;if(I!==r&&(j=I),N!==r){if(j===r)return N;typeof I=="string"||typeof N=="string"?(I=Ta(I),N=Ta(N)):(I=U3(I),N=U3(N)),j=y(I,N)}return j}}function ow(y){return Os(function(E){return E=$r(E,Aa(ft())),Bt(function(I){var N=this;return y(E,function(j){return Ca(j,N,I)})})})}function Ng(y,E){E=E===r?" ":Ta(E);var I=E.length;if(I<2)return I?Qb(E,y):E;var N=Qb(E,xg(y/gf(E)));return vf(E)?wl(mo(N),0,y).join(""):N.slice(0,y)}function nK(y,E,I,N){var j=E&g,q=t0(y);function te(){for(var ie=-1,de=arguments.length,Ce=-1,Te=N.length,Ie=ge(Te+de),Xe=this&&this!==ci&&this instanceof te?q:y;++Ce<Te;)Ie[Ce]=N[Ce];for(;de--;)Ie[Ce++]=arguments[++ie];return Ca(Xe,j?I:this,Ie)}return te}function t4(y){return function(E,I,N){return N&&typeof N!="number"&&Wi(E,I,N)&&(I=N=r),E=Ns(E),I===r?(I=E,E=0):I=Ns(I),N=N===r?E<I?1:-1:Ns(N),Gq(E,I,N,y)}}function Lg(y){return function(E,I){return typeof E=="string"&&typeof I=="string"||(E=eo(E),I=eo(I)),y(E,I)}}function r4(y,E,I,N,j,q,te,ie,de,Ce){var Te=E&x,Ie=Te?te:r,Xe=Te?r:te,nt=Te?q:r,ht=Te?r:q;E|=Te?w:S,E&=~(Te?S:w),E&_||(E&=~(g|m));var Lt=[y,E,j,nt,Ie,ht,Xe,ie,de,Ce],dt=I.apply(r,Lt);return pw(y)&&p4(dt,Lt),dt.placeholder=N,v4(dt,y,E)}function sw(y){var E=Mn[y];return function(I,N){if(I=eo(I),N=N==null?0:Ai(Pt(N),292),N&&v3(I)){var j=(hr(I)+"e").split("e"),q=E(j[0]+"e"+(+j[1]+N));return j=(hr(q)+"e").split("e"),+(j[0]+"e"+(+j[1]-N))}return E(I)}}var iK=yf&&1/cg(new yf([,-0]))[1]==H?function(y){return new yf(y)}:Rw;function n4(y){return function(E){var I=Ti(E);return I==Pe?Bb(E):I==it?bY(E):dY(E,y(E))}}function Ps(y,E,I,N,j,q,te,ie){var de=E&m;if(!de&&typeof y!="function")throw new qa(o);var Ce=N?N.length:0;if(Ce||(E&=~(w|S),N=j=r),te=te===r?te:Bn(Pt(te),0),ie=ie===r?ie:Pt(ie),Ce-=j?j.length:0,E&S){var Te=N,Ie=j;N=j=r}var Xe=de?r:cw(y),nt=[y,E,I,N,j,Te,Ie,q,te,ie];if(Xe&&yK(nt,Xe),y=nt[0],E=nt[1],I=nt[2],N=nt[3],j=nt[4],ie=nt[9]=nt[9]===r?de?0:y.length:Bn(nt[9]-Ce,0),!ie&&E&(x|b)&&(E&=~(x|b)),!E||E==g)var ht=tK(y,E,I);else E==x||E==b?ht=rK(y,E,ie):(E==w||E==(g|w))&&!j.length?ht=nK(y,E,I,N):ht=kg.apply(r,nt);var Lt=Xe?B3:p4;return v4(Lt(ht,nt),y,E)}function i4(y,E,I,N){return y===r||yo(y,_f[I])&&!pr.call(N,I)?E:y}function a4(y,E,I,N,j,q){return Jr(y)&&Jr(E)&&(q.set(E,y),Ig(y,E,r,a4,q),q.delete(E)),y}function aK(y){return i0(y)?r:y}function o4(y,E,I,N,j,q){var te=I&p,ie=y.length,de=E.length;if(ie!=de&&!(te&&de>ie))return!1;var Ce=q.get(y),Te=q.get(E);if(Ce&&Te)return Ce==E&&Te==y;var Ie=-1,Xe=!0,nt=I&v?new Du:r;for(q.set(y,E),q.set(E,y);++Ie<ie;){var ht=y[Ie],Lt=E[Ie];if(N)var dt=te?N(Lt,ht,Ie,E,y,q):N(ht,Lt,Ie,y,E,q);if(dt!==r){if(dt)continue;Xe=!1;break}if(nt){if(!Ob(E,function(Gt,Zt){if(!Hd(nt,Zt)&&(ht===Gt||j(ht,Gt,I,N,q)))return nt.push(Zt)})){Xe=!1;break}}else if(!(ht===Lt||j(ht,Lt,I,N,q))){Xe=!1;break}}return q.delete(y),q.delete(E),Xe}function oK(y,E,I,N,j,q,te){switch(I){case Rt:if(y.byteLength!=E.byteLength||y.byteOffset!=E.byteOffset)return!1;y=y.buffer,E=E.buffer;case ir:return!(y.byteLength!=E.byteLength||!q(new gg(y),new gg(E)));case le:case xe:case je:return yo(+y,+E);case ye:return y.name==E.name&&y.message==E.message;case Et:case ct:return y==E+"";case Pe:var ie=Bb;case it:var de=N&p;if(ie||(ie=cg),y.size!=E.size&&!de)return!1;var Ce=te.get(y);if(Ce)return Ce==E;N|=v,te.set(y,E);var Te=o4(ie(y),ie(E),N,j,q,te);return te.delete(y),Te;case bt:if(qd)return qd.call(y)==qd.call(E)}return!1}function sK(y,E,I,N,j,q){var te=I&p,ie=lw(y),de=ie.length,Ce=lw(E),Te=Ce.length;if(de!=Te&&!te)return!1;for(var Ie=de;Ie--;){var Xe=ie[Ie];if(!(te?Xe in E:pr.call(E,Xe)))return!1}var nt=q.get(y),ht=q.get(E);if(nt&&ht)return nt==E&&ht==y;var Lt=!0;q.set(y,E),q.set(E,y);for(var dt=te;++Ie<de;){Xe=ie[Ie];var Gt=y[Xe],Zt=E[Xe];if(N)var Ra=te?N(Zt,Gt,Xe,E,y,q):N(Gt,Zt,Xe,y,E,q);if(!(Ra===r?Gt===Zt||j(Gt,Zt,I,N,q):Ra)){Lt=!1;break}dt||(dt=Xe=="constructor")}if(Lt&&!dt){var zi=y.constructor,Pa=E.constructor;zi!=Pa&&"constructor"in y&&"constructor"in E&&!(typeof zi=="function"&&zi instanceof zi&&typeof Pa=="function"&&Pa instanceof Pa)&&(Lt=!1)}return q.delete(y),q.delete(E),Lt}function Os(y){return gw(h4(y,r,b4),y+"")}function lw(y){return A3(y,qn,hw)}function uw(y){return A3(y,la,s4)}var cw=wg?function(y){return wg.get(y)}:Rw;function Mg(y){for(var E=y.name+"",I=xf[E],N=pr.call(xf,E)?I.length:0;N--;){var j=I[N],q=j.func;if(q==null||q==y)return j.name}return E}function Sf(y){var E=pr.call(X,"placeholder")?X:y;return E.placeholder}function ft(){var y=X.iteratee||Tw;return y=y===Tw?R3:y,arguments.length?y(arguments[0],arguments[1]):y}function Bg(y,E){var I=y.__data__;return vK(E)?I[typeof E=="string"?"string":"hash"]:I.map}function fw(y){for(var E=qn(y),I=E.length;I--;){var N=E[I],j=y[N];E[I]=[N,j,c4(j)]}return E}function $u(y,E){var I=_Y(y,E);return I3(I)?I:r}function lK(y){var E=pr.call(y,Mu),I=y[Mu];try{y[Mu]=r;var N=!0}catch{}var j=pg.call(y);return N&&(E?y[Mu]=I:delete y[Mu]),j}var hw=Ub?function(y){return y==null?[]:(y=Sr(y),vl(Ub(y),function(E){return d3.call(y,E)}))}:Pw,s4=Ub?function(y){for(var E=[];y;)gl(E,hw(y)),y=mg(y);return E}:Pw,Ti=Xi;(jb&&Ti(new jb(new ArrayBuffer(1)))!=Rt||Wd&&Ti(new Wd)!=Pe||$b&&Ti($b.resolve())!=st||yf&&Ti(new yf)!=it||zd&&Ti(new zd)!=_r)&&(Ti=function(y){var E=Xi(y),I=E==ze?y.constructor:r,N=I?Gu(I):"";if(N)switch(N){case HY:return Rt;case XY:return Pe;case WY:return st;case zY:return it;case YY:return _r}return E});function uK(y,E,I){for(var N=-1,j=I.length;++N<j;){var q=I[N],te=q.size;switch(q.type){case"drop":y+=te;break;case"dropRight":E-=te;break;case"take":E=Ai(E,y+te);break;case"takeRight":y=Bn(y,E-te);break}}return{start:y,end:E}}function cK(y){var E=y.match(lb);return E?E[1].split(ub):[]}function l4(y,E,I){E=bl(E,y);for(var N=-1,j=E.length,q=!1;++N<j;){var te=Yo(E[N]);if(!(q=y!=null&&I(y,te)))break;y=y[te]}return q||++N!=j?q:(j=y==null?0:y.length,!!j&&Hg(j)&&ks(te,j)&&(At(y)||Vu(y)))}function fK(y){var E=y.length,I=new y.constructor(E);return E&&typeof y[0]=="string"&&pr.call(y,"index")&&(I.index=y.index,I.input=y.input),I}function u4(y){return typeof y.constructor=="function"&&!r0(y)?bf(mg(y)):{}}function hK(y,E,I){var N=y.constructor;switch(E){case ir:return aw(y);case le:case xe:return new N(+y);case Rt:return qq(y,I);case Er:case _e:case Se:case Oe:case qe:case He:case at:case ar:case kr:return X3(y,I);case Pe:return new N;case je:case ct:return new N(y);case Et:return Kq(y);case it:return new N;case bt:return Zq(y)}}function dK(y,E){var I=E.length;if(!I)return y;var N=I-1;return E[N]=(I>1?"& ":"")+E[N],E=E.join(I>2?", ":" "),y.replace($d,`{
/* [wrapped with `+E+`] */
`)}function pK(y){return At(y)||Vu(y)||!!(p3&&y&&y[p3])}function ks(y,E){var I=typeof y;return E=E??Q,!!E&&(I=="number"||I!="symbol"&&_b.test(y))&&y>-1&&y%1==0&&y<E}function Wi(y,E,I){if(!Jr(I))return!1;var N=typeof E;return(N=="number"?sa(I)&&ks(E,I.length):N=="string"&&E in I)?yo(I[E],y):!1}function dw(y,E){if(At(y))return!1;var I=typeof y;return I=="number"||I=="symbol"||I=="boolean"||y==null||Ia(y)?!0:Vi.test(y)||!hl.test(y)||E!=null&&y in Sr(E)}function vK(y){var E=typeof y;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?y!=="__proto__":y===null}function pw(y){var E=Mg(y),I=X[E];if(typeof I!="function"||!(E in Wt.prototype))return!1;if(y===I)return!0;var N=cw(I);return!!N&&y===N[0]}function gK(y){return!!c3&&c3 in y}var mK=hg?Fs:Ow;function r0(y){var E=y&&y.constructor,I=typeof E=="function"&&E.prototype||_f;return y===I}function c4(y){return y===y&&!Jr(y)}function f4(y,E){return function(I){return I==null?!1:I[y]===E&&(E!==r||y in Sr(I))}}function _K(y){var E=Gg(y,function(N){return I.size===l&&I.clear(),N}),I=E.cache;return E}function yK(y,E){var I=y[1],N=E[1],j=I|N,q=j<(g|m|C),te=N==C&&I==x||N==C&&I==A&&y[7].length<=E[8]||N==(C|A)&&E[7].length<=E[8]&&I==x;if(!(q||te))return y;N&g&&(y[2]=E[2],j|=I&g?0:_);var ie=E[3];if(ie){var de=y[3];y[3]=de?z3(de,ie,E[4]):ie,y[4]=de?ml(y[3],u):E[4]}return ie=E[5],ie&&(de=y[5],y[5]=de?Y3(de,ie,E[6]):ie,y[6]=de?ml(y[5],u):E[6]),ie=E[7],ie&&(y[7]=ie),N&C&&(y[8]=y[8]==null?E[8]:Ai(y[8],E[8])),y[9]==null&&(y[9]=E[9]),y[0]=E[0],y[1]=j,y}function xK(y){var E=[];if(y!=null)for(var I in Sr(y))E.push(I);return E}function bK(y){return pg.call(y)}function h4(y,E,I){return E=Bn(E===r?y.length-1:E,0),function(){for(var N=arguments,j=-1,q=Bn(N.length-E,0),te=ge(q);++j<q;)te[j]=N[E+j];j=-1;for(var ie=ge(E+1);++j<E;)ie[j]=N[j];return ie[E]=I(te),Ca(y,this,ie)}}function d4(y,E){return E.length<2?y:ju(y,Ja(E,0,-1))}function wK(y,E){for(var I=y.length,N=Ai(E.length,I),j=oa(y);N--;){var q=E[N];y[N]=ks(q,I)?j[q]:r}return y}function vw(y,E){if(!(E==="constructor"&&typeof y[E]=="function")&&E!="__proto__")return y[E]}var p4=g4(B3),n0=BY||function(y,E){return ci.setTimeout(y,E)},gw=g4(Xq);function v4(y,E,I){var N=E+"";return gw(y,dK(N,EK(cK(N),I)))}function g4(y){var E=0,I=0;return function(){var N=$Y(),j=k-(N-I);if(I=N,j>0){if(++E>=P)return arguments[0]}else E=0;return y.apply(r,arguments)}}function Dg(y,E){var I=-1,N=y.length,j=N-1;for(E=E===r?N:E;++I<E;){var q=Jb(I,j),te=y[q];y[q]=y[I],y[I]=te}return y.length=E,y}var m4=_K(function(y){var E=[];return y.charCodeAt(0)===46&&E.push(""),y.replace(go,function(I,N,j,q){E.push(j?q.replace(hb,"$1"):N||I)}),E});function Yo(y){if(typeof y=="string"||Ia(y))return y;var E=y+"";return E=="0"&&1/y==-H?"-0":E}function Gu(y){if(y!=null){try{return dg.call(y)}catch{}try{return y+""}catch{}}return""}function EK(y,E){return Ya($,function(I){var N="_."+I[0];E&I[1]&&!lg(y,N)&&y.push(N)}),y.sort()}function _4(y){if(y instanceof Wt)return y.clone();var E=new Ka(y.__wrapped__,y.__chain__);return E.__actions__=oa(y.__actions__),E.__index__=y.__index__,E.__values__=y.__values__,E}function SK(y,E,I){(I?Wi(y,E,I):E===r)?E=1:E=Bn(Pt(E),0);var N=y==null?0:y.length;if(!N||E<1)return[];for(var j=0,q=0,te=ge(xg(N/E));j<N;)te[q++]=Ja(y,j,j+=E);return te}function CK(y){for(var E=-1,I=y==null?0:y.length,N=0,j=[];++E<I;){var q=y[E];q&&(j[N++]=q)}return j}function AK(){var y=arguments.length;if(!y)return[];for(var E=ge(y-1),I=arguments[0],N=y;N--;)E[N-1]=arguments[N];return gl(At(I)?oa(I):[I],fi(E,1))}var TK=Bt(function(y,E){return gn(y)?Zd(y,fi(E,1,gn,!0)):[]}),IK=Bt(function(y,E){var I=Qa(E);return gn(I)&&(I=r),gn(y)?Zd(y,fi(E,1,gn,!0),ft(I,2)):[]}),RK=Bt(function(y,E){var I=Qa(E);return gn(I)&&(I=r),gn(y)?Zd(y,fi(E,1,gn,!0),r,I):[]});function PK(y,E,I){var N=y==null?0:y.length;return N?(E=I||E===r?1:Pt(E),Ja(y,E<0?0:E,N)):[]}function OK(y,E,I){var N=y==null?0:y.length;return N?(E=I||E===r?1:Pt(E),E=N-E,Ja(y,0,E<0?0:E)):[]}function kK(y,E){return y&&y.length?Pg(y,ft(E,3),!0,!0):[]}function FK(y,E){return y&&y.length?Pg(y,ft(E,3),!0):[]}function NK(y,E,I,N){var j=y==null?0:y.length;return j?(I&&typeof I!="number"&&Wi(y,E,I)&&(I=0,N=j),Aq(y,E,I,N)):[]}function y4(y,E,I){var N=y==null?0:y.length;if(!N)return-1;var j=I==null?0:Pt(I);return j<0&&(j=Bn(N+j,0)),ug(y,ft(E,3),j)}function x4(y,E,I){var N=y==null?0:y.length;if(!N)return-1;var j=N-1;return I!==r&&(j=Pt(I),j=I<0?Bn(N+j,0):Ai(j,N-1)),ug(y,ft(E,3),j,!0)}function b4(y){var E=y==null?0:y.length;return E?fi(y,1):[]}function LK(y){var E=y==null?0:y.length;return E?fi(y,H):[]}function MK(y,E){var I=y==null?0:y.length;return I?(E=E===r?1:Pt(E),fi(y,E)):[]}function BK(y){for(var E=-1,I=y==null?0:y.length,N={};++E<I;){var j=y[E];N[j[0]]=j[1]}return N}function w4(y){return y&&y.length?y[0]:r}function DK(y,E,I){var N=y==null?0:y.length;if(!N)return-1;var j=I==null?0:Pt(I);return j<0&&(j=Bn(N+j,0)),pf(y,E,j)}function UK(y){var E=y==null?0:y.length;return E?Ja(y,0,-1):[]}var jK=Bt(function(y){var E=$r(y,nw);return E.length&&E[0]===y[0]?zb(E):[]}),$K=Bt(function(y){var E=Qa(y),I=$r(y,nw);return E===Qa(I)?E=r:I.pop(),I.length&&I[0]===y[0]?zb(I,ft(E,2)):[]}),GK=Bt(function(y){var E=Qa(y),I=$r(y,nw);return E=typeof E=="function"?E:r,E&&I.pop(),I.length&&I[0]===y[0]?zb(I,r,E):[]});function VK(y,E){return y==null?"":UY.call(y,E)}function Qa(y){var E=y==null?0:y.length;return E?y[E-1]:r}function HK(y,E,I){var N=y==null?0:y.length;if(!N)return-1;var j=N;return I!==r&&(j=Pt(I),j=j<0?Bn(N+j,0):Ai(j,N-1)),E===E?EY(y,E,j):ug(y,r3,j,!0)}function XK(y,E){return y&&y.length?F3(y,Pt(E)):r}var WK=Bt(E4);function E4(y,E){return y&&y.length&&E&&E.length?Zb(y,E):y}function zK(y,E,I){return y&&y.length&&E&&E.length?Zb(y,E,ft(I,2)):y}function YK(y,E,I){return y&&y.length&&E&&E.length?Zb(y,E,r,I):y}var qK=Os(function(y,E){var I=y==null?0:y.length,N=Vb(y,E);return M3(y,$r(E,function(j){return ks(j,I)?+j:j}).sort(W3)),N});function KK(y,E){var I=[];if(!(y&&y.length))return I;var N=-1,j=[],q=y.length;for(E=ft(E,3);++N<q;){var te=y[N];E(te,N,y)&&(I.push(te),j.push(N))}return M3(y,j),I}function mw(y){return y==null?y:VY.call(y)}function ZK(y,E,I){var N=y==null?0:y.length;return N?(I&&typeof I!="number"&&Wi(y,E,I)?(E=0,I=N):(E=E==null?0:Pt(E),I=I===r?N:Pt(I)),Ja(y,E,I)):[]}function JK(y,E){return Rg(y,E)}function QK(y,E,I){return ew(y,E,ft(I,2))}function eZ(y,E){var I=y==null?0:y.length;if(I){var N=Rg(y,E);if(N<I&&yo(y[N],E))return N}return-1}function tZ(y,E){return Rg(y,E,!0)}function rZ(y,E,I){return ew(y,E,ft(I,2),!0)}function nZ(y,E){var I=y==null?0:y.length;if(I){var N=Rg(y,E,!0)-1;if(yo(y[N],E))return N}return-1}function iZ(y){return y&&y.length?D3(y):[]}function aZ(y,E){return y&&y.length?D3(y,ft(E,2)):[]}function oZ(y){var E=y==null?0:y.length;return E?Ja(y,1,E):[]}function sZ(y,E,I){return y&&y.length?(E=I||E===r?1:Pt(E),Ja(y,0,E<0?0:E)):[]}function lZ(y,E,I){var N=y==null?0:y.length;return N?(E=I||E===r?1:Pt(E),E=N-E,Ja(y,E<0?0:E,N)):[]}function uZ(y,E){return y&&y.length?Pg(y,ft(E,3),!1,!0):[]}function cZ(y,E){return y&&y.length?Pg(y,ft(E,3)):[]}var fZ=Bt(function(y){return xl(fi(y,1,gn,!0))}),hZ=Bt(function(y){var E=Qa(y);return gn(E)&&(E=r),xl(fi(y,1,gn,!0),ft(E,2))}),dZ=Bt(function(y){var E=Qa(y);return E=typeof E=="function"?E:r,xl(fi(y,1,gn,!0),r,E)});function pZ(y){return y&&y.length?xl(y):[]}function vZ(y,E){return y&&y.length?xl(y,ft(E,2)):[]}function gZ(y,E){return E=typeof E=="function"?E:r,y&&y.length?xl(y,r,E):[]}function _w(y){if(!(y&&y.length))return[];var E=0;return y=vl(y,function(I){if(gn(I))return E=Bn(I.length,E),!0}),Lb(E,function(I){return $r(y,kb(I))})}function S4(y,E){if(!(y&&y.length))return[];var I=_w(y);return E==null?I:$r(I,function(N){return Ca(E,r,N)})}var mZ=Bt(function(y,E){return gn(y)?Zd(y,E):[]}),_Z=Bt(function(y){return rw(vl(y,gn))}),yZ=Bt(function(y){var E=Qa(y);return gn(E)&&(E=r),rw(vl(y,gn),ft(E,2))}),xZ=Bt(function(y){var E=Qa(y);return E=typeof E=="function"?E:r,rw(vl(y,gn),r,E)}),bZ=Bt(_w);function wZ(y,E){return G3(y||[],E||[],Kd)}function EZ(y,E){return G3(y||[],E||[],e0)}var SZ=Bt(function(y){var E=y.length,I=E>1?y[E-1]:r;return I=typeof I=="function"?(y.pop(),I):r,S4(y,I)});function C4(y){var E=X(y);return E.__chain__=!0,E}function CZ(y,E){return E(y),y}function Ug(y,E){return E(y)}var AZ=Os(function(y){var E=y.length,I=E?y[0]:0,N=this.__wrapped__,j=function(q){return Vb(q,y)};return E>1||this.__actions__.length||!(N instanceof Wt)||!ks(I)?this.thru(j):(N=N.slice(I,+I+(E?1:0)),N.__actions__.push({func:Ug,args:[j],thisArg:r}),new Ka(N,this.__chain__).thru(function(q){return E&&!q.length&&q.push(r),q}))});function TZ(){return C4(this)}function IZ(){return new Ka(this.value(),this.__chain__)}function RZ(){this.__values__===r&&(this.__values__=U4(this.value()));var y=this.__index__>=this.__values__.length,E=y?r:this.__values__[this.__index__++];return{done:y,value:E}}function PZ(){return this}function OZ(y){for(var E,I=this;I instanceof Sg;){var N=_4(I);N.__index__=0,N.__values__=r,E?j.__wrapped__=N:E=N;var j=N;I=I.__wrapped__}return j.__wrapped__=y,E}function kZ(){var y=this.__wrapped__;if(y instanceof Wt){var E=y;return this.__actions__.length&&(E=new Wt(this)),E=E.reverse(),E.__actions__.push({func:Ug,args:[mw],thisArg:r}),new Ka(E,this.__chain__)}return this.thru(mw)}function FZ(){return $3(this.__wrapped__,this.__actions__)}var NZ=Og(function(y,E,I){pr.call(y,I)?++y[I]:Rs(y,I,1)});function LZ(y,E,I){var N=At(y)?e3:Cq;return I&&Wi(y,E,I)&&(E=r),N(y,ft(E,3))}function MZ(y,E){var I=At(y)?vl:S3;return I(y,ft(E,3))}var BZ=J3(y4),DZ=J3(x4);function UZ(y,E){return fi(jg(y,E),1)}function jZ(y,E){return fi(jg(y,E),H)}function $Z(y,E,I){return I=I===r?1:Pt(I),fi(jg(y,E),I)}function A4(y,E){var I=At(y)?Ya:yl;return I(y,ft(E,3))}function T4(y,E){var I=At(y)?oY:E3;return I(y,ft(E,3))}var GZ=Og(function(y,E,I){pr.call(y,I)?y[I].push(E):Rs(y,I,[E])});function VZ(y,E,I,N){y=sa(y)?y:Af(y),I=I&&!N?Pt(I):0;var j=y.length;return I<0&&(I=Bn(j+I,0)),Xg(y)?I<=j&&y.indexOf(E,I)>-1:!!j&&pf(y,E,I)>-1}var HZ=Bt(function(y,E,I){var N=-1,j=typeof E=="function",q=sa(y)?ge(y.length):[];return yl(y,function(te){q[++N]=j?Ca(E,te,I):Jd(te,E,I)}),q}),XZ=Og(function(y,E,I){Rs(y,I,E)});function jg(y,E){var I=At(y)?$r:P3;return I(y,ft(E,3))}function WZ(y,E,I,N){return y==null?[]:(At(E)||(E=E==null?[]:[E]),I=N?r:I,At(I)||(I=I==null?[]:[I]),N3(y,E,I))}var zZ=Og(function(y,E,I){y[I?0:1].push(E)},function(){return[[],[]]});function YZ(y,E,I){var N=At(y)?Pb:i3,j=arguments.length<3;return N(y,ft(E,4),I,j,yl)}function qZ(y,E,I){var N=At(y)?sY:i3,j=arguments.length<3;return N(y,ft(E,4),I,j,E3)}function KZ(y,E){var I=At(y)?vl:S3;return I(y,Vg(ft(E,3)))}function ZZ(y){var E=At(y)?y3:Vq;return E(y)}function JZ(y,E,I){(I?Wi(y,E,I):E===r)?E=1:E=Pt(E);var N=At(y)?xq:Hq;return N(y,E)}function QZ(y){var E=At(y)?bq:Wq;return E(y)}function eJ(y){if(y==null)return 0;if(sa(y))return Xg(y)?gf(y):y.length;var E=Ti(y);return E==Pe||E==it?y.size:qb(y).length}function tJ(y,E,I){var N=At(y)?Ob:zq;return I&&Wi(y,E,I)&&(E=r),N(y,ft(E,3))}var rJ=Bt(function(y,E){if(y==null)return[];var I=E.length;return I>1&&Wi(y,E[0],E[1])?E=[]:I>2&&Wi(E[0],E[1],E[2])&&(E=[E[0]]),N3(y,fi(E,1),[])}),$g=MY||function(){return ci.Date.now()};function nJ(y,E){if(typeof E!="function")throw new qa(o);return y=Pt(y),function(){if(--y<1)return E.apply(this,arguments)}}function I4(y,E,I){return E=I?r:E,E=y&&E==null?y.length:E,Ps(y,C,r,r,r,r,E)}function R4(y,E){var I;if(typeof E!="function")throw new qa(o);return y=Pt(y),function(){return--y>0&&(I=E.apply(this,arguments)),y<=1&&(E=r),I}}var yw=Bt(function(y,E,I){var N=g;if(I.length){var j=ml(I,Sf(yw));N|=w}return Ps(y,N,E,I,j)}),P4=Bt(function(y,E,I){var N=g|m;if(I.length){var j=ml(I,Sf(P4));N|=w}return Ps(E,N,y,I,j)});function O4(y,E,I){E=I?r:E;var N=Ps(y,x,r,r,r,r,r,E);return N.placeholder=O4.placeholder,N}function k4(y,E,I){E=I?r:E;var N=Ps(y,b,r,r,r,r,r,E);return N.placeholder=k4.placeholder,N}function F4(y,E,I){var N,j,q,te,ie,de,Ce=0,Te=!1,Ie=!1,Xe=!0;if(typeof y!="function")throw new qa(o);E=eo(E)||0,Jr(I)&&(Te=!!I.leading,Ie="maxWait"in I,q=Ie?Bn(eo(I.maxWait)||0,E):q,Xe="trailing"in I?!!I.trailing:Xe);function nt(mn){var xo=N,Ls=j;return N=j=r,Ce=mn,te=y.apply(Ls,xo),te}function ht(mn){return Ce=mn,ie=n0(Gt,E),Te?nt(mn):te}function Lt(mn){var xo=mn-de,Ls=mn-Ce,J4=E-xo;return Ie?Ai(J4,q-Ls):J4}function dt(mn){var xo=mn-de,Ls=mn-Ce;return de===r||xo>=E||xo<0||Ie&&Ls>=q}function Gt(){var mn=$g();if(dt(mn))return Zt(mn);ie=n0(Gt,Lt(mn))}function Zt(mn){return ie=r,Xe&&N?nt(mn):(N=j=r,te)}function Ra(){ie!==r&&V3(ie),Ce=0,N=de=j=ie=r}function zi(){return ie===r?te:Zt($g())}function Pa(){var mn=$g(),xo=dt(mn);if(N=arguments,j=this,de=mn,xo){if(ie===r)return ht(de);if(Ie)return V3(ie),ie=n0(Gt,E),nt(de)}return ie===r&&(ie=n0(Gt,E)),te}return Pa.cancel=Ra,Pa.flush=zi,Pa}var iJ=Bt(function(y,E){return w3(y,1,E)}),aJ=Bt(function(y,E,I){return w3(y,eo(E)||0,I)});function oJ(y){return Ps(y,T)}function Gg(y,E){if(typeof y!="function"||E!=null&&typeof E!="function")throw new qa(o);var I=function(){var N=arguments,j=E?E.apply(this,N):N[0],q=I.cache;if(q.has(j))return q.get(j);var te=y.apply(this,N);return I.cache=q.set(j,te)||q,te};return I.cache=new(Gg.Cache||Is),I}Gg.Cache=Is;function Vg(y){if(typeof y!="function")throw new qa(o);return function(){var E=arguments;switch(E.length){case 0:return!y.call(this);case 1:return!y.call(this,E[0]);case 2:return!y.call(this,E[0],E[1]);case 3:return!y.call(this,E[0],E[1],E[2])}return!y.apply(this,E)}}function sJ(y){return R4(2,y)}var lJ=Yq(function(y,E){E=E.length==1&&At(E[0])?$r(E[0],Aa(ft())):$r(fi(E,1),Aa(ft()));var I=E.length;return Bt(function(N){for(var j=-1,q=Ai(N.length,I);++j<q;)N[j]=E[j].call(this,N[j]);return Ca(y,this,N)})}),xw=Bt(function(y,E){var I=ml(E,Sf(xw));return Ps(y,w,r,E,I)}),N4=Bt(function(y,E){var I=ml(E,Sf(N4));return Ps(y,S,r,E,I)}),uJ=Os(function(y,E){return Ps(y,A,r,r,r,E)});function cJ(y,E){if(typeof y!="function")throw new qa(o);return E=E===r?E:Pt(E),Bt(y,E)}function fJ(y,E){if(typeof y!="function")throw new qa(o);return E=E==null?0:Bn(Pt(E),0),Bt(function(I){var N=I[E],j=wl(I,0,E);return N&&gl(j,N),Ca(y,this,j)})}function hJ(y,E,I){var N=!0,j=!0;if(typeof y!="function")throw new qa(o);return Jr(I)&&(N="leading"in I?!!I.leading:N,j="trailing"in I?!!I.trailing:j),F4(y,E,{leading:N,maxWait:E,trailing:j})}function dJ(y){return I4(y,1)}function pJ(y,E){return xw(iw(E),y)}function vJ(){if(!arguments.length)return[];var y=arguments[0];return At(y)?y:[y]}function gJ(y){return Za(y,d)}function mJ(y,E){return E=typeof E=="function"?E:r,Za(y,d,E)}function _J(y){return Za(y,f|d)}function yJ(y,E){return E=typeof E=="function"?E:r,Za(y,f|d,E)}function xJ(y,E){return E==null||b3(y,E,qn(E))}function yo(y,E){return y===E||y!==y&&E!==E}var bJ=Lg(Wb),wJ=Lg(function(y,E){return y>=E}),Vu=T3(function(){return arguments}())?T3:function(y){return sn(y)&&pr.call(y,"callee")&&!d3.call(y,"callee")},At=ge.isArray,EJ=YF?Aa(YF):Oq;function sa(y){return y!=null&&Hg(y.length)&&!Fs(y)}function gn(y){return sn(y)&&sa(y)}function SJ(y){return y===!0||y===!1||sn(y)&&Xi(y)==le}var El=DY||Ow,CJ=qF?Aa(qF):kq;function AJ(y){return sn(y)&&y.nodeType===1&&!i0(y)}function TJ(y){if(y==null)return!0;if(sa(y)&&(At(y)||typeof y=="string"||typeof y.splice=="function"||El(y)||Cf(y)||Vu(y)))return!y.length;var E=Ti(y);if(E==Pe||E==it)return!y.size;if(r0(y))return!qb(y).length;for(var I in y)if(pr.call(y,I))return!1;return!0}function IJ(y,E){return Qd(y,E)}function RJ(y,E,I){I=typeof I=="function"?I:r;var N=I?I(y,E):r;return N===r?Qd(y,E,r,I):!!N}function bw(y){if(!sn(y))return!1;var E=Xi(y);return E==ye||E==Ae||typeof y.message=="string"&&typeof y.name=="string"&&!i0(y)}function PJ(y){return typeof y=="number"&&v3(y)}function Fs(y){if(!Jr(y))return!1;var E=Xi(y);return E==we||E==me||E==fe||E==xt}function L4(y){return typeof y=="number"&&y==Pt(y)}function Hg(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=Q}function Jr(y){var E=typeof y;return y!=null&&(E=="object"||E=="function")}function sn(y){return y!=null&&typeof y=="object"}var M4=KF?Aa(KF):Nq;function OJ(y,E){return y===E||Yb(y,E,fw(E))}function kJ(y,E,I){return I=typeof I=="function"?I:r,Yb(y,E,fw(E),I)}function FJ(y){return B4(y)&&y!=+y}function NJ(y){if(mK(y))throw new Ct(a);return I3(y)}function LJ(y){return y===null}function MJ(y){return y==null}function B4(y){return typeof y=="number"||sn(y)&&Xi(y)==je}function i0(y){if(!sn(y)||Xi(y)!=ze)return!1;var E=mg(y);if(E===null)return!0;var I=pr.call(E,"constructor")&&E.constructor;return typeof I=="function"&&I instanceof I&&dg.call(I)==kY}var ww=ZF?Aa(ZF):Lq;function BJ(y){return L4(y)&&y>=-Q&&y<=Q}var D4=JF?Aa(JF):Mq;function Xg(y){return typeof y=="string"||!At(y)&&sn(y)&&Xi(y)==ct}function Ia(y){return typeof y=="symbol"||sn(y)&&Xi(y)==bt}var Cf=QF?Aa(QF):Bq;function DJ(y){return y===r}function UJ(y){return sn(y)&&Ti(y)==_r}function jJ(y){return sn(y)&&Xi(y)==fr}var $J=Lg(Kb),GJ=Lg(function(y,E){return y<=E});function U4(y){if(!y)return[];if(sa(y))return Xg(y)?mo(y):oa(y);if(Xd&&y[Xd])return xY(y[Xd]());var E=Ti(y),I=E==Pe?Bb:E==it?cg:Af;return I(y)}function Ns(y){if(!y)return y===0?y:0;if(y=eo(y),y===H||y===-H){var E=y<0?-1:1;return E*ee}return y===y?y:0}function Pt(y){var E=Ns(y),I=E%1;return E===E?I?E-I:E:0}function j4(y){return y?Uu(Pt(y),0,B):0}function eo(y){if(typeof y=="number")return y;if(Ia(y))return G;if(Jr(y)){var E=typeof y.valueOf=="function"?y.valueOf():y;y=Jr(E)?E+"":E}if(typeof y!="string")return y===0?y:+y;y=a3(y);var I=vb.test(y);return I||mb.test(y)?nY(y.slice(2),I?2:8):pb.test(y)?G:+y}function $4(y){return zo(y,la(y))}function VJ(y){return y?Uu(Pt(y),-Q,Q):y===0?y:0}function hr(y){return y==null?"":Ta(y)}var HJ=wf(function(y,E){if(r0(E)||sa(E)){zo(E,qn(E),y);return}for(var I in E)pr.call(E,I)&&Kd(y,I,E[I])}),G4=wf(function(y,E){zo(E,la(E),y)}),Wg=wf(function(y,E,I,N){zo(E,la(E),y,N)}),XJ=wf(function(y,E,I,N){zo(E,qn(E),y,N)}),WJ=Os(Vb);function zJ(y,E){var I=bf(y);return E==null?I:x3(I,E)}var YJ=Bt(function(y,E){y=Sr(y);var I=-1,N=E.length,j=N>2?E[2]:r;for(j&&Wi(E[0],E[1],j)&&(N=1);++I<N;)for(var q=E[I],te=la(q),ie=-1,de=te.length;++ie<de;){var Ce=te[ie],Te=y[Ce];(Te===r||yo(Te,_f[Ce])&&!pr.call(y,Ce))&&(y[Ce]=q[Ce])}return y}),qJ=Bt(function(y){return y.push(r,a4),Ca(V4,r,y)});function KJ(y,E){return t3(y,ft(E,3),Wo)}function ZJ(y,E){return t3(y,ft(E,3),Xb)}function JJ(y,E){return y==null?y:Hb(y,ft(E,3),la)}function QJ(y,E){return y==null?y:C3(y,ft(E,3),la)}function eQ(y,E){return y&&Wo(y,ft(E,3))}function tQ(y,E){return y&&Xb(y,ft(E,3))}function rQ(y){return y==null?[]:Tg(y,qn(y))}function nQ(y){return y==null?[]:Tg(y,la(y))}function Ew(y,E,I){var N=y==null?r:ju(y,E);return N===r?I:N}function iQ(y,E){return y!=null&&l4(y,E,Tq)}function Sw(y,E){return y!=null&&l4(y,E,Iq)}var aQ=e4(function(y,E,I){E!=null&&typeof E.toString!="function"&&(E=pg.call(E)),y[E]=I},Aw(ua)),oQ=e4(function(y,E,I){E!=null&&typeof E.toString!="function"&&(E=pg.call(E)),pr.call(y,E)?y[E].push(I):y[E]=[I]},ft),sQ=Bt(Jd);function qn(y){return sa(y)?_3(y):qb(y)}function la(y){return sa(y)?_3(y,!0):Dq(y)}function lQ(y,E){var I={};return E=ft(E,3),Wo(y,function(N,j,q){Rs(I,E(N,j,q),N)}),I}function uQ(y,E){var I={};return E=ft(E,3),Wo(y,function(N,j,q){Rs(I,j,E(N,j,q))}),I}var cQ=wf(function(y,E,I){Ig(y,E,I)}),V4=wf(function(y,E,I,N){Ig(y,E,I,N)}),fQ=Os(function(y,E){var I={};if(y==null)return I;var N=!1;E=$r(E,function(q){return q=bl(q,y),N||(N=q.length>1),q}),zo(y,uw(y),I),N&&(I=Za(I,f|h|d,aK));for(var j=E.length;j--;)tw(I,E[j]);return I});function hQ(y,E){return H4(y,Vg(ft(E)))}var dQ=Os(function(y,E){return y==null?{}:jq(y,E)});function H4(y,E){if(y==null)return{};var I=$r(uw(y),function(N){return[N]});return E=ft(E),L3(y,I,function(N,j){return E(N,j[0])})}function pQ(y,E,I){E=bl(E,y);var N=-1,j=E.length;for(j||(j=1,y=r);++N<j;){var q=y==null?r:y[Yo(E[N])];q===r&&(N=j,q=I),y=Fs(q)?q.call(y):q}return y}function vQ(y,E,I){return y==null?y:e0(y,E,I)}function gQ(y,E,I,N){return N=typeof N=="function"?N:r,y==null?y:e0(y,E,I,N)}var X4=n4(qn),W4=n4(la);function mQ(y,E,I){var N=At(y),j=N||El(y)||Cf(y);if(E=ft(E,4),I==null){var q=y&&y.constructor;j?I=N?new q:[]:Jr(y)?I=Fs(q)?bf(mg(y)):{}:I={}}return(j?Ya:Wo)(y,function(te,ie,de){return E(I,te,ie,de)}),I}function _Q(y,E){return y==null?!0:tw(y,E)}function yQ(y,E,I){return y==null?y:j3(y,E,iw(I))}function xQ(y,E,I,N){return N=typeof N=="function"?N:r,y==null?y:j3(y,E,iw(I),N)}function Af(y){return y==null?[]:Mb(y,qn(y))}function bQ(y){return y==null?[]:Mb(y,la(y))}function wQ(y,E,I){return I===r&&(I=E,E=r),I!==r&&(I=eo(I),I=I===I?I:0),E!==r&&(E=eo(E),E=E===E?E:0),Uu(eo(y),E,I)}function EQ(y,E,I){return E=Ns(E),I===r?(I=E,E=0):I=Ns(I),y=eo(y),Rq(y,E,I)}function SQ(y,E,I){if(I&&typeof I!="boolean"&&Wi(y,E,I)&&(E=I=r),I===r&&(typeof E=="boolean"?(I=E,E=r):typeof y=="boolean"&&(I=y,y=r)),y===r&&E===r?(y=0,E=1):(y=Ns(y),E===r?(E=y,y=0):E=Ns(E)),y>E){var N=y;y=E,E=N}if(I||y%1||E%1){var j=g3();return Ai(y+j*(E-y+rY("1e-"+((j+"").length-1))),E)}return Jb(y,E)}var CQ=Ef(function(y,E,I){return E=E.toLowerCase(),y+(I?z4(E):E)});function z4(y){return Cw(hr(y).toLowerCase())}function Y4(y){return y=hr(y),y&&y.replace(yb,vY).replace(Wz,"")}function AQ(y,E,I){y=hr(y),E=Ta(E);var N=y.length;I=I===r?N:Uu(Pt(I),0,N);var j=I;return I-=E.length,I>=0&&y.slice(I,j)==E}function TQ(y){return y=hr(y),y&&Sa.test(y)?y.replace(Si,gY):y}function IQ(y){return y=hr(y),y&&on.test(y)?y.replace(Ci,"\\$&"):y}var RQ=Ef(function(y,E,I){return y+(I?"-":"")+E.toLowerCase()}),PQ=Ef(function(y,E,I){return y+(I?" ":"")+E.toLowerCase()}),OQ=Z3("toLowerCase");function kQ(y,E,I){y=hr(y),E=Pt(E);var N=E?gf(y):0;if(!E||N>=E)return y;var j=(E-N)/2;return Ng(bg(j),I)+y+Ng(xg(j),I)}function FQ(y,E,I){y=hr(y),E=Pt(E);var N=E?gf(y):0;return E&&N<E?y+Ng(E-N,I):y}function NQ(y,E,I){y=hr(y),E=Pt(E);var N=E?gf(y):0;return E&&N<E?Ng(E-N,I)+y:y}function LQ(y,E,I){return I||E==null?E=0:E&&(E=+E),GY(hr(y).replace(aa,""),E||0)}function MQ(y,E,I){return(I?Wi(y,E,I):E===r)?E=1:E=Pt(E),Qb(hr(y),E)}function BQ(){var y=arguments,E=hr(y[0]);return y.length<3?E:E.replace(y[1],y[2])}var DQ=Ef(function(y,E,I){return y+(I?"_":"")+E.toLowerCase()});function UQ(y,E,I){return I&&typeof I!="number"&&Wi(y,E,I)&&(E=I=r),I=I===r?B:I>>>0,I?(y=hr(y),y&&(typeof E=="string"||E!=null&&!ww(E))&&(E=Ta(E),!E&&vf(y))?wl(mo(y),0,I):y.split(E,I)):[]}var jQ=Ef(function(y,E,I){return y+(I?" ":"")+Cw(E)});function $Q(y,E,I){return y=hr(y),I=I==null?0:Uu(Pt(I),0,y.length),E=Ta(E),y.slice(I,I+E.length)==E}function GQ(y,E,I){var N=X.templateSettings;I&&Wi(y,E,I)&&(E=r),y=hr(y),E=Wg({},E,N,i4);var j=Wg({},E.imports,N.imports,i4),q=qn(j),te=Mb(j,q),ie,de,Ce=0,Te=E.interpolate||ff,Ie="__p += '",Xe=Db((E.escape||ff).source+"|"+Te.source+"|"+(Te===Gi?db:ff).source+"|"+(E.evaluate||ff).source+"|$","g"),nt="//# sourceURL="+(pr.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zz+"]")+`
`;y.replace(Xe,function(dt,Gt,Zt,Ra,zi,Pa){return Zt||(Zt=Ra),Ie+=y.slice(Ce,Pa).replace(rg,mY),Gt&&(ie=!0,Ie+=`' +
__e(`+Gt+`) +
'`),zi&&(de=!0,Ie+=`';
`+zi+`;
__p += '`),Zt&&(Ie+=`' +
((__t = (`+Zt+`)) == null ? '' : __t) +
'`),Ce=Pa+dt.length,dt}),Ie+=`';
`;var ht=pr.call(E,"variable")&&E.variable;if(!ht)Ie=`with (obj) {
`+Ie+`
}
`;else if(fb.test(ht))throw new Ct(s);Ie=(de?Ie.replace(zn,""):Ie).replace(Yn,"$1").replace(Ar,"$1;"),Ie="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var Lt=K4(function(){return lr(q,nt+"return "+Ie).apply(r,te)});if(Lt.source=Ie,bw(Lt))throw Lt;return Lt}function VQ(y){return hr(y).toLowerCase()}function HQ(y){return hr(y).toUpperCase()}function XQ(y,E,I){if(y=hr(y),y&&(I||E===r))return a3(y);if(!y||!(E=Ta(E)))return y;var N=mo(y),j=mo(E),q=o3(N,j),te=s3(N,j)+1;return wl(N,q,te).join("")}function WQ(y,E,I){if(y=hr(y),y&&(I||E===r))return y.slice(0,u3(y)+1);if(!y||!(E=Ta(E)))return y;var N=mo(y),j=s3(N,mo(E))+1;return wl(N,0,j).join("")}function zQ(y,E,I){if(y=hr(y),y&&(I||E===r))return y.replace(aa,"");if(!y||!(E=Ta(E)))return y;var N=mo(y),j=o3(N,mo(E));return wl(N,j).join("")}function YQ(y,E){var I=R,N=O;if(Jr(E)){var j="separator"in E?E.separator:j;I="length"in E?Pt(E.length):I,N="omission"in E?Ta(E.omission):N}y=hr(y);var q=y.length;if(vf(y)){var te=mo(y);q=te.length}if(I>=q)return y;var ie=I-gf(N);if(ie<1)return N;var de=te?wl(te,0,ie).join(""):y.slice(0,ie);if(j===r)return de+N;if(te&&(ie+=de.length-ie),ww(j)){if(y.slice(ie).search(j)){var Ce,Te=de;for(j.global||(j=Db(j.source,hr(tg.exec(j))+"g")),j.lastIndex=0;Ce=j.exec(Te);)var Ie=Ce.index;de=de.slice(0,Ie===r?ie:Ie)}}else if(y.indexOf(Ta(j),ie)!=ie){var Xe=de.lastIndexOf(j);Xe>-1&&(de=de.slice(0,Xe))}return de+N}function qQ(y){return y=hr(y),y&&Ln.test(y)?y.replace(Ea,SY):y}var KQ=Ef(function(y,E,I){return y+(I?" ":"")+E.toUpperCase()}),Cw=Z3("toUpperCase");function q4(y,E,I){return y=hr(y),E=I?r:E,E===r?yY(y)?TY(y):cY(y):y.match(E)||[]}var K4=Bt(function(y,E){try{return Ca(y,r,E)}catch(I){return bw(I)?I:new Ct(I)}}),ZQ=Os(function(y,E){return Ya(E,function(I){I=Yo(I),Rs(y,I,yw(y[I],y))}),y});function JQ(y){var E=y==null?0:y.length,I=ft();return y=E?$r(y,function(N){if(typeof N[1]!="function")throw new qa(o);return[I(N[0]),N[1]]}):[],Bt(function(N){for(var j=-1;++j<E;){var q=y[j];if(Ca(q[0],this,N))return Ca(q[1],this,N)}})}function QQ(y){return Sq(Za(y,f))}function Aw(y){return function(){return y}}function eee(y,E){return y==null||y!==y?E:y}var tee=Q3(),ree=Q3(!0);function ua(y){return y}function Tw(y){return R3(typeof y=="function"?y:Za(y,f))}function nee(y){return O3(Za(y,f))}function iee(y,E){return k3(y,Za(E,f))}var aee=Bt(function(y,E){return function(I){return Jd(I,y,E)}}),oee=Bt(function(y,E){return function(I){return Jd(y,I,E)}});function Iw(y,E,I){var N=qn(E),j=Tg(E,N);I==null&&!(Jr(E)&&(j.length||!N.length))&&(I=E,E=y,y=this,j=Tg(E,qn(E)));var q=!(Jr(I)&&"chain"in I)||!!I.chain,te=Fs(y);return Ya(j,function(ie){var de=E[ie];y[ie]=de,te&&(y.prototype[ie]=function(){var Ce=this.__chain__;if(q||Ce){var Te=y(this.__wrapped__),Ie=Te.__actions__=oa(this.__actions__);return Ie.push({func:de,args:arguments,thisArg:y}),Te.__chain__=Ce,Te}return de.apply(y,gl([this.value()],arguments))})}),y}function see(){return ci._===this&&(ci._=FY),this}function Rw(){}function lee(y){return y=Pt(y),Bt(function(E){return F3(E,y)})}var uee=ow($r),cee=ow(e3),fee=ow(Ob);function Z4(y){return dw(y)?kb(Yo(y)):$q(y)}function hee(y){return function(E){return y==null?r:ju(y,E)}}var dee=t4(),pee=t4(!0);function Pw(){return[]}function Ow(){return!1}function vee(){return{}}function gee(){return""}function mee(){return!0}function _ee(y,E){if(y=Pt(y),y<1||y>Q)return[];var I=B,N=Ai(y,B);E=ft(E),y-=B;for(var j=Lb(N,E);++I<y;)E(I);return j}function yee(y){return At(y)?$r(y,Yo):Ia(y)?[y]:oa(m4(hr(y)))}function xee(y){var E=++OY;return hr(y)+E}var bee=Fg(function(y,E){return y+E},0),wee=sw("ceil"),Eee=Fg(function(y,E){return y/E},1),See=sw("floor");function Cee(y){return y&&y.length?Ag(y,ua,Wb):r}function Aee(y,E){return y&&y.length?Ag(y,ft(E,2),Wb):r}function Tee(y){return n3(y,ua)}function Iee(y,E){return n3(y,ft(E,2))}function Ree(y){return y&&y.length?Ag(y,ua,Kb):r}function Pee(y,E){return y&&y.length?Ag(y,ft(E,2),Kb):r}var Oee=Fg(function(y,E){return y*E},1),kee=sw("round"),Fee=Fg(function(y,E){return y-E},0);function Nee(y){return y&&y.length?Nb(y,ua):0}function Lee(y,E){return y&&y.length?Nb(y,ft(E,2)):0}return X.after=nJ,X.ary=I4,X.assign=HJ,X.assignIn=G4,X.assignInWith=Wg,X.assignWith=XJ,X.at=WJ,X.before=R4,X.bind=yw,X.bindAll=ZQ,X.bindKey=P4,X.castArray=vJ,X.chain=C4,X.chunk=SK,X.compact=CK,X.concat=AK,X.cond=JQ,X.conforms=QQ,X.constant=Aw,X.countBy=NZ,X.create=zJ,X.curry=O4,X.curryRight=k4,X.debounce=F4,X.defaults=YJ,X.defaultsDeep=qJ,X.defer=iJ,X.delay=aJ,X.difference=TK,X.differenceBy=IK,X.differenceWith=RK,X.drop=PK,X.dropRight=OK,X.dropRightWhile=kK,X.dropWhile=FK,X.fill=NK,X.filter=MZ,X.flatMap=UZ,X.flatMapDeep=jZ,X.flatMapDepth=$Z,X.flatten=b4,X.flattenDeep=LK,X.flattenDepth=MK,X.flip=oJ,X.flow=tee,X.flowRight=ree,X.fromPairs=BK,X.functions=rQ,X.functionsIn=nQ,X.groupBy=GZ,X.initial=UK,X.intersection=jK,X.intersectionBy=$K,X.intersectionWith=GK,X.invert=aQ,X.invertBy=oQ,X.invokeMap=HZ,X.iteratee=Tw,X.keyBy=XZ,X.keys=qn,X.keysIn=la,X.map=jg,X.mapKeys=lQ,X.mapValues=uQ,X.matches=nee,X.matchesProperty=iee,X.memoize=Gg,X.merge=cQ,X.mergeWith=V4,X.method=aee,X.methodOf=oee,X.mixin=Iw,X.negate=Vg,X.nthArg=lee,X.omit=fQ,X.omitBy=hQ,X.once=sJ,X.orderBy=WZ,X.over=uee,X.overArgs=lJ,X.overEvery=cee,X.overSome=fee,X.partial=xw,X.partialRight=N4,X.partition=zZ,X.pick=dQ,X.pickBy=H4,X.property=Z4,X.propertyOf=hee,X.pull=WK,X.pullAll=E4,X.pullAllBy=zK,X.pullAllWith=YK,X.pullAt=qK,X.range=dee,X.rangeRight=pee,X.rearg=uJ,X.reject=KZ,X.remove=KK,X.rest=cJ,X.reverse=mw,X.sampleSize=JZ,X.set=vQ,X.setWith=gQ,X.shuffle=QZ,X.slice=ZK,X.sortBy=rJ,X.sortedUniq=iZ,X.sortedUniqBy=aZ,X.split=UQ,X.spread=fJ,X.tail=oZ,X.take=sZ,X.takeRight=lZ,X.takeRightWhile=uZ,X.takeWhile=cZ,X.tap=CZ,X.throttle=hJ,X.thru=Ug,X.toArray=U4,X.toPairs=X4,X.toPairsIn=W4,X.toPath=yee,X.toPlainObject=$4,X.transform=mQ,X.unary=dJ,X.union=fZ,X.unionBy=hZ,X.unionWith=dZ,X.uniq=pZ,X.uniqBy=vZ,X.uniqWith=gZ,X.unset=_Q,X.unzip=_w,X.unzipWith=S4,X.update=yQ,X.updateWith=xQ,X.values=Af,X.valuesIn=bQ,X.without=mZ,X.words=q4,X.wrap=pJ,X.xor=_Z,X.xorBy=yZ,X.xorWith=xZ,X.zip=bZ,X.zipObject=wZ,X.zipObjectDeep=EZ,X.zipWith=SZ,X.entries=X4,X.entriesIn=W4,X.extend=G4,X.extendWith=Wg,Iw(X,X),X.add=bee,X.attempt=K4,X.camelCase=CQ,X.capitalize=z4,X.ceil=wee,X.clamp=wQ,X.clone=gJ,X.cloneDeep=_J,X.cloneDeepWith=yJ,X.cloneWith=mJ,X.conformsTo=xJ,X.deburr=Y4,X.defaultTo=eee,X.divide=Eee,X.endsWith=AQ,X.eq=yo,X.escape=TQ,X.escapeRegExp=IQ,X.every=LZ,X.find=BZ,X.findIndex=y4,X.findKey=KJ,X.findLast=DZ,X.findLastIndex=x4,X.findLastKey=ZJ,X.floor=See,X.forEach=A4,X.forEachRight=T4,X.forIn=JJ,X.forInRight=QJ,X.forOwn=eQ,X.forOwnRight=tQ,X.get=Ew,X.gt=bJ,X.gte=wJ,X.has=iQ,X.hasIn=Sw,X.head=w4,X.identity=ua,X.includes=VZ,X.indexOf=DK,X.inRange=EQ,X.invoke=sQ,X.isArguments=Vu,X.isArray=At,X.isArrayBuffer=EJ,X.isArrayLike=sa,X.isArrayLikeObject=gn,X.isBoolean=SJ,X.isBuffer=El,X.isDate=CJ,X.isElement=AJ,X.isEmpty=TJ,X.isEqual=IJ,X.isEqualWith=RJ,X.isError=bw,X.isFinite=PJ,X.isFunction=Fs,X.isInteger=L4,X.isLength=Hg,X.isMap=M4,X.isMatch=OJ,X.isMatchWith=kJ,X.isNaN=FJ,X.isNative=NJ,X.isNil=MJ,X.isNull=LJ,X.isNumber=B4,X.isObject=Jr,X.isObjectLike=sn,X.isPlainObject=i0,X.isRegExp=ww,X.isSafeInteger=BJ,X.isSet=D4,X.isString=Xg,X.isSymbol=Ia,X.isTypedArray=Cf,X.isUndefined=DJ,X.isWeakMap=UJ,X.isWeakSet=jJ,X.join=VK,X.kebabCase=RQ,X.last=Qa,X.lastIndexOf=HK,X.lowerCase=PQ,X.lowerFirst=OQ,X.lt=$J,X.lte=GJ,X.max=Cee,X.maxBy=Aee,X.mean=Tee,X.meanBy=Iee,X.min=Ree,X.minBy=Pee,X.stubArray=Pw,X.stubFalse=Ow,X.stubObject=vee,X.stubString=gee,X.stubTrue=mee,X.multiply=Oee,X.nth=XK,X.noConflict=see,X.noop=Rw,X.now=$g,X.pad=kQ,X.padEnd=FQ,X.padStart=NQ,X.parseInt=LQ,X.random=SQ,X.reduce=YZ,X.reduceRight=qZ,X.repeat=MQ,X.replace=BQ,X.result=pQ,X.round=kee,X.runInContext=ue,X.sample=ZZ,X.size=eJ,X.snakeCase=DQ,X.some=tJ,X.sortedIndex=JK,X.sortedIndexBy=QK,X.sortedIndexOf=eZ,X.sortedLastIndex=tZ,X.sortedLastIndexBy=rZ,X.sortedLastIndexOf=nZ,X.startCase=jQ,X.startsWith=$Q,X.subtract=Fee,X.sum=Nee,X.sumBy=Lee,X.template=GQ,X.times=_ee,X.toFinite=Ns,X.toInteger=Pt,X.toLength=j4,X.toLower=VQ,X.toNumber=eo,X.toSafeInteger=VJ,X.toString=hr,X.toUpper=HQ,X.trim=XQ,X.trimEnd=WQ,X.trimStart=zQ,X.truncate=YQ,X.unescape=qQ,X.uniqueId=xee,X.upperCase=KQ,X.upperFirst=Cw,X.each=A4,X.eachRight=T4,X.first=w4,Iw(X,function(){var y={};return Wo(X,function(E,I){pr.call(X.prototype,I)||(y[I]=E)}),y}(),{chain:!1}),X.VERSION=n,Ya(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){X[y].placeholder=X}),Ya(["drop","take"],function(y,E){Wt.prototype[y]=function(I){I=I===r?1:Bn(Pt(I),0);var N=this.__filtered__&&!E?new Wt(this):this.clone();return N.__filtered__?N.__takeCount__=Ai(I,N.__takeCount__):N.__views__.push({size:Ai(I,B),type:y+(N.__dir__<0?"Right":"")}),N},Wt.prototype[y+"Right"]=function(I){return this.reverse()[y](I).reverse()}}),Ya(["filter","map","takeWhile"],function(y,E){var I=E+1,N=I==F||I==D;Wt.prototype[y]=function(j){var q=this.clone();return q.__iteratees__.push({iteratee:ft(j,3),type:I}),q.__filtered__=q.__filtered__||N,q}}),Ya(["head","last"],function(y,E){var I="take"+(E?"Right":"");Wt.prototype[y]=function(){return this[I](1).value()[0]}}),Ya(["initial","tail"],function(y,E){var I="drop"+(E?"":"Right");Wt.prototype[y]=function(){return this.__filtered__?new Wt(this):this[I](1)}}),Wt.prototype.compact=function(){return this.filter(ua)},Wt.prototype.find=function(y){return this.filter(y).head()},Wt.prototype.findLast=function(y){return this.reverse().find(y)},Wt.prototype.invokeMap=Bt(function(y,E){return typeof y=="function"?new Wt(this):this.map(function(I){return Jd(I,y,E)})}),Wt.prototype.reject=function(y){return this.filter(Vg(ft(y)))},Wt.prototype.slice=function(y,E){y=Pt(y);var I=this;return I.__filtered__&&(y>0||E<0)?new Wt(I):(y<0?I=I.takeRight(-y):y&&(I=I.drop(y)),E!==r&&(E=Pt(E),I=E<0?I.dropRight(-E):I.take(E-y)),I)},Wt.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Wt.prototype.toArray=function(){return this.take(B)},Wo(Wt.prototype,function(y,E){var I=/^(?:filter|find|map|reject)|While$/.test(E),N=/^(?:head|last)$/.test(E),j=X[N?"take"+(E=="last"?"Right":""):E],q=N||/^find/.test(E);j&&(X.prototype[E]=function(){var te=this.__wrapped__,ie=N?[1]:arguments,de=te instanceof Wt,Ce=ie[0],Te=de||At(te),Ie=function(Gt){var Zt=j.apply(X,gl([Gt],ie));return N&&Xe?Zt[0]:Zt};Te&&I&&typeof Ce=="function"&&Ce.length!=1&&(de=Te=!1);var Xe=this.__chain__,nt=!!this.__actions__.length,ht=q&&!Xe,Lt=de&&!nt;if(!q&&Te){te=Lt?te:new Wt(this);var dt=y.apply(te,ie);return dt.__actions__.push({func:Ug,args:[Ie],thisArg:r}),new Ka(dt,Xe)}return ht&&Lt?y.apply(this,ie):(dt=this.thru(Ie),ht?N?dt.value()[0]:dt.value():dt)})}),Ya(["pop","push","shift","sort","splice","unshift"],function(y){var E=fg[y],I=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",N=/^(?:pop|shift)$/.test(y);X.prototype[y]=function(){var j=arguments;if(N&&!this.__chain__){var q=this.value();return E.apply(At(q)?q:[],j)}return this[I](function(te){return E.apply(At(te)?te:[],j)})}}),Wo(Wt.prototype,function(y,E){var I=X[E];if(I){var N=I.name+"";pr.call(xf,N)||(xf[N]=[]),xf[N].push({name:E,func:I})}}),xf[kg(r,m).name]=[{name:"wrapper",func:r}],Wt.prototype.clone=qY,Wt.prototype.reverse=KY,Wt.prototype.value=ZY,X.prototype.at=AZ,X.prototype.chain=TZ,X.prototype.commit=IZ,X.prototype.next=RZ,X.prototype.plant=OZ,X.prototype.reverse=kZ,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=FZ,X.prototype.first=X.prototype.head,Xd&&(X.prototype[Xd]=PZ),X},mf=IY();Lu?((Lu.exports=mf)._=mf,Tb._=mf):ci._=mf}).call(ot)})(Sy,Sy.exports);var nO=Sy.exports;const Ic={height:1440,width:2560};function _u(t){const e=t||window.localStorage.getItem("game-screen-size"),r=(e==null?void 0:e.split("x"))??[];return(r==null?void 0:r.length)>0&&(Ic.width=Number(r[0])*2,Ic.height=Number(r[1])*2),Ic}function zt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const WV={};function AEe(t){const e={};for(const[r,n]of Object.entries(t))e[r]=WV[n.scriptType]={scriptString:r,...n};return e}const mt=t=>{const e=_u().width==2560?.5:.33333;return(typeof t=="string"?Number(t):t)/e};function vr(t){const e={};return t&&(t.x!==void 0&&(e.left=mt(t.x)+"px",e.position="absolute"),t.y!==void 0&&(e.top=mt(t.y)+"px",e.position="absolute"),t.scale!==void 0&&(e.transform?e.transform+=` scale(${t.scale})`:e.transform=`scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=mt(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=mt(t.width)+"px"),t.height!==void 0&&(e.height=mt(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=mt(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=mt(t.marginRight)+"px"),t.marginTop!==void 0&&(e.marginTop=mt(t.marginTop)+"px"),t.marginBottom!==void 0&&(e.marginBottom=mt(t.marginBottom)+"px"),t.gap!==void 0&&(e.gap=mt(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=mt(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=mt(t.columnGap)+"px"),t.position&&(e.position=t.position),t.alignPosition!==void 0&&(t.alignPosition==="top-center"?e.top="0":t.alignPosition==="bottom-center"&&(e.top="auto",e.bottom="0")),t.fontColor===void 0&&t.customColor!==void 0&&(e.color=t.customColor),t.fontColor===void 0&&t.customFontSize!==void 0&&(e.fontSize=mt(t.customFontSize)+"px")),e}function TEe(t){if(!t||nO.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:yt(n,pt.ui)})}),e}function IEe(t){if(!t||nO.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"video",url:yt(n,pt.video)})}),e}function kB(t,e){const r=document.createElement("style");let n=`
    @keyframes ${e==="normal"?"":"active-"}cursor-animation {
  `;if(!t.imgs||t.imgs.length===0)return;t.imgs.forEach((a,o)=>{const s=yt(a,pt.ui),c=o/t.imgs.length*100;n+=`
      ${c}% { cursor: url(${s}), pointer; }
    `}),n+=`
    100% { cursor: url(${yt(t.imgs[0],pt.ui)}), pointer; }
    }
  `;const i=[n];e==="normal"?i.push(`#root { animation: cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`):i.push(`.interactive { animation: active-cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`),r.innerHTML=i.join(`
`),document.head.appendChild(r)}class iO{constructor(e,r){Ye(this,"text");Ye(this,"jump");Ye(this,"jumpToScene");Ye(this,"showCondition");Ye(this,"enableCondition");Ye(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e){const r=e.split("->"),n=r.length>1?r[0]:null,i=r.length>1?r[1]:r[0],a=i.split(":"),o=a[0].replace(/\${[^{}]*}/,""),s=new iO(o,a[1]),c=/\$\{(.*?)\}/,l=i.match(c);if(l){const f=l[1].split(","),h={};f.forEach(d=>{const[p,v]=d.split("=");p&&v&&(h[p.trim()]=isNaN(Number(v.trim()))?v.trim():Number(v.trim()))}),s.style=h}if(n!==null){const u=n.match(/\((.*)\)/);u&&(s.showCondition=u[1]);const f=n.match(/\[(.*)\]/);f&&(s.enableCondition=f[1])}return s}}const IA=(t,e)=>{const n=t.content.split("|").map(f=>iO.parse(f)),a=ae.getState().userData.optionData.textboxFont===Tc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:o,playSeClick:s}=rO();let c=!1,l={current:null};const u=f=>f.filter((h,d)=>bA(h.showCondition)).map((h,d)=>{var _,x;const p=bA(h.enableCondition);let v=p?`${Hu.Choose_item} interactive`:Hu.Choose_item_disabled;const g=()=>{if(!(!p&&!c)){if(s(),e==null||e(),l.current&&(clearTimeout(l.current),l.current=null),h.jumpToScene){const b=h.jump.split("./game/scene/")[1];RV(h.jump,b)}else PV(h.jump);W.gameplay.performController.unmountPerform("choose"),c=!1}};let m={fontFamily:a};if(h.style&&(m=vr(h.style)),typeof((_=h.style)==null?void 0:_.countdown)=="number"){v=p?Hu.Choose_item_countdown:Hu.Choose_item_countdown_disabled;let b=h.style.countdown,w=1082,S=1082/(b*1e3/16);const C=()=>{b<=0&&l.current?(clearTimeout(l),l.current=null,c=!p,g()):l.current=setTimeout(()=>{b-=.016,w-=S;let A=document.getElementById("rect");A==null||A.setAttribute("width",Math.max(0,w).toString()),C()},16)};return C(),M.jsxs(ti.Fragment,{children:[M.jsxs("div",{className:v,style:m,onClick:g,children:[M.jsx("img",{src:SEe,alt:h.text,style:{width:"1082px",height:"106px"}}),M.jsx("img",{src:CEe,className:Hu.Choose_item_progress_bar})]}),M.jsx("svg",{width:"0",height:"0",children:M.jsx("defs",{children:M.jsx("clipPath",{id:"myClip",children:M.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},h.jump+d)}if((x=h.style)!=null&&x.image){v=Hu.Choose_item_image;const b=yt(h.style.image,pt.ui),w=`img-option-${d}`,S=new Image;return S.src=b,S.onload=function(){let C=document.getElementById(w),A=C==null?void 0:C.querySelectorAll("img");A&&A.forEach(function(O){O.remove()});const T=mt(S.naturalWidth)+"px",R=mt(S.naturalHeight)+"px";S.style.width=T,S.style.height=R,S.style.position="absolute",S.alt=h.text,C&&(C.style.width=T,C.style.height=R,C==null||C.prepend(S),C=null)},M.jsx("div",{id:w,className:v,style:m,onClick:g,onMouseEnter:p?o:void 0,children:M.jsx("span",{children:h.text})},h.jump+d)}return M.jsx("div",{className:v,style:m,onClick:g,onMouseEnter:p?o:void 0,children:h.text},h.jump+d)});return Uc.render(M.jsx("div",{className:Hu.Choose_Main,children:u(n)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Uc.render(M.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},REe=t=>(Ve.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),PEe=t=>(t.content!==""&&t.content!=="none"?ae.dispatch(vt({key:"enableFilm",value:t.content})):ae.dispatch(vt({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),OEe="_Choose_Main_4xkm5_1",kEe="_Choose_item_4xkm5_13",FEe="_glabalDialog_container_inner_4xkm5_28",NEe="_glabalDialog_container_4xkm5_28",LEe="_title_4xkm5_47",MEe="_button_4xkm5_59",Ff={Choose_Main:OEe,Choose_item:kEe,glabalDialog_container_inner:FEe,glabalDialog_container:NEe,title:LEe,button:MEe},BEe=t=>{const e=t.content.toString().trim(),r=Xt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=Xt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=ae.getState().userData.optionData.textboxFont===Tc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=rO(),u=M.jsx("div",{style:{fontFamily:s},className:Ff.glabalDialog_container,children:M.jsxs("div",{className:Ff.glabalDialog_container_inner,children:[M.jsx("div",{className:Ff.title,children:n}),M.jsx("input",{id:"user-input",className:Ff.Choose_item}),M.jsx("div",{onMouseEnter:c,onClick:()=>{const f=document.getElementById("user-input");f&&ae.dispatch(B9({key:e,value:((f==null?void 0:f.value)??"")===""?" ":(f==null?void 0:f.value)??""})),l(),W.gameplay.performController.unmountPerform("userInput"),An()},className:Ff.button,children:a})]})});return Uc.render(M.jsx("div",{className:Ff.Choose_Main,children:u}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Uc.render(M.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},DEe="_FullScreenPerform_main_7er8a_2",UEe="_FullScreenPerform_element_7er8a_9",jEe="_fullScreen_video_7er8a_17",$Ee="_fadeIn_7er8a_74",GEe="_intro_showSoftly_7er8a_1",VEe="_slideIn_7er8a_80",HEe="_typingEffect_7er8a_86",XEe="_typing_7er8a_86",WEe="_blinkCursor_7er8a_1",zEe="_pixelateEffect_7er8a_95",YEe="_pixelateAnimation_7er8a_1",qEe="_revealAnimation_7er8a_101",KEe="_videoContainer_7er8a_115",Ol={FullScreenPerform_main:DEe,FullScreenPerform_element:UEe,fullScreen_video:jEe,fadeIn:$Ee,intro_showSoftly:GEe,slideIn:VEe,typingEffect:HEe,typing:XEe,blinkCursor:WEe,pixelateEffect:zEe,pixelateAnimation:YEe,revealAnimation:qEe,videoContainer:KEe},ZEe=t=>{var w,S,C,A;const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(T,R=0)=>{switch(T){case"fadeIn":return Ol.fadeIn;case"slideIn":return Ol.slideIn;case"typingEffect":return`${Ol.typingEffect} ${R}`;case"pixelateEffect":return Ol.pixelateEffect;case"revealAnimation":return Ol.revealAnimation;default:return Ol.fadeIn}};let o=Ol.fadeIn,s=1500,c=!1;for(const T of t.args){if(T.key==="backgroundColor"&&(n=T.value||"rgba(0, 0, 0, 1)"),T.key==="fontColor"&&(i=T.value||"rgba(255, 255, 255, 1)"),T.key==="fontSize")switch(T.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(T.key==="animation"&&(o=a(T.value)),T.key==="delayTime"){const R=parseInt(T.value.toString(),10);s=isNaN(R)?s:R}T.key==="hold"&&T.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"};if(typeof t.content=="string"){const T=/\{(.+?)\}/;let R=(w=t==null?void 0:t.content)==null?void 0:w.match(T);if(R){const O=ae.getState().stage.GameVar,P=ae.getState().userData.globalGameVar,k=R[1];t.content=((S=O==null?void 0:O[k])==null?void 0:S.toString())??((C=P==null?void 0:P[k])==null?void 0:C.toString())??t.content}}const u=(A=t.content)==null?void 0:A.split(/\|/);let h=1e3+s*u.length;const d=c?1e3*60*60*24:1e3+s*u.length;let p=!0,v=setTimeout(()=>{p=!1},h),g=setTimeout(()=>{});const m=()=>{const T=document.getElementById("introContainer");if(h-=s,clearTimeout(v),v=setTimeout(()=>{p=!1},h),T){const R=T.childNodes[0].childNodes[0].childNodes,O=R.length;R.forEach((P,k)=>{const F=Number(P.style.animationDelay.split("ms")[0]);F>0&&(P.style.animationDelay=`${F-s}ms`),k===O-1&&(F===0?(clearTimeout(g),W.gameplay.performController.unmountPerform(e)):(clearTimeout(g),c||(g=setTimeout(()=>{W.gameplay.performController.unmountPerform(e),setTimeout(An,0)},h))))})}};W.events.userInteractNext.on(m);const _=u.map((T,R)=>M.jsxs("div",{style:{animationDelay:`${s*R}ms`},className:o,children:[T,T===""?"":""]},"introtext"+R+Math.random().toString())),x=M.jsx("div",{style:l,children:M.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:_})});Uc.render(x,document.getElementById("introContainer"));const b=document.getElementById("introContainer");return b&&(b.style.display="block"),{performName:e,duration:d,isHoldOn:!1,stopFunction:()=>{const T=document.getElementById("introContainer");T&&(T.style.display="none"),W.events.userInteractNext.off(m)},blockingNext:()=>p,blockingAuto:()=>p,stopTimeout:void 0,goNextWhenOver:!0}},JEe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),QEe=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),ae.dispatch(vt({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},eSe="modulepreload",tSe=function(t,e){return new URL(t,e).href},FB={},rSe=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=tSe(a,n),a in FB)return;FB[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":eSe,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},zV=new Map;function nSe(t){return t?typeof t=="string"?t:t():null}function YV(t){const e=nSe(t);return e||(Ve.error("Get name of perform failed. There no name of the perform."),"")}function AGe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);zV.set(YV(t),e)}function iSe(t,e=[]){const r=zV.get(YV(t));if(!r||!(r instanceof Function))throw Ve.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}rSe(()=>import("./initRegister-61f5e8b1.js"),[],import.meta.url);const aSe=t=>{const e="PixiPerform"+t.content;W.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=iSe(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;Ve.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=W.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=W.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},oSe=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},NB=(t,e=oSe)=>{const r=g=>new Uint8Array(g.length/2).map((m,_)=>parseInt(g.substring(2*_,2*(_+1)),16)),n=g=>r(g)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((g,m)=>i.set(g,m));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",d=0;h&&(d=11,s=n(t.substring(9,d)),s<=1&&(d+=2,f=n(t.substring(11,d))),s===1&&(d+=8,c=(g=>new DataView(r(g).buffer).getInt32(0,!0))(t.substring(13,d))));const p=256-f;for(let g=d;g<t.length;g++)if(o=t.charCodeAt(g),o!==61||l){if(o===92&&g<t.length-5&&h){const m=t.charCodeAt(g+1);m!==117&&m!==85||(o=parseInt(t.substring(g+2,g+6),16),g+=5)}if(o>255){const m=i.get(o);m&&(o=m+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+p:o-f}else l=!0;const v=a.subarray(0,u);if(h&&s===1){const g=e(v);if(g!==c){const m="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",m+`
`,"Expected: "+c+"; Got: "+g+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(m)}}return v};function Br(){const t=Uint8Array,e=Float32Array;Br.modules||Object.defineProperties(Br,{modules:{value:new WeakMap},setModule:{value(r,n){Br.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=Br.modules.get(r);return i||(n?i=WebAssembly.compile(NB(n)):(n=r.wasm,i=Br.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),Br.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(Br.concatFloat32(f,a))}return Br.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=NB(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;Br.getModule(Br,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,d=f;f+=4,u.setInt32(d,h,!0);const p=f;f+=h,l.set(r,p);const v=f;f+=4,u.setInt32(v,l.byteLength-f,!0),s(f,v,p,d),n(l.slice(f,f+u.getInt32(v,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&Br.setModule(r,n),this._wasm=new r(Br).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var sSe=Worker;const lSe=Ei(sSe),uSe=()=>globalThis.Worker||lSe;class qV extends uSe(){constructor(e,r,n,i){Br.modules||new Br;let a=Br.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,d,p=new Promise(v=>{d=v});self.onmessage=({data:{id:v,command:g,data:m}})=>{let _=p,x={id:v},b;g==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:m.module},isWebWorker:{value:!0}}),h=new l(m.options),d()):g==="free"?h.free():g==="ready"?_=_.then(()=>h.ready):g==="reset"?_=_.then(()=>h.reset()):(Object.assign(x,h[g](Array.isArray(m)?m.map(w=>new Uint8Array(w)):new Uint8Array(m))),b=x.channelData?x.channelData.map(w=>w.buffer):[]),_.then(()=>self.postMessage(x,b))}}).toString()})(${n}, ${Br}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),Br.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(Br).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const Td=(t,e)=>{Object.defineProperty(t,"name",{value:e})},Kr=Symbol,KV=", ",Dt=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join(KV)))})(),ou="LFE",Uv="monophonic (mono)",Sh="stereo",x0="surround",Rn=(t,...e)=>`${[Uv,Sh,`linear ${x0}`,"quadraphonic",`5.0 ${x0}`,`5.1 ${x0}`,`6.1 ${x0}`,`7.1 ${x0}`][t-1]} (${e.join(KV)})`,RA=[Uv,Rn(2,Dt[0][0]),Rn(3,Dt[0][2]),Rn(4,Dt[1][0],Dt[3][0]),Rn(5,Dt[1][2],Dt[3][0]),Rn(6,Dt[1][2],Dt[3][0],ou),Rn(7,Dt[1][2],Dt[2][0],Dt[3][4],ou),Rn(8,Dt[1][2],Dt[2][0],Dt[3][0],ou)],cSe=192e3,fSe=176400,ZV=96e3,JV=88200,hSe=64e3,g1=48e3,aO=44100,oO=32e3,sO=24e3,lO=22050,uO=16e3,QV=12e3,e7=11025,cO=8e3,dSe=7350,Ch="absoluteGranulePosition",Kt="bandwidth",yu="bitDepth",Oo="bitrate",QE=Oo+"Maximum",eS=Oo+"Minimum",tS=Oo+"Nominal",jv="buffer",rS=jv+"Fullness",yi="codec",xu=yi+"Frames",x_="coupledStreamCount",Cy="crc",t7=Cy+"16",r7=Cy+"32",xi="data",Ut="description",ih="duration",lm="emphasis",nS="hasOpusPadding",Rc="header",fp="isContinuedPacket",iS="isCopyrighted",hp="isFirstPage",aS="isHome",Pc="isLastPage",Ah="isOriginal",Th="isPrivate",oS="isVbr",Fo="layer",$e="length",Vt="mode",_c=Vt+"Extension",n7="mpeg",Ih=n7+"Version",sS="numberAACFrames",lS="outputGain",b_="preSkip",uS="profile",cS=Kr(),Rh="protection",pSe="rawData",yc="segments",rn="subarray",dp="version",m1="vorbis",w_=m1+"Comments",E_=m1+"Setup",_1="block",fS=_1+"ingStrategy",hS=Kr(),Xu=_1+"Size",V0=_1+"size0",H0=_1+"size1",um=Kr(),y1="channel",Wu=y1+"MappingFamily",S_=y1+"MappingTable",bu=y1+"Mode",cm=Kr(),jt=y1+"s",i7="copyright",dS=i7+"Id",pS=i7+"IdStart",Gc="frame",Yf=Gc+"Count",wu=Gc+"Length",x1="Number",pp=Gc+x1,Dl=Gc+"Padding",Ht=Gc+"Size",a7="Rate",vS="inputSample"+a7,fO="page",C_=fO+"Checksum",Ay=Kr(),X0=fO+"SegmentTable",va=fO+"Sequence"+x1,hO="sample",gS=hO+x1,wn=hO+a7,Ul=Kr(),bi=hO+"s",b1="stream",A_=b1+"Count",o7=b1+"Info",Ph=b1+"Serial"+x1,vSe=b1+"StructureVersion",dO="total",T_=dO+"BytesOut",I_=dO+"Duration",PA=dO+"Samples",xn=Kr(),su=Kr(),mS=Kr(),w1=Kr(),zh=Kr(),s7=Kr(),LB=Kr(),E1=Kr(),Bi=Kr(),Id=Kr(),Vc=Kr(),$v=Kr(),S1=Kr(),l7=Kr(),Oc=Kr(),Yh=Kr(),Rd=Kr(),u7=Kr(),al=Uint8Array,C1=DataView,Xr="reserved",so="bad",b0="free",pO="none",c7="16bit CRC",vO=(t,e,r)=>{for(let n=0;n<t[$e];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},gSe=vO(new al(256),t=>t,t=>t&128?7^t<<1:t<<1),ln=[vO(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],un=[vO(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){ln.push(new Uint16Array(256)),un.push(new Uint32Array(256));for(let e=0;e<=255;e++)ln[t+1][e]=ln[0][ln[t][e]>>>8]^ln[t][e]<<8,un[t+1][e]=un[t][e]>>>8^un[0][un[t][e]&255]}const mSe=t=>{let e=0;const r=t[$e];for(let n=0;n!==r;n++)e=gSe[e^t[n]];return e},_Se=t=>{const e=t[$e],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=ln[15][n>>8]^ln[14][n&255]^ln[13][t[i++]]^ln[12][t[i++]]^ln[11][t[i++]]^ln[10][t[i++]]^ln[9][t[i++]]^ln[8][t[i++]]^ln[7][t[i++]]^ln[6][t[i++]]^ln[5][t[i++]]^ln[4][t[i++]]^ln[3][t[i++]]^ln[2][t[i++]]^ln[1][t[i++]]^ln[0][t[i++]];for(;i!==e;)n=(n&255)<<8^ln[0][n>>8^t[i++]];return n},ySe=t=>{const e=t[$e],r=e-16;let n=0,i=0;for(;i<=r;)n=un[15][(t[i++]^n)&255]^un[14][(t[i++]^n>>>8)&255]^un[13][(t[i++]^n>>>16)&255]^un[12][t[i++]^n>>>24]^un[11][t[i++]]^un[10][t[i++]]^un[9][t[i++]]^un[8][t[i++]]^un[7][t[i++]]^un[6][t[i++]]^un[5][t[i++]]^un[4][t[i++]]^un[3][t[i++]]^un[2][t[i++]]^un[1][t[i++]]^un[0][t[i++]];for(;i!==e;)n=un[0][(n^t[i++])&255]^n>>>8;return n^-1},OA=(...t)=>{const e=new al(t.reduce((r,n)=>r+n[$e],0));return t.reduce((r,n)=>(e.set(n,r),r+n[$e]),0),e},Hc=t=>String.fromCharCode(...t),MB=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],Ty=t=>MB[t&15]<<4|MB[t>>4];class xSe{constructor(e){this._data=e,this._pos=e[$e]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(Ty(this._data[r-1])<<8)+Ty(this._data[r])>>7-n&255}}class bSe{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[Oc]()}[Yh](){this._isEnabled=!0}[Oc](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[l7](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[Bi](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[Id](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const vs=new WeakMap,Ru=new WeakMap;class Pd{constructor(e,r){this._codecParser=e,this._headerCache=r}*[LB](){let e;do{if(e=yield*this.Frame[Vc](this._codecParser,this._headerCache,0),e)return e;this._codecParser[su](1)}while(!0)}*[E1](e){let r=yield*this[LB]();const n=Ru.get(r)[$e];if(e||this._codecParser._flushing||(yield*this.Header[Bi](this._codecParser,this._headerCache,n)))return this._headerCache[Yh](),this._codecParser[su](n),this._codecParser[w1](r),r;this._codecParser[zh](`Missing ${Gc} at ${n} bytes from current position.`,`Dropping current ${Gc} and trying again.`),this._headerCache[Oc](),this._codecParser[su](1)}}class f7{constructor(e,r){Ru.set(this,{[Rc]:e}),this[xi]=r}}class Gv extends f7{static*[Vc](e,r,n,i,a){const o=yield*e[Bi](n,i,a);if(o){const s=vs.get(o)[wu],c=vs.get(o)[bi],l=(yield*n[xn](s,a))[rn](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[Rc]=e,this[bi]=n,this[ih]=n/e[wn]*1e3,this[pp]=null,this[T_]=null,this[PA]=null,this[I_]=null,Ru.get(this)[$e]=r[$e]}}const _S="unsynchronizationFlag",yS="extendedHeaderFlag",xS="experimentalFlag",bS="footerPresent";class gO{static*getID3v2Header(e,r,n){const a={};let o=yield*e[xn](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[xn](10,n),a[dp]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[_S]=!!(o[5]&128),a[yS]=!!(o[5]&64),a[xS]=!!(o[5]&32),a[bS]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[$e]=10+s,new gO(a)}constructor(e){this[dp]=e[dp],this[_S]=e[_S],this[yS]=e[yS],this[xS]=e[xS],this[bS]=e[bS],this[$e]=e[$e]}}class Vv{constructor(e){vs.set(this,e),this[yu]=e[yu],this[Oo]=null,this[jt]=e[jt],this[bu]=e[bu],this[wn]=e[wn]}}const h7={0:[b0,b0,b0,b0,b0],16:[32,32,32,32,8],240:[so,so,so,so,so]},fm=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)h7[t<<4]=[t*32,fm(t,4,0),fm(t,4,-1),fm(t,8,4),fm(t,8,0)];const wSe=0,ESe=1,SSe=2,CSe=3,BB=4,hm="bands ",dm=" to 31",DB={0:hm+4+dm,16:hm+8+dm,32:hm+12+dm,48:hm+16+dm},nc="bitrateIndex",vp="v2",R_="v1",pm="Intensity stereo ",vm=", MS stereo ",gm="on",mm="off",ASe={0:pm+mm+vm+mm,16:pm+gm+vm+mm,32:pm+mm+vm+gm,48:pm+gm+vm+gm},wS={0:{[Ut]:Xr},2:{[Ut]:"Layer III",[Dl]:1,[_c]:ASe,[R_]:{[nc]:SSe,[bi]:1152},[vp]:{[nc]:BB,[bi]:576}},4:{[Ut]:"Layer II",[Dl]:1,[_c]:DB,[bi]:1152,[R_]:{[nc]:ESe},[vp]:{[nc]:BB}},6:{[Ut]:"Layer I",[Dl]:4,[_c]:DB,[bi]:384,[R_]:{[nc]:wSe},[vp]:{[nc]:CSe}}},ES="MPEG Version ",UB="ISO/IEC ",TSe={0:{[Ut]:`${ES}2.5 (later extension of MPEG 2)`,[Fo]:vp,[wn]:{0:e7,4:QV,8:cO,12:Xr}},8:{[Ut]:Xr},16:{[Ut]:`${ES}2 (${UB}13818-3)`,[Fo]:vp,[wn]:{0:lO,4:sO,8:uO,12:Xr}},24:{[Ut]:`${ES}1 (${UB}11172-3)`,[Fo]:R_,[wn]:{0:aO,4:g1,8:oO,12:Xr}},length:$e},ISe={0:c7,1:pO},RSe={0:pO,1:"50/15 ms",2:Xr,3:"CCIT J.17"},jB={0:{[jt]:2,[Ut]:Sh},64:{[jt]:2,[Ut]:"joint "+Sh},128:{[jt]:2,[Ut]:"dual channel"},192:{[jt]:1,[Ut]:Uv}};class Gp extends Vv{static*[Bi](e,r,n){const i={},a=yield*gO.getID3v2Header(e,r,n);a&&(yield*e[xn](a[$e],n),e[su](a[$e]));const o=yield*e[xn](4,n),s=Hc(o[rn](0,4)),c=r[Bi](s);if(c)return new Gp(c);if(o[0]!==255||o[1]<224)return null;const l=TSe[o[1]&24];if(l[Ut]===Xr)return null;const u=o[1]&6;if(wS[u][Ut]===Xr)return null;const f={...wS[u],...wS[u][l[Fo]]};if(i[Ih]=l[Ut],i[Fo]=f[Ut],i[bi]=f[bi],i[Rh]=ISe[o[1]&1],i[$e]=4,i[Oo]=h7[o[2]&240][f[nc]],i[Oo]===so||(i[wn]=l[wn][o[2]&12],i[wn]===Xr)||(i[Dl]=o[2]&2&&f[Dl],i[Th]=!!(o[2]&1),i[wu]=Math.floor(125*i[Oo]*i[bi]/i[wn]+i[Dl]),!i[wu]))return null;const h=o[3]&192;if(i[bu]=jB[h][Ut],i[jt]=jB[h][jt],i[_c]=f[_c][o[3]&48],i[iS]=!!(o[3]&8),i[Ah]=!!(o[3]&4),i[lm]=RSe[o[3]&3],i[lm]===Xr)return null;i[yu]=16;{const{length:d,frameLength:p,samples:v,...g}=i;r[Id](s,i,g)}return new Gp(i)}constructor(e){super(e),this[Oo]=e[Oo],this[lm]=e[lm],this[Dl]=e[Dl],this[iS]=e[iS],this[Ah]=e[Ah],this[Th]=e[Th],this[Fo]=e[Fo],this[_c]=e[_c],this[Ih]=e[Ih],this[Rh]=e[Rh]}}class mO extends Gv{static*[Vc](e,r,n){return yield*super[Vc](Gp,mO,e,r,n)}constructor(e,r,n){super(e,r,n)}}class PSe extends Pd{constructor(e,r,n){super(e,r),this.Frame=mO,this.Header=Gp,n(this[yi])}get[yi](){return n7}*[$v](){return yield*this[E1]()}}const OSe={0:"MPEG-4",8:"MPEG-2"},kSe={0:"valid",2:so,4:so,6:so},FSe={0:c7,1:pO},NSe={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},LSe={0:ZV,4:JV,8:hSe,12:g1,16:aO,20:oO,24:sO,28:lO,32:uO,36:QV,40:e7,44:cO,48:dSe,52:Xr,56:Xr,60:"frequency is written explicitly"},$B={0:{[jt]:0,[Ut]:"Defined in AOT Specific Config"},64:{[jt]:1,[Ut]:Uv},128:{[jt]:2,[Ut]:Rn(2,Dt[0][0])},192:{[jt]:3,[Ut]:Rn(3,Dt[1][3])},256:{[jt]:4,[Ut]:Rn(4,Dt[1][3],Dt[3][4])},320:{[jt]:5,[Ut]:Rn(5,Dt[1][3],Dt[3][0])},384:{[jt]:6,[Ut]:Rn(6,Dt[1][3],Dt[3][0],ou)},448:{[jt]:8,[Ut]:Rn(8,Dt[1][3],Dt[2][0],Dt[3][0],ou)}};class A1 extends Vv{static*[Bi](e,r,n){const i={},a=yield*e[xn](7,n),o=Hc([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[Bi](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[Ih]=OSe[a[1]&8],i[Fo]=kSe[a[1]&6],i[Fo]===so))return null;const l=a[1]&1;i[Rh]=FSe[l],i[$e]=l?7:9,i[cS]=a[2]&192,i[Ul]=a[2]&60;const u=a[2]&2;if(i[uS]=NSe[i[cS]],i[wn]=LSe[i[Ul]],i[wn]===Xr)return null;i[Th]=!!u,i[cm]=(a[2]<<8|a[3])&448,i[bu]=$B[i[cm]][Ut],i[jt]=$B[i[cm]][jt],i[Ah]=!!(a[3]&32),i[aS]=!!(a[3]&8),i[dS]=!!(a[3]&8),i[pS]=!!(a[3]&4),i[yu]=16,i[bi]=1024,i[sS]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:d,sampleRateBits:p,frameLength:v,samples:g,numberAACFrames:m,..._}=i;r[Id](o,i,_)}}if(i[wu]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[wu])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[rS]=c===2047?"VBR":c,new A1(i)}constructor(e){super(e),this[dS]=e[dS],this[pS]=e[pS],this[rS]=e[rS],this[aS]=e[aS],this[Ah]=e[Ah],this[Th]=e[Th],this[Fo]=e[Fo],this[$e]=e[$e],this[Ih]=e[Ih],this[sS]=e[sS],this[uS]=e[uS],this[Rh]=e[Rh]}get audioSpecificConfig(){const e=vs.get(this),r=e[cS]+64<<5|e[Ul]<<5|e[cm]>>3,n=new al(2);return new C1(n[jv]).setUint16(0,r,!1),n}}class _O extends Gv{static*[Vc](e,r,n){return yield*super[Vc](A1,_O,e,r,n)}constructor(e,r,n){super(e,r,n)}}class MSe extends Pd{constructor(e,r,n){super(e,r),this.Frame=_O,this.Header=A1,n(this[yi])}get[yi](){return"aac"}*[$v](){return yield*this[E1]()}}class xc extends Gv{static _getFrameFooterCrc16(e){return(e[e[$e]-2]<<8)+e[e[$e]-1]}static[u7](e){const r=xc._getFrameFooterCrc16(e),n=_Se(e[rn](0,-2));return r===n}constructor(e,r,n){r[o7]=n,r[t7]=xc._getFrameFooterCrc16(e),super(r,e,vs.get(r)[bi])}}const d7="get from STREAMINFO metadata block",BSe={0:"Fixed",1:"Variable"},p7={0:Xr,16:192};for(let t=2;t<16;t++)p7[t<<4]=t<6?576*2**(t-2):2**t;const DSe={0:d7,1:JV,2:fSe,3:cSe,4:cO,5:uO,6:lO,7:sO,8:oO,9:aO,10:g1,11:ZV,15:so},USe={0:{[jt]:1,[Ut]:Uv},16:{[jt]:2,[Ut]:Rn(2,Dt[0][0])},32:{[jt]:3,[Ut]:Rn(3,Dt[0][1])},48:{[jt]:4,[Ut]:Rn(4,Dt[1][0],Dt[3][0])},64:{[jt]:5,[Ut]:Rn(5,Dt[1][1],Dt[3][0])},80:{[jt]:6,[Ut]:Rn(6,Dt[1][1],ou,Dt[3][0])},96:{[jt]:7,[Ut]:Rn(7,Dt[1][1],ou,Dt[3][4],Dt[2][0])},112:{[jt]:8,[Ut]:Rn(8,Dt[1][1],ou,Dt[3][0],Dt[2][0])},128:{[jt]:2,[Ut]:`${Sh} (left, diff)`},144:{[jt]:2,[Ut]:`${Sh} (diff, right)`},160:{[jt]:2,[Ut]:`${Sh} (avg, diff)`},176:Xr,192:Xr,208:Xr,224:Xr,240:Xr},jSe={0:d7,2:8,4:12,6:Xr,8:16,10:20,12:24,14:Xr};class Xl extends Vv{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[Rd](e,r){const n={[xn]:function*(){return e}};return Xl[Bi](n,r,0).next().value}static*[Bi](e,r,n){let i=yield*e[xn](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=Hc(i[rn](0,4)),s=r[Bi](o);if(s)Object.assign(a,s);else{if(a[hS]=i[1]&1,a[fS]=BSe[a[hS]],a[um]=i[2]&240,a[Ul]=i[2]&15,a[Xu]=p7[a[um]],a[Xu]===Xr||(a[wn]=DSe[a[Ul]],a[wn]===so)||i[3]&1)return null;const l=USe[i[3]&240];if(l===Xr||(a[jt]=l[jt],a[bu]=l[Ut],a[yu]=jSe[i[3]&14],a[yu]===Xr))return null}a[$e]=5,i=yield*e[xn](a[$e]+8,n);const c=Xl._decodeUTF8Int(i[rn](4));if(!c||(a[hS]?a[gS]=c.value:a[pp]=c.value,a[$e]+=c[$e],a[um]===96?(i[$e]<a[$e]&&(i=yield*e[xn](a[$e],n)),a[Xu]=i[a[$e]-1]+1,a[$e]+=1):a[um]===112&&(i[$e]<a[$e]&&(i=yield*e[xn](a[$e],n)),a[Xu]=(i[a[$e]-1]<<8)+i[a[$e]]+1,a[$e]+=2),a[bi]=a[Xu],a[Ul]===12?(i[$e]<a[$e]&&(i=yield*e[xn](a[$e],n)),a[wn]=i[a[$e]-1]*1e3,a[$e]+=1):a[Ul]===13?(i[$e]<a[$e]&&(i=yield*e[xn](a[$e],n)),a[wn]=(i[a[$e]-1]<<8)+i[a[$e]],a[$e]+=2):a[Ul]===14&&(i[$e]<a[$e]&&(i=yield*e[xn](a[$e],n)),a[wn]=((i[a[$e]-1]<<8)+i[a[$e]])*10,a[$e]+=2),i[$e]<a[$e]&&(i=yield*e[xn](a[$e],n)),a[Cy]=i[a[$e]-1],a[Cy]!==mSe(i[rn](0,a[$e]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:d,blockSizeBits:p,crc:v,length:g,...m}=a;r[Id](o,a,m)}return new Xl(a)}constructor(e){super(e),this[t7]=null,this[fS]=e[fS],this[Xu]=e[Xu],this[pp]=e[pp],this[gS]=e[gS],this[o7]=null}}const $Se=2,GSe=512*1024;class v7 extends Pd{constructor(e,r,n){super(e,r),this.Frame=xc,this.Header=Xl,n(this[yi])}get[yi](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[xn](2,0),n=r[$e]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[$v](){do{const e=yield*Xl[Bi](this._codecParser,this._headerCache,0);if(e){let r=vs.get(e)[$e]+$Se;for(;r<=GSe;){if(this._codecParser._flushing||(yield*Xl[Bi](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[xn](r);if(this._codecParser._flushing||(n=n[rn](0,r)),xc[u7](n)){const i=new xc(n,e);return this._headerCache[Yh](),this._codecParser[su](r),this._codecParser[w1](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[zh](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[su](r)}else this._codecParser[su](yield*this._getNextFrameSyncOffset(1))}while(!0)}[S1](e){return e[va]===0?(this._headerCache[Yh](),this._streamInfo=e[xi][rn](13)):e[va]===1||(e[xu]=Ru.get(e)[yc].map(r=>{const n=Xl[Rd](r,this._headerCache);if(n)return new xc(r,n,this._streamInfo);this._codecParser[zh]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class T1{static*[Bi](e,r,n){const i={};let a=yield*e[xn](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[vSe]=a[4],a[5]&248))return null;i[Pc]=!!(a[5]&4),i[hp]=!!(a[5]&2),i[fp]=!!(a[5]&1);const s=new C1(al.from(a[rn](0,28))[jv]);try{i[Ch]=s.getBigInt64(6,!0)}catch{}i[Ph]=s.getInt32(14,!0),i[va]=s.getInt32(18,!0),i[C_]=s.getInt32(22,!0);const c=a[26];i[$e]=c+27,a=yield*e[xn](i[$e],n),i[wu]=0,i[X0]=[],i[Ay]=al.from(a[rn](27,i[$e]));for(let l=0,u=0;l<c;l++){const f=i[Ay][l];i[wu]+=f,u+=f,(f!==255||l===c-1)&&(i[X0].push(u),u=0)}return new T1(i)}constructor(e){vs.set(this,e),this[Ch]=e[Ch],this[fp]=e[fp],this[hp]=e[hp],this[Pc]=e[Pc],this[X0]=e[X0],this[va]=e[va],this[C_]=e[C_],this[Ph]=e[Ph]}}class yO extends f7{static*[Vc](e,r,n){const i=yield*T1[Bi](e,r,n);if(i){const a=vs.get(i)[wu],o=vs.get(i)[$e],s=o+a,c=(yield*e[xn](s,0))[rn](0,s),l=c[rn](o,s);return new yO(i,l,c)}else return null}constructor(e,r,n){super(e,r),Ru.get(this)[$e]=n[$e],this[xu]=[],this[pSe]=n,this[Ch]=e[Ch],this[r7]=e[C_],this[ih]=0,this[fp]=e[fp],this[hp]=e[hp],this[Pc]=e[Pc],this[va]=e[va],this[bi]=0,this[Ph]=e[Ph]}}class GB extends Gv{constructor(e,r){super(r,e,r[Ht]*r[Yf]/1e3*r[wn])}}const VB={0:RA.slice(0,2),1:RA},to="SILK-only",Ii="CELT-only",_m="Hybrid",Sl="narrowband",ym="medium-band",Cl="wideband",Nf="super-wideband",Lf="fullband",VSe={0:{[Vt]:to,[Kt]:Sl,[Ht]:10},8:{[Vt]:to,[Kt]:Sl,[Ht]:20},16:{[Vt]:to,[Kt]:Sl,[Ht]:40},24:{[Vt]:to,[Kt]:Sl,[Ht]:60},32:{[Vt]:to,[Kt]:ym,[Ht]:10},40:{[Vt]:to,[Kt]:ym,[Ht]:20},48:{[Vt]:to,[Kt]:ym,[Ht]:40},56:{[Vt]:to,[Kt]:ym,[Ht]:60},64:{[Vt]:to,[Kt]:Cl,[Ht]:10},72:{[Vt]:to,[Kt]:Cl,[Ht]:20},80:{[Vt]:to,[Kt]:Cl,[Ht]:40},88:{[Vt]:to,[Kt]:Cl,[Ht]:60},96:{[Vt]:_m,[Kt]:Nf,[Ht]:10},104:{[Vt]:_m,[Kt]:Nf,[Ht]:20},112:{[Vt]:_m,[Kt]:Lf,[Ht]:10},120:{[Vt]:_m,[Kt]:Lf,[Ht]:20},128:{[Vt]:Ii,[Kt]:Sl,[Ht]:2.5},136:{[Vt]:Ii,[Kt]:Sl,[Ht]:5},144:{[Vt]:Ii,[Kt]:Sl,[Ht]:10},152:{[Vt]:Ii,[Kt]:Sl,[Ht]:20},160:{[Vt]:Ii,[Kt]:Cl,[Ht]:2.5},168:{[Vt]:Ii,[Kt]:Cl,[Ht]:5},176:{[Vt]:Ii,[Kt]:Cl,[Ht]:10},184:{[Vt]:Ii,[Kt]:Cl,[Ht]:20},192:{[Vt]:Ii,[Kt]:Nf,[Ht]:2.5},200:{[Vt]:Ii,[Kt]:Nf,[Ht]:5},208:{[Vt]:Ii,[Kt]:Nf,[Ht]:10},216:{[Vt]:Ii,[Kt]:Nf,[Ht]:20},224:{[Vt]:Ii,[Kt]:Lf,[Ht]:2.5},232:{[Vt]:Ii,[Kt]:Lf,[Ht]:5},240:{[Vt]:Ii,[Kt]:Lf,[Ht]:10},248:{[Vt]:Ii,[Kt]:Lf,[Ht]:20}};class Vp extends Vv{static[Rd](e,r,n){const i={};if(i[jt]=e[9],i[Wu]=e[18],i[$e]=i[Wu]!==0?21+i[jt]:19,e[$e]<i[$e])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=Hc(e[rn](0,i[$e]))+Hc(r[rn](0,o)),c=n[Bi](s);if(c)return new Vp(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[xi]=al.from(e[rn](0,i[$e]));const l=new C1(i[xi][jv]);if(i[yu]=16,i[b_]=l.getUint16(10,!0),i[vS]=l.getUint32(12,!0),i[wn]=g1,i[lS]=l.getInt16(16,!0),i[Wu]in VB&&(i[bu]=VB[i[Wu]][i[jt]-1],!i[bu]))return null;i[Wu]!==0&&(i[A_]=e[19],i[x_]=e[20],i[S_]=[...e[rn](21,i[jt]+21)]);const u=VSe[248&r[0]];switch(i[Vt]=u[Vt],i[Kt]=u[Kt],i[Ht]=u[Ht],a){case 0:i[Yf]=1;break;case 1:case 2:i[Yf]=2;break;case 3:i[oS]=!!(128&r[1]),i[nS]=!!(64&r[1]),i[Yf]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:d,...p}=i;n[Id](s,i,p)}return new Vp(i)}constructor(e){super(e),this[xi]=e[xi],this[Kt]=e[Kt],this[Wu]=e[Wu],this[S_]=e[S_],this[x_]=e[x_],this[Yf]=e[Yf],this[Ht]=e[Ht],this[nS]=e[nS],this[vS]=e[vS],this[oS]=e[oS],this[Vt]=e[Vt],this[lS]=e[lS],this[b_]=e[b_],this[A_]=e[A_]}}class HSe extends Pd{constructor(e,r,n){super(e,r),this.Frame=GB,this.Header=Vp,n(this[yi]),this._identificationHeader=null}get[yi](){return"opus"}[S1](e){return e[va]===0?(this._headerCache[Yh](),this._identificationHeader=e[xi]):e[va]===1||(e[xu]=Ru.get(e)[yc].map(r=>{const n=Vp[Rd](this._identificationHeader,r,this._headerCache);if(n)return new GB(r,n);this._codecParser[s7]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class HB extends Gv{constructor(e,r,n){super(r,e,n)}}const kA={};for(let t=0;t<8;t++)kA[t+6]=2**(6+t);class Iy extends Vv{static[Rd](e,r,n,i){if(e[$e]<30)throw new Error("Out of data while inside an Ogg Page");const a=Hc(e[rn](0,30)),o=r[Bi](a);if(o)return new Iy(o);const s={[$e]:30};if(a.substr(0,7)!=="vorbis")return null;s[xi]=al.from(e[rn](0,30));const c=new C1(s[xi][jv]);if(s[dp]=c.getUint32(7,!0),s[dp]!==0||(s[jt]=e[11],s[bu]=RA[s[jt]-1]||"application defined",s[wn]=c.getUint32(12,!0),s[QE]=c.getInt32(16,!0),s[tS]=c.getInt32(20,!0),s[eS]=c.getInt32(24,!0),s[H0]=kA[(e[28]&240)>>4],s[V0]=kA[e[28]&15],s[V0]>s[H0])||e[29]!==1)return null;s[yu]=32,s[E_]=i,s[w_]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:d,...p}=s;r[Id](a,s,p)}return new Iy(s)}constructor(e){super(e),this[QE]=e[QE],this[eS]=e[eS],this[tS]=e[tS],this[V0]=e[V0],this[H0]=e[H0],this[xi]=e[xi],this[w_]=e[w_],this[E_]=e[E_]}}class XSe extends Pd{constructor(e,r,n){super(e,r),this.Frame=HB,n(this[yi]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[yi](){return m1}[S1](e){e[xu]=[];for(const r of Ru.get(e)[yc])if(r[0]===1)this._headerCache[Yh](),this._identificationHeader=e[xi],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=Iy[Rd](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[xu].push(new HB(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[H0]:r[V0],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new xSe(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){Ty(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((Ty(i)&126)>>1)+1!==n.count&&this._codecParser[zh]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class WSe{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new al,this._codec=null,this._isSupported=null}get[yi](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[Oc](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=Hc(e[rn](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",HSe),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",v7),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(m1,XSe),!0;default:return!1}}_checkPageSequenceNumber(e){e[va]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[va]>1&&this._codecParser[zh]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[va]}`),this._pageSequenceNumber=e[va]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[va],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=Ru.get(e),n=vs.get(r[Rc]);let i=0;if(r[yc]=n[X0].map(a=>e[xi][rn](i,i+=a)),this._continuedPacket[$e]&&(r[yc][0]=OA(this._continuedPacket,r[yc][0]),this._continuedPacket=new al),n[Ay][n[Ay][$e]-1]===255&&(this._continuedPacket=OA(this._continuedPacket,r[yc].pop())),this._isSupported){const a=this._parser[S1](e);return this._codecParser[w1](a),a}else return e}}class zSe extends Pd{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=yO,this.Header=T1,this._streams=new Map,this._currentSerialNumber=null}get[yi](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[$v](){const e=yield*this[E1](!0);this._currentSerialNumber=e[Ph];let r=this._streams.get(this._currentSerialNumber);return r||(r=new WSe(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[Pc]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const SS=()=>{};class g7{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||SS,this._onCodecHeader=n||SS,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?ySe:SS,this[Oc]()}get[yi](){return this._parser?this._parser[yi]:""}[Oc](){this._headerCache=new bSe(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[Oc]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new MSe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new PSe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new v7(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new zSe(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[$v]();e&&(yield e)}}*[xn](e=0,r=0){let n;for(;this._rawData[$e]<=e+r;){if(n=yield,this._flushing)return this._rawData[rn](r);n&&(this._totalBytesIn+=n[$e],this._rawData=OA(this._rawData,n))}return this._rawData[rn](r)}[su](e){this._currentReadPosition+=e,this._rawData=this._rawData[rn](e)}[mS](e){this._sampleRate=e[Rc][wn],e[Rc][Oo]=e[ih]>0?Math.round(e[xi][$e]/e[ih])*8:0,e[pp]=this._frameNumber++,e[T_]=this._totalBytesOut,e[PA]=this._totalSamples,e[I_]=this._totalSamples/this._sampleRate*1e3,e[r7]=this._crc32(e[xi]),this._headerCache[l7](e[Rc][Oo],e[I_]),this._totalBytesOut+=e[xi][$e],this._totalSamples+=e[bi]}[w1](e){e[xu]?(e[xu].forEach(r=>{e[ih]+=r[ih],e[bi]+=r[bi],this[mS](r)}),e[PA]=this._totalSamples,e[I_]=this._totalSamples/this._sampleRate*1e3||0,e[T_]=this._totalBytesOut):this[mS](e)}_log(e,r){if(this._enableLogging){const n=[`${yi}:         ${this[yi]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${T_}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[$e]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[zh](...e){this._log(console.warn,e)}[s7](...e){this._log(console.error,e)}}const bc=Ch,gp=xu,YSe=x_,P_=xi,m7=Rc,_7=Pc,qSe=b_,KSe=w_,ZSe=E_,JSe=S_,XB=jt,y7=bi,QSe=A_;function ah(t){function e(){}function r(O){throw O}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,ah.wasm||Object.defineProperty(ah,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var O=o.buffer;a=new Uint8Array(O)}function c(O){return Math.cos(O)}function l(O){return Math.sin(O)}function u(O){return Math.atan(O)}function f(O){return Math.exp(O)}function h(O){return Math.log(O)}function d(O,P){return Math.pow(O,P)}var p=(O,P,k)=>a.copyWithin(O,P,P+k),v=O=>{r("OOM")},g=O=>{a.length,v()},m={b:u,a:c,d:f,e:h,f:d,c:l,g:p,h:g};function _(O){O.j()}var x={a:m},b,w,S,C,A,T,R;this.setModule=O=>{t.setModule(ah,O)},this.getModule=()=>t.getModule(ah),this.instantiate=()=>(this.getModule().then(O=>WebAssembly.instantiate(O,x)).then(O=>{const P=O.exports;b=P.k,w=P.l,S=P.m,C=P.n,A=P.o,T=P.p,R=P.q,o=P.i,s(),_(P),e()}),this.ready=new Promise(O=>{e=O}).then(()=>{this.HEAP=o.buffer,this.malloc=w,this.free=R,this.create_decoder=b,this.send_setup=S,this.init_dsp=C,this.decode_packets=A,this.destroy_decoder=T}),this)}function oh(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=oh.isWebWorker,this._WASMAudioDecoderCommon=oh.WASMAudioDecoderCommon||Br,this._EmscriptenWASM=oh.EmscriptenWASM||ah,this._module=oh.module,this._inputSize=128*1024,this._ready=this._init(),this}const FA=Symbol();class xO{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new Br,this._init(),this[FA](oh)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new g7("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[FA](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[P_][0]===1&&this._decoder.sendSetupHeader(o[P_]),o[gp].length)){const s=o[gp][0][m7];this._decoder.sendSetupHeader(s[KSe]),this._decoder.sendSetupHeader(s[ZSe]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[gp].map(s=>s[P_]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[bc])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[bc]-BigInt(i[y7])),i[_7])){const a=n.samplesDecoded-Number(i[bc]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class eCe extends qV{constructor(e){super(e,"ogg-vorbis-decoder",oh,ah)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class tCe extends xO{constructor(){super(),super[FA](eCe)}async free(){super.free()}terminate(){this._decoder.terminate()}}Td(xO,"OggVorbisDecoder");Td(tCe,"OggVorbisDecoderWebWorker");function sh(t){function e(){}function r(w){throw w}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,sh.wasm||Object.defineProperty(sh,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var w=o.buffer;a=new Uint8Array(w)}function c(w){return Math.cos(w)}function l(w){return Math.exp(w)}var u=(w,S,C)=>a.copyWithin(w,S,S+C),f=w=>{r("OOM")},h=w=>{a.length,f()},d={b:c,a:l,c:u,d:h};function p(w){w.f()}var v={a:d},g,m,_,x,b;this.setModule=w=>{t.setModule(sh,w)},this.getModule=()=>t.getModule(sh),this.instantiate=()=>(this.getModule().then(w=>WebAssembly.instantiate(w,v)).then(w=>{const S=w.exports;g=S.g,m=S.h,_=S.i,x=S.j,b=S.k,o=S.e,s(),p(S),e()}),this.ready=new Promise(w=>{e=w}).then(()=>{this.HEAP=o.buffer,this.malloc=m,this.free=b,this.opus_frame_decoder_create=g,this.opus_frame_decode_float_deinterleaved=_,this.opus_frame_decoder_destroy=x}),this)}function Qo(t={}){Qo.errors||Object.defineProperties(Qo,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(Qo.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],d=0,p=0;for(;p<u.length;){const v=u[p++],g=this._decode(v);f.push(g.outputBuffer),d+=g.samplesDecoded,g.error&&this._common.addError(h,g.error,v.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=v.length,this._outputSamples+=g.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,d,this._sampleRate)},this._isWebWorker=Qo.isWebWorker,this._WASMAudioDecoderCommon=Qo.WASMAudioDecoderCommon||Br,this._EmscriptenWASM=Qo.EmscriptenWASM||sh,this._module=Qo.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class x7 extends qV{constructor(e){super(e,"opus-decoder",Qo,sh)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}Td(Qo,"OpusDecoder");Td(x7,"OpusDecoderWebWorker");class bO{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new Br,this._decoderClass=Qo,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new g7("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[qSe],this._channels=this._forceStereo?2:e[XB],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[XB],streamCount:e[QSe],coupledStreamCount:e[YSe],channelMappingTable:e[JSe],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[gp].map(s=>s[P_]);if(o.length){this._decoder||await this._instantiateDecoder(a[gp][0][m7]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[bc])>-1&&(this._beginningSampleOffset=a[bc]-BigInt(a[y7])+BigInt(this._preSkip)),a[_7]){if(a[bc]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[bc]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let d=0;d<s.length;d++)s[d]=s[d].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return Br.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),Br.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),Br.getDecodedAudioMultiChannel(...e)}}class rCe extends bO{constructor(e){super(e),this._decoderClass=x7}async free(){super.free()}}Td(bO,"OggOpusDecoder");Td(rCe,"OggOpusDecoderWebWorker");async function O_(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await iCe(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await nCe(n)}catch(a){return console.error("Vorbis ",a),""}}}async function nCe(t){const e=new xO;await e.ready;const r=await e.decode(t);return b7(r)}async function iCe(t){const e=new bO;await e.ready;const r=await e.decode(t);return b7(r)}function b7(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=aCe(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function aCe(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const oCe=t=>{var a;Ve.debug("play SE");let e="effect-sound";W.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;Xt(t,"id")&&(e=`effect-sound-${((a=Xt(t,"id"))==null?void 0:a.toString())??""}`,W.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var p;const s=Xt(t,"volume");let c=document.createElement("audio");c.src=await O_(r),c.load(),n&&(c.loop=!0);const l=ae.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((p=l.optionData)==null?void 0:p.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const d={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(d),c==null||c.play(),c.onended=()=>{for(const v of W.gameplay.performController.performList)v.performName===e&&(i=!0,v.stopFunction(),W.gameplay.performController.unmountPerform(v.performName))}},1)})}},sCe={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[],gameScounds:{},menuScounds:{}},w7=bx({name:"saveData",initialState:nn(sCe),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine,videoData:e.payload.data.videoData}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload},setSaveStatus:(t,e)=>{t[e.payload.key]=e.payload.value}}}),or=w7.actions,lCe=w7.reducer;function uCe(t,e){for(let r=t;r<=e;r++){const n=ae.getState().saveData.saveData[r];n&&Es.setItem(`${W.gameKey}-saves${r}`,n).then(()=>{Ve.info(`${r}`)})}}async function Hv(t,e){for(let r=t;r<=e;r++){const n=await Es.getItem(`${W.gameKey}-saves${r}`);ae.dispatch(or.saveGame({index:r,saveData:n})),Ve.info(`${r}`)}}async function cCe(){const t=ae.getState().saveData.quickSaveData;await Es.setItem(`${W.gameKey}-saves-fast`,t),Ve.info("")}async function E7(){const t=await Es.getItem(`${W.gameKey}-saves-fast`);ae.dispatch(or.setFastSave(t)),Ve.info("")}async function S7(){const t=ae.getState().saveData.unlockStorylineList;await Es.setItem(`${W.gameKey}-storyline`,{data:t}),Ve.info(" >> ")}async function wO(){const t=await Es.getItem(`${W.gameKey}-storyline`);ae.dispatch(or.setStorylineListFromStorage((t==null?void 0:t.data)??[])),Ve.info(" >> ")}async function C7(){const t=ae.getState().saveData.unlockAchieveData;await Es.setItem(`${W.gameKey}-unlock-achieve`,{data:t}),Ve.info(" >>> ")}async function fCe(){const t=await Es.getItem(`${W.gameKey}-unlock-achieve`);ae.dispatch(or.setUnlockAchieveData((t==null?void 0:t.data)||[])),Ve.info(" >>> ")}const Ry=async(t,e,r)=>{const n=await A7(t,!0,e,r);ae.dispatch(or.saveGame({index:t,saveData:n})),uCe(t,t)};async function A7(t,e=!0,r,n){var l;const i=ae.getState().stage,a=nn(W.backlogManager.getBacklog());let o="";if(e){const u=document.getElementById("pixiCanvas"),f=document.createElement("canvas"),h=f.getContext("2d");f.width=480,f.height=270,h.drawImage(u,0,0,480,270),o=f.toDataURL("image/webp",.5),f.remove()}if(e&&!r){const u=W.videoManager.videosByKey[W.videoManager.currentPlayingVideo];u&&(o=u.poster)}if(n){const u=ae.getState().saveData.saveData;o=((l=u==null?void 0:u[t])==null?void 0:l.previewImage)??""}const s=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:nn(i),backlog:a,index:t,saveName:r||s,saveTime:s,sceneData:{currentSentenceId:W.sceneManager.sceneData.currentSentenceId,sceneStack:nn(W.sceneManager.sceneData.sceneStack),sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl},previewImage:o}}function hCe(){const t=ae.getState().stage,e=nn(W.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:nn(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:W.sceneManager.sceneData.currentSentenceId,sceneStack:nn(W.sceneManager.sceneData.sceneStack),sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl}};return ae.dispatch(or.setSaveVideoData(n)),n}const dCe=t=>{const e=ae.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01;let a=!1,o="",s=!1,c=t.content==="none"||t.content==="",l="";const u=Date.now();ae.dispatch(Wp(!1)),ae.dispatch(ut({component:"playingVideo",visibility:!0})),ae.dispatch(vt({key:"showText",value:""})),ae.dispatch(vt({key:"showName",value:""})),ae.dispatch(ut({component:"showTextBox",visibility:!1}));const f={current:()=>{console.log("")}};t.args.forEach(g=>{g.key==="choose"&&(o="choose:"+g.value),g.key==="continueBgm"&&g.value,g.key==="loop"?s=g.value===!0:g.key==="keep"?(a=g.value===!0,s=!0):g.key==="id"&&(l=g.value)}),l&&!c&&W.videoManager.setUrlIdMap(l,t.content);const h="videoPlay."+(l||Xh());if(c){if(ae.dispatch(ut({component:"playingVideo",visibility:!1})),!l)W.videoManager.destroy(W.videoManager.currentPlayingVideo);else{const g=W.videoManager.idURLMap[l];g&&W.videoManager.destroy(g)}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const d=()=>{let g=Xt(t,"skipOff"),m=!0;return W.gameplay.isFast&&W.gameplay.isSyncingWithOrigine?(m=!1,g&&(m=!0),s&&(m=!1),o!==""&&(m=!0,f.current())):(g||s||o!=="")&&(m=!0),a&&(m=!1),m};W.videoManager.showVideo(t.content,a);let p=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:d,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(g=>{const m=_=>{p=!0,W.gameplay.performController.unmountPerform(_.performName)};setTimeout(()=>{const _=t.content,x=ae.getState().saveData.isLoadVideo;W.videoManager.seek(_,.03),W.videoManager.setVolume(_,i),W.videoManager.setLoop(_,s);const b=o?o.slice(7).split("|").map(A=>"game/scene/"+A.split(":")[1]):[];b.length&&Ad(b);const w=()=>{if(x){ae.dispatch(ut({component:"showExtra",visibility:!0}));return}for(const A of W.gameplay.performController.performList)if(A.performName===h)if(o!==""&&!s){const T=qh(o,`${u}.txt`,""),R=W.videoManager.getDuration(_);W.videoManager.seek(_,(R||0)-.03),W.videoManager.pauseVideo(_);const O=T.sentenceList[0],P=IA(O,()=>{m(A)});W.gameplay.performController.arrangeNewPerform(P,O)}else m(A),An()};f.current=w;const S={performName:h,duration:a?0:1e3*60*60*24*3650,isOver:!1,isHoldOn:!1,stopFunction:(A=!1)=>{if(!a){const T=document.getElementById("currentVocal");T&&(T.volume=n.toString()),W.videoManager.destroy(_,A)}},blockingNext:d,blockingAuto:()=>!p,stopTimeout:void 0,goNextWhenOver:!0};if(g(S),!a){const T=document.getElementById("currentVocal");T&&(T.volume=0 .toString())}W.videoManager.playVideo(_);const C=ae.getState().saveData.saveData||[];if(C!=null&&C.length&&C.forEach(A=>{var T,R;(R=(T=A==null?void 0:A.nowStageState)==null?void 0:T.PerformList)==null||R.forEach(O=>{var P;((P=O==null?void 0:O.script)==null?void 0:P.content)===_&&setTimeout(()=>{ae.dispatch(Wp(!0))})})}),o&&s){const T=qh(o,`${u}.txt`,"").sentenceList[0],R=IA(T,w);W.gameplay.performController.arrangeNewPerform(R,T)}setTimeout(()=>{hCe()},1e3),W.videoManager.onEnded(_,()=>{if(s)W.videoManager.seek(_,.03),W.videoManager.playVideo(_);else{const A=ae.getState().stage.showValueList;if(ae.dispatch(ut({component:"playingVideo",visibility:!1})),A!=null&&A.length){const T=ae.getState().stage.showValueName,R=A.filter(O=>O.showValueName!==T);ae.dispatch(che(R))}w()}})},100)})}},pCe=t=>{var o;ae.getState().stage.currentDialogKey;const e=t.content,r=ga(e),n=(((o=Xt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=W.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=Ey(e,n,r);s&&(Ve.debug(`${e}${n}`,r),(l=W.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},0),a=()=>{setTimeout(()=>{var s;ae.getState().stage.currentDialogKey,(s=W.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},0)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function vCe(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const gCe=[{name:"universalSoftIn",animationGenerateFunc:KG},{name:"universalSoftOff",animationGenerateFunc:ZG},{name:"testblur",animationGenerateFunc:vCe}],mCe=t=>{var s,c,l;ae.getState().stage.currentDialogKey;const e=t.content,r=Xt(t,"duration")??0,n=((s=Xt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=_Ce(e);let o=()=>{};if(a){Ve.debug(`${e}${n}`,r);const u=a(n,r);(c=W.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=W.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;ae.getState().stage.currentDialogKey,(f=W.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function _Ce(t){const e=gCe.find(r=>r.name===t);return Ve.debug("",e),e?e.animationGenerateFunc:null}const yCe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),xCe=t=>{var l;ae.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};W.animationManager.addAnimation(i);const a=ga(e),o=((l=Xt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=Ey(e,o,a);u&&(Ve.debug(`${e}${o}`,a),(h=W.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;ae.getState().stage.currentDialogKey,(u=W.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function bCe(t){return t.content==="hide"?ae.dispatch(vt({key:"isDisableTextbox",value:!0})):ae.dispatch(vt({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const wCe=t=>{var u;ae.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=Xt(t,"duration"),a=((u=Xt(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=jp(a,f,i)}catch{n=[]}const o={name:e,effects:n};W.animationManager.addAnimation(o);const s=SCe(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,d;(h=W.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=ECe(e,a,s);f&&(Ve.debug(`${e}${a}`,s),(d=W.gameplay.pixiStage)==null||d.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;ae.getState().stage.currentDialogKey,(f=W.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function ECe(t,e,r){const n=W.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=nn({...VP,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return Ve.debug("",i),IV(i,e,r)}return null}function SCe(t){const e=W.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const CCe=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return Xt(t,"enter")&&W.animationManager.nextEnterAnimationName.set(e,Xt(t,"enter").toString()),Xt(t,"exit")&&W.animationManager.nextExitAnimationName.set(e+"-off",Xt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},ACe=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ve.info(`BGM${r}${e}${n}`),ae.dispatch(eG({name:r,url:e,series:n}));const i=ae.getState().userData;return Es.setItem(W.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},TCe=t=>{const e=t.content;let r=t.content,n="default";t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Ve.info(`CG${r}${e}${n}`),ae.dispatch(Q9({name:r,url:e,series:n}));const i=ae.getState().userData;return Es.setItem(W.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},EO=(t,e=!0,r=!0)=>{t&&W.backlogManager.makeBacklogEmpty(),r&&W.videoManager.destroyAll(!0),e&&W.sceneManager.resetScene(),W.gameplay.performController.removeAllPerform(),W.gameplay.resetGamePlay();const n=nn(M9),i=ae.getState().stage.GameVar;ae.dispatch(Rx(n)),e||ae.dispatch(vt({key:"GameVar",value:i})),ae.dispatch(or.setLoadVideo(!1))},ICe=t=>{EO(!0);const e=ae.dispatch,r=yt("start.txt",pt.scene);return setTimeout(()=>{W.sceneManager.resetScene()},5),e(or.resetFastSave()),D7(),wa(r).then(n=>{W.sceneManager.setCurrentScene(n,"start.txt",r)}),e(ut({component:"showTitle",visibility:!0})),e(ut({component:"isInGaming",visibility:!1})),NO(ae.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},RCe=t=>(PV(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),PCe=t=>(W.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){Ve.warn("pixi ",e.performName);for(let r=0;r<W.gameplay.performController.performList.length;r++){const n=W.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),W.gameplay.performController.performList.splice(r,1),r--)}ae.dispatch(pa.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),dr={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},OCe=t=>(dr.maxAudioLevel=Math.max(t,dr.maxAudioLevel),{OPEN_THRESHOLD:dr.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:dr.maxAudioLevel*.5}),kCe=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=W.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),dr.blinkTimerID=setTimeout(()=>{var a;(a=W.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;dr.blinkTimerID=setTimeout(r,i)},200))}r()},FCe=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},WB=t=>{var h,d;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=W.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((d=W.gameplay.pixiStage)==null||d.performMouthSyncAnimation(o,s,f,c))};class NCe{constructor(e){Ye(this,"subject");Ye(this,"result");Ye(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function I1(t){return new NCe(t)}const LCe=t=>{Ve.debug("play vocal");const e="vocal-play",r=Xt(t,"vocal"),n=Xt(t,"volume");let i;i=ae.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");W.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const p of t.args)p.value===!0&&I1(p.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),p.key==="figureId"&&(o=`${p.value.toString()}`);ae.dispatch(vt({key:"playVocal",value:r})),ae.dispatch(vt({key:"vocal",value:r}));let d=!1;return{arrangePerformPromise:new Promise(p=>{setTimeout(()=>{let v=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?ae.dispatch(vt({key:"vocalVolume",value:n})):ae.dispatch(vt({key:"vocalVolume",value:100})),v!==null){v.currentTime=0;const g={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(dr.audioLevelInterval),v.pause(),o=o||`fig-${a}`;const _=c.find(x=>x.targetId===o);WB({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:_,pos:a}),clearTimeout(dr.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!d,skipNextCollect:!0,stopTimeout:void 0};W.gameplay.performController.arrangeNewPerform(g,t,!1),o=o||`fig-${a}`;const m=c.find(_=>_.targetId===o);if(m){const _=s.find(w=>w.key===o);if(_&&(a=_.basePosition),!dr.audioContext){let w;w=new AudioContext,dr.analyser=w.createAnalyser(),dr.analyser.fftSize=256,dr.dataArray=new Uint8Array(dr.analyser.frequencyBinCount)}dr.analyser||(dr.analyser=dr.audioContext.createAnalyser(),dr.analyser.fftSize=256),l=dr.analyser.frequencyBinCount,dr.dataArray=new Uint8Array(l);let x=document.getElementById("currentVocal");dr.source||(dr.source=dr.audioContext.createMediaElementSource(x),dr.source.connect(dr.analyser)),dr.analyser.connect(dr.audioContext.destination),dr.audioLevelInterval=setInterval(()=>{const w=FCe(dr.analyser,dr.dataArray,l),{OPEN_THRESHOLD:S,HALF_OPEN_THRESHOLD:C}=OCe(w);WB({audioLevel:w,OPEN_THRESHOLD:S,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:m,pos:a})},50);let b;b=Date.now()+1e4,kCe({key:o,animationItem:m,pos:a,animationEndTime:b}),setTimeout(()=>{clearTimeout(dr.blinkTimerID)},1e4)}v.onloadeddata=()=>{v==null||v.play()},v.onended=()=>{for(const _ of W.gameplay.performController.performList)_.performName===e&&(d=!0,_.stopFunction(),W.gameplay.performController.unmountPerform(_.performName))}}},1)})}};function T7(t){switch(t){case tl.slow:return 80;case tl.normal:return 35;case tl.fast:return 3}}function MCe(t){switch(t){case tl.slow:return 800;case tl.normal:return 350;case tl.fast:return 200}}const BCe=t=>{const e=ae.getState().stage,r=ae.getState().userData,n=ae.dispatch;let i=Math.random().toString(),a=t.content;const o=Xt(t,"concat"),s=Xt(t,"notend"),c=Xt(t,"speaker"),l=Xt(t,"clear"),u=Xt(t,"vocal");o?(i=e.currentDialogKey,a=e.showText+a,n(vt({key:"currentConcatDialogPrev",value:e.showText}))):n(vt({key:"currentConcatDialogPrev",value:""})),n(vt({key:"showText",value:a})),n(vt({key:"vocal",value:""})),r.optionData.voiceInterruption===EP.no&&u===null||(n(vt({key:"playVocal",value:""})),W.gameplay.performController.unmountPerform("vocal-play",!0)),n(vt({key:"currentDialogKey",value:i}));const h=T7(r.optionData.textSpeed)*t.content.length;for(const g of t.args)if(g.key==="fontSize")switch(g.value){case"default":n(vt({key:"showTextSize",value:-1}));break;case"small":n(vt({key:"showTextSize",value:fs.small}));break;case"medium":n(vt({key:"showTextSize",value:fs.medium}));break;case"large":n(vt({key:"showTextSize",value:fs.large}));break}let d=e.showName;c!==null&&(d=c),l&&(d=""),n(vt({key:"showName",value:d})),u&&LCe(t);const p=Xh();let v=750-r.optionData.textSpeed*250;return s&&(v=0),{performName:p,duration:h+v,isHoldOn:!1,stopFunction:()=>{W.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},DCe=t=>{const e=ae.getState().stage,r=ae.getState().userData,n=ae.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(vt({key:"showText",value:JSON.stringify(i)})),n(vt({key:"showName",value:""})),Ve.debug("",i),setTimeout(()=>{W.events.textSettle.emit()},0);const a=Xh(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{W.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},UCe=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];ae.dispatch(pa.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},jCe=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await wO(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ae.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?ae.dispatch(or.addStorylineList({storyLine:o,videoData:ae.getState().saveData.saveVideoData})):ae.dispatch(or.replaceStorylineList({index:i,data:{storyLine:o,videoData:ae.getState().saveData.saveVideoData}})),S7()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),$Ce=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ae.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return ae.dispatch(or.saveAllUnlockAchieveList(c)),i===-1?ae.dispatch(or.addUnlockAchieveData(s)):ae.dispatch(or.replaceUnlockAchieveData({index:i,data:s})),C7(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},zB=t=>{const e=/\{(.*?)\}/,r=t.match(e);if(r){const i=r[1].split(","),a={};return i.forEach(o=>{const[s,c]=o.split("=");s&&c&&(a[s.trim()]=isNaN(Number(c.trim()))?c.trim():Number(c.trim()))}),a}};function GCe(t){const e={isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showProgress:!1};return t!=null&&t.content&&(e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?e.isShowValueSwitch=!!r.value:r.key==="x"?e.showValueAxisX=Number(r.value):r.key==="y"?e.showValueAxisY=Number(r.value):r.key==="showProgress"?e.showProgress=!!r.value:r.key==="progressBarBgStyle"?e.progressBarBgStyle=zB(r.value):r.key==="progressBarStyle"?e.progressBarStyle=zB(r.value):r.key==="maxValue"&&(e.maxValue=Number(r.value))}),ae.dispatch(uhe(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}function VCe(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,d=Math.min(h/n,1),p=u(d);t.scrollTo(i+o*p,a+s*p),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const HCe=t=>{const e=Xh();let r=0,n=0,i=0,a=!1;return console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(o=>{o.key==="duration"?r=Number(o.value):o.key==="x"?n=Number(o.value):o.key==="y"?i=Number(o.value):o.key==="next"&&(a=o.value==="true")}),setTimeout(()=>{const o=document.getElementById("camera");o&&(Ve.info(`${n}${i}`),VCe(o,n,i,r))},16),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}};function XCe(t){return t.content==="hide"?ae.dispatch(ut({component:"isHideGameUI",visibility:!0})):ae.dispatch(ut({component:"isHideGameUI",visibility:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const I7=AEe({intro:zt(Tt.intro,ZEe),changeBg:zt(Tt.changeBg,xwe),changeFigure:zt(Tt.changeFigure,bwe),miniAvatar:zt(Tt.miniAvatar,QEe,{next:!0}),changeScene:zt(Tt.changeScene,wwe),choose:zt(Tt.choose,IA),end:zt(Tt.end,ICe),bgm:zt(Tt.bgm,fge,{next:!0}),playVideo:zt(Tt.video,dCe),setComplexAnimation:zt(Tt.setComplexAnimation,mCe),setFilter:zt(Tt.setFilter,yCe),pixiInit:zt(Tt.pixiInit,PCe,{next:!0}),pixiPerform:zt(Tt.pixi,aSe,{next:!0}),label:zt(Tt.label,JEe,{next:!0}),jumpLabel:zt(Tt.jumpLabel,RCe),setVar:zt(Tt.setVar,p_e,{next:!0}),showVars:zt(Tt.showVars,DCe),unlockCg:zt(Tt.unlockCg,TCe,{next:!0}),unlockBgm:zt(Tt.unlockBgm,ACe,{next:!0}),say:zt(Tt.say,BCe),filmMode:zt(Tt.filmMode,PEe,{next:!0}),callScene:zt(Tt.callScene,lye),setTextbox:zt(Tt.setTextbox,bCe),setAnimation:zt(Tt.setAnimation,pCe),playEffect:zt(Tt.playEffect,oCe,{next:!0}),setTempAnimation:zt(Tt.setTempAnimation,xCe),__commment:zt(Tt.comment,REe,{next:!0}),setTransform:zt(Tt.setTransform,wCe),setTransition:zt(Tt.setTransition,CCe,{next:!0}),getUserInput:zt(Tt.getUserInput,BEe),applyStyle:zt(Tt.applyStyle,UCe,{next:!0}),unlockAchieve:zt(Tt.unlockAchieve,$Ce,{next:!0}),unlockStoryline:zt(Tt.unlockStoryline,jCe,{next:!0}),showValue:zt(Tt.showValue,GCe,{next:!0}),moveCamera:zt(Tt.moveCamera,HCe),showUI:zt(Tt.showUI,XCe,{next:!0})}),R7=Object.values(I7),WCe=R7.filter(t=>t.next).map(t=>t.scriptType),R1=new cge(bde,yt,WCe,R7),qh=(t,e,r)=>{const n=R1.parse(t,e,r);return Ve.info(`${e}`,n),n};var ol=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t))(ol||{});const YB={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class zCe{constructor(){Ye(this,"settledScenes",[]);Ye(this,"settledAssets",[]);Ye(this,"sceneData",nn(YB));Ye(this,"sceneAssetsList",{});Ye(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=nn(YB.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{this.sceneData.currentScene=qh(e,r,n);const o=this.sceneData.currentScene.sentenceList;r==="storyline.txt"&&this.getAllStorylineList(o),r==="achieve.txt"&&this.getAllUnlockAchieveList(o),a(this.sceneData.currentScene)})}async getAllStorylineList(e){await wO();const r=new Map,n=new Map;ae.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Tt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});ae.dispatch(or.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);ae.dispatch(or.setStorylineListFromStorage(a)),await S7()}async getAllUnlockAchieveList(e){await fCe();const r=new Map,n=new Map;ae.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Tt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});ae.dispatch(or.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);ae.dispatch(or.setUnlockAchieveData(a)),await C7()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class YCe{constructor(){Ye(this,"nextEnterAnimationName",new Map);Ye(this,"nextExitAnimationName",new Map);Ye(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class qCe{constructor(){Ye(this,"isAuto",!1);Ye(this,"isFast",!1);Ye(this,"isSyncingWithOrigine",!1);Ye(this,"autoInterval",null);Ye(this,"fastInterval",null);Ye(this,"autoTimeout",null);Ye(this,"pixiStage",null);Ye(this,"performController",new ywe)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function KCe(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class ZCe{constructor(){Ye(this,"textSettle",w0("text-settle"));Ye(this,"userInteractNext",w0("__NEXT"));Ye(this,"fullscreenDbClick",w0("fullscreen-dbclick"));Ye(this,"styleUpdate",w0("style-update"));Ye(this,"screenSizeChange",w0("screenSize-change"))}}const CS=KCe();function w0(t){return{on:(e,r)=>{CS.on(`${t}-${r??""}`,e)},emit:(e,r)=>{CS.emit(`${t}-${r??""}`,e)},off:(e,r)=>{CS.off(`${t}-${r??""}`,e)}}}var P7={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(_e){var Se=typeof _e;return _e!==null&&(Se==="object"||Se==="function")}function u(_e){return typeof _e=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(_e){return Object.prototype.toString.call(_e)==="[object Array]"};var h=f,d=0,p=void 0,v=void 0,g=function(Se,Oe){k[d]=Se,k[d+1]=Oe,d+=2,d===2&&(v?v(F):D())};function m(_e){v=_e}function _(_e){g=_e}var x=typeof window<"u"?window:void 0,b=x||{},w=b.MutationObserver||b.WebKitMutationObserver,S=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function A(){return function(){return process.nextTick(F)}}function T(){return typeof p<"u"?function(){p(F)}:P()}function R(){var _e=0,Se=new w(F),Oe=document.createTextNode("");return Se.observe(Oe,{characterData:!0}),function(){Oe.data=_e=++_e%2}}function O(){var _e=new MessageChannel;return _e.port1.onmessage=F,function(){return _e.port2.postMessage(0)}}function P(){var _e=setTimeout;return function(){return _e(F,1)}}var k=new Array(1e3);function F(){for(var _e=0;_e<d;_e+=2){var Se=k[_e],Oe=k[_e+1];Se(Oe),k[_e]=void 0,k[_e+1]=void 0}d=0}function L(){try{var _e=Function("return this")().require("vertx");return p=_e.runOnLoop||_e.runOnContext,T()}catch{return P()}}var D=void 0;S?D=A():w?D=R():C?D=O():x===void 0?D=L():D=P();function H(_e,Se){var Oe=this,qe=new this.constructor(G);qe[ee]===void 0&&Et(qe);var He=Oe._state;if(He){var at=arguments[He-1];g(function(){return Le(He,qe,at,Oe._result)})}else Pe(Oe,qe,_e,Se);return qe}function Q(_e){var Se=this;if(_e&&typeof _e=="object"&&_e.constructor===Se)return _e;var Oe=new Se(G);return Ae(Oe,_e),Oe}var ee=Math.random().toString(36).substring(2);function G(){}var B=void 0,V=1,U=2;function $(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function re(_e,Se,Oe,qe){try{_e.call(Se,Oe,qe)}catch(He){return He}}function fe(_e,Se,Oe){g(function(qe){var He=!1,at=re(Oe,Se,function(ar){He||(He=!0,Se!==ar?Ae(qe,ar):we(qe,ar))},function(ar){He||(He=!0,me(qe,ar))},"Settle: "+(qe._label||" unknown promise"));!He&&at&&(He=!0,me(qe,at))},_e)}function le(_e,Se){Se._state===V?we(_e,Se._result):Se._state===U?me(_e,Se._result):Pe(Se,void 0,function(Oe){return Ae(_e,Oe)},function(Oe){return me(_e,Oe)})}function xe(_e,Se,Oe){Se.constructor===_e.constructor&&Oe===H&&Se.constructor.resolve===Q?le(_e,Se):Oe===void 0?we(_e,Se):u(Oe)?fe(_e,Se,Oe):we(_e,Se)}function Ae(_e,Se){if(_e===Se)me(_e,$());else if(l(Se)){var Oe=void 0;try{Oe=Se.then}catch(qe){me(_e,qe);return}xe(_e,Se,Oe)}else we(_e,Se)}function ye(_e){_e._onerror&&_e._onerror(_e._result),je(_e)}function we(_e,Se){_e._state===B&&(_e._result=Se,_e._state=V,_e._subscribers.length!==0&&g(je,_e))}function me(_e,Se){_e._state===B&&(_e._state=U,_e._result=Se,g(ye,_e))}function Pe(_e,Se,Oe,qe){var He=_e._subscribers,at=He.length;_e._onerror=null,He[at]=Se,He[at+V]=Oe,He[at+U]=qe,at===0&&_e._state&&g(je,_e)}function je(_e){var Se=_e._subscribers,Oe=_e._state;if(Se.length!==0){for(var qe=void 0,He=void 0,at=_e._result,ar=0;ar<Se.length;ar+=3)qe=Se[ar],He=Se[ar+Oe],qe?Le(Oe,qe,He,at):He(at);_e._subscribers.length=0}}function Le(_e,Se,Oe,qe){var He=u(Oe),at=void 0,ar=void 0,kr=!0;if(He){try{at=Oe(qe)}catch(zn){kr=!1,ar=zn}if(Se===at){me(Se,J());return}}else at=qe;Se._state!==B||(He&&kr?Ae(Se,at):kr===!1?me(Se,ar):_e===V?we(Se,at):_e===U&&me(Se,at))}function ze(_e,Se){try{Se(function(qe){Ae(_e,qe)},function(qe){me(_e,qe)})}catch(Oe){me(_e,Oe)}}var st=0;function xt(){return st++}function Et(_e){_e[ee]=st++,_e._state=void 0,_e._result=void 0,_e._subscribers=[]}function it(){return new Error("Array Methods must be provided an Array")}var ct=function(){function _e(Se,Oe){this._instanceConstructor=Se,this.promise=new Se(G),this.promise[ee]||Et(this.promise),h(Oe)?(this.length=Oe.length,this._remaining=Oe.length,this._result=new Array(this.length),this.length===0?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(Oe),this._remaining===0&&we(this.promise,this._result))):me(this.promise,it())}return _e.prototype._enumerate=function(Oe){for(var qe=0;this._state===B&&qe<Oe.length;qe++)this._eachEntry(Oe[qe],qe)},_e.prototype._eachEntry=function(Oe,qe){var He=this._instanceConstructor,at=He.resolve;if(at===Q){var ar=void 0,kr=void 0,zn=!1;try{ar=Oe.then}catch(Ar){zn=!0,kr=Ar}if(ar===H&&Oe._state!==B)this._settledAt(Oe._state,qe,Oe._result);else if(typeof ar!="function")this._remaining--,this._result[qe]=Oe;else if(He===Rt){var Yn=new He(G);zn?me(Yn,kr):xe(Yn,Oe,ar),this._willSettleAt(Yn,qe)}else this._willSettleAt(new He(function(Ar){return Ar(Oe)}),qe)}else this._willSettleAt(at(Oe),qe)},_e.prototype._settledAt=function(Oe,qe,He){var at=this.promise;at._state===B&&(this._remaining--,Oe===U?me(at,He):this._result[qe]=He),this._remaining===0&&we(at,this._result)},_e.prototype._willSettleAt=function(Oe,qe){var He=this;Pe(Oe,void 0,function(at){return He._settledAt(V,qe,at)},function(at){return He._settledAt(U,qe,at)})},_e}();function bt(_e){return new ct(this,_e).promise}function mr(_e){var Se=this;return h(_e)?new Se(function(Oe,qe){for(var He=_e.length,at=0;at<He;at++)Se.resolve(_e[at]).then(Oe,qe)}):new Se(function(Oe,qe){return qe(new TypeError("You must pass an array to race."))})}function _r(_e){var Se=this,Oe=new Se(G);return me(Oe,_e),Oe}function fr(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ir(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Rt=function(){function _e(Se){this[ee]=xt(),this._result=this._state=void 0,this._subscribers=[],G!==Se&&(typeof Se!="function"&&fr(),this instanceof _e?ze(this,Se):ir())}return _e.prototype.catch=function(Oe){return this.then(null,Oe)},_e.prototype.finally=function(Oe){var qe=this,He=qe.constructor;return u(Oe)?qe.then(function(at){return He.resolve(Oe()).then(function(){return at})},function(at){return He.resolve(Oe()).then(function(){throw at})}):qe.then(Oe,Oe)},_e}();Rt.prototype.then=H,Rt.all=bt,Rt.race=mr,Rt.resolve=Q,Rt.reject=_r,Rt._setScheduler=m,Rt._setAsap=_,Rt._asap=g;function Er(){var _e=void 0;if(typeof c.g<"u")_e=c.g;else if(typeof self<"u")_e=self;else try{_e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Se=_e.Promise;if(Se){var Oe=null;try{Oe=Object.prototype.toString.call(Se.resolve())}catch{}if(Oe==="[object Promise]"&&!Se.cast)return}_e.Promise=Rt}return Rt.polyfill=Er,Rt.Promise=Rt,Rt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,k,F){return Function.prototype.apply.call(P,k,F)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:l=function(P){return Object.getOwnPropertyNames(P)};function u(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(P){return P!==P};function h(){h.init.call(this)}o.exports=h,o.exports.once=A,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var d=10;function p(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");d=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||f(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function v(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return v(this)},h.prototype.emit=function(P){for(var k=[],F=1;F<arguments.length;F++)k.push(arguments[F]);var L=P==="error",D=this._events;if(D!==void 0)L=L&&D.error===void 0;else if(!L)return!1;if(L){var H;if(k.length>0&&(H=k[0]),H instanceof Error)throw H;var Q=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw Q.context=H,Q}var ee=D[P];if(ee===void 0)return!1;if(typeof ee=="function")c(ee,this,k);else for(var G=ee.length,B=w(ee,G),F=0;F<G;++F)c(B[F],this,k);return!0};function g(O,P,k,F){var L,D,H;if(p(k),D=O._events,D===void 0?(D=O._events=Object.create(null),O._eventsCount=0):(D.newListener!==void 0&&(O.emit("newListener",P,k.listener?k.listener:k),D=O._events),H=D[P]),H===void 0)H=D[P]=k,++O._eventsCount;else if(typeof H=="function"?H=D[P]=F?[k,H]:[H,k]:F?H.unshift(k):H.push(k),L=v(O),L>0&&H.length>L&&!H.warned){H.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=O,Q.type=P,Q.count=H.length,u(Q)}return O}h.prototype.addListener=function(P,k){return g(this,P,k,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(P,k){return g(this,P,k,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(O,P,k){var F={fired:!1,wrapFn:void 0,target:O,type:P,listener:k},L=m.bind(F);return L.listener=k,F.wrapFn=L,L}h.prototype.once=function(P,k){return p(k),this.on(P,_(this,P,k)),this},h.prototype.prependOnceListener=function(P,k){return p(k),this.prependListener(P,_(this,P,k)),this},h.prototype.removeListener=function(P,k){var F,L,D,H,Q;if(p(k),L=this._events,L===void 0)return this;if(F=L[P],F===void 0)return this;if(F===k||F.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete L[P],L.removeListener&&this.emit("removeListener",P,F.listener||k));else if(typeof F!="function"){for(D=-1,H=F.length-1;H>=0;H--)if(F[H]===k||F[H].listener===k){Q=F[H].listener,D=H;break}if(D<0)return this;D===0?F.shift():S(F,D),F.length===1&&(L[P]=F[0]),L.removeListener!==void 0&&this.emit("removeListener",P,Q||k)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(P){var k,F,L;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[P]),this;if(arguments.length===0){var D=Object.keys(F),H;for(L=0;L<D.length;++L)H=D[L],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=F[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(L=k.length-1;L>=0;L--)this.removeListener(P,k[L]);return this};function x(O,P,k){var F=O._events;if(F===void 0)return[];var L=F[P];return L===void 0?[]:typeof L=="function"?k?[L.listener||L]:[L]:k?C(L):w(L,L.length)}h.prototype.listeners=function(P){return x(this,P,!0)},h.prototype.rawListeners=function(P){return x(this,P,!1)},h.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):b.call(O,P)},h.prototype.listenerCount=b;function b(O){var P=this._events;if(P!==void 0){var k=P[O];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function w(O,P){for(var k=new Array(P),F=0;F<P;++F)k[F]=O[F];return k}function S(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function C(O){for(var P=new Array(O.length),k=0;k<P.length;++k)P[k]=O[k].listener||O[k];return P}function A(O,P){return new Promise(function(k,F){function L(H){O.removeListener(P,D),F(H)}function D(){typeof O.removeListener=="function"&&O.removeListener("error",L),k([].slice.call(arguments))}R(O,P,D,{once:!0}),P!=="error"&&T(O,L,{once:!0})})}function T(O,P,k){typeof O.on=="function"&&R(O,"error",P,k)}function R(O,P,k,F){if(typeof O.on=="function")F.once?O.once(P,k):O.on(P,k);else if(typeof O.addEventListener=="function")O.addEventListener(P,function L(D){F.once&&O.removeEventListener(P,L),k(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(m){var _={};function x(w){if(_[w])return _[w].exports;var S=_[w]={i:w,l:!1,exports:{}};return m[w].call(S.exports,S,S.exports,x),S.l=!0,S.exports}x.m=m,x.c=_,x.i=function(w){return w},x.d=function(w,S,C){x.o(w,S)||Object.defineProperty(w,S,{configurable:!1,enumerable:!0,get:C})},x.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},x.n=function(w){var S=w&&w.__esModule?function(){return w.default}:function(){return w};return x.d(S,"a",S),S},x.o=function(w,S){return Object.prototype.hasOwnProperty.call(w,S)},x.p="/",x.oe=function(w){throw console.error(w),w};var b=x(x.s=ENTRY_MODULE);return b.default||b}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function d(m){return!isNaN(1*m)}function p(m,_,x){var b={};b[x]=[];var w=_.toString(),S=w.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!S)return b;for(var C=S[1],A=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),T;T=A.exec(w);)T[3]!=="dll-reference"&&b[x].push(T[3]);for(A=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");T=A.exec(w);)m[T[2]]||(b[x].push(T[1]),m[T[2]]=c(T[1]).m),b[T[2]]=b[T[2]]||[],b[T[2]].push(T[4]);for(var R=Object.keys(b),O=0;O<R.length;O++)for(var P=0;P<b[R[O]].length;P++)d(b[R[O]][P])&&(b[R[O]][P]=1*b[R[O]][P]);return b}function v(m){var _=Object.keys(m);return _.reduce(function(x,b){return x||m[b].length>0},!1)}function g(m,_){for(var x={main:[_]},b={main:[]},w={main:{}};v(x);)for(var S=Object.keys(x),C=0;C<S.length;C++){var A=S[C],T=x[A],R=T.pop();if(w[A]=w[A]||{},!(w[A][R]||!m[A][R])){w[A][R]=!0,b[A]=b[A]||[],b[A].push(R);for(var O=p(m,m[A][R],A),P=Object.keys(O),k=0;k<P.length;k++)x[P[k]]=x[P[k]]||[],x[P[k]]=x[P[k]].concat(O[P[k]])}}return b}o.exports=function(m,_){_=_||{};var x={main:c.m},b=_.all?{main:Object.keys(x.main)}:g(x,m),w="";Object.keys(b).filter(function(R){return R!=="main"}).forEach(function(R){for(var O=0;b[R][O];)O++;b[R].push(O),x[R][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",w=w+"var "+R+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+b[R].map(function(P){return""+JSON.stringify(P)+": "+x[R][P].toString()}).join(",")+`});
`}),w=w+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+b.main.map(function(R){return""+JSON.stringify(R)+": "+x.main[R].toString()}).join(",")+"}))(self);";var S=new window.Blob([w],{type:"text/javascript"});if(_.bare)return S;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,A=C.createObjectURL(S),T=new window.Worker(A);return T.objectURL=A,T}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var d=new l.default({},(0,u.createDefaultConfig)()),p=d.loaderType;return d.destroy(),p=="fetch-stream-loader"||p=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var d=new l.default({},(0,u.createDefaultConfig)()),p=d.loaderType;return d.destroy(),p},h.supportNativeMediaPlayback=function(d){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var p=h.videoElement.canPlayType(d);return p==="probably"||p=="maybe"},h.getFeatureList=function(){var d={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return d.mseFlvPlayback=h.supportMSEH264Playback(),d.networkStreamIO=h.supportNetworkStreamIO(),d.networkLoaderName=h.getNetworkLoaderTypeName(),d.mseLiveFlvPlayback=d.mseFlvPlayback&&d.networkStreamIO,d.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),d.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),d.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),d},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,d=this._search(h.times,f);return{index:d,milliseconds:h.times[d],fileposition:h.filepositions[d]}},u.prototype._search=function(f,h){var d=0,p=f.length-1,v=0,g=0,m=p;for(h<f[0]&&(d=0,g=m+1);g<=m;)if(v=g+Math.floor((m-g)/2),v===p||h>=f[v]&&h<f[v+1]){d=v;break}else f[v]<h?g=v+1:m=v-1;return d},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function d(p,v,g,m,_){this.dts=p,this.pts=v,this.duration=g,this.originalDts=m,this.isSyncPoint=_,this.fileposition=null}return d}(),u=function(){function d(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return d.prototype.appendSyncPoint=function(p){p.isSyncPoint=!0,this.syncPoints.push(p)},d}(),f=function(){function d(){this._list=[]}return d.prototype.clear=function(){this._list=[]},d.prototype.appendArray=function(p){var v=this._list;p.length!==0&&(v.length>0&&p[0].originalDts<v[v.length-1].originalDts&&this.clear(),Array.prototype.push.apply(v,p))},d.prototype.getLastSyncPointBeforeDts=function(p){if(this._list.length==0)return null;var v=this._list,g=0,m=v.length-1,_=0,x=0,b=m;for(p<v[0].dts&&(g=0,x=b+1);x<=b;)if(_=x+Math.floor((b-x)/2),_===m||p>=v[_].dts&&p<v[_+1].dts){g=_;break}else v[_].dts<p?x=_+1:b=_-1;return this._list[g]},d}(),h=function(){function d(p){this._type=p,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),d.prototype.isEmpty=function(){return this._list.length===0},d.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},d.prototype._searchNearestSegmentBefore=function(p){var v=this._list;if(v.length===0)return-2;var g=v.length-1,m=0,_=0,x=g,b=0;if(p<v[0].originalBeginDts)return b=-1,b;for(;_<=x;)if(m=_+Math.floor((x-_)/2),m===g||p>v[m].lastSample.originalDts&&p<v[m+1].originalBeginDts){b=m;break}else v[m].originalBeginDts<p?_=m+1:x=m-1;return b},d.prototype._searchNearestSegmentAfter=function(p){return this._searchNearestSegmentBefore(p)+1},d.prototype.append=function(p){var v=this._list,g=p,m=this._lastAppendLocation,_=0;m!==-1&&m<v.length&&g.originalBeginDts>=v[m].lastSample.originalDts&&(m===v.length-1||m<v.length-1&&g.originalBeginDts<v[m+1].originalBeginDts)?_=m+1:v.length>0&&(_=this._searchNearestSegmentBefore(g.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,g)},d.prototype.getLastSegmentBefore=function(p){var v=this._searchNearestSegmentBefore(p);return v>=0?this._list[v]:null},d.prototype.getLastSampleBefore=function(p){var v=this.getLastSegmentBefore(p);return v!=null?v.lastSample:null},d.prototype.getLastSyncPointBefore=function(p){for(var v=this._searchNearestSegmentBefore(p),g=this._list[v].syncPoints;g.length===0&&v>0;)v--,g=this._list[v].syncPoints;return g.length>0?g[g.length-1]:null},d}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/core/mse-events.js"),p=c("./src/core/media-segment-info.js"),v=c("./src/utils/exception.js"),g=function(){function m(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new p.IDRSampleList}return m.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(_,x){this._emitter.addListener(_,x)},m.prototype.off=function(_,x){this._emitter.removeListener(_,x)},m.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new v.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},m.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var x in this._sourceBuffers){var b=this._pendingSegments[x];b.splice(0,b.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var w=this._sourceBuffers[x];if(w){if(_.readyState!=="closed"){try{_.removeSourceBuffer(w)}catch(S){f.default.e(this.TAG,S.message)}w.removeEventListener("error",this.e.onSourceBufferError),w.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(S){f.default.e(this.TAG,S.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},m.prototype.appendInitSegment=function(_,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var b=_,w=""+b.container;b.codec&&b.codec.length>0&&(w+=";codecs="+b.codec);var S=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+w),this._lastInitSegments[b.type]=b,w!==this._mimeTypes[b.type]){if(this._mimeTypes[b.type])f.default.v(this.TAG,"Notice: "+b.type+" mimeType changed, origin: "+this._mimeTypes[b.type]+", target: "+w);else{S=!0;try{var C=this._sourceBuffers[b.type]=this._mediaSource.addSourceBuffer(w);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(A){f.default.e(this.TAG,A.message),this._emitter.emit(d.default.ERROR,{code:A.code,msg:A.message});return}}this._mimeTypes[b.type]=w}x||this._pendingSegments[b.type].push(b),S||this._sourceBuffers[b.type]&&!this._sourceBuffers[b.type].updating&&this._doAppendSegments(),h.default.safari&&b.container==="audio/mpeg"&&b.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=b.mediaDuration/1e3,this._updateMediaSourceDuration())},m.prototype.appendMediaSegment=function(_){var x=_;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var b=this._sourceBuffers[x.type];b&&!b.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},m.prototype.seek=function(_){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var b=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{b.abort()}catch(R){f.default.e(this.TAG,R.message)}this._idrList.clear();var w=this._pendingSegments[x];if(w.splice(0,w.length),this._mediaSource.readyState!=="closed"){for(var S=0;S<b.buffered.length;S++){var C=b.buffered.start(S),A=b.buffered.end(S);this._pendingRemoveRanges[x].push({start:C,end:A})}if(b.updating||this._doRemoveRanges(),h.default.safari){var T=this._lastInitSegments[x];T&&(this._pendingSegments[x].push(T),b.updating||this._doAppendSegments())}}}},m.prototype.endOfStream=function(){var _=this._mediaSource,x=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},m.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},m.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var b=this._sourceBuffers[x];if(b){var w=b.buffered;if(w.length>=1&&_-w.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},m.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var b=this._sourceBuffers[x];if(b){for(var w=b.buffered,S=!1,C=0;C<w.length;C++){var A=w.start(C),T=w.end(C);if(A<=_&&_<T+3){if(_-A>=this._config.autoCleanupMaxBackwardDuration){S=!0;var R=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:A,end:R})}}else T<_&&(S=!0,this._pendingRemoveRanges[x].push({start:A,end:T}))}S&&!b.updating&&this._doRemoveRanges()}}},m.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var x=this._mediaSource.duration,b=this._pendingMediaDuration;b>0&&(isNaN(x)||b>x)&&(f.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+b),this._mediaSource.duration=b),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},m.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var x=this._sourceBuffers[_],b=this._pendingRemoveRanges[_];b.length&&!x.updating;){var w=b.shift();x.remove(w.start,w.end)}},m.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var x in _)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&_[x].length>0){var b=_[x].shift();if(b.timestampOffset){var w=this._sourceBuffers[x].timestampOffset,S=b.timestampOffset/1e3,C=Math.abs(w-S);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+w+" to "+S),this._sourceBuffers[x].timestampOffset=S),delete b.timestampOffset}if(!b.data||b.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(b.data),this._isBufferFull=!1,x==="video"&&b.hasOwnProperty("info")&&this._idrList.appendArray(b.info.syncPoints)}catch(A){this._pendingSegments[x].unshift(b),A.code===22?(this._isBufferFull||this._emitter.emit(d.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,A.message),this._emitter.emit(d.default.ERROR,{code:A.code,msg:A.message}))}}},m.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var x=_.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(d.default.SOURCE_OPEN)},m.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},m.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},m.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},m.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},m.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(d.default.UPDATE_END)},m.prototype._onSourceBufferError=function(_){f.default.e(this.TAG,"SourceBuffer Error: "+_)},m}();s.default=g},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),d=c("./src/utils/logger.js"),p=c("./src/utils/logging-control.js"),v=c("./src/core/transmuxing-controller.js"),g=c("./src/core/transmuxing-events.js"),m=c("./src/core/media-info.js"),_=function(){function x(b,w){if(this.TAG="Transmuxer",this._emitter=new(u()),w.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,w]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},p.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:p.default.getConfig()})}catch{d.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new v.default(b,w)}else this._controller=new v.default(b,w);if(this._controller){var S=this._controller;S.on(g.default.IO_ERROR,this._onIOError.bind(this)),S.on(g.default.DEMUX_ERROR,this._onDemuxError.bind(this)),S.on(g.default.INIT_SEGMENT,this._onInitSegment.bind(this)),S.on(g.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),S.on(g.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),S.on(g.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),S.on(g.default.MEDIA_INFO,this._onMediaInfo.bind(this)),S.on(g.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),S.on(g.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),S.on(g.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),S.on(g.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),p.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(b,w){this._emitter.addListener(b,w)},x.prototype.off=function(b,w){this._emitter.removeListener(b,w)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(b,w){var S=this;Promise.resolve().then(function(){S._emitter.emit(g.default.INIT_SEGMENT,b,w)})},x.prototype._onMediaSegment=function(b,w){var S=this;Promise.resolve().then(function(){S._emitter.emit(g.default.MEDIA_SEGMENT,b,w)})},x.prototype._onLoadingComplete=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(g.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(g.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(g.default.MEDIA_INFO,b)})},x.prototype._onMetaDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(g.default.METADATA_ARRIVED,b)})},x.prototype._onScriptDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(g.default.SCRIPTDATA_ARRIVED,b)})},x.prototype._onStatisticsInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(g.default.STATISTICS_INFO,b)})},x.prototype._onIOError=function(b,w){var S=this;Promise.resolve().then(function(){S._emitter.emit(g.default.IO_ERROR,b,w)})},x.prototype._onDemuxError=function(b,w){var S=this;Promise.resolve().then(function(){S._emitter.emit(g.default.DEMUX_ERROR,b,w)})},x.prototype._onRecommendSeekpoint=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(g.default.RECOMMEND_SEEKPOINT,b)})},x.prototype._onLoggingConfigChanged=function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})},x.prototype._onWorkerMessage=function(b){var w=b.data,S=w.data;if(w.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(w.msg){case g.default.INIT_SEGMENT:case g.default.MEDIA_SEGMENT:this._emitter.emit(w.msg,S.type,S.data);break;case g.default.LOADING_COMPLETE:case g.default.RECOVERED_EARLY_EOF:this._emitter.emit(w.msg);break;case g.default.MEDIA_INFO:Object.setPrototypeOf(S,m.default.prototype),this._emitter.emit(w.msg,S);break;case g.default.METADATA_ARRIVED:case g.default.SCRIPTDATA_ARRIVED:case g.default.STATISTICS_INFO:this._emitter.emit(w.msg,S);break;case g.default.IO_ERROR:case g.default.DEMUX_ERROR:this._emitter.emit(w.msg,S.type,S.info);break;case g.default.RECOMMEND_SEEKPOINT:this._emitter.emit(w.msg,S);break;case"logcat_callback":d.default.emitter.emit("log",S.type,S.logcat);break}},x}();s.default=_},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/core/media-info.js"),p=c("./src/demux/flv-demuxer.js"),v=c("./src/remux/mp4-remuxer.js"),g=c("./src/demux/demux-errors.js"),m=c("./src/io/io-controller.js"),_=c("./src/core/transmuxing-events.js"),x=function(){function b(w,S){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=S,w.segments||(w.segments=[{duration:w.duration,filesize:w.filesize,url:w.url}]),typeof w.cors!="boolean"&&(w.cors=!0),typeof w.withCredentials!="boolean"&&(w.withCredentials=!1),this._mediaDataSource=w,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(A){A.timestampBase=C,C+=A.duration,A.cors=w.cors,A.withCredentials=w.withCredentials,S.referrerPolicy&&(A.referrerPolicy=S.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return b.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(w,S){this._emitter.addListener(w,S)},b.prototype.off=function(w,S){this._emitter.removeListener(w,S)},b.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},b.prototype._loadSegment=function(w,S){this._currentSegmentIndex=w;var C=this._mediaDataSource.segments[w],A=this._ioctl=new m.default(C,this._config,w);A.onError=this._onIOException.bind(this),A.onSeeked=this._onIOSeeked.bind(this),A.onComplete=this._onIOComplete.bind(this),A.onRedirect=this._onIORedirect.bind(this),A.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),S?this._demuxer.bindDataSource(this._ioctl):A.onDataArrival=this._onInitChunkArrival.bind(this),A.open(S)},b.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},b.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},b.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},b.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},b.prototype.seek=function(w){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var S=this._searchSegmentIndexContains(w);if(S===this._currentSegmentIndex){var C=this._mediaInfo.segments[S];if(C==null)this._pendingSeekTime=w;else{var A=C.getNearestKeyframe(w);this._remuxer.seek(A.milliseconds),this._ioctl.seek(A.fileposition),this._pendingResolveSeekPoint=A.milliseconds}}else{var T=this._mediaInfo.segments[S];if(T==null)this._pendingSeekTime=w,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(S);else{var A=T.getNearestKeyframe(w);this._internalAbort(),this._remuxer.seek(w),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[S].timestampBase,this._loadSegment(S,A.fileposition),this._pendingResolveSeekPoint=A.milliseconds,this._reportSegmentMediaInfo(S)}}this._enableStatisticsReporter()}},b.prototype._searchSegmentIndexContains=function(w){for(var S=this._mediaDataSource.segments,C=S.length-1,A=0;A<S.length;A++)if(w<S[A].timestampBase){C=A-1;break}return C},b.prototype._onInitChunkArrival=function(w,S){var C=this,A=null,T=0;if(S>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,T=this._demuxer.parseChunks(w,S);else if((A=p.default.probe(w)).match){this._demuxer=new p.default(A,this._config),this._remuxer||(this._remuxer=new v.default(this._config));var R=this._mediaDataSource;R.duration!=null&&!isNaN(R.duration)&&(this._demuxer.overridedDuration=R.duration),typeof R.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=R.hasAudio),typeof R.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=R.hasVideo),this._demuxer.timestampBase=R.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),T=this._demuxer.parseChunks(w,S)}else A=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,g.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),T=0;return T},b.prototype._onMediaInfo=function(w){var S=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},w),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,d.default.prototype));var C=Object.assign({},w);Object.setPrototypeOf(C,d.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var A=S._pendingSeekTime;S._pendingSeekTime=null,S.seek(A)})},b.prototype._onMetaDataArrived=function(w){this._emitter.emit(_.default.METADATA_ARRIVED,w)},b.prototype._onScriptDataArrived=function(w){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,w)},b.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},b.prototype._onIOComplete=function(w){var S=w,C=S+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},b.prototype._onIORedirect=function(w){var S=this._ioctl.extraData;this._mediaDataSource.segments[S].redirectedURL=w},b.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},b.prototype._onIOException=function(w,S){f.default.e(this.TAG,"IOException: type = "+w+", code = "+S.code+", msg = "+S.msg),this._emitter.emit(_.default.IO_ERROR,w,S),this._disableStatisticsReporter()},b.prototype._onDemuxException=function(w,S){f.default.e(this.TAG,"DemuxException: type = "+w+", info = "+S),this._emitter.emit(_.default.DEMUX_ERROR,w,S)},b.prototype._onRemuxerInitSegmentArrival=function(w,S){this._emitter.emit(_.default.INIT_SEGMENT,w,S)},b.prototype._onRemuxerMediaSegmentArrival=function(w,S){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,w,S),this._pendingResolveSeekPoint!=null&&w==="video")){var C=S.info.syncPoints,A=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===A&&(A=C[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,A)}},b.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},b.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype._reportSegmentMediaInfo=function(w){var S=this._mediaInfo.segments[w],C=Object.assign({},S);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,C)},b.prototype._reportStatisticsInfo=function(){var w={};w.url=this._ioctl.currentURL,w.hasRedirect=this._ioctl.hasRedirect,w.hasRedirect&&(w.redirectedURL=this._ioctl.currentRedirectedURL),w.speed=this._ioctl.currentSpeed,w.loaderType=this._ioctl.loaderType,w.currentSegmentIndex=this._currentSegmentIndex,w.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,w)},b}();s.default=x},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),d=function(p){var v=null,g=P.bind(this);u.default.install(),p.addEventListener("message",function(k){switch(k.data.cmd){case"init":v=new f.default(k.data.param[0],k.data.param[1]),v.on(h.default.IO_ERROR,T.bind(this)),v.on(h.default.DEMUX_ERROR,R.bind(this)),v.on(h.default.INIT_SEGMENT,m.bind(this)),v.on(h.default.MEDIA_SEGMENT,_.bind(this)),v.on(h.default.LOADING_COMPLETE,x.bind(this)),v.on(h.default.RECOVERED_EARLY_EOF,b.bind(this)),v.on(h.default.MEDIA_INFO,w.bind(this)),v.on(h.default.METADATA_ARRIVED,S.bind(this)),v.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),v.on(h.default.STATISTICS_INFO,A.bind(this)),v.on(h.default.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":v&&(v.destroy(),v=null),p.postMessage({msg:"destroyed"});break;case"start":v.start();break;case"stop":v.stop();break;case"seek":v.seek(k.data.param);break;case"pause":v.pause();break;case"resume":v.resume();break;case"logging_config":{var F=k.data.param;l.default.applyConfig(F),F.enableCallback===!0?l.default.addLogListener(g):l.default.removeLogListener(g);break}}});function m(k,F){var L={msg:h.default.INIT_SEGMENT,data:{type:k,data:F}};p.postMessage(L,[F.data])}function _(k,F){var L={msg:h.default.MEDIA_SEGMENT,data:{type:k,data:F}};p.postMessage(L,[F.data])}function x(){var k={msg:h.default.LOADING_COMPLETE};p.postMessage(k)}function b(){var k={msg:h.default.RECOVERED_EARLY_EOF};p.postMessage(k)}function w(k){var F={msg:h.default.MEDIA_INFO,data:k};p.postMessage(F)}function S(k){var F={msg:h.default.METADATA_ARRIVED,data:k};p.postMessage(F)}function C(k){var F={msg:h.default.SCRIPTDATA_ARRIVED,data:k};p.postMessage(F)}function A(k){var F={msg:h.default.STATISTICS_INFO,data:k};p.postMessage(F)}function T(k,F){p.postMessage({msg:h.default.IO_ERROR,data:{type:k,info:F}})}function R(k,F){p.postMessage({msg:h.default.DEMUX_ERROR,data:{type:k,info:F}})}function O(k){p.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:k})}function P(k,F){p.postMessage({msg:"logcat_callback",data:{type:k,logcat:F}})}};s.default=d},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}(),d=function(){function p(){}return p.parseScriptData=function(v,g,m){var _={};try{var x=p.parseValue(v,g,m),b=p.parseValue(v,g+x.size,m-x.size);_[x.data]=b.data}catch(w){l.default.e("AMF",w.toString())}return _},p.parseObject=function(v,g,m){if(m<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var _=p.parseString(v,g,m),x=p.parseValue(v,g+_.size,m-_.size),b=x.objectEnd;return{data:{name:_.data,value:x.data},size:_.size+x.size,objectEnd:b}},p.parseVariable=function(v,g,m){return p.parseObject(v,g,m)},p.parseString=function(v,g,m){if(m<2)throw new f.IllegalStateException("Data not enough when parse String");var _=new DataView(v,g,m),x=_.getUint16(0,!h),b;return x>0?b=(0,u.default)(new Uint8Array(v,g+2,x)):b="",{data:b,size:2+x}},p.parseLongString=function(v,g,m){if(m<4)throw new f.IllegalStateException("Data not enough when parse LongString");var _=new DataView(v,g,m),x=_.getUint32(0,!h),b;return x>0?b=(0,u.default)(new Uint8Array(v,g+4,x)):b="",{data:b,size:4+x}},p.parseDate=function(v,g,m){if(m<10)throw new f.IllegalStateException("Data size invalid when parse Date");var _=new DataView(v,g,m),x=_.getFloat64(0,!h),b=_.getInt16(8,!h);return x+=b*60*1e3,{data:new Date(x),size:8+2}},p.parseValue=function(v,g,m){if(m<1)throw new f.IllegalStateException("Data not enough when parse Value");var _=new DataView(v,g,m),x=1,b=_.getUint8(0),w,S=!1;try{switch(b){case 0:w=_.getFloat64(1,!h),x+=8;break;case 1:{var C=_.getUint8(1);w=!!C,x+=1;break}case 2:{var A=p.parseString(v,g+1,m-1);w=A.data,x+=A.size;break}case 3:{w={};var T=0;for((_.getUint32(m-4,!h)&16777215)===9&&(T=3);x<m-4;){var R=p.parseObject(v,g+x,m-x-T);if(R.objectEnd)break;w[R.data.name]=R.data.value,x+=R.size}if(x<=m-3){var O=_.getUint32(x-1,!h)&16777215;O===9&&(x+=3)}break}case 8:{w={},x+=4;var T=0;for((_.getUint32(m-4,!h)&16777215)===9&&(T=3);x<m-8;){var P=p.parseVariable(v,g+x,m-x-T);if(P.objectEnd)break;w[P.data.name]=P.data.value,x+=P.size}if(x<=m-3){var O=_.getUint32(x-1,!h)&16777215;O===9&&(x+=3)}break}case 9:w=void 0,x=1,S=!0;break;case 10:{w=[];var k=_.getUint32(1,!h);x+=4;for(var F=0;F<k;F++){var L=p.parseValue(v,g+x,m-x);w.push(L.data),x+=L.size}break}case 11:{var D=p.parseDate(v,g+1,m-1);w=D.data,x+=D.size;break}case 12:{var H=p.parseString(v,g+1,m-1);w=H.data,x+=H.size;break}default:x=m,l.default.w("AMF","Unsupported AMF value type "+b)}}catch(Q){l.default.e("AMF",Q.toString())}return{data:w,size:x,objectEnd:S}},p}();s.default=d},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var d=Math.min(4,h),p=new Uint8Array(4);p.set(this._buffer.subarray(this._buffer_index,this._buffer_index+d)),this._current_word=new DataView(p.buffer).getUint32(0,!1),this._buffer_index+=d,this._current_word_bits_left=d*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var d=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,d}var p=this._current_word_bits_left?this._current_word:0;p=p>>>32-this._current_word_bits_left;var v=h-this._current_word_bits_left;this._fillCurrentWord();var g=Math.min(v,this._current_word_bits_left),m=this._current_word>>>32-g;return this._current_word<<=g,this._current_word_bits_left-=g,p=p<<g|m,p},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),d=c("./src/core/media-info.js"),p=c("./src/utils/exception.js");function v(m,_){return m[_]<<24|m[_+1]<<16|m[_+2]<<8|m[_+3]}var g=function(){function m(_,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new d.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]===256}()}return m.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},m.probe=function(_){var x=new Uint8Array(_),b={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return b;var w=(x[4]&4)>>>2!==0,S=(x[4]&1)!==0,C=v(x,5);return C<9?b:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:w,hasVideoTrack:S}},m.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(m.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),m.prototype.resetMediaInfo=function(){this._mediaInfo=new d.default},m.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},m.prototype.parseChunks=function(_,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new p.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var b=0,w=this._littleEndian;if(x===0)if(_.byteLength>13){var S=m.probe(_);b=S.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+b!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(_,b),A=C.getUint32(0,!w);A!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),b+=4}for(;b<_.byteLength;){this._dispatch=!0;var C=new DataView(_,b);if(b+11+4>_.byteLength)break;var T=C.getUint8(0),R=C.getUint32(0,!w)&16777215;if(b+11+R+4>_.byteLength)break;if(T!==8&&T!==9&&T!==18){l.default.w(this.TAG,"Unsupported tag type "+T+", skipped"),b+=11+R+4;continue}var O=C.getUint8(4),P=C.getUint8(5),k=C.getUint8(6),F=C.getUint8(7),L=k|P<<8|O<<16|F<<24,D=C.getUint32(7,!w)&16777215;D!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var H=b+11;switch(T){case 8:this._parseAudioData(_,H,R,L);break;case 9:this._parseVideoData(_,H,R,L,x+b);break;case 18:this._parseScriptData(_,H,R);break}var Q=C.getUint32(11+R,!w);Q!==11+R&&l.default.w(this.TAG,"Invalid PrevTagSize "+Q),b+=11+R+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),b},m.prototype._parseScriptData=function(_,x,b){var w=u.default.parseScriptData(_,x,b);if(w.hasOwnProperty("onMetaData")){if(w.onMetaData==null||typeof w.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=w;var S=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},S)),typeof S.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=S.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof S.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=S.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof S.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=S.audiodatarate),typeof S.videodatarate=="number"&&(this._mediaInfo.videoDataRate=S.videodatarate),typeof S.width=="number"&&(this._mediaInfo.width=S.width),typeof S.height=="number"&&(this._mediaInfo.height=S.height),typeof S.duration=="number"){if(!this._durationOverrided){var C=Math.floor(S.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof S.framerate=="number"){var A=Math.floor(S.framerate*1e3);if(A>0){var T=A/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=T,this._referenceFrameRate.fps_num=A,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=T}}if(typeof S.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var R=S.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(R),S.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=S,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(w).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},w))},m.prototype._parseKeyframesIndex=function(_){for(var x=[],b=[],w=1;w<_.times.length;w++){var S=this._timestampBase+Math.floor(_.times[w]*1e3);x.push(S),b.push(_.filepositions[w])}return{times:x,filepositions:b}},m.prototype._parseAudioData=function(_,x,b,w){if(b<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var S=new DataView(_,x,b),C=S.getUint8(0),A=C>>>4;if(A!==2&&A!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+A);return}var T=0,R=(C&12)>>>2;if(R>=0&&R<=4)T=this._flvSoundRateTable[R];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+R);return}var O=C&1,P=this._audioMetadata,k=this._audioTrack;if(P||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),P=this._audioMetadata={},P.type="audio",P.id=k.id,P.timescale=this._timescale,P.duration=this._duration,P.audioSampleRate=T,P.channelCount=O===0?1:2),A===10){var F=this._parseAACAudioData(_,x+1,b-1);if(F==null)return;if(F.packetType===0){P.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var L=F.data;P.audioSampleRate=L.samplingRate,P.channelCount=L.channelCount,P.codec=L.codec,P.originalCodec=L.originalCodec,P.config=L.config,P.refSampleDuration=1024/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",P);var D=this._mediaInfo;D.audioCodec=P.originalCodec,D.audioSampleRate=P.audioSampleRate,D.audioChannelCount=P.channelCount,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}else if(F.packetType===1){var H=this._timestampBase+w,Q={unit:F.data,length:F.data.byteLength,dts:H,pts:H};k.samples.push(Q),k.length+=F.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+F.packetType)}else if(A===2){if(!P.codec){var L=this._parseMP3AudioData(_,x+1,b-1,!0);if(L==null)return;P.audioSampleRate=L.samplingRate,P.channelCount=L.channelCount,P.codec=L.codec,P.originalCodec=L.originalCodec,P.refSampleDuration=1152/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",P);var D=this._mediaInfo;D.audioCodec=P.codec,D.audioSampleRate=P.audioSampleRate,D.audioChannelCount=P.channelCount,D.audioDataRate=L.bitRate,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}var ee=this._parseMP3AudioData(_,x+1,b-1,!1);if(ee==null)return;var H=this._timestampBase+w,G={unit:ee,length:ee.byteLength,dts:H,pts:H};k.samples.push(G),k.length+=ee.length}}},m.prototype._parseAACAudioData=function(_,x,b){if(b<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var w={},S=new Uint8Array(_,x,b);return w.packetType=S[0],S[0]===0?w.data=this._parseAACAudioSpecificConfig(_,x+1,b-1):w.data=S.subarray(1),w},m.prototype._parseAACAudioSpecificConfig=function(_,x,b){var w=new Uint8Array(_,x,b),S=null,C=0,A=0,T=0,R=null;if(C=A=w[0]>>>3,T=(w[0]&7)<<1|w[1]>>>7,T<0||T>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var O=this._mpegSamplingRates[T],P=(w[1]&120)>>>3;if(P<0||P>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(R=(w[1]&7)<<1|w[2]>>>7,(w[2]&124)>>>2);var k=self.navigator.userAgent.toLowerCase();return k.indexOf("firefox")!==-1?T>=6?(C=5,S=new Array(4),R=T-3):(C=2,S=new Array(2),R=T):k.indexOf("android")!==-1?(C=2,S=new Array(2),R=T):(C=5,R=T,S=new Array(4),T>=6?R=T-3:P===1&&(C=2,S=new Array(2),R=T)),S[0]=C<<3,S[0]|=(T&15)>>>1,S[1]=(T&15)<<7,S[1]|=(P&15)<<3,C===5&&(S[1]|=(R&15)>>>1,S[2]=(R&1)<<7,S[2]|=8,S[3]=0),{config:S,samplingRate:O,channelCount:P,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+A}},m.prototype._parseMP3AudioData=function(_,x,b,w){if(b<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var S=new Uint8Array(_,x,b),C=null;if(w){if(S[0]!==255)return;var A=S[1]>>>3&3,T=(S[1]&6)>>1,R=(S[2]&240)>>>4,O=(S[2]&12)>>>2,P=S[3]>>>6&3,k=P!==3?2:1,F=0,L=0,D="mp3";switch(A){case 0:F=this._mpegAudioV25SampleRateTable[O];break;case 2:F=this._mpegAudioV20SampleRateTable[O];break;case 3:F=this._mpegAudioV10SampleRateTable[O];break}switch(T){case 1:R<this._mpegAudioL3BitRateTable.length&&(L=this._mpegAudioL3BitRateTable[R]);break;case 2:R<this._mpegAudioL2BitRateTable.length&&(L=this._mpegAudioL2BitRateTable[R]);break;case 3:R<this._mpegAudioL1BitRateTable.length&&(L=this._mpegAudioL1BitRateTable[R]);break}C={bitRate:L,samplingRate:F,channelCount:k,codec:D,originalCodec:D}}else C=S;return C},m.prototype._parseVideoData=function(_,x,b,w,S){if(b<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(_,x,b)[0],A=(C&240)>>>4,T=C&15;if(T!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+T);return}this._parseAVCVideoPacket(_,x+1,b-1,w,S,A)}},m.prototype._parseAVCVideoPacket=function(_,x,b,w,S,C){if(b<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var A=this._littleEndian,T=new DataView(_,x,b),R=T.getUint8(0),O=T.getUint32(0,!A)&16777215,P=O<<8>>8;if(R===0)this._parseAVCDecoderConfigurationRecord(_,x+4,b-4);else if(R===1)this._parseAVCVideoData(_,x+4,b-4,w,S,C,P);else if(R!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+R);return}},m.prototype._parseAVCDecoderConfigurationRecord=function(_,x,b){if(b<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var w=this._videoMetadata,S=this._videoTrack,C=this._littleEndian,A=new DataView(_,x,b);w?typeof w.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),w=this._videoMetadata={},w.type="video",w.id=S.id,w.timescale=this._timescale,w.duration=this._duration);var T=A.getUint8(0),R=A.getUint8(1);if(A.getUint8(2),A.getUint8(3),T!==1||R===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(A.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var O=A.getUint8(5)&31;if(O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else O>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+O);for(var P=6,k=0;k<O;k++){var F=A.getUint16(P,!C);if(P+=2,F!==0){var L=new Uint8Array(_,x+P,F);P+=F;var D=f.default.parseSPS(L);if(k===0){w.codecWidth=D.codec_size.width,w.codecHeight=D.codec_size.height,w.presentWidth=D.present_size.width,w.presentHeight=D.present_size.height,w.profile=D.profile_string,w.level=D.level_string,w.bitDepth=D.bit_depth,w.chromaFormat=D.chroma_format,w.sarRatio=D.sar_ratio,w.frameRate=D.frame_rate,(D.frame_rate.fixed===!1||D.frame_rate.fps_num===0||D.frame_rate.fps_den===0)&&(w.frameRate=this._referenceFrameRate);var H=w.frameRate.fps_den,Q=w.frameRate.fps_num;w.refSampleDuration=w.timescale*(H/Q);for(var ee=L.subarray(1,4),G="avc1.",B=0;B<3;B++){var V=ee[B].toString(16);V.length<2&&(V="0"+V),G+=V}w.codec=G;var U=this._mediaInfo;U.width=w.codecWidth,U.height=w.codecHeight,U.fps=w.frameRate.fps,U.profile=w.profile,U.level=w.level,U.refFrames=D.ref_frames,U.chromaFormat=D.chroma_format_string,U.sarNum=w.sarRatio.width,U.sarDen=w.sarRatio.height,U.videoCodec=G,U.hasAudio?U.audioCodec!=null&&(U.mimeType='video/x-flv; codecs="'+U.videoCodec+","+U.audioCodec+'"'):U.mimeType='video/x-flv; codecs="'+U.videoCodec+'"',U.isComplete()&&this._onMediaInfo(U)}}}var $=A.getUint8(P);if($===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else $>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+$);P++;for(var k=0;k<$;k++){var F=A.getUint16(P,!C);P+=2,F!==0&&(P+=F)}w.avcc=new Uint8Array(b),w.avcc.set(new Uint8Array(_,x,b),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",w)},m.prototype._parseAVCVideoData=function(_,x,b,w,S,C,A){for(var T=this._littleEndian,R=new DataView(_,x,b),O=[],P=0,k=0,F=this._naluLengthSize,L=this._timestampBase+w,D=C===1;k<b;){if(k+4>=b){l.default.w(this.TAG,"Malformed Nalu near timestamp "+L+", offset = "+k+", dataSize = "+b);break}var H=R.getUint32(k,!T);if(F===3&&(H>>>=8),H>b-F){l.default.w(this.TAG,"Malformed Nalus near timestamp "+L+", NaluSize > DataSize!");return}var Q=R.getUint8(k+F)&31;Q===5&&(D=!0);var ee=new Uint8Array(_,x+k,F+H),G={type:Q,data:ee};O.push(G),P+=ee.byteLength,k+=F+H}if(O.length){var B=this._videoTrack,V={units:O,length:P,isKeyframe:D,dts:L,cts:A,pts:L+A};D&&(V.fileposition=S),B.samples.push(V),B.length+=P}},m}();s.default=g},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var d=h,p=d.byteLength,v=new Uint8Array(p),g=0,m=0;m<p;m++)m>=2&&d[m]===3&&d[m-1]===0&&d[m-2]===0||(v[g]=d[m],g++);return new Uint8Array(v.buffer,0,g)},f.parseSPS=function(h){var d=f._ebsp2rbsp(h),p=new l.default(d);p.readByte();var v=p.readByte();p.readByte();var g=p.readByte();p.readUEG();var m=f.getProfileString(v),_=f.getLevelString(g),x=1,b=420,w=[0,420,422,444],S=8;if((v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128||v===138||v===144)&&(x=p.readUEG(),x===3&&p.readBits(1),x<=3&&(b=w[x]),S=p.readUEG()+8,p.readUEG(),p.readBits(1),p.readBool()))for(var C=x!==3?8:12,A=0;A<C;A++)p.readBool()&&(A<6?f._skipScalingList(p,16):f._skipScalingList(p,64));p.readUEG();var T=p.readUEG();if(T===0)p.readUEG();else if(T===1){p.readBits(1),p.readSEG(),p.readSEG();for(var R=p.readUEG(),A=0;A<R;A++)p.readSEG()}var O=p.readUEG();p.readBits(1);var P=p.readUEG(),k=p.readUEG(),F=p.readBits(1);F===0&&p.readBits(1),p.readBits(1);var L=0,D=0,H=0,Q=0,ee=p.readBool();ee&&(L=p.readUEG(),D=p.readUEG(),H=p.readUEG(),Q=p.readUEG());var G=1,B=1,V=0,U=!0,$=0,J=0,re=p.readBool();if(re){if(p.readBool()){var fe=p.readByte(),le=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],xe=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];fe>0&&fe<16?(G=le[fe-1],B=xe[fe-1]):fe===255&&(G=p.readByte()<<8|p.readByte(),B=p.readByte()<<8|p.readByte())}if(p.readBool()&&p.readBool(),p.readBool()&&(p.readBits(4),p.readBool()&&p.readBits(24)),p.readBool()&&(p.readUEG(),p.readUEG()),p.readBool()){var Ae=p.readBits(32),ye=p.readBits(32);U=p.readBool(),$=ye,J=Ae*2,V=$/J}}var we=1;(G!==1||B!==1)&&(we=G/B);var me=0,Pe=0;if(x===0)me=1,Pe=2-F;else{var je=x===3?1:2,Le=x===1?2:1;me=je,Pe=Le*(2-F)}var ze=(P+1)*16,st=(2-F)*((k+1)*16);ze-=(L+D)*me,st-=(H+Q)*Pe;var xt=Math.ceil(ze*we);return p.destroy(),p=null,{profile_string:m,level_string:_,bit_depth:S,ref_frames:O,chroma_format:b,chroma_format_string:f.getChromaFormatString(b),frame_rate:{fixed:U,fps:V,fps_den:J,fps_num:$},sar_ratio:{width:G,height:B},codec_size:{width:ze,height:st},present_size:{width:xt,height:st}}},f._skipScalingList=function(h,d){for(var p=8,v=8,g=0,m=0;m<d;m++)v!==0&&(g=h.readSEG(),v=(p+g+256)%256),p=v===0?p:v},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),d=c("./src/player/native-player.js"),p=c("./src/player/player-events.js"),v=c("./src/player/player-errors.js"),g=c("./src/utils/logging-control.js"),m=c("./src/utils/exception.js");l.default.install();function _(S,C){var A=S;if(A==null||typeof A!="object")throw new m.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!A.hasOwnProperty("type"))throw new m.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(A.type){case"flv":return new h.default(A,C);default:return new d.default(A,C)}}function x(){return u.default.supportMSEH264Playback()}function b(){return u.default.getFeatureList()}var w={};w.createPlayer=_,w.isSupported=x,w.getFeatureList=b,w.BaseLoader=f.BaseLoader,w.LoaderStatus=f.LoaderStatus,w.LoaderErrors=f.LoaderErrors,w.Events=p.default,w.ErrorTypes=v.ErrorTypes,w.ErrorDetails=v.ErrorDetails,w.FlvPlayer=h.default,w.NativePlayer=d.default,w.LoggingControl=g.default,Object.defineProperty(w,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=w},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var p=function(v,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},p(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(v,g);function m(){this.constructor=v}v.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),d=function(p){h(v,p);function v(g,m){var _=p.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=g,_._config=m,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return v.isSupported=function(){try{var g=l.default.msedge&&l.default.version.minor>=15048,m=l.default.msedge?g:!0;return self.fetch&&self.ReadableStream&&m}catch{return!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),p.prototype.destroy.call(this)},v.prototype.open=function(g,m){var _=this;this._dataSource=g,this._range=m;var x=g.url;this._config.reuseRedirectedURL&&g.redirectedURL!=null&&(x=g.redirectedURL);var b=this._seekHandler.getConfig(x,m),w=new self.Headers;if(typeof b.headers=="object"){var S=b.headers;for(var C in S)S.hasOwnProperty(C)&&w.append(C,S[C])}var A={method:"GET",headers:w,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)w.append(C,this._config.headers[C]);g.cors===!1&&(A.mode="same-origin"),g.withCredentials&&(A.credentials="include"),g.referrerPolicy&&(A.referrerPolicy=g.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,A.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(b.url,A).then(function(T){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,T.body.cancel();return}if(T.ok&&T.status>=200&&T.status<=299){if(T.url!==b.url&&_._onURLRedirect){var R=_._seekHandler.removeURLParameters(T.url);_._onURLRedirect(R)}var O=T.headers.get("Content-Length");return O!=null&&(_._contentLength=parseInt(O),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,T.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+T.status+" "+T.statusText)}).catch(function(T){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:T.message});else throw T})},v.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},v.prototype._pump=function(g){var m=this;return g.read().then(function(_){if(_.done)if(m._contentLength!==null&&m._receivedLength<m._contentLength){m._status=u.LoaderStatus.kError;var x=u.LoaderErrors.EARLY_EOF,b={code:-1,msg:"Fetch stream meet Early-EOF"};if(m._onError)m._onError(x,b);else throw new f.RuntimeException(b.msg)}else m._status=u.LoaderStatus.kComplete,m._onComplete&&m._onComplete(m._range.from,m._range.from+m._receivedLength-1);else{if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}else if(m._requestAbort===!0)return m._status=u.LoaderStatus.kComplete,g.cancel();m._status=u.LoaderStatus.kBuffering;var w=_.value.buffer,S=m._range.from+m._receivedLength;m._receivedLength+=w.byteLength,m._onDataArrival&&m._onDataArrival(w,S,m._receivedLength),m._pump(g)}}).catch(function(_){if(m._abortController&&m._abortController.signal.aborted){m._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&l.default.msedge)){m._status=u.LoaderStatus.kError;var x=0,b=null;if((_.code===19||_.message==="network error")&&(m._contentLength===null||m._contentLength!==null&&m._receivedLength<m._contentLength)?(x=u.LoaderErrors.EARLY_EOF,b={code:_.code,msg:"Fetch stream meet Early-EOF"}):(x=u.LoaderErrors.EXCEPTION,b={code:_.code,msg:_.message}),m._onError)m._onError(x,b);else throw new f.RuntimeException(b.msg)}})},v}(u.BaseLoader);s.default=d},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),d=c("./src/io/xhr-moz-chunked-loader.js"),p=c("./src/io/xhr-range-loader.js"),v=c("./src/io/websocket-loader.js"),g=c("./src/io/range-seek-handler.js"),m=c("./src/io/param-seek-handler.js"),_=c("./src/utils/exception.js"),x=function(){function b(w,S,C){this.TAG="IOController",this._config=S,this._extraData=C,this._stashInitialSize=1024*384,S.stashInitialSize!=null&&S.stashInitialSize>0&&(this._stashInitialSize=S.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,S.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=w,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(w.url),this._refTotalLength=w.filesize?w.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return b.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},b.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},b.prototype.isPaused=function(){return this._paused},Object.defineProperty(b.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extraData",{get:function(){return this._extraData},set:function(w){this._extraData=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(w){this._onDataArrival=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(w){this._onSeeked=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(w){this._onError=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onComplete",{get:function(){return this._onComplete},set:function(w){this._onComplete=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(w){this._onRedirect=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(w){this._onRecoveredEarlyEof=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentSpeed",{get:function(){return this._loaderClass===p.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),b.prototype._selectSeekHandler=function(){var w=this._config;if(w.seekType==="range")this._seekHandler=new g.default(this._config.rangeLoadZeroStart);else if(w.seekType==="param"){var S=w.seekParamStart||"bstart",C=w.seekParamEnd||"bend";this._seekHandler=new m.default(S,C)}else if(w.seekType==="custom"){if(typeof w.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new w.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+w.seekType)},b.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=v.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(d.default.isSupported())this._loaderClass=d.default;else if(p.default.isSupported())this._loaderClass=p.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},b.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},b.prototype.open=function(w){this._currentRange={from:0,to:-1},w&&(this._currentRange.from=w),this._speedSampler.reset(),w||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},b.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},b.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},b.prototype.resume=function(){if(this._paused){this._paused=!1;var w=this._resumeFrom;this._resumeFrom=0,this._internalSeek(w,!0)}},b.prototype.seek=function(w){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(w,!0)},b.prototype._internalSeek=function(w,S){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(S),this._loader.destroy(),this._loader=null;var C={from:w,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},b.prototype.updateUrl=function(w){if(!w||typeof w!="string"||w.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=w},b.prototype._expandBuffer=function(w){for(var S=this._stashSize;S+1024*1024*1<w;)S*=2;if(S+=1024*1024*1,S!==this._bufferSize){var C=new ArrayBuffer(S);if(this._stashUsed>0){var A=new Uint8Array(this._stashBuffer,0,this._stashUsed),T=new Uint8Array(C,0,S);T.set(A,0)}this._stashBuffer=C,this._bufferSize=S}},b.prototype._normalizeSpeed=function(w){var S=this._speedNormalizeList,C=S.length-1,A=0,T=0,R=C;if(w<S[0])return S[0];for(;T<=R;){if(A=T+Math.floor((R-T)/2),A===C||w>=S[A]&&w<S[A+1])return S[A];S[A]<w?T=A+1:R=A-1}},b.prototype._adjustStashSize=function(w){var S=0;this._config.isLive||w<512?S=w:w>=512&&w<=1024?S=Math.floor(w*1.5):S=w*2,S>8192&&(S=8192);var C=S*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=S*1024},b.prototype._dispatchChunks=function(w,S){return this._currentRange.to=S+w.byteLength-1,this._onDataArrival(w,S)},b.prototype._onURLRedirect=function(w){this._redirectedURL=w,this._onRedirect&&this._onRedirect(w)},b.prototype._onContentLengthKnown=function(w){w&&this._fullRequestFlag&&(this._totalLength=w,this._fullRequestFlag=!1)},b.prototype._onLoaderChunkArrival=function(w,S,C){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(w.byteLength);var A=this._speedSampler.lastSecondKBps;if(A!==0){var T=this._normalizeSpeed(A);this._speedNormalized!==T&&(this._speedNormalized=T,this._adjustStashSize(T))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=S),this._stashUsed+w.byteLength<=this._stashSize){var P=new Uint8Array(this._stashBuffer,0,this._stashSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var F=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(F,this._stashByteStart);if(R<F.byteLength){if(R>0){var k=new Uint8Array(F,R);P.set(k,0),this._stashUsed=k.byteLength,this._stashByteStart+=R}}else this._stashUsed=0,this._stashByteStart+=R;this._stashUsed+w.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+w.byteLength),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var R=this._dispatchChunks(w,S);if(R<w.byteLength){var O=w.byteLength-R;O>this._bufferSize&&(this._expandBuffer(O),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w,R),0),this._stashUsed+=O,this._stashByteStart=S+R}}}else if(this._stashUsed===0){var R=this._dispatchChunks(w,S);if(R<w.byteLength){var O=w.byteLength-R;O>this._bufferSize&&this._expandBuffer(O);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w,R),0),this._stashUsed+=O,this._stashByteStart=S+R}}else{this._stashUsed+w.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+w.byteLength);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength;var R=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(R<this._stashUsed&&R>0){var k=new Uint8Array(this._stashBuffer,R);P.set(k,0)}this._stashUsed-=R,this._stashByteStart+=R}}},b.prototype._flushStashBuffer=function(w){if(this._stashUsed>0){var S=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(S,this._stashByteStart),A=S.byteLength-C;if(C<S.byteLength)if(w)l.default.w(this.TAG,A+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var T=new Uint8Array(this._stashBuffer,0,this._bufferSize),R=new Uint8Array(S,C);T.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,A}return 0},b.prototype._onLoaderComplete=function(w,S){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},b.prototype._onLoaderError=function(w,S){switch(l.default.e(this.TAG,"Loader error, code = "+S.code+", msg = "+S.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),w){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(w,S);else throw new _.RuntimeException("IOException: "+S.msg)},b}();s.default=x},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function d(p){this._type=p||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return d.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},d.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(p){this._onContentLengthKnown=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(p){this._onURLRedirect=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(p){this._onDataArrival=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onError",{get:function(){return this._onError},set:function(p){this._onError=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"onComplete",{get:function(){return this._onComplete},set:function(p){this._onComplete=p},enumerable:!1,configurable:!0}),d.prototype.open=function(p,v){throw new l.NotImplementedException("Unimplemented abstract function!")},d.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},d}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var d=f;if(h.from!==0||h.to!==-1){var p=!0;d.indexOf("?")===-1&&(d+="?",p=!1),p&&(d+="&"),d+=this._startName+"="+h.from.toString(),h.to!==-1&&(d+="&"+this._endName+"="+h.to.toString())}return{url:d,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],d=void 0,p=f.indexOf("?");p!==-1&&(d=f.substring(p+1));var v="";if(d!=null&&d.length>0)for(var g=d.split("&"),m=0;m<g.length;m++){var _=g[m].split("="),x=m>0;_[0]!==this._startName&&_[0]!==this._endName&&(x&&(v+="&"),v+=g[m])}return v.length===0?h:h+"?"+v},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var d={};if(h.from!==0||h.to!==-1){var p=void 0;h.to!==-1?p="bytes="+h.from.toString()+"-"+h.to.toString():p="bytes="+h.from.toString()+"-",d.Range=p}else this._zeroStart&&(d.Range="bytes=0-");return{url:f,headers:d}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var d=function(p,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(g[_]=m[_])},d(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(p,v);function g(){this.constructor=p}p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}(),h=function(d){f(p,d);function p(){var v=d.call(this,"websocket-loader")||this;return v.TAG="WebSocketLoader",v._needStash=!0,v._ws=null,v._requestAbort=!1,v._receivedLength=0,v}return p.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},p.prototype.destroy=function(){this._ws&&this.abort(),d.prototype.destroy.call(this)},p.prototype.open=function(v){try{var g=this._ws=new self.WebSocket(v.url);g.binaryType="arraybuffer",g.onopen=this._onWebSocketOpen.bind(this),g.onclose=this._onWebSocketClose.bind(this),g.onmessage=this._onWebSocketMessage.bind(this),g.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(_){this._status=l.LoaderStatus.kError;var m={code:_.code,msg:_.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)}},p.prototype.abort=function(){var v=this._ws;v&&(v.readyState===0||v.readyState===1)&&(this._requestAbort=!0,v.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},p.prototype._onWebSocketOpen=function(v){this._status=l.LoaderStatus.kBuffering},p.prototype._onWebSocketClose=function(v){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},p.prototype._onWebSocketMessage=function(v){var g=this;if(v.data instanceof ArrayBuffer)this._dispatchArrayBuffer(v.data);else if(v.data instanceof Blob){var m=new FileReader;m.onload=function(){g._dispatchArrayBuffer(m.result)},m.readAsArrayBuffer(v.data)}else{this._status=l.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+v.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},p.prototype._dispatchArrayBuffer=function(v){var g=v,m=this._receivedLength;this._receivedLength+=g.byteLength,this._onDataArrival&&this._onDataArrival(g,m,this._receivedLength)},p.prototype._onWebSocketError=function(v){this._status=l.LoaderStatus.kError;var g={code:v.code,msg:v.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,g);else throw new u.RuntimeException(g.msg)},p}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var p=function(v,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},p(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(v,g);function m(){this.constructor=v}v.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),d=function(p){h(v,p);function v(g,m){var _=p.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=g,_._config=m,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return v.isSupported=function(){try{var g=new XMLHttpRequest;return g.open("GET","https://example.com",!0),g.responseType="moz-chunked-arraybuffer",g.responseType==="moz-chunked-arraybuffer"}catch(m){return l.default.w("MozChunkedLoader",m.message),!1}},v.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),p.prototype.destroy.call(this)},v.prototype.open=function(g,m){this._dataSource=g,this._range=m;var _=g.url;this._config.reuseRedirectedURL&&g.redirectedURL!=null&&(_=g.redirectedURL);var x=this._seekHandler.getConfig(_,m);this._requestURL=x.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",x.url,!0),b.responseType="moz-chunked-arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onloadend=this._onLoadEnd.bind(this),b.onerror=this._onXhrError.bind(this),g.withCredentials&&(b.withCredentials=!0),typeof x.headers=="object"){var w=x.headers;for(var S in w)w.hasOwnProperty(S)&&b.setRequestHeader(S,w[S])}if(typeof this._config.headers=="object"){var w=this._config.headers;for(var S in w)w.hasOwnProperty(S)&&b.setRequestHeader(S,w[S])}this._status=u.LoaderStatus.kConnecting,b.send()},v.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},v.prototype._onReadyStateChange=function(g){var m=g.target;if(m.readyState===2){if(m.responseURL!=null&&m.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(m.responseURL);this._onURLRedirect(_)}if(m.status!==0&&(m.status<200||m.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:m.status,msg:m.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+m.status+" "+m.statusText);else this._status=u.LoaderStatus.kBuffering}},v.prototype._onProgress=function(g){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&g.total!==null&&g.total!==0&&(this._contentLength=g.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var m=g.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,_,this._receivedLength)}},v.prototype._onLoadEnd=function(g){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},v.prototype._onXhrError=function(g){this._status=u.LoaderStatus.kError;var m=0,_=null;if(this._contentLength&&g.loaded<this._contentLength?(m=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(m=u.LoaderErrors.EXCEPTION,_={code:-1,msg:g.constructor.name+" "+g.type}),this._onError)this._onError(m,_);else throw new f.RuntimeException(_.msg)},v}(u.BaseLoader);s.default=d},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),d=function(){var v=function(g,m){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(_[b]=x[b])},v(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");v(g,m);function _(){this.constructor=g}g.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),p=function(v){d(g,v);function g(m,_){var x=v.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=m,x._config=_,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new u.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return g.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="arraybuffer",m.responseType==="arraybuffer"}catch(_){return l.default.w("RangeLoader",_.message),!1}},g.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),v.prototype.destroy.call(this)},Object.defineProperty(g.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),g.prototype.open=function(m,_){this._dataSource=m,this._range=_,this._status=f.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},g.prototype._openSubRange=function(){var m=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,x=_+m;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},g.prototype._internalOpen=function(m,_){this._lastTimeLoaded=0;var x=m.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:m.redirectedURL!=null&&(x=m.redirectedURL));var b=this._seekHandler.getConfig(x,_);this._currentRequestURL=b.url;var w=this._xhr=new XMLHttpRequest;if(w.open("GET",b.url,!0),w.responseType="arraybuffer",w.onreadystatechange=this._onReadyStateChange.bind(this),w.onprogress=this._onProgress.bind(this),w.onload=this._onLoad.bind(this),w.onerror=this._onXhrError.bind(this),m.withCredentials&&(w.withCredentials=!0),typeof b.headers=="object"){var S=b.headers;for(var C in S)S.hasOwnProperty(C)&&w.setRequestHeader(C,S[C])}if(typeof this._config.headers=="object"){var S=this._config.headers;for(var C in S)S.hasOwnProperty(C)&&w.setRequestHeader(C,S[C])}w.send()},g.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},g.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},g.prototype._onReadyStateChange=function(m){var _=m.target;if(_.readyState===2){if(_.responseURL!=null){var x=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},g.prototype._onProgress=function(m){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var x=m.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var b=m.loaded-this._lastTimeLoaded;this._lastTimeLoaded=m.loaded,this._speedSampler.addBytes(b)}},g.prototype._normalizeSpeed=function(m){var _=this._chunkSizeKBList,x=_.length-1,b=0,w=0,S=x;if(m<_[0])return _[0];for(;w<=S;){if(b=w+Math.floor((S-w)/2),b===x||m>=_[b]&&m<_[b+1])return _[b];_[b]<m?w=b+1:S=b-1}},g.prototype._onLoad=function(m){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var x=this._normalizeSpeed(_);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var b=m.target.response,w=this._range.from+this._receivedLength;this._receivedLength+=b.byteLength;var S=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():S=!0,this._onDataArrival&&this._onDataArrival(b,w,this._receivedLength),S&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},g.prototype._onXhrError=function(m){this._status=f.LoaderStatus.kError;var _=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=f.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=f.LoaderErrors.EXCEPTION,x={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(_,x);else throw new h.RuntimeException(x.msg)},g}(f.BaseLoader);s.default=p},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),d=c("./src/player/player-events.js"),p=c("./src/core/transmuxer.js"),v=c("./src/core/transmuxing-events.js"),g=c("./src/core/mse-controller.js"),m=c("./src/core/mse-events.js"),_=c("./src/player/player-errors.js"),x=c("./src/config.js"),b=c("./src/utils/exception.js"),w=function(){function S(C,A){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,x.createDefaultConfig)(),typeof A=="object"&&Object.assign(this._config,A),C.type.toLowerCase()!=="flv")throw new b.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var T=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(T||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return S.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},S.prototype.on=function(C,A){var T=this;C===d.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(d.default.MEDIA_INFO,T.mediaInfo)}):C===d.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(d.default.STATISTICS_INFO,T.statisticsInfo)}),this._emitter.addListener(C,A)},S.prototype.off=function(C,A){this._emitter.removeListener(C,A)},S.prototype.attachMediaElement=function(C){var A=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new g.default(this._config),this._msectl.on(m.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(m.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(m.default.SOURCE_OPEN,function(){A._mseSourceOpened=!0,A._hasPendingLoad&&(A._hasPendingLoad=!1,A.load())}),this._msectl.on(m.default.ERROR,function(T){A._emitter.emit(d.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,T)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},S.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},S.prototype.load=function(){var C=this;if(!this._mediaElement)throw new b.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new b.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new p.default(this._mediaDataSource,this._config),this._transmuxer.on(v.default.INIT_SEGMENT,function(A,T){C._msectl.appendInitSegment(T)}),this._transmuxer.on(v.default.MEDIA_SEGMENT,function(A,T){if(C._msectl.appendMediaSegment(T),C._config.lazyLoad&&!C._config.isLive){var R=C._mediaElement.currentTime;T.info.endDts>=(R+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(v.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(d.default.LOADING_COMPLETE)}),this._transmuxer.on(v.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(d.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.default.IO_ERROR,function(A,T){C._emitter.emit(d.default.ERROR,_.ErrorTypes.NETWORK_ERROR,A,T)}),this._transmuxer.on(v.default.DEMUX_ERROR,function(A,T){C._emitter.emit(d.default.ERROR,_.ErrorTypes.MEDIA_ERROR,A,{code:-1,msg:T})}),this._transmuxer.on(v.default.MEDIA_INFO,function(A){C._mediaInfo=A,C._emitter.emit(d.default.MEDIA_INFO,Object.assign({},A))}),this._transmuxer.on(v.default.METADATA_ARRIVED,function(A){C._emitter.emit(d.default.METADATA_ARRIVED,A)}),this._transmuxer.on(v.default.SCRIPTDATA_ARRIVED,function(A){C._emitter.emit(d.default.SCRIPTDATA_ARRIVED,A)}),this._transmuxer.on(v.default.STATISTICS_INFO,function(A){C._statisticsInfo=C._fillStatisticsInfo(A),C._emitter.emit(d.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(v.default.RECOMMEND_SEEKPOINT,function(A){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=A/1e3)}),this._transmuxer.open()}},S.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},S.prototype.play=function(){return this._mediaElement.play()},S.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(S.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),S.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var A=!0,T=0,R=0;if(this._mediaElement.getVideoPlaybackQuality){var O=this._mediaElement.getVideoPlaybackQuality();T=O.totalVideoFrames,R=O.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(T=this._mediaElement.webkitDecodedFrameCount,R=this._mediaElement.webkitDroppedFrameCount):A=!1;return A&&(C.decodedFrames=T,C.droppedFrames=R),C},S.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,A=this._mediaElement.currentTime,T=0,R=0;R<C.length;R++){var O=C.start(R),P=C.end(R);if(O<=A&&A<P){T=P;break}}T>=A+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},S.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},S.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},S.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,A=this._mediaElement.buffered,T=!1,R=0;R<A.length;R++){var O=A.start(R),P=A.end(R);if(C>=O&&C<P){C>=P-this._config.lazyLoadRecoverDuration&&(T=!0);break}}T&&(window.clearInterval(this._progressChecker),this._progressChecker=null,T&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},S.prototype._isTimepointBuffered=function(C){for(var A=this._mediaElement.buffered,T=0;T<A.length;T++){var R=A.start(T),O=A.end(T);if(C>=R&&C<O)return!0}return!1},S.prototype._internalSeek=function(C){var A=this._isTimepointBuffered(C),T=!1,R=0;if(C<1&&this._mediaElement.buffered.length>0){var O=this._mediaElement.buffered.start(0);(O<1&&C<O||h.default.safari)&&(T=!0,R=h.default.safari?.1:O)}if(T)this._requestSetTime=!0,this._mediaElement.currentTime=R;else if(A){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var P=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,P!=null?this._mediaElement.currentTime=P.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},S.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},S.prototype._checkAndResumeStuckPlayback=function(C){var A=this._mediaElement;if(C||!this._receivedCanPlay||A.readyState<2){var T=A.buffered;T.length>0&&A.currentTime<T.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+A.currentTime+", seek to "+T.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=T.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},S.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},S.prototype._onvSeeking=function(C){var A=this._mediaElement.currentTime,T=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(A<1&&T.length>0){var R=T.start(0);if(R<1&&A<R||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:R;return}}if(this._isTimepointBuffered(A)){if(this._alwaysSeekKeyframe){var O=this._msectl.getNearestKeyframe(Math.floor(A*1e3));O!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=O.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:A,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},S.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},S.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},S.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},S}();s.default=w},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),d=c("./src/utils/exception.js"),p=function(){function v(g,m){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof m=="object"&&Object.assign(this._config,m),g.type.toLowerCase()==="flv")throw new d.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(g.hasOwnProperty("segments"))throw new d.InvalidArgumentException("NativePlayer("+g.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=g,this._mediaElement=null}return v.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(g,m){var _=this;g===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.MEDIA_INFO,_.mediaInfo)}):g===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(g,m)},v.prototype.off=function(g,m){this._emitter.removeListener(g,m)},v.prototype.attachMediaElement=function(g){if(this._mediaElement=g,g.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{g.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},v.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.load=function(){if(!this._mediaElement)throw new d.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},v.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},v.prototype.play=function(){return this._mediaElement.play()},v.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(v.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(g){this._mediaElement.volume=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(g){this._mediaElement.muted=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(g){this._mediaElement?this._mediaElement.currentTime=g:this._pendingSeekTime=g},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mediaInfo",{get:function(){var g=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",m={mimeType:g+this._mediaDataSource.type};return this._mediaElement&&(m.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(m.width=this._mediaElement.videoWidth,m.height=this._mediaElement.videoHeight)),m},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"statisticsInfo",{get:function(){var g={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return g;var m=!0,_=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var b=this._mediaElement.getVideoPlaybackQuality();_=b.totalVideoFrames,x=b.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):m=!1;return m&&(g.decodedFrames=_,g.droppedFrames=x),g},enumerable:!1,configurable:!0}),v.prototype._onvLoadedMetadata=function(g){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},v.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},v}();s.default=p},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,d=null,p=Array.prototype.slice.call(arguments,1),v=p.length,g=0;g<v;g++)h+=p[g].byteLength;d=new Uint8Array(h),d[0]=h>>>24&255,d[1]=h>>>16&255,d[2]=h>>>8&255,d[3]=h&255,d.set(f,4);for(var m=8,g=0;g<v;g++)d.set(p[g],m),m+=p[g].byteLength;return d},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),d=u.moov(f),p=new Uint8Array(h.byteLength+d.byteLength);return p.set(h,0),p.set(d,h.byteLength),p},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),d=u.trak(f),p=u.mvex(f);return u.box(u.types.moov,h,d,p)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,d=f.duration,p=f.presentWidth,v=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,p>>>8&255,p&255,0,0,v>>>8&255,v&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,d=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,d=f.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,d>>>8&255,d&255,0,0]);return u.box(u.types[".mp3"],p)},u.mp4a=function(f){var h=f.channelCount,d=f.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,d>>>8&255,d&255,0,0]);return u.box(u.types.mp4a,p,u.esds(f))},u.esds=function(f){var h=f.config||[],d=h.length,p=new Uint8Array([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([d]).concat(h).concat([6,1,2]));return u.box(u.types.esds,p)},u.avc1=function(f){var h=f.avcc,d=f.codecWidth,p=f.codecHeight,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>>8&255,d&255,p>>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,v,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,d=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,d)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var d=f.id,p=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255])),v=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),g=u.sdtp(f),m=u.trun(f,g.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,p,v,m,g)},u.sdtp=function(f){for(var h=f.samples||[],d=h.length,p=new Uint8Array(4+d),v=0;v<d;v++){var g=h[v].flags;p[v+4]=g.isLeading<<6|g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy}return u.box(u.types.sdtp,p)},u.trun=function(f,h){var d=f.samples||[],p=d.length,v=12+16*p,g=new Uint8Array(v);h+=8+v,g.set([0,0,15,1,p>>>24&255,p>>>16&255,p>>>8&255,p&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var m=0;m<p;m++){var _=d[m].duration,x=d[m].size,b=d[m].flags,w=d[m].cts;g.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,b.isLeading<<2|b.dependsOn,b.isDependedOn<<6|b.hasRedundancy<<4|b.isNonSync,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255],12+16*m)}return u.box(u.types.trun,g)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),d=c("./src/core/media-segment-info.js"),p=c("./src/utils/exception.js"),v=function(){function g(m){this.TAG="MP4Remuxer",this._config=m,this._isLive=m.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new d.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new d.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return g.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},g.prototype.bindDataSource=function(m){return m.onDataAvailable=this.remux.bind(this),m.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(g.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(m){this._onInitSegment=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(m){this._onMediaSegment=m},enumerable:!1,configurable:!0}),g.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},g.prototype.seek=function(m){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},g.prototype.remux=function(m,_){if(!this._onMediaSegment)throw new p.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(m,_),this._remuxVideo(_),this._remuxAudio(m)},g.prototype._onTrackMetadataReceived=function(m,_){var x=null,b="mp4",w=_.codec;if(m==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(b="mpeg",w="",x=new Uint8Array):x=u.default.generateInitSegment(_);else if(m==="video")this._videoMeta=_,x=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new p.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(m,{type:m,data:x.buffer,codec:w,container:m+"/"+b,mediaDuration:_.duration})},g.prototype._calculateDtsBase=function(m,_){this._dtsBaseInited||(m.samples&&m.samples.length&&(this._audioDtsBase=m.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},g.prototype.flushStashedSamples=function(){var m=this._videoStashedLastSample,_=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};m!=null&&(x.samples.push(m),x.length=m.length);var b={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(b.samples.push(_),b.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(b,!0)},g.prototype._remuxAudio=function(m,_){if(this._audioMeta!=null){var x=m,b=x.samples,w=void 0,S=-1,C=-1,A=this._audioMeta.refSampleDuration,T=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,R=this._dtsBaseInited&&this._audioNextDts===void 0,O=!1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var P=0,k=null,F=0;T?(P=0,F=x.length):(P=8,F=8+x.length);var L=null;if(b.length>1&&(L=b.pop(),F-=L.length),this._audioStashedLastSample!=null){var D=this._audioStashedLastSample;this._audioStashedLastSample=null,b.unshift(D),F+=D.length}L!=null&&(this._audioStashedLastSample=L);var H=b[0].dts-this._dtsBase;if(this._audioNextDts)w=H-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())w=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(O=!0);else{var Q=this._audioSegmentInfoList.getLastSampleBefore(H);if(Q!=null){var ee=H-(Q.originalDts+Q.duration);ee<=3&&(ee=0);var G=Q.dts+Q.duration+ee;w=H-G}else w=0}if(O){var B=H-w,V=this._videoSegmentInfoList.getLastSegmentBefore(H);if(V!=null&&V.beginDts<B){var U=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(U){var $=V.beginDts,J=B-V.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+$+", duration: "+J),b.unshift({unit:U,dts:$,pts:$}),F+=U.byteLength}}else O=!1}for(var re=[],fe=0;fe<b.length;fe++){var D=b[fe],le=D.unit,xe=D.dts-this._dtsBase,$=xe,Ae=!1,ye=null,we=0;if(!(xe<-.001)){if(this._audioMeta.codec!=="mp3"){var me=xe,Pe=3;if(this._audioNextDts&&(me=this._audioNextDts),w=xe-me,w<=-Pe*A){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+xe+" ms ,curRefDts: "+me+" ms)  due to dtsCorrection: "+w+" ms overlap.");continue}else if(w>=Pe*A&&this._fillAudioTimestampGap&&!h.default.safari){Ae=!0;var je=Math.floor(w/A);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+xe+" ms, curRefDts: "+me+" ms, ")+("dtsCorrection: "+Math.round(w)+" ms, generate: "+je+" frames")),$=Math.floor(me),we=Math.floor(me+A)-$;var U=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);U==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),U=le),ye=[];for(var Le=0;Le<je;Le++){me=me+A;var ze=Math.floor(me),st=Math.floor(me+A)-ze,xt={dts:ze,pts:ze,cts:0,unit:U,size:U.byteLength,duration:st,originalDts:xe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};ye.push(xt),F+=xt.size}this._audioNextDts=me+A}else $=Math.floor(me),we=Math.floor(me+A)-$,this._audioNextDts=me+A}else{if($=xe-w,fe!==b.length-1){var Et=b[fe+1].dts-this._dtsBase-w;we=Et-$}else if(L!=null){var Et=L.dts-this._dtsBase-w;we=Et-$}else re.length>=1?we=re[re.length-1].duration:we=Math.floor(A);this._audioNextDts=$+we}S===-1&&(S=$),re.push({dts:$,pts:$,cts:0,unit:D.unit,size:D.unit.byteLength,duration:we,originalDts:xe,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Ae&&re.push.apply(re,ye)}}if(re.length===0){x.samples=[],x.length=0;return}T?k=new Uint8Array(F):(k=new Uint8Array(F),k[0]=F>>>24&255,k[1]=F>>>16&255,k[2]=F>>>8&255,k[3]=F&255,k.set(u.default.types.mdat,4));for(var fe=0;fe<re.length;fe++){var le=re[fe].unit;k.set(le,P),P+=le.byteLength}var it=re[re.length-1];C=it.dts+it.duration;var ct=new d.MediaSegmentInfo;ct.beginDts=S,ct.endDts=C,ct.beginPts=S,ct.endPts=C,ct.originalBeginDts=re[0].originalDts,ct.originalEndDts=it.originalDts+it.duration,ct.firstSample=new d.SampleInfo(re[0].dts,re[0].pts,re[0].duration,re[0].originalDts,!1),ct.lastSample=new d.SampleInfo(it.dts,it.pts,it.duration,it.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(ct),x.samples=re,x.sequenceNumber++;var bt=null;T?bt=new Uint8Array:bt=u.default.moof(x,S),x.samples=[],x.length=0;var mr={type:"audio",data:this._mergeBoxes(bt,k).buffer,sampleCount:re.length,info:ct};T&&R&&(mr.timestampOffset=S),this._onMediaSegment("audio",mr)}}},g.prototype._remuxVideo=function(m,_){if(this._videoMeta!=null){var x=m,b=x.samples,w=void 0,S=-1,C=-1,A=-1,T=-1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var R=8,O=null,P=8+m.length,k=null;if(b.length>1&&(k=b.pop(),P-=k.length),this._videoStashedLastSample!=null){var F=this._videoStashedLastSample;this._videoStashedLastSample=null,b.unshift(F),P+=F.length}k!=null&&(this._videoStashedLastSample=k);var L=b[0].dts-this._dtsBase;if(this._videoNextDts)w=L-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())w=0;else{var D=this._videoSegmentInfoList.getLastSampleBefore(L);if(D!=null){var H=L-(D.originalDts+D.duration);H<=3&&(H=0);var Q=D.dts+D.duration+H;w=L-Q}else w=0}for(var ee=new d.MediaSegmentInfo,G=[],B=0;B<b.length;B++){var F=b[B],V=F.dts-this._dtsBase,U=F.isKeyframe,$=V-w,J=F.cts,re=$+J;S===-1&&(S=$,A=re);var fe=0;if(B!==b.length-1){var le=b[B+1].dts-this._dtsBase-w;fe=le-$}else if(k!=null){var le=k.dts-this._dtsBase-w;fe=le-$}else G.length>=1?fe=G[G.length-1].duration:fe=Math.floor(this._videoMeta.refSampleDuration);if(U){var xe=new d.SampleInfo($,re,fe,F.dts,!0);xe.fileposition=F.fileposition,ee.appendSyncPoint(xe)}G.push({dts:$,pts:re,cts:J,units:F.units,size:F.length,isKeyframe:U,duration:fe,originalDts:V,flags:{isLeading:0,dependsOn:U?2:1,isDependedOn:U?1:0,hasRedundancy:0,isNonSync:U?0:1}})}O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4);for(var B=0;B<G.length;B++)for(var Ae=G[B].units;Ae.length;){var ye=Ae.shift(),we=ye.data;O.set(we,R),R+=we.byteLength}var me=G[G.length-1];if(C=me.dts+me.duration,T=me.pts+me.duration,this._videoNextDts=C,ee.beginDts=S,ee.endDts=C,ee.beginPts=A,ee.endPts=T,ee.originalBeginDts=G[0].originalDts,ee.originalEndDts=me.originalDts+me.duration,ee.firstSample=new d.SampleInfo(G[0].dts,G[0].pts,G[0].duration,G[0].originalDts,G[0].isKeyframe),ee.lastSample=new d.SampleInfo(me.dts,me.pts,me.duration,me.originalDts,me.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ee),x.samples=G,x.sequenceNumber++,this._forceFirstIDR){var Pe=G[0].flags;Pe.dependsOn=2,Pe.isNonSync=0}var je=u.default.moof(x,S);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(je,O).buffer,sampleCount:G.length,info:ee})}}},g.prototype._mergeBoxes=function(m,_){var x=new Uint8Array(m.byteLength+_.byteLength);return x.set(m,0),x.set(_,m.byteLength),x},g}();s.default=v},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],d=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],p={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:d[0]||""},v={};if(p.browser){v[p.browser]=!0;var g=p.majorVersion.split(".");v.version={major:parseInt(p.majorVersion,10),string:p.version},g.length>1&&(v.version.minor=parseInt(g[1],10)),g.length>2&&(v.version.build=parseInt(g[2],10))}if(p.platform&&(v[p.platform]=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){v.rv&&delete v.rv;var m="msie";p.browser=m,v[m]=!0}if(v.edge){delete v.edge;var _="msedge";p.browser=_,v[_]=!0}if(v.opr){var x="opera";p.browser=x,v[x]=!0}if(v.safari&&v.android){var b="android";p.browser=b,v[b]=!0}v.name=p.browser,v.platform=p.platform;for(var w in l)l.hasOwnProperty(w)&&delete l[w];Object.assign(l,v)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return d}});var l=function(){var p=function(v,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(m[x]=_[x])},p(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(v,g);function m(){this.constructor=v}v.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),u=function(){function p(v){this._message=v}return Object.defineProperty(p.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),p.prototype.toString=function(){return this.name+": "+this.message},p}(),f=function(p){l(v,p);function v(g){return p.call(this,g)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),v}(u),h=function(p){l(v,p);function v(g){return p.call(this,g)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),v}(u),d=function(p){l(v,p);function v(g){return p.call(this,g)||this}return Object.defineProperty(v.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),v}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",v),h.ENABLE_ERROR&&(console.error?console.error(v):console.warn?console.warn(v):console.log(v))},h.i=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",v),h.ENABLE_INFO&&(console.info?console.info(v):console.log(v))},h.w=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",v),h.ENABLE_WARN&&(console.warn?console.warn(v):console.log(v))},h.d=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",v),h.ENABLE_DEBUG&&(console.debug?console.debug(v):console.log(v))},h.v=function(d,p){(!d||h.FORCE_GLOBAL_TAG)&&(d=h.GLOBAL_TAG);var v="["+d+"] > "+p;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",v),h.ENABLE_VERBOSE&&console.log(v)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function d(){}return Object.defineProperty(d,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(p){f.default.FORCE_GLOBAL_TAG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(p){f.default.GLOBAL_TAG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(p){f.default.ENABLE_VERBOSE=p,f.default.ENABLE_DEBUG=p,f.default.ENABLE_INFO=p,f.default.ENABLE_WARN=p,f.default.ENABLE_ERROR=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(p){f.default.ENABLE_DEBUG=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(p){f.default.ENABLE_VERBOSE=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(p){f.default.ENABLE_INFO=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(p){f.default.ENABLE_WARN=p,d._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(d,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(p){f.default.ENABLE_ERROR=p,d._notifyChange()},enumerable:!1,configurable:!0}),d.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},d.applyConfig=function(p){f.default.GLOBAL_TAG=p.globalTag,f.default.FORCE_GLOBAL_TAG=p.forceGlobalTag,f.default.ENABLE_VERBOSE=p.enableVerbose,f.default.ENABLE_DEBUG=p.enableDebug,f.default.ENABLE_INFO=p.enableInfo,f.default.ENABLE_WARN=p.enableWarn,f.default.ENABLE_ERROR=p.enableError,f.default.ENABLE_CALLBACK=p.enableCallback},d._notifyChange=function(){var p=d.emitter;if(p.listenerCount("change")>0){var v=d.getConfig();p.emit("change",v)}},d.registerListener=function(p){d.emitter.addListener("change",p)},d.removeListener=function(p){d.emitter.removeListener("change",p)},d.addLogListener=function(p){f.default.emitter.addListener("log",p),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,d._notifyChange())},d.removeLogListener=function(p){f.default.emitter.removeListener("log",p),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,d._notifyChange())},d}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),d=1;d<arguments.length;d++){var p=arguments[d];if(p!=null)for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,d){var p=f;if(h+d<p.length){for(;d--;)if((p[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],d=f,p=0,v=f.length;p<v;){if(d[p]<128){h.push(String.fromCharCode(d[p])),++p;continue}else if(!(d[p]<192)){if(d[p]<224){if(l(d,p,1)){var g=(d[p]&31)<<6|d[p+1]&63;if(g>=128){h.push(String.fromCharCode(g&65535)),p+=2;continue}}}else if(d[p]<240){if(l(d,p,2)){var g=(d[p]&15)<<12|(d[p+1]&63)<<6|d[p+2]&63;if(g>=2048&&(g&63488)!==55296){h.push(String.fromCharCode(g&65535)),p+=3;continue}}}else if(d[p]<248&&l(d,p,3)){var g=(d[p]&7)<<18|(d[p+1]&63)<<12|(d[p+2]&63)<<6|d[p+3]&63;if(g>65536&&g<1114112){g-=65536,h.push(String.fromCharCode(g>>>10|55296)),h.push(String.fromCharCode(g&1023|56320)),p+=4;continue}}}h.push(String.fromCharCode(65533)),++p}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(P7);var JCe=P7.exports;const NA=Ei(JCe);var O7={exports:{}},AS={exports:{}};const QCe={},e2e=Object.freeze(Object.defineProperty({__proto__:null,default:QCe},Symbol.toStringTag,{value:"Module"})),k7=Dee(e2e);var qB;function er(){return qB||(qB=1,function(t,e){(function(r,n){t.exports=n()})(ot,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof ot<"u"&&ot.crypto&&(a=ot.crypto),!a&&typeof G0=="function")try{a=k7}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function _(){}return function(x){var b;return _.prototype=x,b=new _,_.prototype=null,b}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(_){var x=s(this);return _&&x.mixIn(_),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(_,x){_=this.words=_||[],x!=i?this.sigBytes=x:this.sigBytes=_.length*4},toString:function(_){return(_||d).stringify(this)},concat:function(_){var x=this.words,b=_.words,w=this.sigBytes,S=_.sigBytes;if(this.clamp(),w%4)for(var C=0;C<S;C++){var A=b[C>>>2]>>>24-C%4*8&255;x[w+C>>>2]|=A<<24-(w+C)%4*8}else for(var T=0;T<S;T+=4)x[w+T>>>2]=b[T>>>2];return this.sigBytes+=S,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=n.ceil(x/4)},clone:function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],b=0;b<_;b+=4)x.push(o());return new f.init(x,_)}}),h=c.enc={},d=h.Hex={stringify:function(_){for(var x=_.words,b=_.sigBytes,w=[],S=0;S<b;S++){var C=x[S>>>2]>>>24-S%4*8&255;w.push((C>>>4).toString(16)),w.push((C&15).toString(16))}return w.join("")},parse:function(_){for(var x=_.length,b=[],w=0;w<x;w+=2)b[w>>>3]|=parseInt(_.substr(w,2),16)<<24-w%8*4;return new f.init(b,x/2)}},p=h.Latin1={stringify:function(_){for(var x=_.words,b=_.sigBytes,w=[],S=0;S<b;S++){var C=x[S>>>2]>>>24-S%4*8&255;w.push(String.fromCharCode(C))}return w.join("")},parse:function(_){for(var x=_.length,b=[],w=0;w<x;w++)b[w>>>2]|=(_.charCodeAt(w)&255)<<24-w%4*8;return new f.init(b,x)}},v=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},g=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=v.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var x,b=this._data,w=b.words,S=b.sigBytes,C=this.blockSize,A=C*4,T=S/A;_?T=n.ceil(T):T=n.max((T|0)-this._minBufferSize,0);var R=T*C,O=n.min(R*4,S);if(R){for(var P=0;P<R;P+=C)this._doProcessBlock(w,P);x=w.splice(0,R),b.sigBytes-=O}return new f.init(x,O)},clone:function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});l.Hasher=g.extend({cfg:u.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(_){return function(x,b){return new _.init(b).finalize(x)}},_createHmacHelper:function(_){return function(x,b){return new m.HMAC.init(_,b).finalize(x)}}});var m=c.algo={};return c}(Math);return r})}(AS)),AS.exports}var TS={exports:{}},KB;function P1(){return KB||(KB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var d=l[h];f.push(d.high),f.push(d.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(TS)),TS.exports}var IS={exports:{}},ZB;function t2e(){return ZB||(ZB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(IS)),IS.exports}var RS={exports:{}},JB;function r2e(){return JB||(JB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(RS)),RS.exports}var PS={exports:{}},QB;function af(){return QB||(QB=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],d=0;d<u;d+=3)for(var p=l[d>>>2]>>>24-d%4*8&255,v=l[d+1>>>2]>>>24-(d+1)%4*8&255,g=l[d+2>>>2]>>>24-(d+2)%4*8&255,m=p<<16|v<<8|g,_=0;_<4&&d+_*.75<u;_++)h.push(f.charAt(m>>>6*(3-_)&63));var x=f.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var d=u.charAt(64);if(d){var p=c.indexOf(d);p!==-1&&(l=p)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var p=u[c.charCodeAt(d-1)]<<d%4*2,v=u[c.charCodeAt(d)]>>>6-d%4*2,g=p|v;f[h>>>2]|=g<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(PS)),PS.exports}var OS={exports:{}},eD;function n2e(){return eD||(eD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var d=[],p=0;p<f;p+=3)for(var v=u[p>>>2]>>>24-p%4*8&255,g=u[p+1>>>2]>>>24-(p+1)%4*8&255,m=u[p+2>>>2]>>>24-(p+2)%4*8&255,_=v<<16|g<<8|m,x=0;x<4&&p+x*.75<f;x++)d.push(h.charAt(_>>>6*(3-x)&63));var b=h.charAt(64);if(b)for(;d.length%4;)d.push(b);return d.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<f.length;d++)h[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var v=c.indexOf(p);v!==-1&&(u=v)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var p=u[c.charCodeAt(d-1)]<<d%4*2,v=u[c.charCodeAt(d)]>>>6-d%4*2,g=p|v;f[h>>>2]|=g<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(OS)),OS.exports}var kS={exports:{}},tD;function of(){return tD||(tD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var v=0;v<64;v++)l[v]=n.abs(n.sin(v+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,g){for(var m=0;m<16;m++){var _=g+m,x=v[_];v[_]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,w=v[g+0],S=v[g+1],C=v[g+2],A=v[g+3],T=v[g+4],R=v[g+5],O=v[g+6],P=v[g+7],k=v[g+8],F=v[g+9],L=v[g+10],D=v[g+11],H=v[g+12],Q=v[g+13],ee=v[g+14],G=v[g+15],B=b[0],V=b[1],U=b[2],$=b[3];B=f(B,V,U,$,w,7,l[0]),$=f($,B,V,U,S,12,l[1]),U=f(U,$,B,V,C,17,l[2]),V=f(V,U,$,B,A,22,l[3]),B=f(B,V,U,$,T,7,l[4]),$=f($,B,V,U,R,12,l[5]),U=f(U,$,B,V,O,17,l[6]),V=f(V,U,$,B,P,22,l[7]),B=f(B,V,U,$,k,7,l[8]),$=f($,B,V,U,F,12,l[9]),U=f(U,$,B,V,L,17,l[10]),V=f(V,U,$,B,D,22,l[11]),B=f(B,V,U,$,H,7,l[12]),$=f($,B,V,U,Q,12,l[13]),U=f(U,$,B,V,ee,17,l[14]),V=f(V,U,$,B,G,22,l[15]),B=h(B,V,U,$,S,5,l[16]),$=h($,B,V,U,O,9,l[17]),U=h(U,$,B,V,D,14,l[18]),V=h(V,U,$,B,w,20,l[19]),B=h(B,V,U,$,R,5,l[20]),$=h($,B,V,U,L,9,l[21]),U=h(U,$,B,V,G,14,l[22]),V=h(V,U,$,B,T,20,l[23]),B=h(B,V,U,$,F,5,l[24]),$=h($,B,V,U,ee,9,l[25]),U=h(U,$,B,V,A,14,l[26]),V=h(V,U,$,B,k,20,l[27]),B=h(B,V,U,$,Q,5,l[28]),$=h($,B,V,U,C,9,l[29]),U=h(U,$,B,V,P,14,l[30]),V=h(V,U,$,B,H,20,l[31]),B=d(B,V,U,$,R,4,l[32]),$=d($,B,V,U,k,11,l[33]),U=d(U,$,B,V,D,16,l[34]),V=d(V,U,$,B,ee,23,l[35]),B=d(B,V,U,$,S,4,l[36]),$=d($,B,V,U,T,11,l[37]),U=d(U,$,B,V,P,16,l[38]),V=d(V,U,$,B,L,23,l[39]),B=d(B,V,U,$,Q,4,l[40]),$=d($,B,V,U,w,11,l[41]),U=d(U,$,B,V,A,16,l[42]),V=d(V,U,$,B,O,23,l[43]),B=d(B,V,U,$,F,4,l[44]),$=d($,B,V,U,H,11,l[45]),U=d(U,$,B,V,G,16,l[46]),V=d(V,U,$,B,C,23,l[47]),B=p(B,V,U,$,w,6,l[48]),$=p($,B,V,U,P,10,l[49]),U=p(U,$,B,V,ee,15,l[50]),V=p(V,U,$,B,R,21,l[51]),B=p(B,V,U,$,H,6,l[52]),$=p($,B,V,U,A,10,l[53]),U=p(U,$,B,V,L,15,l[54]),V=p(V,U,$,B,S,21,l[55]),B=p(B,V,U,$,k,6,l[56]),$=p($,B,V,U,G,10,l[57]),U=p(U,$,B,V,O,15,l[58]),V=p(V,U,$,B,Q,21,l[59]),B=p(B,V,U,$,T,6,l[60]),$=p($,B,V,U,D,10,l[61]),U=p(U,$,B,V,C,15,l[62]),V=p(V,U,$,B,F,21,l[63]),b[0]=b[0]+B|0,b[1]=b[1]+V|0,b[2]=b[2]+U|0,b[3]=b[3]+$|0},_doFinalize:function(){var v=this._data,g=v.words,m=this._nDataBytes*8,_=v.sigBytes*8;g[_>>>5]|=128<<24-_%32;var x=n.floor(m/4294967296),b=m;g[(_+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(_+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,v.sigBytes=(g.length+1)*4,this._process();for(var w=this._hash,S=w.words,C=0;C<4;C++){var A=S[C];S[C]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return w},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,g,m,_,x,b,w){var S=v+(g&m|~g&_)+x+w;return(S<<b|S>>>32-b)+g}function h(v,g,m,_,x,b,w){var S=v+(g&_|m&~_)+x+w;return(S<<b|S>>>32-b)+g}function d(v,g,m,_,x,b,w){var S=v+(g^m^_)+x+w;return(S<<b|S>>>32-b)+g}function p(v,g,m,_,x,b,w){var S=v+(m^(g|~_))+x+w;return(S<<b|S>>>32-b)+g}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(kS)),kS.exports}var FS={exports:{}},rD;function F7(){return rD||(rD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,d=h[0],p=h[1],v=h[2],g=h[3],m=h[4],_=0;_<80;_++){if(_<16)c[_]=u[f+_]|0;else{var x=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=x<<1|x>>>31}var b=(d<<5|d>>>27)+m+c[_];_<20?b+=(p&v|~p&g)+1518500249:_<40?b+=(p^v^g)+1859775393:_<60?b+=(p&v|p&g|v&g)-1894007588:b+=(p^v^g)-899497514,m=g,g=v,v=p<<30|p>>>2,p=d,d=b}h[0]=h[0]+d|0,h[1]=h[1]+p|0,h[2]=h[2]+v|0,h[3]=h[3]+g|0,h[4]=h[4]+m|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,d=u.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(d+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(FS)),FS.exports}var NS={exports:{}},nD;function SO(){return nD||(nD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function d(m){for(var _=n.sqrt(m),x=2;x<=_;x++)if(!(m%x))return!1;return!0}function p(m){return(m-(m|0))*4294967296|0}for(var v=2,g=0;g<64;)d(v)&&(g<8&&(l[g]=p(n.pow(v,1/2))),u[g]=p(n.pow(v,1/3)),g++),v++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(d,p){for(var v=this._hash.words,g=v[0],m=v[1],_=v[2],x=v[3],b=v[4],w=v[5],S=v[6],C=v[7],A=0;A<64;A++){if(A<16)f[A]=d[p+A]|0;else{var T=f[A-15],R=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,O=f[A-2],P=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[A]=R+f[A-7]+P+f[A-16]}var k=b&w^~b&S,F=g&m^g&_^m&_,L=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),D=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=C+D+k+u[A]+f[A],Q=L+F;C=S,S=w,w=b,b=x+H|0,x=_,_=m,m=g,g=H+Q|0}v[0]=v[0]+g|0,v[1]=v[1]+m|0,v[2]=v[2]+_|0,v[3]=v[3]+x|0,v[4]=v[4]+b|0,v[5]=v[5]+w|0,v[6]=v[6]+S|0,v[7]=v[7]+C|0},_doFinalize:function(){var d=this._data,p=d.words,v=this._nDataBytes*8,g=d.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=n.floor(v/4294967296),p[(g+64>>>9<<4)+15]=v,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(NS)),NS.exports}var LS={exports:{}},iD;function i2e(){return iD||(iD=1,function(t,e){(function(r,n,i){t.exports=n(er(),SO())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(LS)),LS.exports}var MS={exports:{}},aD;function N7(){return aD||(aD=1,function(t,e){(function(r,n,i){t.exports=n(er(),P1())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=u()})();var d=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(p,v){for(var g=this._hash.words,m=g[0],_=g[1],x=g[2],b=g[3],w=g[4],S=g[5],C=g[6],A=g[7],T=m.high,R=m.low,O=_.high,P=_.low,k=x.high,F=x.low,L=b.high,D=b.low,H=w.high,Q=w.low,ee=S.high,G=S.low,B=C.high,V=C.low,U=A.high,$=A.low,J=T,re=R,fe=O,le=P,xe=k,Ae=F,ye=L,we=D,me=H,Pe=Q,je=ee,Le=G,ze=B,st=V,xt=U,Et=$,it=0;it<80;it++){var ct,bt,mr=h[it];if(it<16)bt=mr.high=p[v+it*2]|0,ct=mr.low=p[v+it*2+1]|0;else{var _r=h[it-15],fr=_r.high,ir=_r.low,Rt=(fr>>>1|ir<<31)^(fr>>>8|ir<<24)^fr>>>7,Er=(ir>>>1|fr<<31)^(ir>>>8|fr<<24)^(ir>>>7|fr<<25),_e=h[it-2],Se=_e.high,Oe=_e.low,qe=(Se>>>19|Oe<<13)^(Se<<3|Oe>>>29)^Se>>>6,He=(Oe>>>19|Se<<13)^(Oe<<3|Se>>>29)^(Oe>>>6|Se<<26),at=h[it-7],ar=at.high,kr=at.low,zn=h[it-16],Yn=zn.high,Ar=zn.low;ct=Er+kr,bt=Rt+ar+(ct>>>0<Er>>>0?1:0),ct=ct+He,bt=bt+qe+(ct>>>0<He>>>0?1:0),ct=ct+Ar,bt=bt+Yn+(ct>>>0<Ar>>>0?1:0),mr.high=bt,mr.low=ct}var Ea=me&je^~me&ze,Si=Pe&Le^~Pe&st,Ln=J&fe^J&xe^fe&xe,Sa=re&le^re&Ae^le&Ae,Wa=(J>>>28|re<<4)^(J<<30|re>>>2)^(J<<25|re>>>7),Ho=(re>>>28|J<<4)^(re<<30|J>>>2)^(re<<25|J>>>7),Gi=(me>>>14|Pe<<18)^(me>>>18|Pe<<14)^(me<<23|Pe>>>9),hl=(Pe>>>14|me<<18)^(Pe>>>18|me<<14)^(Pe<<23|me>>>9),Vi=f[it],go=Vi.high,Ci=Vi.low,on=Et+hl,aa=xt+Gi+(on>>>0<Et>>>0?1:0),on=on+Si,aa=aa+Ea+(on>>>0<Si>>>0?1:0),on=on+Ci,aa=aa+go+(on>>>0<Ci>>>0?1:0),on=on+ct,aa=aa+bt+(on>>>0<ct>>>0?1:0),Fu=Ho+Sa,$d=Wa+Ln+(Fu>>>0<Ho>>>0?1:0);xt=ze,Et=st,ze=je,st=Le,je=me,Le=Pe,Pe=we+on|0,me=ye+aa+(Pe>>>0<we>>>0?1:0)|0,ye=xe,we=Ae,xe=fe,Ae=le,fe=J,le=re,re=on+Fu|0,J=aa+$d+(re>>>0<on>>>0?1:0)|0}R=m.low=R+re,m.high=T+J+(R>>>0<re>>>0?1:0),P=_.low=P+le,_.high=O+fe+(P>>>0<le>>>0?1:0),F=x.low=F+Ae,x.high=k+xe+(F>>>0<Ae>>>0?1:0),D=b.low=D+we,b.high=L+ye+(D>>>0<we>>>0?1:0),Q=w.low=Q+Pe,w.high=H+me+(Q>>>0<Pe>>>0?1:0),G=S.low=G+Le,S.high=ee+je+(G>>>0<Le>>>0?1:0),V=C.low=V+st,C.high=B+ze+(V>>>0<st>>>0?1:0),$=A.low=$+Et,A.high=U+xt+($>>>0<Et>>>0?1:0)},_doFinalize:function(){var p=this._data,v=p.words,g=this._nDataBytes*8,m=p.sigBytes*8;v[m>>>5]|=128<<24-m%32,v[(m+128>>>10<<5)+30]=Math.floor(g/4294967296),v[(m+128>>>10<<5)+31]=g,p.sigBytes=v.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=a._createHelper(d),n.HmacSHA512=a._createHmacHelper(d)}(),r.SHA512})}(MS)),MS.exports}var BS={exports:{}},oD;function a2e(){return oD||(oD=1,function(t,e){(function(r,n,i){t.exports=n(er(),P1(),N7())})(ot,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(BS)),BS.exports}var DS={exports:{}},sD;function o2e(){return sD||(sD=1,function(t,e){(function(r,n,i){t.exports=n(er(),P1())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],d=[];(function(){for(var g=1,m=0,_=0;_<24;_++){f[g+5*m]=(_+1)*(_+2)/2%64;var x=m%5,b=(2*g+3*m)%5;g=x,m=b}for(var g=0;g<5;g++)for(var m=0;m<5;m++)h[g+5*m]=m+(2*g+3*m)%5*5;for(var w=1,S=0;S<24;S++){for(var C=0,A=0,T=0;T<7;T++){if(w&1){var R=(1<<T)-1;R<32?A^=1<<R:C^=1<<R-32}w&128?w=w<<1^113:w<<=1}d[S]=l.create(C,A)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var v=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],m=0;m<25;m++)g[m]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,m){for(var _=this._state,x=this.blockSize/2,b=0;b<x;b++){var w=g[m+2*b],S=g[m+2*b+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var C=_[b];C.high^=S,C.low^=w}for(var A=0;A<24;A++){for(var T=0;T<5;T++){for(var R=0,O=0,P=0;P<5;P++){var C=_[T+5*P];R^=C.high,O^=C.low}var k=p[T];k.high=R,k.low=O}for(var T=0;T<5;T++)for(var F=p[(T+4)%5],L=p[(T+1)%5],D=L.high,H=L.low,R=F.high^(D<<1|H>>>31),O=F.low^(H<<1|D>>>31),P=0;P<5;P++){var C=_[T+5*P];C.high^=R,C.low^=O}for(var Q=1;Q<25;Q++){var R,O,C=_[Q],ee=C.high,G=C.low,B=f[Q];B<32?(R=ee<<B|G>>>32-B,O=G<<B|ee>>>32-B):(R=G<<B-32|ee>>>64-B,O=ee<<B-32|G>>>64-B);var V=p[h[Q]];V.high=R,V.low=O}var U=p[0],$=_[0];U.high=$.high,U.low=$.low;for(var T=0;T<5;T++)for(var P=0;P<5;P++){var Q=T+5*P,C=_[Q],J=p[Q],re=p[(T+1)%5+5*P],fe=p[(T+2)%5+5*P];C.high=J.high^~re.high&fe.high,C.low=J.low^~re.low&fe.low}var C=_[0],le=d[A];C.high^=le.high,C.low^=le.low}},_doFinalize:function(){var g=this._data,m=g.words;this._nDataBytes*8;var _=g.sigBytes*8,x=this.blockSize*32;m[_>>>5]|=1<<24-_%32,m[(n.ceil((_+1)/x)*x>>>5)-1]|=128,g.sigBytes=m.length*4,this._process();for(var b=this._state,w=this.cfg.outputLength/8,S=w/8,C=[],A=0;A<S;A++){var T=b[A],R=T.high,O=T.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,C.push(O),C.push(R)}return new o.init(C,w)},clone:function(){for(var g=s.clone.call(this),m=g._state=this._state.slice(0),_=0;_<25;_++)m[_]=m[_].clone();return g}});i.SHA3=s._createHelper(v),i.HmacSHA3=s._createHmacHelper(v)}(Math),r.SHA3})}(DS)),DS.exports}var US={exports:{}},lD;function s2e(){return lD||(lD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,C){for(var A=0;A<16;A++){var T=C+A,R=S[T];S[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var O=this._hash.words,P=d.words,k=p.words,F=l.words,L=u.words,D=f.words,H=h.words,Q,ee,G,B,V,U,$,J,re,fe;U=Q=O[0],$=ee=O[1],J=G=O[2],re=B=O[3],fe=V=O[4];for(var le,A=0;A<80;A+=1)le=Q+S[C+F[A]]|0,A<16?le+=g(ee,G,B)+P[0]:A<32?le+=m(ee,G,B)+P[1]:A<48?le+=_(ee,G,B)+P[2]:A<64?le+=x(ee,G,B)+P[3]:le+=b(ee,G,B)+P[4],le=le|0,le=w(le,D[A]),le=le+V|0,Q=V,V=B,B=w(G,10),G=ee,ee=le,le=U+S[C+L[A]]|0,A<16?le+=b($,J,re)+k[0]:A<32?le+=x($,J,re)+k[1]:A<48?le+=_($,J,re)+k[2]:A<64?le+=m($,J,re)+k[3]:le+=g($,J,re)+k[4],le=le|0,le=w(le,H[A]),le=le+fe|0,U=fe,fe=re,re=w(J,10),J=$,$=le;le=O[1]+G+re|0,O[1]=O[2]+B+fe|0,O[2]=O[3]+V+U|0,O[3]=O[4]+Q+$|0,O[4]=O[0]+ee+J|0,O[0]=le},_doFinalize:function(){var S=this._data,C=S.words,A=this._nDataBytes*8,T=S.sigBytes*8;C[T>>>5]|=128<<24-T%32,C[(T+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S.sigBytes=(C.length+1)*4,this._process();for(var R=this._hash,O=R.words,P=0;P<5;P++){var k=O[P];O[P]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return R},clone:function(){var S=s.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,C,A){return S^C^A}function m(S,C,A){return S&C|~S&A}function _(S,C,A){return(S|~C)^A}function x(S,C,A){return S&A|C&~A}function b(S,C,A){return S^(C|~A)}function w(S,C){return S<<C|S>>>32-C}i.RIPEMD160=s._createHelper(v),i.HmacRIPEMD160=s._createHmacHelper(v)}(),r.RIPEMD160})}(US)),US.exports}var jS={exports:{}},uD;function CO(){return uD||(uD=1,function(t,e){(function(r,n){t.exports=n(er())})(ot,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),p=this._iKey=u.clone(),v=d.words,g=p.words,m=0;m<f;m++)v[m]^=1549556828,g[m]^=909522486;d.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(jS)),jS.exports}var $S={exports:{}},cD;function l2e(){return cD||(cD=1,function(t,e){(function(r,n,i){t.exports=n(er(),SO(),CO())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var d=this.cfg,p=l.create(d.hasher,f),v=o.create(),g=o.create([1]),m=v.words,_=g.words,x=d.keySize,b=d.iterations;m.length<x;){var w=p.update(h).finalize(g);p.reset();for(var S=w.words,C=S.length,A=w,T=1;T<b;T++){A=p.finalize(A),p.reset();for(var R=A.words,O=0;O<C;O++)S[O]^=R[O]}v.concat(w),_[0]++}return v.sigBytes=x*4,v}});n.PBKDF2=function(f,h,d){return u.create(d).compute(f,h)}}(),r.PBKDF2})}($S)),$S.exports}var GS={exports:{}},fD;function Pu(){return fD||(fD=1,function(t,e){(function(r,n,i){t.exports=n(er(),F7(),CO())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,d=this.cfg,p=d.hasher.create(),v=o.create(),g=v.words,m=d.keySize,_=d.iterations;g.length<m;){h&&p.update(h),h=p.update(u).finalize(f),p.reset();for(var x=1;x<_;x++)h=p.finalize(h),p.reset();v.concat(h)}return v.sigBytes=m*4,v}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(GS)),GS.exports}var VS={exports:{}},hD;function ui(){return hD||(hD=1,function(t,e){(function(r,n,i){t.exports=n(er(),Pu())})(ot,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,d=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(R,O){return this.create(this._ENC_XFORM_MODE,R,O)},createDecryptor:function(R,O){return this.create(this._DEC_XFORM_MODE,R,O)},init:function(R,O,P){this.cfg=this.cfg.extend(P),this._xformMode=R,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(O){return typeof O=="string"?T:S}return function(O){return{encrypt:function(P,k,F){return R(k).encrypt(O,P,k,F)},decrypt:function(P,k,F){return R(k).decrypt(O,P,k,F)}}}}()});a.StreamCipher=d.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var p=i.mode={},v=a.BlockCipherMode=o.extend({createEncryptor:function(R,O){return this.Encryptor.create(R,O)},createDecryptor:function(R,O){return this.Decryptor.create(R,O)},init:function(R,O){this._cipher=R,this._iv=O}}),g=p.CBC=function(){var R=v.extend();R.Encryptor=R.extend({processBlock:function(P,k){var F=this._cipher,L=F.blockSize;O.call(this,P,k,L),F.encryptBlock(P,k),this._prevBlock=P.slice(k,k+L)}}),R.Decryptor=R.extend({processBlock:function(P,k){var F=this._cipher,L=F.blockSize,D=P.slice(k,k+L);F.decryptBlock(P,k),O.call(this,P,k,L),this._prevBlock=D}});function O(P,k,F){var L,D=this._iv;D?(L=D,this._iv=n):L=this._prevBlock;for(var H=0;H<F;H++)P[k+H]^=L[H]}return R}(),m=i.pad={},_=m.Pkcs7={pad:function(R,O){for(var P=O*4,k=P-R.sigBytes%P,F=k<<24|k<<16|k<<8|k,L=[],D=0;D<k;D+=4)L.push(F);var H=s.create(L,k);R.concat(H)},unpad:function(R){var O=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=O}};a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:_}),reset:function(){var R;d.reset.call(this);var O=this.cfg,P=O.iv,k=O.mode;this._xformMode==this._ENC_XFORM_MODE?R=k.createEncryptor:(R=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,P&&P.words):(this._mode=R.call(k,this,P&&P.words),this._mode.__creator=R)},_doProcessBlock:function(R,O){this._mode.processBlock(R,O)},_doFinalize:function(){var R,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),O.unpad(R)),R},blockSize:128/32});var x=a.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),b=i.format={},w=b.OpenSSL={stringify:function(R){var O,P=R.ciphertext,k=R.salt;return k?O=s.create([1398893684,1701076831]).concat(k).concat(P):O=P,O.toString(u)},parse:function(R){var O,P=u.parse(R),k=P.words;return k[0]==1398893684&&k[1]==1701076831&&(O=s.create(k.slice(2,4)),k.splice(0,4),P.sigBytes-=16),x.create({ciphertext:P,salt:O})}},S=a.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var F=R.createEncryptor(P,k),L=F.finalize(O),D=F.cfg;return x.create({ciphertext:L,key:P,iv:D.iv,algorithm:R,mode:D.mode,padding:D.padding,blockSize:R.blockSize,formatter:k.format})},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var F=R.createDecryptor(P,k).finalize(O.ciphertext);return F},_parse:function(R,O){return typeof R=="string"?O.parse(R,this):R}}),C=i.kdf={},A=C.OpenSSL={execute:function(R,O,P,k,F){if(k||(k=s.random(64/8)),F)var L=h.create({keySize:O+P,hasher:F}).compute(R,k);else var L=h.create({keySize:O+P}).compute(R,k);var D=s.create(L.words.slice(O),P*4);return L.sigBytes=O*4,x.create({key:L,iv:D,salt:k})}},T=a.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:A}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var F=k.kdf.execute(P,R.keySize,R.ivSize,k.salt,k.hasher);k.iv=F.iv;var L=S.encrypt.call(this,R,O,F.key,k);return L.mixIn(F),L},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var F=k.kdf.execute(P,R.keySize,R.ivSize,O.salt,k.hasher);k.iv=F.iv;var L=S.decrypt.call(this,R,O,F.key,k);return L}})}()})}(VS)),VS.exports}var HS={exports:{}},dD;function u2e(){return dD||(dD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(HS)),HS.exports}var XS={exports:{}},pD;function c2e(){return pD||(pD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(XS)),XS.exports}var WS={exports:{}},vD;function f2e(){return vD||(vD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var d=h.slice(0);l.encryptBlock(d,0);for(var p=0;p<u;p++)s[c+p]^=d[p]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(WS)),WS.exports}var zS={exports:{}},gD;function h2e(){return gD||(gD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(zS)),zS.exports}var YS={exports:{}},mD;function d2e(){return mD||(mD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(YS)),YS.exports}var qS={exports:{}},_D;function p2e(){return _D||(_D=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(qS)),qS.exports}var KS={exports:{}},yD;function v2e(){return yD||(yD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(KS)),KS.exports}var ZS={exports:{}},xD;function g2e(){return xD||(xD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(ZS)),ZS.exports}var JS={exports:{}},bD;function m2e(){return bD||(bD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(JS)),JS.exports}var QS={exports:{}},wD;function _2e(){return wD||(wD=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(QS)),QS.exports}var eC={exports:{}},ED;function y2e(){return ED||(ED=1,function(t,e){(function(r,n,i){t.exports=n(er(),ui())})(ot,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(eC)),eC.exports}var tC={exports:{}},SD;function x2e(){return SD||(SD=1,function(t,e){(function(r,n,i){t.exports=n(er(),af(),of(),Pu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],d=[],p=[],v=[],g=[];(function(){for(var x=[],b=0;b<256;b++)b<128?x[b]=b<<1:x[b]=b<<1^283;for(var w=0,S=0,b=0;b<256;b++){var C=S^S<<1^S<<2^S<<3^S<<4;C=C>>>8^C&255^99,s[w]=C,c[C]=w;var A=x[w],T=x[A],R=x[T],O=x[C]*257^C*16843008;l[w]=O<<24|O>>>8,u[w]=O<<16|O>>>16,f[w]=O<<8|O>>>24,h[w]=O;var O=R*16843009^T*65537^A*257^w*16843008;d[C]=O<<24|O>>>8,p[C]=O<<16|O>>>16,v[C]=O<<8|O>>>24,g[C]=O,w?(w=A^x[x[x[R^A]]],S^=x[x[S]]):w=S=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=a.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,w=b.words,S=b.sigBytes/4,C=this._nRounds=S+6,A=(C+1)*4,T=this._keySchedule=[],R=0;R<A;R++)R<S?T[R]=w[R]:(x=T[R-1],R%S?S>6&&R%S==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=m[R/S|0]<<24),T[R]=T[R-S]^x);for(var O=this._invKeySchedule=[],P=0;P<A;P++){var R=A-P;if(P%4)var x=T[R];else var x=T[R-4];P<4||R<=4?O[P]=x:O[P]=d[s[x>>>24]]^p[s[x>>>16&255]]^v[s[x>>>8&255]]^g[s[x&255]]}}},encryptBlock:function(x,b){this._doCryptBlock(x,b,this._keySchedule,l,u,f,h,s)},decryptBlock:function(x,b){var w=x[b+1];x[b+1]=x[b+3],x[b+3]=w,this._doCryptBlock(x,b,this._invKeySchedule,d,p,v,g,c);var w=x[b+1];x[b+1]=x[b+3],x[b+3]=w},_doCryptBlock:function(x,b,w,S,C,A,T,R){for(var O=this._nRounds,P=x[b]^w[0],k=x[b+1]^w[1],F=x[b+2]^w[2],L=x[b+3]^w[3],D=4,H=1;H<O;H++){var Q=S[P>>>24]^C[k>>>16&255]^A[F>>>8&255]^T[L&255]^w[D++],ee=S[k>>>24]^C[F>>>16&255]^A[L>>>8&255]^T[P&255]^w[D++],G=S[F>>>24]^C[L>>>16&255]^A[P>>>8&255]^T[k&255]^w[D++],B=S[L>>>24]^C[P>>>16&255]^A[k>>>8&255]^T[F&255]^w[D++];P=Q,k=ee,F=G,L=B}var Q=(R[P>>>24]<<24|R[k>>>16&255]<<16|R[F>>>8&255]<<8|R[L&255])^w[D++],ee=(R[k>>>24]<<24|R[F>>>16&255]<<16|R[L>>>8&255]<<8|R[P&255])^w[D++],G=(R[F>>>24]<<24|R[L>>>16&255]<<16|R[P>>>8&255]<<8|R[k&255])^w[D++],B=(R[L>>>24]<<24|R[P>>>16&255]<<16|R[k>>>8&255]<<8|R[F&255])^w[D++];x[b]=Q,x[b+1]=ee,x[b+2]=G,x[b+3]=B},keySize:256/32});n.AES=a._createHelper(_)}(),r.AES})}(tC)),tC.exports}var rC={exports:{}},CD;function b2e(){return CD||(CD=1,function(t,e){(function(r,n,i){t.exports=n(er(),af(),of(),Pu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=o.extend({_doReset:function(){for(var m=this._key,_=m.words,x=[],b=0;b<56;b++){var w=c[b]-1;x[b]=_[w>>>5]>>>31-w%32&1}for(var S=this._subKeys=[],C=0;C<16;C++){for(var A=S[C]=[],T=u[C],b=0;b<24;b++)A[b/6|0]|=x[(l[b]-1+T)%28]<<31-b%6,A[4+(b/6|0)]|=x[28+(l[b+24]-1+T)%28]<<31-b%6;A[0]=A[0]<<1|A[0]>>>31;for(var b=1;b<7;b++)A[b]=A[b]>>>(b-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var R=this._invSubKeys=[],b=0;b<16;b++)R[b]=S[15-b]},encryptBlock:function(m,_){this._doCryptBlock(m,_,this._subKeys)},decryptBlock:function(m,_){this._doCryptBlock(m,_,this._invSubKeys)},_doCryptBlock:function(m,_,x){this._lBlock=m[_],this._rBlock=m[_+1],p.call(this,4,252645135),p.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),p.call(this,1,1431655765);for(var b=0;b<16;b++){for(var w=x[b],S=this._lBlock,C=this._rBlock,A=0,T=0;T<8;T++)A|=f[T][((C^w[T])&h[T])>>>0];this._lBlock=C,this._rBlock=S^A}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,p.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),m[_]=this._lBlock,m[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(m,_){var x=(this._lBlock>>>m^this._rBlock)&_;this._rBlock^=x,this._lBlock^=x<<m}function v(m,_){var x=(this._rBlock>>>m^this._lBlock)&_;this._lBlock^=x,this._rBlock^=x<<m}n.DES=o._createHelper(d);var g=s.TripleDES=o.extend({_doReset:function(){var m=this._key,_=m.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=_.slice(0,2),b=_.length<4?_.slice(0,2):_.slice(2,4),w=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(a.create(x)),this._des2=d.createEncryptor(a.create(b)),this._des3=d.createEncryptor(a.create(w))},encryptBlock:function(m,_){this._des1.encryptBlock(m,_),this._des2.decryptBlock(m,_),this._des3.encryptBlock(m,_)},decryptBlock:function(m,_){this._des3.decryptBlock(m,_),this._des2.encryptBlock(m,_),this._des1.decryptBlock(m,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(g)}(),r.TripleDES})}(rC)),rC.exports}var nC={exports:{}},AD;function w2e(){return AD||(AD=1,function(t,e){(function(r,n,i){t.exports=n(er(),af(),of(),Pu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,v=0;p<256;p++){var g=p%h,m=f[g>>>2]>>>24-g%4*8&255;v=(v+d[p]+m)%256;var _=d[p];d[p]=d[v],d[v]=_}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,h=(h+u[f])%256;var v=u[f];u[f]=u[h],u[h]=v,d|=u[(u[f]+u[h])%256]<<24-p*8}return this._i=f,this._j=h,d}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(nC)),nC.exports}var iC={exports:{}},TD;function E2e(){return TD||(TD=1,function(t,e){(function(r,n,i){t.exports=n(er(),af(),of(),Pu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,d=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)g[p]^=v[p+4&7];if(d){var m=d.words,_=m[0],x=m[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=b>>>16|w&4294901760,C=w<<16|b&65535;g[0]^=b,g[1]^=S,g[2]^=w,g[3]^=C,g[4]^=b,g[5]^=S,g[6]^=w,g[7]^=C;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(h,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[d+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,p=0;p<8;p++)c[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var v=h[p]+d[p],g=v&65535,m=v>>>16,_=((g*g>>>17)+g*m>>>15)+m*m,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[p]=_^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(iC)),iC.exports}var aC={exports:{}},ID;function S2e(){return ID||(ID=1,function(t,e){(function(r,n,i){t.exports=n(er(),af(),of(),Pu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,d=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)v[g]^=p[g+4&7];if(d){var m=d.words,_=m[0],x=m[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=b>>>16|w&4294901760,C=w<<16|b&65535;v[0]^=b,v[1]^=S,v[2]^=w,v[3]^=C,v[4]^=b,v[5]^=S,v[6]^=w,v[7]^=C;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(h,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)s[v]=(s[v]<<8|s[v]>>>24)&16711935|(s[v]<<24|s[v]>>>8)&4278255360,h[d+v]^=s[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,p=0;p<8;p++)c[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var v=h[p]+d[p],g=v&65535,m=v>>>16,_=((g*g>>>17)+g*m>>>15)+m*m,x=((v&4294901760)*v|0)+((v&65535)*v|0);l[p]=_^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(aC)),aC.exports}var oC={exports:{}},RD;function C2e(){return RD||(RD=1,function(t,e){(function(r,n,i){t.exports=n(er(),af(),of(),Pu(),ui())})(ot,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(g,m){let _=m>>24&255,x=m>>16&255,b=m>>8&255,w=m&255,S=g.sbox[0][_]+g.sbox[1][x];return S=S^g.sbox[2][b],S=S+g.sbox[3][w],S}function h(g,m,_){let x=m,b=_,w;for(let S=0;S<s;++S)x=x^g.pbox[S],b=f(g,x)^b,w=x,x=b,b=w;return w=x,x=b,b=w,b=b^g.pbox[s],x=x^g.pbox[s+1],{left:x,right:b}}function d(g,m,_){let x=m,b=_,w;for(let S=s+1;S>1;--S)x=x^g.pbox[S],b=f(g,x)^b,w=x,x=b,b=w;return w=x,x=b,b=w,b=b^g.pbox[1],x=x^g.pbox[0],{left:x,right:b}}function p(g,m,_){for(let C=0;C<4;C++){g.sbox[C]=[];for(let A=0;A<256;A++)g.sbox[C][A]=l[C][A]}let x=0;for(let C=0;C<s+2;C++)g.pbox[C]=c[C]^m[x],x++,x>=_&&(x=0);let b=0,w=0,S=0;for(let C=0;C<s+2;C+=2)S=h(g,b,w),b=S.left,w=S.right,g.pbox[C]=b,g.pbox[C+1]=w;for(let C=0;C<4;C++)for(let A=0;A<256;A+=2)S=h(g,b,w),b=S.left,w=S.right,g.sbox[C][A]=b,g.sbox[C][A+1]=w;return!0}var v=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,m=g.words,_=g.sigBytes/4;p(u,m,_)}},encryptBlock:function(g,m){var _=h(u,g[m],g[m+1]);g[m]=_.left,g[m+1]=_.right},decryptBlock:function(g,m){var _=d(u,g[m],g[m+1]);g[m]=_.left,g[m+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(v)}(),r.Blowfish})}(oC)),oC.exports}(function(t,e){(function(r,n,i){t.exports=n(er(),P1(),t2e(),r2e(),af(),n2e(),of(),F7(),SO(),i2e(),N7(),a2e(),o2e(),s2e(),CO(),l2e(),Pu(),ui(),u2e(),c2e(),f2e(),h2e(),d2e(),p2e(),v2e(),g2e(),m2e(),_2e(),y2e(),x2e(),b2e(),w2e(),E2e(),S2e(),C2e())})(ot,function(r){return r})})(O7);var A2e=O7.exports;const Py=Ei(A2e);function T2e(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return Py.lib.WordArray.create(r,e.length)}async function I2e(t,e,r){const n=T2e(t),i=Py.AES.decrypt({ciphertext:n},e,{iv:r}),a=new Uint8Array(i.sigBytes);for(let o=0;o<i.sigBytes;o++)a[o]=i.words[o>>>2]>>>24-o%4*8&255;return a}async function L7(t,e,r,n,i=16*1024*1024){const a=Py.enc.Hex.parse(e),o=Py.enc.Hex.parse(r),s=Math.ceil(t.byteLength/i),c=[];for(let h=0;h<s;h++){const d=h*i,p=Math.min(d+i,t.byteLength),v=t.slice(d,p),g=await I2e(v,a,o);c.push(g)}const l=c.reduce((h,d)=>h+d.length,0),u=new Uint8Array(l);let f=0;for(const h of c)u.set(h,f),f+=h.length;return new Blob([u],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}async function M7(t,e,r,n){const i={name:"AES-CBC",iv:r},a=await crypto.subtle.importKey("raw",e,i,!1,["decrypt"]),o=await crypto.subtle.decrypt(i,a,t);return new Blob([new Uint8Array(o)],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class R2e{constructor(){Ye(this,"videosByKey");Ye(this,"idURLMap",{});Ye(this,"currentPlayingVideo","");Ye(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{var m;if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let d=!1;for(let _=0;_<f;_++){if(String.fromCharCode(h[_])!==u[_]){d=!1;break}d=!0}let p;if(d){const _=l.slice(f);if((m=window.crypto)!=null&&m.subtle){const x=new Uint8Array([64,230,173,66,154,19,2,10,7,190,41,12,94,241,215,220,126,69,229,196,191,52,213,74,86,100,40,38,39,148,110,77]),b=new Uint8Array([157,107,172,116,198,78,232,113,78,121,89,206,247,82,113,208]);p=await M7(_,x,b,o)}else p=await L7(_,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else p=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const v=NA.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(p)});v.attachMediaElement(a),v.load();const g={...this.videosByKey[e],player:v};this.videosByKey[e]=g,a.onloadeddata=()=>{const _=Object.keys(g.waitCommands);if(g){const x=document.createElement("canvas"),b=x.getContext("2d");x.width=480,x.height=270,b.drawImage(a,0,0,480,270);const w=x.toDataURL("image/webp",.5);x.remove(),g.poster=w}_.length&&_.forEach(x=>{if(!g){console.log("",e);return}this[x](e,g.waitCommands[x])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.style.opacity="1",i.style.zIndex=r?"6":"11")}else n?n.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}setUrlIdMap(e,r){this.idURLMap[e]=r}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class P2e{constructor(){Ye(this,"sceneManager",new zCe);Ye(this,"backlogManager",new xde(this.sceneManager));Ye(this,"animationManager",new YCe);Ye(this,"gameplay",new qCe);Ye(this,"gameName","");Ye(this,"gameKey","");Ye(this,"events",new ZCe);Ye(this,"videoManager",new R2e)}}const W=new P2e,En=B7(()=>{const t=ae.getState().userData;$c.setItem(W.gameKey,t).then(()=>{Ve.info("")})},100),Oy=B7(()=>{$c.getItem(W.gameKey).then(t=>{if(!t||!U7(t)){Ve.warn(""),En();return}ae.dispatch(SP(t))})},100);function B7(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const D7=()=>{const t=ae.getState().userData;$c.setItem(W.gameKey,t).then(()=>{$c.getItem(W.gameKey).then(e=>{if(!e){En();return}ae.dispatch(SP(e))}),Ve.info("")})};function U7(t){let e=!0;for(const r in pA)t.hasOwnProperty(r)||(e=!1);return e}async function O2e(){const t=await $c.getItem(W.gameKey);if(!t||!U7(t)){const e=ae.getState().userData;return Ve.warn(""),await $c.setItem(W.gameKey,e)}else ae.dispatch(SP(t))}var fa=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t.Game_link_button="Game_link_button",t))(fa||{}),k_=(t=>(t.slider="slider",t.sliderBg="sliderBg",t.sliderThumb="sliderThumb",t))(k_||{}),AO=(t=>(t.Load_back_button="Load_back_button",t))(AO||{}),TO=(t=>(t.Storyline_back_button="Storyline_back_button",t))(TO||{}),IO=(t=>(t.Achievement_back_button="Achievement_back_button",t))(IO||{}),RO=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(RO||{}),Wl=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(Wl||{}),Gr=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t.Collection_detail_left_bg="Collection_detail_left_bg",t.Collection_detail_right_content_bg="Collection_detail_right_content_bg",t.Collection_detail_right_thumbnail_bg="Collection_detail_right_thumbnail_bg",t.Collection_detail_right_desc_bg="Collection_detail_right_desc_bg",t))(Gr||{}),Hp=(t=>(t.Option_back_button="Option_back_button",t))(Hp||{}),PO=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))(PO||{}),Na=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(Na||{}),OO=(t=>(t.Achievement_title="Achievement_title",t))(OO||{}),kO=(t=>(t.Storyline_title="Storyline_title",t.Storyline_item="Storyline_item",t))(kO||{}),FO=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(FO||{}),Xp=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))(Xp||{}),Pn=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t))(Pn||{});const sC={title:{buttons:fa,other:Xp},load:{buttons:AO,other:FO},storyline:{buttons:TO,other:kO},achievement:{buttons:IO,other:OO},extra:{buttons:RO,other:Wl},option:{buttons:Hp,other:Na},collection:{buttons:PO,other:Gr}},Ze=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},k2e={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:Ze()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Game_link_button:{key:"Game_link_button",content:"",args:Ze(["hoverStyle","buttonLink","activeStyle"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:Ze()},Load_title:{key:"Load_title",content:"",args:Ze(["hoverStyle","activeStyle"])},Load_item:{key:"Load_item",content:"",args:Ze(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:Ze(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:Ze(["hoverStyle","activeStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:Ze(["hoverStyle","activeStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:Ze(["hoverStyle","activeStyle"])},Storyline_item:{key:"Storyline_item",content:"",args:Ze(["hoverStyle","activeStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:Ze(["hoverStyle","activeStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:Ze(["hoverStyle","activeStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:Ze(["hoverStyle","activeStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:Ze(["hoverStyle","activeStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:Ze(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:Ze()},Extra_indicator:{key:"Extra_indicator",content:"",args:Ze(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:Ze()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:Ze()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:Ze(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:Ze(["hoverStyle","activeStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:Ze()},Option_title:{key:"Option_title",content:"",args:Ze(["hoverStyle","activeStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:Ze(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:Ze(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:Ze(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:Ze(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:Ze(["hoverStyle","activeStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:Ze(["hoverStyle","activeStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:Ze(["hoverStyle","activeStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:Ze(["hoverStyle","activeStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:Ze(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:Ze(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:Ze(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:Ze(["hoverStyle","activeStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:Ze(["hoverStyle","activeStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:Ze()},Collection_img1:{key:"Collection_img1",content:"",args:Ze()},Collection_img2:{key:"Collection_img2",content:"",args:Ze()},Collection_img3:{key:"Collection_img3",content:"",args:Ze()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:Ze(["hoverStyle","activeStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:Ze()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:Ze()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:Ze()},Collection_detail_left_bg:{key:"Collection_detail_left_bg",content:"",args:Ze()},Collection_detail_right_content_bg:{key:"Collection_detail_right_content_bg",content:"",args:Ze()},Collection_detail_right_thumbnail_bg:{key:"Collection_detail_right_thumbnail_bg",content:"",args:Ze()},Collection_detail_right_desc_bg:{key:"Collection_detail_right_desc_bg",content:"",args:Ze()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:Ze(["hoverStyle","activeStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:Ze(["hoverStyle","activeStyle"])}}}},F2e={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1,Collection_detail_left_bg:1,Collection_detail_right_content_bg:1,Collection_detail_right_thumbnail_bg:1,Collection_detail_right_desc_bg:1};var ya=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))(ya||{}),Qi=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(Qi||{}),ic=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(ic||{});const Mf={content:"",args:{hide:!0,style:{},hoverStyle:{}}},xm={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnPosition:"",align:"",fontFamily:""}}},ky={isInGaming:!1,showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:ya.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:k2e,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,isShowGameMenu:!1,escMenus:{Esc_continueGame_button:xm,Esc_backToLevel_button:xm,Esc_setting_button:xm,Esc_exitGame_button:xm},achievementUI:{Achievement_progress_bg:Mf,Achievement_progress_text:Mf,Achievement_progress:Mf,Achievement_notUnlock:Mf,Achievement_back_button:Mf,Achievement_title:Mf},currentPlayAudio:null,playingVideo:!1,isHideGameUI:!1},j7=bx({name:"gui",initialState:ky,reducers:{setVisibility:(t,e)=>{Oy();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{Oy(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload},setCurrentPlayAudio:(t,e)=>{t.currentPlayAudio=e.payload}}}),{setVisibility:ut,setMenuPanelTag:Fy,setGuiAsset:PD,setLogoImage:N2e,setShowStoryLine:LA,setshowFavorited:Wp,setGameUIConfigs:L2e,setGameR18:$7,setEscMenus:M2e,setAchievementUI:B2e,setCurrentPlayAudio:MA}=j7.actions,D2e=j7.reducer,ae=One({reducer:{stage:fhe,GUI:D2e,userData:_de,saveData:lCe},middleware:c9({serializableCheck:!1})});let OD;function NO(t,e=0,r=100){if(Ve.info("playing bgm"+t),t===""){OD=setTimeout(()=>{ae.dispatch(vt({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=ae.getState().stage.bgm.src;ae.dispatch(vt({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(OD),ae.dispatch(vt({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function Xv(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const LO=()=>{Ve.warn("");for(let t=0;t<W.gameplay.performController.performList.length;t++){const e=W.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),W.gameplay.performController.performList.splice(t,1),t--}},MO=()=>{ae.getState().stage.PerformList.forEach(e=>{Nv(e.script)})},U2e=t=>{const e=ae.dispatch,r=W.backlogManager.getBacklog()[t];Ve.debug("backlog",r),wa(r.saveScene.sceneUrl).then(async i=>{if(await W.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(W.sceneManager.sceneData.currentScene.sceneUrl);const s=Lv(o);Ad(s)}}),W.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,W.sceneManager.sceneData.sceneStack=nn(r.saveScene.sceneStack),LO();for(let i=W.backlogManager.getBacklog().length-1;i>t;i--)W.backlogManager.getBacklog().pop();W.backlogManager.isSaveBacklogNext=!0;const n=nn(r.currentStageState);e(Rx(n)),setTimeout(MO,0),e(ut({component:"showBacklog",visibility:!1})),e(ut({component:"showTextBox",visibility:!0}))},G7=(t,e=!1)=>{const n=ae.getState().saveData.saveData[t];Ve.debug("",n),BO(n,e)};async function BO(t,e=!1){if(!t){Ve.info("");return}const r=t;try{const o=await wa(r.sceneData.sceneUrl);if(!await W.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(W.sceneManager.sceneData.currentScene.sceneUrl);const l=Lv(c);Ad(l)}catch(o){Ve.error("",o);return}W.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,W.sceneManager.sceneData.sceneStack=nn(r.sceneData.sceneStack),LO();const n=r.backlog;W.backlogManager.getBacklog().splice(0,W.backlogManager.getBacklog().length);for(const o of n)W.backlogManager.getBacklog().push(o);const i=nn(r.nowStageState),a=ae.dispatch;a(Rx(i)),e?(a(or.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{Nv(o.script)})):setTimeout(MO,0),a(ut({component:"showTitle",visibility:!1})),a(ut({component:"showMenuPanel",visibility:!1})),a(ut({component:"showExtra",visibility:!1})),Xv(ae.getState().stage.bgName)}function j2e(){`${W.gameName}${W.gameKey}`,`${W.gameName}${W.gameKey}`}async function $2e(){const t=await A7(-1,!1),e=nn(t);ae.dispatch(or.setFastSave(e)),await cCe()}async function G2e(){return await O2e(),ae.getState().saveData.quickSaveData!==null}async function V2e(){await E7();const t=ae.getState().saveData.quickSaveData;t&&BO(t)}const V7=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},H2e=()=>{EO(!0,!0,!1);const t=yt("start.txt",pt.scene);wa(t).then(e=>{W.sceneManager.setCurrentScene(e,"start.txt",t).then(r=>{r&&An()})}),ae.dispatch(or.setIsShowUnlock(!0)),ae.dispatch(or.setShowStoryline(!0)),ae.dispatch(ut({component:"showTitle",visibility:!1})),ae.dispatch(ut({component:"isInGaming",visibility:!0})),V7(ae.getState().userData.optionData.uiLight)};async function X2e(){if(Xv(ae.getState().stage.bgName),await G2e()&&W.sceneManager.sceneData.currentSentenceId===0){await V2e();return}W.sceneManager.sceneData.currentSentenceId===0&&W.sceneManager.sceneData.currentScene.sceneName==="start.txt"?An():MO()}const W2e=async()=>{const t=yt(ol.Storyline,pt.scene);W.sceneManager.resetScene();const e=await wa(t);await W.sceneManager.setCurrentScene(e,ol.Storyline,t),ae.dispatch(LA(!0)),await An(),ae.dispatch(ut({component:"showMenuPanel",visibility:!1})),ae.dispatch(ut({component:"showTextBox",visibility:!1}))},z2e=()=>{ae.dispatch(ut({component:"showBeautyGuide",visibility:!0}))};function Y2e(t){return R1.parseScssToWebgalStyleObj(t)}function Xc(t){const[e,r]=ce.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function q2e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function K2e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Z2e=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(K2e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=q2e(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Pi="-ms-",Ny="-moz-",ur="-webkit-",H7="comm",DO="rule",UO="decl",J2e="@import",X7="@keyframes",Q2e="@layer",eAe=Math.abs,O1=String.fromCharCode,tAe=Object.assign;function rAe(t,e){return gi(t,0)^45?(((e<<2^gi(t,0))<<2^gi(t,1))<<2^gi(t,2))<<2^gi(t,3):0}function W7(t){return t.trim()}function nAe(t,e){return(t=e.exec(t))?t[0]:t}function cr(t,e,r){return t.replace(e,r)}function BA(t,e){return t.indexOf(e)}function gi(t,e){return t.charCodeAt(e)|0}function zp(t,e,r){return t.slice(e,r)}function ts(t){return t.length}function jO(t){return t.length}function bm(t,e){return e.push(t),t}function iAe(t,e){return t.map(e).join("")}var k1=1,Kh=1,z7=0,xa=0,Nn=0,Od="";function F1(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:k1,column:Kh,length:o,return:""}}function E0(t,e){return tAe(F1("",null,null,"",null,null,0),t,{length:-t.length},e)}function aAe(){return Nn}function oAe(){return Nn=xa>0?gi(Od,--xa):0,Kh--,Nn===10&&(Kh=1,k1--),Nn}function Da(){return Nn=xa<z7?gi(Od,xa++):0,Kh++,Nn===10&&(Kh=1,k1++),Nn}function hs(){return gi(Od,xa)}function F_(){return xa}function Wv(t,e){return zp(Od,t,e)}function Yp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y7(t){return k1=Kh=1,z7=ts(Od=t),xa=0,[]}function q7(t){return Od="",t}function N_(t){return W7(Wv(xa-1,DA(t===91?t+2:t===40?t+1:t)))}function sAe(t){for(;(Nn=hs())&&Nn<33;)Da();return Yp(t)>2||Yp(Nn)>3?"":" "}function lAe(t,e){for(;--e&&Da()&&!(Nn<48||Nn>102||Nn>57&&Nn<65||Nn>70&&Nn<97););return Wv(t,F_()+(e<6&&hs()==32&&Da()==32))}function DA(t){for(;Da();)switch(Nn){case t:return xa;case 34:case 39:t!==34&&t!==39&&DA(Nn);break;case 40:t===41&&DA(t);break;case 92:Da();break}return xa}function uAe(t,e){for(;Da()&&t+Nn!==47+10;)if(t+Nn===42+42&&hs()===47)break;return"/*"+Wv(e,xa-1)+"*"+O1(t===47?t:Da())}function cAe(t){for(;!Yp(hs());)Da();return Wv(t,xa)}function fAe(t){return q7(L_("",null,null,null,[""],t=Y7(t),0,[0],t))}function L_(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,d=0,p=0,v=1,g=1,m=1,_=0,x="",b=i,w=a,S=n,C=x;g;)switch(p=_,_=Da()){case 40:if(p!=108&&gi(C,f-1)==58){BA(C+=cr(N_(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:C+=N_(_);break;case 9:case 10:case 13:case 32:C+=sAe(p);break;case 92:C+=lAe(F_()-1,7);continue;case 47:switch(hs()){case 42:case 47:bm(hAe(uAe(Da(),F_()),e,r),c);break;default:C+="/"}break;case 123*v:s[l++]=ts(C)*m;case 125*v:case 59:case 0:switch(_){case 0:case 125:g=0;case 59+u:m==-1&&(C=cr(C,/\f/g,"")),d>0&&ts(C)-f&&bm(d>32?FD(C+";",n,r,f-1):FD(cr(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(bm(S=kD(C,e,r,l,u,i,s,x,b=[],w=[],f),a),_===123)if(u===0)L_(C,e,S,S,b,a,f,s,w);else switch(h===99&&gi(C,3)===110?100:h){case 100:case 108:case 109:case 115:L_(t,S,S,n&&bm(kD(t,S,S,0,0,i,s,x,i,b=[],f),w),i,w,f,s,n?b:w);break;default:L_(C,S,S,S,[""],w,0,s,w)}}l=u=d=0,v=m=1,x=C="",f=o;break;case 58:f=1+ts(C),d=p;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&oAe()==125)continue}switch(C+=O1(_),_*v){case 38:m=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(ts(C)-1)*m,m=1;break;case 64:hs()===45&&(C+=N_(Da())),h=hs(),u=f=ts(x=C+=cAe(F_())),_++;break;case 45:p===45&&ts(C)==2&&(v=0)}}return a}function kD(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],d=jO(h),p=0,v=0,g=0;p<n;++p)for(var m=0,_=zp(t,f+1,f=eAe(v=o[p])),x=t;m<d;++m)(x=W7(v>0?h[m]+" "+_:cr(_,/&\f/g,h[m])))&&(c[g++]=x);return F1(t,e,r,i===0?DO:s,c,l,u)}function hAe(t,e,r){return F1(t,e,r,H7,O1(aAe()),zp(t,2,-2),0)}function FD(t,e,r,n){return F1(t,e,r,UO,zp(t,0,n),zp(t,n+1,-1),n)}function Oh(t,e){for(var r="",n=jO(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function dAe(t,e,r,n){switch(t.type){case Q2e:if(t.children.length)break;case J2e:case UO:return t.return=t.return||t.value;case H7:return"";case X7:return t.return=t.value+"{"+Oh(t.children,n)+"}";case DO:t.value=t.props.join(",")}return ts(r=Oh(t.children,n))?t.return=t.value+"{"+r+"}":""}function pAe(t){var e=jO(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function vAe(t){return function(e){e.root||(e=e.return)&&t(e)}}function gAe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var mAe=function(e,r,n){for(var i=0,a=0;i=a,a=hs(),i===38&&a===12&&(r[n]=1),!Yp(a);)Da();return Wv(e,xa)},_Ae=function(e,r){var n=-1,i=44;do switch(Yp(i)){case 0:i===38&&hs()===12&&(r[n]=1),e[n]+=mAe(xa-1,r,n);break;case 2:e[n]+=N_(i);break;case 4:if(i===44){e[++n]=hs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=O1(i)}while(i=Da());return e},yAe=function(e,r){return q7(_Ae(Y7(e),r))},ND=new WeakMap,xAe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!ND.get(n))&&!i){ND.set(e,!0);for(var a=[],o=yAe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},bAe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function K7(t,e){switch(rAe(t,e)){case 5103:return ur+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ur+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ur+t+Ny+t+Pi+t+t;case 6828:case 4268:return ur+t+Pi+t+t;case 6165:return ur+t+Pi+"flex-"+t+t;case 5187:return ur+t+cr(t,/(\w+).+(:[^]+)/,ur+"box-$1$2"+Pi+"flex-$1$2")+t;case 5443:return ur+t+Pi+"flex-item-"+cr(t,/flex-|-self/,"")+t;case 4675:return ur+t+Pi+"flex-line-pack"+cr(t,/align-content|flex-|-self/,"")+t;case 5548:return ur+t+Pi+cr(t,"shrink","negative")+t;case 5292:return ur+t+Pi+cr(t,"basis","preferred-size")+t;case 6060:return ur+"box-"+cr(t,"-grow","")+ur+t+Pi+cr(t,"grow","positive")+t;case 4554:return ur+cr(t,/([^-])(transform)/g,"$1"+ur+"$2")+t;case 6187:return cr(cr(cr(t,/(zoom-|grab)/,ur+"$1"),/(image-set)/,ur+"$1"),t,"")+t;case 5495:case 3959:return cr(t,/(image-set\([^]*)/,ur+"$1$`$1");case 4968:return cr(cr(t,/(.+:)(flex-)?(.*)/,ur+"box-pack:$3"+Pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ur+t+t;case 4095:case 3583:case 4068:case 2532:return cr(t,/(.+)-inline(.+)/,ur+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ts(t)-1-e>6)switch(gi(t,e+1)){case 109:if(gi(t,e+4)!==45)break;case 102:return cr(t,/(.+:)(.+)-([^]+)/,"$1"+ur+"$2-$3$1"+Ny+(gi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~BA(t,"stretch")?K7(cr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gi(t,e+1)!==115)break;case 6444:switch(gi(t,ts(t)-3-(~BA(t,"!important")&&10))){case 107:return cr(t,":",":"+ur)+t;case 101:return cr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ur+(gi(t,14)===45?"inline-":"")+"box$3$1"+ur+"$2$3$1"+Pi+"$2box$3")+t}break;case 5936:switch(gi(t,e+11)){case 114:return ur+t+Pi+cr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ur+t+Pi+cr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ur+t+Pi+cr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ur+t+Pi+t+t}return t}var wAe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case UO:e.return=K7(e.value,e.length);break;case X7:return Oh([E0(e,{value:cr(e.value,"@","@"+ur)})],i);case DO:if(e.length)return iAe(e.props,function(a){switch(nAe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oh([E0(e,{props:[cr(a,/:(read-\w+)/,":"+Ny+"$1")]})],i);case"::placeholder":return Oh([E0(e,{props:[cr(a,/:(plac\w+)/,":"+ur+"input-$1")]}),E0(e,{props:[cr(a,/:(plac\w+)/,":"+Ny+"$1")]}),E0(e,{props:[cr(a,/:(plac\w+)/,Pi+"input-$1")]})],i)}return""})}},EAe=[wAe],SAe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||EAe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)a[g[m]]=!0;s.push(v)});var c,l=[xAe,bAe];{var u,f=[dAe,vAe(function(v){u.insert(v)})],h=pAe(l.concat(i,f)),d=function(g){return Oh(fAe(g),h)};c=function(g,m,_,x){u=_,d(g?g+"{"+m.styles+"}":m.styles),x&&(p.inserted[m.name]=!0)}}var p={key:r,sheet:new Z2e({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return p.sheet.hydrate(s),p};function CAe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var AAe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TAe=/[A-Z]|^ms/g,IAe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Z7=function(e){return e.charCodeAt(1)===45},LD=function(e){return e!=null&&typeof e!="boolean"},lC=gAe(function(t){return Z7(t)?t:t.replace(TAe,"-$&").toLowerCase()}),MD=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(IAe,function(n,i,a){return rs={name:i,styles:a,next:rs},i})}return AAe[e]!==1&&!Z7(e)&&typeof r=="number"&&r!==0?r+"px":r};function qp(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return rs={name:r.name,styles:r.styles,next:rs},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)rs={name:n.name,styles:n.styles,next:rs},n=n.next;var i=r.styles+";";return i}return RAe(t,e,r)}case"function":{if(t!==void 0){var a=rs,o=r(t);return rs=a,qp(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function RAe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=qp(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":LD(o)&&(n+=lC(a)+":"+MD(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)LD(o[s])&&(n+=lC(a)+":"+MD(a,o[s])+";");else{var c=qp(t,e,o);switch(a){case"animation":case"animationName":{n+=lC(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var BD=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rs,uC=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";rs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=qp(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=qp(n,r,e[s]),i&&(a+=o[s]);BD.lastIndex=0;for(var c="",l;(l=BD.exec(a))!==null;)c+="-"+l[1];var u=CAe(a)+c;return{name:u,styles:a,next:rs}},PAe=!0;function J7(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var OAe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||PAe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},kAe=function(e,r,n){OAe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function DD(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function UD(t,e,r){var n=[],i=J7(t,n,r);return n.length<2?r:i+e(n)}var FAe=function(e){var r=SAe(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uC(l,r.registered,void 0);return kAe(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uC(l,r.registered),h="animation-"+f.name;return DD(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=uC(l,r.registered);DD(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return UD(r.registered,n,NAe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:J7.bind(null,r.registered),merge:UD.bind(null,r.registered,n)}},NAe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},Q7=FAe({key:"css"}),LAe=Q7.injectGlobal,MAe=Q7.css;function $O(t){const e=Xc({classNameStyles:{},others:""}),r=tt(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=MAe(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{Ve.debug(" Scss ",t);const o=(await Dp.get(`game/template/${t}`)).data;e.set(Y2e(o))};return ce.useEffect(()=>{i()},[]),ce.useEffect(()=>{LAe(e.value.others)},[e.value.others]),BAe(i),n}function BAe(t){const e=()=>{t()};ce.useEffect(()=>(W.events.styleUpdate.on(e),()=>W.events.styleUpdate.off(e)),[])}function kd(t){const e=tt(t),r=ce.useRef(e);return ce.useEffect(()=>{r.current=e},[e]),r}function Fd(t){ce.useEffect(()=>{t()},[])}function Nd(t){ce.useEffect(()=>function(){t()},[])}function DAe(t){ce.useEffect(()=>{t()})}const UAe="_main_1ozrm_1",jAe="_fallBack_1ozrm_16",$Ae="_pause_1ozrm_32",GAe="_advance_1ozrm_51",VAe="_collect_1ozrm_67",HAe="_autoplay_1ozrm_83",XAe="_button_1ozrm_100",WAe="_button_text_1ozrm_107",zAe="_button_on_1ozrm_115",YAe="_singleButton_1ozrm_126",qAe="_button_icon_1ozrm_139",KAe="_fastSlPreview_1ozrm_161",ZAe="_fastSlEnter_1ozrm_1",JAe="_fastsave_1ozrm_175",QAe="_fastSPreview_1ozrm_175",eTe="_fastload_1ozrm_179",tTe="_fastLPreview_1ozrm_179",rTe="_slPreviewMain_1ozrm_191",nTe="_imgContainer_1ozrm_199",iTe="_textContainer_1ozrm_207",Fi={main:UAe,fallBack:jAe,pause:$Ae,advance:GAe,collect:VAe,autoplay:HAe,button:XAe,button_text:WAe,button_on:zAe,singleButton:YAe,button_icon:qAe,fastSlPreview:KAe,fastSlEnter:ZAe,fastsave:JAe,fastSPreview:QAe,fastload:eTe,fastLPreview:tTe,slPreviewMain:rTe,imgContainer:nTe,textContainer:iTe},eH=t=>{const e=document.getElementById("Button_ControlPanel_auto");e&&(t?e.className=Fi.button_on:e.className=Fi.singleButton)},GO=()=>{W.gameplay.isAuto=!1,eH(!1),W.gameplay.autoInterval!==null&&(clearInterval(W.gameplay.autoInterval),W.gameplay.autoInterval=null),W.gameplay.autoTimeout!==null&&(clearTimeout(W.gameplay.autoTimeout),W.gameplay.autoTimeout=null)},aTe=()=>{W.gameplay.isAuto?GO():(W.gameplay.isAuto=!0,eH(!0),W.gameplay.autoInterval=setInterval(sTe,100))},oTe=()=>{An(),W.gameplay.autoTimeout=null},sTe=()=>{const e=750-250*ae.getState().userData.optionData.autoSpeed;let r=!1;W.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&W.gameplay.autoTimeout===null&&(W.gameplay.autoTimeout=setTimeout(oTe,e))},tH=t=>{const e=document.getElementById("Button_ControlPanel_fast");e&&(t?e.className=Fi.button_on:e.className=Fi.singleButton)},kh=()=>{nH()&&(W.gameplay.isFast=!1,tH(!1),W.gameplay.fastInterval!==null&&(clearInterval(W.gameplay.fastInterval),W.gameplay.fastInterval=null))},rH=()=>{nH()||(W.gameplay.isFast=!0,tH(!0),W.gameplay.fastInterval=setInterval(()=>{An()},tG.fast_timeout))},nH=function(){return W.gameplay.isFast},VO=()=>{kh(),GO()},lTe=()=>{W.gameplay.isFast?kh():rH()},uTe="_Backlog_main_jojwe_2",cTe="_backlog_soft_in_jojwe_1",fTe="_Backlog_main_out_jojwe_15",hTe="_backlog_soft_out_jojwe_1",dTe="_Backlog_main_out_IndexHide_jojwe_28",pTe="_Backlog_main_DisableScroll_jojwe_32",vTe="_backlog_top_jojwe_36",gTe="_backlog_top_icon_jojwe_42",mTe="_backlog_icon_softin_jojwe_1",_Te="_backlog_title_jojwe_62",yTe="_backlog_content_jojwe_72",xTe="_backlog_item_jojwe_84",bTe="_backlog_item_in_jojwe_1",wTe="_backlog_item_out_jojwe_94",ETe="_backlog_func_area_jojwe_104",STe="_backlog_item_content_name_jojwe_113",CTe="_backlog_item_content_jojwe_113",ATe="_backlog_item_button_list_jojwe_137",TTe="_backlog_item_button_element_jojwe_144",ITe="_backlog_item_content_text_jojwe_157",hi={Backlog_main:uTe,backlog_soft_in:cTe,Backlog_main_out:fTe,backlog_soft_out:hTe,Backlog_main_out_IndexHide:dTe,Backlog_main_DisableScroll:pTe,backlog_top:vTe,backlog_top_icon:gTe,backlog_icon_softin:mTe,backlog_title:_Te,backlog_content:yTe,backlog_item:xTe,backlog_item_in:bTe,backlog_item_out:wTe,backlog_func_area:ETe,backlog_item_content_name:STe,backlog_item_content:CTe,backlog_item_button_list:ATe,backlog_item_button_element:TTe,backlog_item_content_text:ITe};var RTe=Do,PTe=function(){return RTe.Date.now()},OTe=PTe,kTe=/\s/;function FTe(t){for(var e=t.length;e--&&kTe.test(t.charAt(e)););return e}var NTe=FTe,LTe=NTe,MTe=/^\s+/;function BTe(t){return t&&t.slice(0,LTe(t)+1).replace(MTe,"")}var DTe=BTe,UTe=DTe,jD=ws,jTe=zx,$D=0/0,$Te=/^[-+]0x[0-9a-f]+$/i,GTe=/^0b[01]+$/i,VTe=/^0o[0-7]+$/i,HTe=parseInt;function XTe(t){if(typeof t=="number")return t;if(jTe(t))return $D;if(jD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UTe(t);var r=GTe.test(t);return r||VTe.test(t)?HTe(t.slice(2),r?2:8):$Te.test(t)?$D:+t}var WTe=XTe,zTe=ws,cC=OTe,GD=WTe,YTe="Expected a function",qTe=Math.max,KTe=Math.min;function ZTe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(YTe);e=GD(e)||0,zTe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?qTe(GD(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function d(S){var C=n,A=i;return n=i=void 0,l=S,o=t.apply(A,C),o}function p(S){return l=S,s=setTimeout(m,e),u?d(S):o}function v(S){var C=S-c,A=S-l,T=e-C;return f?KTe(T,a-A):T}function g(S){var C=S-c,A=S-l;return c===void 0||C>=e||C<0||f&&A>=a}function m(){var S=cC();if(g(S))return _(S);s=setTimeout(m,v(S))}function _(S){return s=void 0,h&&n?d(S):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function b(){return s===void 0?o:_(cC())}function w(){var S=cC(),C=g(S);if(n=arguments,i=this,c=S,C){if(s===void 0)return p(c);if(f)return clearTimeout(s),s=setTimeout(m,e),d(c)}return s===void 0&&(s=setTimeout(m,e)),o}return w.cancel=x,w.flush=b,w}var JTe=ZTe,QTe=JTe,eIe=ws,tIe="Expected a function";function rIe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(tIe);return eIe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),QTe(t,e,{leading:n,maxWait:e,trailing:i})}var nIe=rIe;const iIe=Ei(nIe),lh="keyboard"in navigator&&navigator.keyboard;function aIe(t){oIe(),lIe(),cIe(t==null?void 0:t.isDisableCtrl),uIe(),fIe(),gIe(),_Ie()}function oIe(){const t=kd(c=>c.GUI),e=L1(),r=N1(t),n=iH(t),i=hIe(t),a=pIe(t),o=dIe(t),s=ce.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);Fd(()=>{document.addEventListener("contextmenu",s)}),Nd(()=>{document.removeEventListener("contextmenu",s)})}let sIe=setTimeout(()=>{},0);function lIe(){const t=kd(s=>s.GUI),e=L1(),r=N1(t),n=iH(t),i=aH(t),a=ce.useCallback(iIe(()=>{An()},100),[]),o=ce.useRef(0);ce.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${hi.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=mIe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(sIe),W.gameplay.isFast=!0,setTimeout(()=>{W.gameplay.isFast=!1},150),a())},[]),Fd(()=>{}),Nd(()=>{})}function uIe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=kd(s=>s.GUI),n=ce.useCallback(()=>r.current.showTitle,[r]),i=aH(r),a=L1(),o=ce.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),VO()))},[]);Fd(()=>{document.addEventListener("keyup",o)}),Nd(()=>{document.removeEventListener("keyup",o)})}function cIe(t=!1){const e=kd(s=>s.GUI),r=N1(e),n=ce.useCallback(s=>s.keyCode===17,[]),i=ce.useCallback(s=>{n(s)&&r()&&!t&&rH()},[]),a=ce.useCallback(s=>{n(s)&&r()&&kh()},[]),o=ce.useCallback(s=>{kh()},[]);Fd(()=>{document.addEventListener("keydown",i),document.addEventListener("keyup",a),window.addEventListener("blur",o)}),Nd(()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",a),window.removeEventListener("blur",o)}),DAe(()=>{r()||kh()})}function fIe(){const t=vIe(),e=ce.useCallback(async r=>{t()&&await $2e()},[]);Fd(()=>{window.addEventListener("beforeunload",e)}),Nd(()=>{window.removeEventListener("beforeunload",e)})}function N1(t){return ce.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function iH(t){return ce.useCallback(()=>t.current.showBacklog,[t])}function hIe(t){return ce.useCallback(()=>t.current.showGlobalDialog,[t])}function dIe(t){return ce.useCallback(()=>t.current.showExtra,[t])}function aH(t){return ce.useCallback(()=>t.current.showPanicOverlay,[t])}function pIe(t){return ce.useCallback(()=>[ya.Save,ya.Load,ya.Option].includes(t.current.currentMenuTag),[t])}function vIe(){return ce.useCallback(()=>W.sceneManager.sceneData.currentSentenceId!==0,[W.sceneManager.sceneData])}function L1(){const t=qr();return(e,r)=>{t(ut({component:e,visibility:r}))}}function gIe(){const t=kd(c=>c.GUI),e=N1(t),r=L1(),n=ce.useRef(!1),i=ce.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=ce.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}VO(),An(),n.current=!0}},[]),o=ce.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=ce.useCallback(c=>{n.current=!1},[]);Fd(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),Nd(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function mIe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function _Ie(){const t=tt(n=>n.userData),e=qr(),r=t.optionData.fullScreen;ce.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==lo.on?(e(Fa({key:"fullScreen",value:lo.on})),En()):(e(Fa({key:"fullScreen",value:lo.off})),En()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const yIe=async()=>{ae.dispatch(or.setIsShowUnlock(!1));const t=yt(ol.Achieve,pt.scene);W.sceneManager.resetScene(),wa(t).then(e=>{W.sceneManager.setCurrentScene(e,ol.Achieve,t).then(r=>{r&&An()})}),ae.dispatch(ut({component:"showMenuPanel",visibility:!1})),ae.dispatch(ut({component:"showTextBox",visibility:!1})),ae.dispatch(ut({component:"showAchievement",visibility:!0}))},xIe=""+new URL("bar-bg.png",import.meta.url).href,bIe=""+new URL("bar-checked.png",import.meta.url).href;const wIe=({text:t,defaultClass:e,defaultHoverClass:r,defaultActiveClass:n,style:i,hoverStyle:a,activeStyle:o,onMouseEnter:s,onMouseLeave:c,onMouseDown:l,onMouseUp:u,onMouseOut:f,onClick:h,key:d,isACtiveStatus:p,isHoverStatus:v})=>{const g=`customText-${d}-${t}`,[m,_]=ce.useState(!1),[x,b]=ce.useState(!1);let w=e,S=i;const C=nO.debounce(()=>{a&&_(!0),s&&s()},100),A=()=>{_(!1),c&&c()};v&&(w=`${e} ${r}`,S={...i,...a}),p&&(w=`${e} ${n}`,S={...i,...o});const T=document.getElementById(`${g}-text`);T&&t&&(T.innerText=(t==null?void 0:t.replace(/\\n/g,`
`))??t);const R=()=>{x&&b(!0),l==null||l()},O=()=>{b(!1),u==null||u()};return M.jsx("span",{className:w,onMouseEnter:C,onMouseLeave:A,onMouseDown:R,onMouseUp:O,onMouseOut:f,onClick:h,style:S,id:`${g}-text`,children:t})},Zh=({src:t,hoverSrc:e,activeSrc:r,defaultClass:n,defaultHoverClass:i,defaultActiveClass:a,style:o,hoverStyle:s,activeStyle:c,onMouseEnter:l,onMouseLeave:u,onMouseDown:f,onMouseUp:h,onClick:d,nId:p,draggable:v,isHoverStatus:g,isACtiveStatus:m})=>{const[_,x]=ce.useState(!1),[b,w]=ce.useState(!1),[S,C]=ce.useState(0),A=()=>C(D=>D+1),T=ce.useRef({width:void 0,height:void 0});let R=n,O=o||{};const P=()=>{(e||s)&&x(!0),l&&l()},k=()=>{x(!1),u&&u()},F=()=>{w(!0),x(!1),f&&(f==null||f())},L=()=>{w(!1),h&&(h==null||h())};return g&&(R=`${n||""} ${i||""}`,O={...o,...s}),m&&(R=`${n||""} ${a||""}`,O={...o,...c}),O.width===void 0&&(O.width=T.current.width,O.height=T.current.height),M.jsx("img",{id:p,src:g&&e||m&&r||t,className:R,onMouseEnter:P,onMouseLeave:k,onMouseDown:F,onMouseUp:L,draggable:v,style:O,onClick:d,onLoad:D=>{O.width===void 0&&(T.current.width=D.currentTarget.naturalWidth,T.current.height=D.currentTarget.naturalHeight,A())}})},HO=({item:t,children:e,defaultClass:r,defaultHoverClass:n,defaultActiveClass:i,style:a,hoverStyle:o,activeStyle:s,onMouseEnter:c,onMouseLeave:l,onMouseDown:u,onMouseUp:f,onMouseOut:h,onClick:d,id:p,isACtiveStatus:v})=>{const[g,m]=ce.useState(!1),[_,x]=ce.useState(!1);let b=r,w=a,S=o,C=s;if(t){if(t.args.hide)return null;w||(w=vr(t.args.style)),S||(S=vr(t.args.hoverStyle)),C||(C=vr(t.args.activeStyle))}const A=()=>{S&&m(!0),c&&c()},T=()=>{m(!1),l&&l()};g&&(b=`${r} ${n}`,w={...a,...o}),_&&(b=`${r} ${i}`,w={...a,...s});const R=()=>{C&&x(!0),u==null||u()},O=()=>{x(!1),f==null||f()},P=()=>{x(!1),h==null||h()};return M.jsx("div",{className:b,onMouseEnter:A,onMouseLeave:T,onMouseDown:R,onMouseUp:O,onMouseOut:P,onClick:d,style:w,id:p,children:e})},Ks=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=vr(t.args.style),i=yt(((a=t.args.style)==null?void 0:a.image)||"",pt.background);return(o=t.args.style)!=null&&o.image?M.jsx(Zh,{defaultClass:e,src:i,style:n},r):M.jsx("div",{className:e,style:n,draggable:"false"})},Di=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,defaultActiveClass:a,onMouseEnter:o,onMouseLeave:s,onMouseDown:c,onMouseUp:l,onClick:u,type:f="button",checked:h=!1,onChecked:d=()=>{},text:p="",style:v,defaultText:g=""})=>{var V,U,$,J,re;if(t.args.hide)return null;const[m,_]=ce.useState(!1),[x,b]=ce.useState(!1),[w,S]=ce.useState(!1),[C,A]=ce.useState(!1),T=vr(t.args.style),R=vr(t.args.hoverStyle),O=vr(t.args.activeStyle),{playSeClick:P}=li(),k=((V=t.args.style)==null?void 0:V.image)||"",F=($=(U=t.args)==null?void 0:U.btnSound)!=null&&$.clickSound?yt(t.args.btnSound.clickSound,pt.bgm):"",L=((J=t.args.hoverStyle)==null?void 0:J.image)||k,D=((re=t.args.activeStyle)==null?void 0:re.image)||"",H=t,Q={};ce.useRef(),ce.useRef(0);const ee=k?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},G={...T,...v};G.width&&(Q.width=G.width),G.height&&(Q.height=G.height),k&&(G.backgroundSize="100% 100%",G.backgroundRepeat="no-repeat");const B=()=>{f==="checkbox"&&(P(F),d(!h)),u&&(P(F),u())};return M.jsxs(HO,{onMouseEnter:()=>{b(!0),o==null||o()},onMouseLeave:()=>{b(!1),s==null||s()},onClick:B,onMouseDown:()=>{S(!0),b(!1),c==null||c()},onMouseUp:()=>{S(!1),b(!1),A(!1),l==null||l()},onMouseOut:()=>{C?setTimeout(()=>{S(!1),A(!1)},2e3):(S(!1),A(!1))},defaultClass:`${e} ${m?"btn-clicked":""}`,defaultHoverClass:i,defaultActiveClass:a,style:G,hoverStyle:R,activeStyle:O,isACtiveStatus:w,children:[!!k&&M.jsx(Zh,{nId:n,src:yt(h?L:k,pt.ui),hoverSrc:L?yt(L,pt.ui):"",activeSrc:D?yt(D,pt.ui):"",style:Q,onMouseEnter:o,onMouseLeave:s,isHoverStatus:x,isACtiveStatus:w,onMouseDown:c,onMouseUp:l}),H.content?M.jsx(wIe,{text:H.content,defaultClass:r,activeStyle:O,style:ee,isACtiveStatus:w,isHoverStatus:x,onMouseDown:()=>{k&&A(!0)}},n):!k&&g]},n)},fC=({item:t,defaultClass:e,uniqueID:r,initValue:n,onChange:i,min:a,max:o,className:s,isUpdate:c})=>{var m,_,x,b,w,S,C,A,T,R,O,P;if(t.args.hide)return null;const{playSeEnter:l}=li();ce.useEffect(()=>{setTimeout(()=>{const k=document.getElementById(r);k!==null&&k.setAttribute("value",(n||0).toString()),u()},1)},[]),ce.useEffect(()=>{u()},[n,c]),ce.useEffect(()=>{const k=vr(t.args.sliderThumb),F=SIe(k);F&&(hC(`#${r}::-webkit-slider-thumb`,`#${r}::-webkit-slider-thumb { ${F} }`),hC(`#${r}::-moz-range-thumb`,`#${r}::-moz-range-thumb { ${F} }`),hC(`#${r}::-ms-thumb`,`#${r}::-ms-thumb { ${F} }`))},[t.args.sliderThumb,r]);function u(){var F,L;const k=document.getElementById(`${r}-bg`);if(k!==null){const D=_u().width,H=D===2560?2:3,Q=D===2560?.5:.3333;if(r==="light"){const G=(Number(n)-50)/50*((((F=t.args.style)==null?void 0:F.width)||342)*H)+"px";k.style.width=G}else k.style.width=Number(n.toString())/100*(((L=t.args.style)==null?void 0:L.width)||342)/Q+"px"}}const f={background:"none"},h=vr(t.args.style),d=(_=(m=t.args)==null?void 0:m.slider)!=null&&_.image?{...vr((x=t.args)==null?void 0:x.slider),...f}:vr((b=t.args)==null?void 0:b.slider),p=(S=(w=t.args)==null?void 0:w.sliderBg)!=null&&S.image?{...vr((C=t.args)==null?void 0:C.sliderBg),...f}:vr((A=t.args)==null?void 0:A.sliderBg),v=(R=(T=t.args)==null?void 0:T.slider)!=null&&R.image?yt(t.args.slider.image,pt.ui):bIe,g=(P=(O=t.args)==null?void 0:O.sliderBg)!=null&&P.image?yt(t.args.sliderBg.image,pt.ui):xIe;return M.jsxs(HO,{style:h,defaultClass:`Option_WebGAL_slider ${e}`,children:[M.jsx("input",{className:"Rang_input",id:r,type:"range",min:a||0,max:o||100,onChange:i,onFocus:l,onMouseEnter:l}),M.jsxs("div",{className:"Slider_group",children:[M.jsx(Zh,{src:v,style:d,defaultClass:"Slider_bg",nId:`${r}-bg`,draggable:!1}),M.jsx(Zh,{src:g,style:p,defaultClass:"Slider_bg_under",draggable:!1})]})]})},EIe=({item:t,defaultClass:e,key:r,onMouseEnter:n,activeIndex:i,pageLength:a=1,indicatorDefaultClass:o,activeIndecatorClass:s,onClickIndicator:c=()=>{},onClickPrev:l=()=>{},onClickNext:u=()=>{},nextIconDefaultClass:f,prevIconDefaultClass:h,isExtraIndicator:d,isShowNumber:p})=>{var b,w,S,C,A;if(t.args.hide)return null;const v=vr(t.args.style),g=d?(b=t.args.style)==null?void 0:b.image:(w=t.args.indicatorStyle)==null?void 0:w.image,m=ce.useMemo(()=>Array.from({length:a}).map((T,R)=>{var O;return{content:g?"":(R+1).toString(),key:"",args:{hide:!1,style:d?((O=t.args)==null?void 0:O.style)||{}:t.args.indicatorStyle||{},hoverStyle:t.args.indicatorHoverStyle}}}),[a]),_=((S=t.args.indicatorLeftStyle)==null?void 0:S.image)||"",x=((C=t.args.indicatorRightStyle)==null?void 0:C.image)||"";return(A=t.args.indicatorStyle)!=null&&A.image,M.jsxs(HO,{defaultClass:e,style:v,children:[_?M.jsx(Zh,{src:yt(_,pt.ui),onMouseEnter:n,defaultClass:h,onClick:l}):M.jsx("div",{className:h,onMouseEnter:n,onClick:l}),m.map((T,R)=>M.jsx(Di,{item:T,defaultClass:`${o} ${Number(T.content)===i?s:""}`,checked:Number(T.content)===i,type:"checkbox",onChecked:()=>{c(Number(T.content))}},R.toString())),x?M.jsx(Zh,{src:yt(x,pt.ui),onMouseEnter:n,defaultClass:f,onClick:u}):M.jsx("div",{className:f,onMouseEnter:n,onClick:u})]},r)};function hC(t,e){const r=document.styleSheets[0];if(!e||e.includes("{}")){console.warn(`: ${e}`);return}for(let n=0;n<r.cssRules.length;n++)if(r.cssRules[n].selectorText===t){r.deleteRule(n),r.insertRule(e,n);return}r.insertRule(e,r.cssRules.length)}function SIe(t){const e=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return Object.entries(t).map(([r,n])=>{const i=e(r);let a=n;return typeof n=="number"&&i!=="z-index"&&i!=="opacity"&&(a=`${n}px`),`${i}: ${a};`}).join(" ")}const CIe=()=>{const t=tt(u=>u.userData),e=tt(u=>u.GUI),r=qr(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=li(),o=e.gameUIConfigs[Pn.title],s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=$O("UI/Title/title.scss"),l={[fa.Game_start_button]:()=>{setTimeout(()=>{H2e(),r(Wp(!1))},16)},[fa.Game_achievement_button]:()=>{yIe()},[fa.Game_storyline_button]:()=>{W2e()},[fa.Game_extra_button]:()=>{r(gc(1)),r(ut({component:"showExtra",visibility:!0}))},[fa.Game_collection_button]:()=>{z2e()},[fa.Game_continue_button]:()=>{a(),r(ut({component:"showTitle",visibility:!1})),r(ut({component:"isInGaming",visibility:!0})),X2e()},[fa.Game_option_button]:()=>{r(ut({component:"showMenuPanel",visibility:!0})),r(Fy(ya.Option))},[fa.Game_load_button]:()=>{r(ut({component:"showMenuPanel",visibility:!0})),r(Fy(ya.Load))},[fa.Game_link_button]:()=>{var f,h;const u=((h=(f=o.buttons[fa.Game_link_button].args)==null?void 0:f.buttonLink)==null?void 0:h.link)??"";if(u)if(s){const d=window.open("","_blank");d.location.href=u}else window.open(u)}};return M.jsxs(M.Fragment,{children:[e.showTitle&&M.jsx("div",{className:c("Title_backup_background",If.Title_backup_background)}),M.jsx("div",{id:"enter_game_target",onClick:()=>{NO(e.titleBgm),r(ut({component:"isEnterGame",visibility:!0})),n===lo.on&&(document.documentElement.requestFullscreen(),lh&&lh.lock(["Escape","F11"]))},onMouseEnter:i}),e.showTitle&&M.jsxs("div",{children:[M.jsx(Ks,{defaultClass:c("Title_main",If.Title_main),item:o.other[Xp.Title_img]}),M.jsx("div",{className:c("Title_buttonList",If.Title_buttonList),children:Object.keys(o.buttons).map(u=>{var d;let f=u,h=o.buttons[f];return M.jsx(Di,{item:h,defaultClass:`${If.Title_button} interactive`,defaultHoverClass:(d=h.args.hoverStyle)!=null&&d.image?If.Title_button_hover:"",defaultTextClass:If.Title_button_text,onClick:l[f],onMouseEnter:i},f)})})]})]})},AIe="_Logo_main_y88l5_1",TIe="_overlay_y88l5_14",IIe="_Logo_Back_y88l5_61",RIe="_animationActive_y88l5_75",PIe="_fadeout_y88l5_1",wm={Logo_main:AIe,"change-img-anim":"_change-img-anim_y88l5_1",overlay:TIe,"fade-in":"_fade-in_y88l5_1",Logo_Back:IIe,animationActive:RIe,fadeout:PIe,"fade-in-out":"_fade-in-out_y88l5_1"},OIe=()=>{const t=qr(),e=tt(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Xc(-1),a=Xc(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(ut({component:"openR18Modal",visibility:!0})),i.set(-1))};ce.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return M.jsxs(M.Fragment,{children:[i.value!==-1&&M.jsx("div",{className:wm.Logo_Back+" "+(i.value===r.length-1?wm.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:wm.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),M.jsx("div",{className:wm.overlay})]})]})};k_.slider,k_.sliderBg,k_.sliderThumb;const uh=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),kIe=t=>{const e=ae.getState().GUI,r=ae.dispatch;Dp.get(t).then(n=>{var o;let i=n.data;const a=R1.parseConfig(i);if(Ve.info("",a),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:d,args:p,options:v}=h;switch(d){case"Title_img":{const g=yt(p.join(""),pt.background);r(PD({asset:"titleBg",value:g})),Xv(g);break}case"Game_Logo":{const g=p.map(m=>yt(m,pt.background));r(N2e(g));break}case"Game_cursor":{let g="{}",m="{}";v.forEach(b=>{b.key==="normal"?g=b.value:b.key==="active"&&(m=b.value)});const _=JSON.parse(g),x=JSON.parse(m);kB(_,"normal"),kB(x,"active");break}case"Title_bgm":{const g=yt(p[0],pt.bgm);r(PD({asset:"titleBgm",value:g}));break}case"Game_name":{W.gameName=p[0],document.title=p[0];break}case"Game_key":{W.gameKey=p[0],Oy(),E7(),Hv(0,0);break}case"Game_r18":{(p==null?void 0:p.length)>0&&r($7(!!uh.get(p[0])));break}case"Game_sound":{if((v==null?void 0:v.length)>0){const g=VD(v);r(or.setSaveStatus({key:"gameScounds",value:g}))}break}case"Menu_sound":{if((v==null?void 0:v.length)>0){const g=VD(v);r(or.setSaveStatus({key:"menuScounds",value:g}))}break}case"Game_Icon":{if(p[0]){const g=yt(p[0],pt.background),m=document.getElementById("dynamic-favicon");m&&(m.href=g+`?t=${new Date().getTime()}`)}break}case Qi.Esc_continueGame_button:case Qi.Esc_backToLevel_button:case Qi.Esc_setting_button:case Qi.Esc_exitGame_button:{if(!(v!=null&&v.length))break;let g="",m=!1;const _={},x=["x","y","scale","fontSize"];v==null||v.forEach(w=>{var S,C;typeof(w==null?void 0:w.value)=="string"&&((C=(S=w.value)==null?void 0:S.split(","))==null||C.forEach(A=>{const[T,R]=(A==null?void 0:A.split("="))||[];T==="name"?g=R:T==="hide"?m=(uh==null?void 0:uh.get(R))??!1:_[T]=x.includes(T)?Number(R):R}))});const b={...ky.escMenus[Qi[d]].args.style};c[Qi[d]]={content:g,args:{hide:m,style:{...b,..._}}},l=!0;break}case ic.Achievement_progress_bg:case ic.Achievement_progress_text:case ic.Achievement_notUnlock:case ic.Achievement_progress:{u[ic[d]]=FIe(ic[d],p,v),f=!0;break}}if((fa[d]||Xp[d])&&d!==Xp.Title_bgm){const g=Pn.title;zu(s,g,h)}else if(AO[d]||FO[d]){const g=Pn.load;zu(s,g,h)}else if(TO[d]||kO[d]){const g=Pn.storyline;zu(s,g,h)}else if(IO[d]||OO[d]){const g=Pn.achievement;zu(s,g,h)}else if(Hp[d]||Na[d]){const g=Pn.option;zu(s,g,h)}else if(RO[d]||Wl[d]){const g=Pn.extra;zu(s,g,h)}else if(PO[d]||Gr[d]){const g=Pn.collection;zu(s,g,h)}}),r(L2e(s)),l&&r(M2e(c)),f&&r(B2e(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),delete window.renderPromise,j2e()})};function zu(t,e,r){const n=(i,a="")=>{const o=l=>{let u={};const f=/\{(.*?)\}/,h=l.match(f);if(h){const p=h[1].split(","),v={};p.forEach(g=>{const[m,_]=g.split("=");m&&_&&(v[m.trim()]=isNaN(Number(_.trim()))?_.trim():Number(_.trim()))}),u=v}return u},s={hide:!1,style:{}},c=["hoverStyle","info","images","btnSound","videos","buttonLink","activeStyle","indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"];return i.forEach(l=>{if(l.key==="hide")s.hide=l.value===!0;else if(l.key.toLowerCase().endsWith("style")){const u=o(l.value);l.key==="style"&&a&&(u.image=a),s[l.key]=u}else if(c.includes(l.key)){const u=o(l.value);s[l.key]=u}}),s};if(sC[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),sC[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(sC[e].other[r.command]){let a=!1;F2e[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function FIe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...ky.achievementUI[t].args.style},s={...ky.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const d=/\{(.*?)\}/,p=h.match(d);if(p){const g=p[1].split(","),m={};return g.forEach(_=>{const[x,b]=_.split("=");x&&b&&(m[x.trim()]=isNaN(Number(b.trim()))?b.trim():Number(b.trim()))}),m}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}function VD(t){const e={};return t.forEach(r=>{var n;if(typeof r.value=="string"){const i=((n=r.value)==null?void 0:n.split(","))??[];e[r.key]=i!=null&&i.length?!!uh.get(i[0])||yt(i[1],pt.bgm):!1}else e[r.key]=typeof r.value=="boolean"?!!uh.get(r.value):!1}),e}const NIe=(t,e)=>{Ve.warn(""+t+":"+e);const r=ae.dispatch;r(ut({component:"showTitle",visibility:!1})),r(ut({component:"showMenuPanel",visibility:!1})),r(ut({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),EO(!0);const i=yt(t,pt.scene);setTimeout(()=>{wa(i).then(async a=>{if(!await W.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=W.sceneManager.sceneData.currentScene.sceneName;W.gameplay.isFast=!0,W.gameplay.isSyncingWithOrigine=!0,XO(e,s)})},16)};function XO(t,e){W.sceneManager.sceneData.currentSentenceId<t&&W.sceneManager.sceneData.currentScene.sceneName===e?(An(),setTimeout(()=>XO(t,e),100)):(W.gameplay.isSyncingWithOrigine=!1,W.gameplay.isFast=!1)}const LIe=()=>{window.JMP=XO};var W0=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(W0||{});const MIe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),Ve.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{Ve.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:W0.SYNCFC,sceneMsg:{scene:W.sceneManager.sceneData.currentScene.sceneName,sentence:W.sceneManager.sceneData.currentSentenceId},stageSyncMsg:ae.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===W0.JUMP&&NIe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===W0.EXE_COMMAND){const u=l.message,h=R1.parse(u,"temp.txt","temp.txt").sentenceList[0];Nv(h)}if(l.command===W0.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),W.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!1),Ve.info(" Terre ")}};function BIe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function DIe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function oH(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}oH.prototype=Error.prototype;function UIe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new oH(a,"All promises were rejected"))})}catch(s){n(s)}})}var jIe=setTimeout;function sH(t){return!!(t&&typeof t.length<"u")}function $Ie(){}function GIe(t,e){return function(){t.apply(e,arguments)}}function an(t){if(!(this instanceof an))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],uH(t,this)}function lH(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,an._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?UA:Kp)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Kp(e.promise,i);return}UA(e.promise,n)})}function UA(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof an){t._state=3,t._value=e,jA(t);return}else if(typeof r=="function"){uH(GIe(r,e),t);return}}t._state=1,t._value=e,jA(t)}catch(n){Kp(t,n)}}function Kp(t,e){t._state=2,t._value=e,jA(t)}function jA(t){t._state===2&&t._deferreds.length===0&&an._immediateFn(function(){t._handled||an._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)lH(t,t._deferreds[e]);t._deferreds=null}function VIe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function uH(t,e){var r=!1;try{t(function(n){r||(r=!0,UA(e,n))},function(n){r||(r=!0,Kp(e,n))})}catch(n){if(r)return;r=!0,Kp(e,n)}}an.prototype.catch=function(t){return this.then(null,t)};an.prototype.then=function(t,e){var r=new this.constructor($Ie);return lH(this,new VIe(t,e,r)),r};an.prototype.finally=BIe;an.all=function(t){return new an(function(e,r){if(!sH(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};an.any=UIe;an.allSettled=DIe;an.resolve=function(t){return t&&typeof t=="object"&&t.constructor===an?t:new an(function(e){e(t)})};an.reject=function(t){return new an(function(e,r){r(t)})};an.race=function(t){return new an(function(e,r){if(!sH(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)an.resolve(t[n]).then(e,r)})};an._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){jIe(t,0)};an._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=an);Object.assign||(Object.assign=Vee);var HIe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var XIe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-XIe}}var dC=Date.now(),HD=["ms","moz","webkit","o"];for(var pC=0;pC<HD.length&&!globalThis.requestAnimationFrame;++pC){var vC=HD[pC];globalThis.requestAnimationFrame=globalThis[vC+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[vC+"CancelAnimationFrame"]||globalThis[vC+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=HIe+dC-e;return r<0&&(r=0),dC=e,globalThis.self.setTimeout(function(){dC=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var gC=/iPhone/i,XD=/iPod/i,WD=/iPad/i,zD=/\biOS-universal(?:.+)Mac\b/i,mC=/\bAndroid(?:.+)Mobile\b/i,YD=/Android/i,Bf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Em=/Silk/i,Bs=/Windows Phone/i,qD=/\bWindows(?:.+)ARM\b/i,KD=/BlackBerry/i,ZD=/BB10/i,JD=/Opera Mini/i,QD=/\b(CriOS|Chrome)(?:.+)Mobile/i,e8=/Mobile(?:.+)Firefox\b/i,t8=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function WIe(t){return function(e){return e.test(t)}}function zIe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=WIe(r),a={apple:{phone:i(gC)&&!i(Bs),ipod:i(XD),tablet:!i(gC)&&(i(WD)||t8(e))&&!i(Bs),universal:i(zD),device:(i(gC)||i(XD)||i(WD)||i(zD)||t8(e))&&!i(Bs)},amazon:{phone:i(Bf),tablet:!i(Bf)&&i(Em),device:i(Bf)||i(Em)},android:{phone:!i(Bs)&&i(Bf)||!i(Bs)&&i(mC),tablet:!i(Bs)&&!i(Bf)&&!i(mC)&&(i(Em)||i(YD)),device:!i(Bs)&&(i(Bf)||i(Em)||i(mC)||i(YD))||i(/\bokhttp\b/i)},windows:{phone:i(Bs),tablet:i(qD),device:i(Bs)||i(qD)},other:{blackberry:i(KD),blackberry10:i(ZD),opera:i(JD),firefox:i(e8),chrome:i(QD),device:i(KD)||i(ZD)||i(JD)||i(e8)||i(QD)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var uo=zIe(globalThis.navigator);function YIe(t){var e=!0;if(uo.tablet||uo.phone){if(uo.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(uo.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function qIe(){return!uo.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var r8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(r8||(r8={}));var n8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(n8||(n8={}));var i8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(i8||(i8={}));var a8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(a8||(a8={}));var o8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(o8||(o8={}));var s8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(s8||(s8={}));var l8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(l8||(l8={}));var u8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(u8||(u8={}));var c8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(c8||(c8={}));var $A;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})($A||($A={}));var GA;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(GA||(GA={}));var VA;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(VA||(VA={}));var f8;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(f8||(f8={}));var h8;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(h8||(h8={}));var HA;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(HA||(HA={}));var mp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(mp||(mp={}));var d8;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(d8||(d8={}));var XA;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(XA||(XA={}));var p8;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(p8||(p8={}));var rt={MIPMAP_TEXTURES:VA.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:XA.NONE,SPRITE_MAX_TEXTURES:YIe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:HA.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:GA.CLAMP,SCALE_MODE:$A.LINEAR,PRECISION_VERTEX:mp.HIGH,PRECISION_FRAGMENT:uo.apple.device?mp.HIGH:mp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:qIe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},cH={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||c,h),p=r?r+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],d]:c._events[p].push(d):(c._events[p]=d,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,p=new Array(d);h<d;h++)p[h]=f[h].fn;return p},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,d,p){var v=r?r+l:l;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,_,x;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,d),!0;case 6:return g.fn.call(g.context,u,f,h,d,p),!0}for(x=1,_=new Array(m-1);x<m;x++)_[x-1]=arguments[x];g.fn.apply(g.context,_)}else{var b=g.length,w;for(x=0;x<b;x++)switch(g[x].once&&this.removeListener(l,g[x].fn,void 0,!0),m){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,h);break;default:if(!_)for(w=1,_=new Array(m-1);w<m;w++)_[w-1]=arguments[w];g[x].fn.apply(g[x].context,_)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var d=r?r+l:l;if(!this._events[d])return this;if(!u)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==u||h&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[d]=g.length===1?g[0]:g:o(this,d)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(cH);var KIe=cH.exports;const sf=Ei(KIe);var WO={exports:{}};WO.exports=M1;WO.exports.default=M1;function M1(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=fH(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,d;if(n&&(a=tRe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var p=r;p<i;p+=r)f=t[p],h=t[p+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);d=Math.max(l-s,u-c),d=d!==0?32767/d:0}return Zp(a,o,r,s,c,d,0),o}function fH(t,e,r,n,i){var a,o;if(i===YA(t,e,r,n)>0)for(a=e;a<r;a+=n)o=v8(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=v8(a,t[a],t[a+1],o);return o&&B1(o,o.next)&&(Qp(o),o=o.next),o}function Wc(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(B1(r,r.next)||tn(r.prev,r,r.next)===0)){if(Qp(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Zp(t,e,r,n,i,a,o){if(t){!o&&a&&oRe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?JIe(t,n,i,a):ZIe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Qp(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=QIe(Wc(t),e,r),Zp(t,e,r,n,i,a,2)):o===2&&eRe(t,e,r,n,i,a):Zp(Wc(t),e,r,n,i,a,1);break}}}}function ZIe(t){var e=t.prev,r=t,n=t.next;if(tn(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,d=s>c?s>l?s:l:c>l?c:l,p=n.next;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&ch(i,s,a,c,o,l,p.x,p.y)&&tn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function JIe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(tn(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,d=s<c?s<l?s:l:c<l?c:l,p=u<f?u<h?u:h:f<h?f:h,v=s>c?s>l?s:l:c>l?c:l,g=u>f?u>h?u:h:f>h?f:h,m=WA(d,p,e,r,n),_=WA(v,g,e,r,n),x=t.prevZ,b=t.nextZ;x&&x.z>=m&&b&&b.z<=_;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&ch(s,u,c,f,l,h,x.x,x.y)&&tn(x.prev,x,x.next)>=0||(x=x.prevZ,b.x>=d&&b.x<=v&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&ch(s,u,c,f,l,h,b.x,b.y)&&tn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;x&&x.z>=m;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&ch(s,u,c,f,l,h,x.x,x.y)&&tn(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=_;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&ch(s,u,c,f,l,h,b.x,b.y)&&tn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function QIe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!B1(i,a)&&hH(i,n,n.next,a)&&Jp(i,a)&&Jp(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),Qp(n),Qp(n.next),n=t=a),n=n.next}while(n!==t);return Wc(n)}function eRe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&uRe(o,s)){var c=dH(o,s);o=Wc(o,o.next),c=Wc(c,c.next),Zp(o,e,r,n,i,a,0),Zp(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function tRe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=fH(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(lRe(l));for(i.sort(rRe),a=0;a<i.length;a++)r=nRe(i[a],r);return r}function rRe(t,e){return t.x-e.x}function nRe(t,e){var r=iRe(t,e);if(!r)return e;var n=dH(r,t);return Wc(n,n.next),Wc(r,r.next)}function iRe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&ch(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Jp(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&aRe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function aRe(t,e){return tn(t.prev,t,e.prev)<0&&tn(e.next,t,t.next)<0}function oRe(t,e,r,n){var i=t;do i.z===0&&(i.z=WA(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,sRe(i)}function sRe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function WA(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function lRe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ch(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function uRe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!cRe(t,e)&&(Jp(t,e)&&Jp(e,t)&&fRe(t,e)&&(tn(t.prev,t,e.prev)||tn(t,e.prev,e))||B1(t,e)&&tn(t.prev,t,t.next)>0&&tn(e.prev,e,e.next)>0)}function tn(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function B1(t,e){return t.x===e.x&&t.y===e.y}function hH(t,e,r,n){var i=Cm(tn(t,e,r)),a=Cm(tn(t,e,n)),o=Cm(tn(r,n,t)),s=Cm(tn(r,n,e));return!!(i!==a&&o!==s||i===0&&Sm(t,r,e)||a===0&&Sm(t,n,e)||o===0&&Sm(r,t,n)||s===0&&Sm(r,e,n))}function Sm(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Cm(t){return t>0?1:t<0?-1:0}function cRe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&hH(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Jp(t,e){return tn(t.prev,t,t.next)<0?tn(t,e,t.next)>=0&&tn(t,t.prev,e)>=0:tn(t,e,t.prev)<0||tn(t,t.next,e)<0}function fRe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function dH(t,e){var r=new zA(t.i,t.x,t.y),n=new zA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function v8(t,e,r,n){var i=new zA(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Qp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}M1.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(YA(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(YA(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;f+=Math.abs((t[h]-t[p])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[p+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function YA(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}M1.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var hRe=WO.exports;const zO=Ei(hRe);var Ly={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ly.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof ot=="object"&&ot;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,d=72,p=128,v="-",g=/^xn--/,m=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,w=Math.floor,S=String.fromCharCode,C;function A(G){throw new RangeError(x[G])}function T(G,B){for(var V=G.length,U=[];V--;)U[V]=B(G[V]);return U}function R(G,B){var V=G.split("@"),U="";V.length>1&&(U=V[0]+"@",G=V[1]),G=G.replace(_,".");var $=G.split("."),J=T($,B).join(".");return U+J}function O(G){for(var B=[],V=0,U=G.length,$,J;V<U;)$=G.charCodeAt(V++),$>=55296&&$<=56319&&V<U?(J=G.charCodeAt(V++),(J&64512)==56320?B.push((($&1023)<<10)+(J&1023)+65536):(B.push($),V--)):B.push($);return B}function P(G){return T(G,function(B){var V="";return B>65535&&(B-=65536,V+=S(B>>>10&1023|55296),B=56320|B&1023),V+=S(B),V}).join("")}function k(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:c}function F(G,B){return G+22+75*(G<26)-((B!=0)<<5)}function L(G,B,V){var U=0;for(G=V?w(G/h):G>>1,G+=w(G/B);G>b*u>>1;U+=c)G=w(G/b);return w(U+(b+1)*G/(G+f))}function D(G){var B=[],V=G.length,U,$=0,J=p,re=d,fe,le,xe,Ae,ye,we,me,Pe,je;for(fe=G.lastIndexOf(v),fe<0&&(fe=0),le=0;le<fe;++le)G.charCodeAt(le)>=128&&A("not-basic"),B.push(G.charCodeAt(le));for(xe=fe>0?fe+1:0;xe<V;){for(Ae=$,ye=1,we=c;xe>=V&&A("invalid-input"),me=k(G.charCodeAt(xe++)),(me>=c||me>w((s-$)/ye))&&A("overflow"),$+=me*ye,Pe=we<=re?l:we>=re+u?u:we-re,!(me<Pe);we+=c)je=c-Pe,ye>w(s/je)&&A("overflow"),ye*=je;U=B.length+1,re=L($-Ae,U,Ae==0),w($/U)>s-J&&A("overflow"),J+=w($/U),$%=U,B.splice($++,0,J)}return P(B)}function H(G){var B,V,U,$,J,re,fe,le,xe,Ae,ye,we=[],me,Pe,je,Le;for(G=O(G),me=G.length,B=p,V=0,J=d,re=0;re<me;++re)ye=G[re],ye<128&&we.push(S(ye));for(U=$=we.length,$&&we.push(v);U<me;){for(fe=s,re=0;re<me;++re)ye=G[re],ye>=B&&ye<fe&&(fe=ye);for(Pe=U+1,fe-B>w((s-V)/Pe)&&A("overflow"),V+=(fe-B)*Pe,B=fe,re=0;re<me;++re)if(ye=G[re],ye<B&&++V>s&&A("overflow"),ye==B){for(le=V,xe=c;Ae=xe<=J?l:xe>=J+u?u:xe-J,!(le<Ae);xe+=c)Le=le-Ae,je=c-Ae,we.push(S(F(Ae+Le%je,0))),le=w(Le/je);we.push(S(F(le,0))),J=L(V,Pe,U==$),V=0,++U}++V,++B}return we.join("")}function Q(G){return R(G,function(B){return g.test(B)?D(B.slice(4).toLowerCase()):B})}function ee(G){return R(G,function(B){return m.test(B)?"xn--"+H(B):B})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:D,encode:H,toASCII:ee,toUnicode:Q},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(ot)})(Ly,Ly.exports);var dRe=Ly.exports,pRe=Error,vRe=EvalError,gRe=RangeError,mRe=ReferenceError,pH=SyntaxError,zv=TypeError,_Re=URIError,yRe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},g8=typeof Symbol<"u"&&Symbol,xRe=yRe,bRe=function(){return typeof g8!="function"||typeof Symbol!="function"||typeof g8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:xRe()},_C={__proto__:null,foo:{}},wRe=Object,ERe=function(){return{__proto__:_C}.foo===_C.foo&&!(_C instanceof wRe)},SRe="Function.prototype.bind called on incompatible ",CRe=Object.prototype.toString,ARe=Math.max,TRe="[object Function]",m8=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},IRe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},RRe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},PRe=function(e){var r=this;if(typeof r!="function"||CRe.apply(r)!==TRe)throw new TypeError(SRe+r);for(var n=IRe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,m8(n,arguments));return Object(u)===u?u:this}return r.apply(e,m8(n,arguments))},o=ARe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+RRe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},ORe=PRe,YO=Function.prototype.bind||ORe,kRe=Function.prototype.call,FRe=Object.prototype.hasOwnProperty,NRe=YO,LRe=NRe.call(kRe,FRe),Yt,MRe=pRe,BRe=vRe,DRe=gRe,URe=mRe,Jh=pH,Fh=zv,jRe=_Re,vH=Function,yC=function(t){try{return vH('"use strict"; return ('+t+").constructor;")()}catch{}},kc=Object.getOwnPropertyDescriptor;if(kc)try{kc({},"")}catch{kc=null}var xC=function(){throw new Fh},$Re=kc?function(){try{return arguments.callee,xC}catch{try{return kc(arguments,"callee").get}catch{return xC}}}():xC,Df=bRe(),GRe=ERe(),Qn=Object.getPrototypeOf||(GRe?function(t){return t.__proto__}:null),qf={},VRe=typeof Uint8Array>"u"||!Qn?Yt:Qn(Uint8Array),Fc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Yt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Yt:ArrayBuffer,"%ArrayIteratorPrototype%":Df&&Qn?Qn([][Symbol.iterator]()):Yt,"%AsyncFromSyncIteratorPrototype%":Yt,"%AsyncFunction%":qf,"%AsyncGenerator%":qf,"%AsyncGeneratorFunction%":qf,"%AsyncIteratorPrototype%":qf,"%Atomics%":typeof Atomics>"u"?Yt:Atomics,"%BigInt%":typeof BigInt>"u"?Yt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Yt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Yt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Yt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":MRe,"%eval%":eval,"%EvalError%":BRe,"%Float32Array%":typeof Float32Array>"u"?Yt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Yt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Yt:FinalizationRegistry,"%Function%":vH,"%GeneratorFunction%":qf,"%Int8Array%":typeof Int8Array>"u"?Yt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Yt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Yt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Df&&Qn?Qn(Qn([][Symbol.iterator]())):Yt,"%JSON%":typeof JSON=="object"?JSON:Yt,"%Map%":typeof Map>"u"?Yt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Df||!Qn?Yt:Qn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Yt:Promise,"%Proxy%":typeof Proxy>"u"?Yt:Proxy,"%RangeError%":DRe,"%ReferenceError%":URe,"%Reflect%":typeof Reflect>"u"?Yt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Yt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Df||!Qn?Yt:Qn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Yt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Df&&Qn?Qn(""[Symbol.iterator]()):Yt,"%Symbol%":Df?Symbol:Yt,"%SyntaxError%":Jh,"%ThrowTypeError%":$Re,"%TypedArray%":VRe,"%TypeError%":Fh,"%Uint8Array%":typeof Uint8Array>"u"?Yt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Yt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Yt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Yt:Uint32Array,"%URIError%":jRe,"%WeakMap%":typeof WeakMap>"u"?Yt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Yt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Yt:WeakSet};if(Qn)try{null.error}catch(t){var HRe=Qn(Qn(t));Fc["%Error.prototype%"]=HRe}var XRe=function t(e){var r;if(e==="%AsyncFunction%")r=yC("async function () {}");else if(e==="%GeneratorFunction%")r=yC("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=yC("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Qn&&(r=Qn(i.prototype))}return Fc[e]=r,r},_8={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yv=YO,My=LRe,WRe=Yv.call(Function.call,Array.prototype.concat),zRe=Yv.call(Function.apply,Array.prototype.splice),y8=Yv.call(Function.call,String.prototype.replace),By=Yv.call(Function.call,String.prototype.slice),YRe=Yv.call(Function.call,RegExp.prototype.exec),qRe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,KRe=/\\(\\)?/g,ZRe=function(e){var r=By(e,0,1),n=By(e,-1);if(r==="%"&&n!=="%")throw new Jh("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Jh("invalid intrinsic syntax, expected opening `%`");var i=[];return y8(e,qRe,function(a,o,s,c){i[i.length]=s?y8(c,KRe,"$1"):o||a}),i},JRe=function(e,r){var n=e,i;if(My(_8,n)&&(i=_8[n],n="%"+i[0]+"%"),My(Fc,n)){var a=Fc[n];if(a===qf&&(a=XRe(n)),typeof a>"u"&&!r)throw new Fh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Jh("intrinsic "+e+" does not exist!")},Ld=function(e,r){if(typeof e!="string"||e.length===0)throw new Fh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Fh('"allowMissing" argument must be a boolean');if(YRe(/^%?[^%]*%?$/,e)===null)throw new Jh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ZRe(e),i=n.length>0?n[0]:"",a=JRe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],zRe(n,WRe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],d=By(h,0,1),p=By(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Jh("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",My(Fc,o))s=Fc[o];else if(s!=null){if(!(h in s)){if(!r)throw new Fh("base intrinsic for "+e+" exists, but the property is not available.");return}if(kc&&u+1>=n.length){var v=kc(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=My(s,h),s=s[h];f&&!c&&(Fc[o]=s)}}return s},gH={exports:{}},bC,x8;function qO(){if(x8)return bC;x8=1;var t=Ld,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bC=e,bC}var QRe=Ld,M_=QRe("%Object.getOwnPropertyDescriptor%",!0);if(M_)try{M_([],"length")}catch{M_=null}var mH=M_,b8=qO(),ePe=pH,Uf=zv,w8=mH,tPe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Uf("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Uf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Uf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Uf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Uf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Uf("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!w8&&w8(e,r);if(b8)b8(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new ePe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},qA=qO(),_H=function(){return!!qA};_H.hasArrayLengthDefineBug=function(){if(!qA)return null;try{return qA([],"length",{value:1}).length!==1}catch{return!0}};var rPe=_H,nPe=Ld,E8=tPe,iPe=rPe(),S8=mH,C8=zv,aPe=nPe("%Math.floor%"),oPe=function(e,r){if(typeof e!="function")throw new C8("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||aPe(r)!==r)throw new C8("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&S8){var o=S8(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(iPe?E8(e,"length",r,!0,!0):E8(e,"length",r)),e};(function(t){var e=YO,r=Ld,n=oPe,i=zv,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=qO(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var d=s(e,o,arguments);return n(d,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(gH);var sPe=gH.exports,yH=Ld,xH=sPe,lPe=xH(yH("String.prototype.indexOf")),uPe=function(e,r){var n=yH(e,!!r);return typeof n=="function"&&lPe(e,".prototype.")>-1?xH(n):n},KO=typeof Map=="function"&&Map.prototype,wC=Object.getOwnPropertyDescriptor&&KO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Dy=KO&&wC&&typeof wC.get=="function"?wC.get:null,A8=KO&&Map.prototype.forEach,ZO=typeof Set=="function"&&Set.prototype,EC=Object.getOwnPropertyDescriptor&&ZO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Uy=ZO&&EC&&typeof EC.get=="function"?EC.get:null,T8=ZO&&Set.prototype.forEach,cPe=typeof WeakMap=="function"&&WeakMap.prototype,_p=cPe?WeakMap.prototype.has:null,fPe=typeof WeakSet=="function"&&WeakSet.prototype,yp=fPe?WeakSet.prototype.has:null,hPe=typeof WeakRef=="function"&&WeakRef.prototype,I8=hPe?WeakRef.prototype.deref:null,dPe=Boolean.prototype.valueOf,pPe=Object.prototype.toString,vPe=Function.prototype.toString,gPe=String.prototype.match,JO=String.prototype.slice,zl=String.prototype.replace,mPe=String.prototype.toUpperCase,R8=String.prototype.toLowerCase,bH=RegExp.prototype.test,P8=Array.prototype.concat,ns=Array.prototype.join,_Pe=Array.prototype.slice,O8=Math.floor,KA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,SC=Object.getOwnPropertySymbols,ZA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ji=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qh||"symbol")?Symbol.toStringTag:null,wH=Object.prototype.propertyIsEnumerable,k8=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function F8(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||bH.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-O8(-t):O8(t);if(n!==t){var i=String(n),a=JO.call(e,i.length+1);return zl.call(i,r,"$&_")+"."+zl.call(zl.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return zl.call(e,r,"$&_")}var JA=k7,N8=JA.custom,L8=SH(N8)?N8:null,yPe=function t(e,r,n,i){var a=r||{};if(Nl(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Nl(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Nl(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Nl(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Nl(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return AH(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?F8(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?F8(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return QA(e)?"[Array]":"[Object]";var f=BPe(a,n);if(typeof i>"u")i=[];else if(CH(i,e)>=0)return"[Circular]";function h(k,F,L){if(F&&(i=_Pe.call(i),i.push(F)),L){var D={depth:a.depth};return Nl(a,"quoteStyle")&&(D.quoteStyle=a.quoteStyle),t(k,D,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!M8(e)){var d=IPe(e),p=Am(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+ns.call(p,", ")+" }":"")}if(SH(e)){var v=Qh?zl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ZA.call(e);return typeof e=="object"&&!Qh?S0(v):v}if(NPe(e)){for(var g="<"+R8.call(String(e.nodeName)),m=e.attributes||[],_=0;_<m.length;_++)g+=" "+m[_].name+"="+EH(xPe(m[_].value),"double",a);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+R8.call(String(e.nodeName))+">",g}if(QA(e)){if(e.length===0)return"[]";var x=Am(e,h);return f&&!MPe(x)?"["+eT(x,f)+"]":"[ "+ns.call(x,", ")+" ]"}if(wPe(e)){var b=Am(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!wH.call(e,"cause")?"{ ["+String(e)+"] "+ns.call(P8.call("[cause]: "+h(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ns.call(b,", ")+" }"}if(typeof e=="object"&&o){if(L8&&typeof e[L8]=="function"&&JA)return JA(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(RPe(e)){var w=[];return A8&&A8.call(e,function(k,F){w.push(h(F,e,!0)+" => "+h(k,e))}),B8("Map",Dy.call(e),w,f)}if(kPe(e)){var S=[];return T8&&T8.call(e,function(k){S.push(h(k,e))}),B8("Set",Uy.call(e),S,f)}if(PPe(e))return CC("WeakMap");if(FPe(e))return CC("WeakSet");if(OPe(e))return CC("WeakRef");if(SPe(e))return S0(h(Number(e)));if(APe(e))return S0(h(KA.call(e)));if(CPe(e))return S0(dPe.call(e));if(EPe(e))return S0(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===ot)return"{ [object globalThis] }";if(!bPe(e)&&!M8(e)){var C=Am(e,h),A=k8?k8(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",R=!A&&ji&&Object(e)===e&&ji in e?JO.call(Ou(e),8,-1):T?"Object":"",O=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(R||T?"["+ns.call(P8.call([],R||[],T||[]),": ")+"] ":"");return C.length===0?P+"{}":f?P+"{"+eT(C,f)+"}":P+"{ "+ns.call(C,", ")+" }"}return String(e)};function EH(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function xPe(t){return zl.call(String(t),/"/g,"&quot;")}function QA(t){return Ou(t)==="[object Array]"&&(!ji||!(typeof t=="object"&&ji in t))}function bPe(t){return Ou(t)==="[object Date]"&&(!ji||!(typeof t=="object"&&ji in t))}function M8(t){return Ou(t)==="[object RegExp]"&&(!ji||!(typeof t=="object"&&ji in t))}function wPe(t){return Ou(t)==="[object Error]"&&(!ji||!(typeof t=="object"&&ji in t))}function EPe(t){return Ou(t)==="[object String]"&&(!ji||!(typeof t=="object"&&ji in t))}function SPe(t){return Ou(t)==="[object Number]"&&(!ji||!(typeof t=="object"&&ji in t))}function CPe(t){return Ou(t)==="[object Boolean]"&&(!ji||!(typeof t=="object"&&ji in t))}function SH(t){if(Qh)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ZA)return!1;try{return ZA.call(t),!0}catch{}return!1}function APe(t){if(!t||typeof t!="object"||!KA)return!1;try{return KA.call(t),!0}catch{}return!1}var TPe=Object.prototype.hasOwnProperty||function(t){return t in this};function Nl(t,e){return TPe.call(t,e)}function Ou(t){return pPe.call(t)}function IPe(t){if(t.name)return t.name;var e=gPe.call(vPe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function CH(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function RPe(t){if(!Dy||!t||typeof t!="object")return!1;try{Dy.call(t);try{Uy.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function PPe(t){if(!_p||!t||typeof t!="object")return!1;try{_p.call(t,_p);try{yp.call(t,yp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function OPe(t){if(!I8||!t||typeof t!="object")return!1;try{return I8.call(t),!0}catch{}return!1}function kPe(t){if(!Uy||!t||typeof t!="object")return!1;try{Uy.call(t);try{Dy.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function FPe(t){if(!yp||!t||typeof t!="object")return!1;try{yp.call(t,yp);try{_p.call(t,_p)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function NPe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function AH(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return AH(JO.call(t,0,e.maxStringLength),e)+n}var i=zl.call(zl.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,LPe);return EH(i,"single",e)}function LPe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+mPe.call(e.toString(16))}function S0(t){return"Object("+t+")"}function CC(t){return t+" { ? }"}function B8(t,e,r,n){var i=n?eT(r,n):ns.call(r,", ");return t+" ("+e+") {"+i+"}"}function MPe(t){for(var e=0;e<t.length;e++)if(CH(t[e],`
`)>=0)return!1;return!0}function BPe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ns.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ns.call(Array(e+1),r)}}function eT(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ns.call(t,","+r)+`
`+e.prev}function Am(t,e){var r=QA(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Nl(t,i)?e(t[i],t):""}var a=typeof SC=="function"?SC(t):[],o;if(Qh){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)Nl(t,c)&&(r&&String(Number(c))===c&&c<t.length||Qh&&o["$"+c]instanceof Symbol||(bH.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof SC=="function")for(var l=0;l<a.length;l++)wH.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var TH=Ld,Md=uPe,DPe=yPe,UPe=zv,Tm=TH("%WeakMap%",!0),Im=TH("%Map%",!0),jPe=Md("WeakMap.prototype.get",!0),$Pe=Md("WeakMap.prototype.set",!0),GPe=Md("WeakMap.prototype.has",!0),VPe=Md("Map.prototype.get",!0),HPe=Md("Map.prototype.set",!0),XPe=Md("Map.prototype.has",!0),QO=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},WPe=function(t,e){var r=QO(t,e);return r&&r.value},zPe=function(t,e,r){var n=QO(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},YPe=function(t,e){return!!QO(t,e)},qPe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new UPe("Side channel does not contain "+DPe(a))},get:function(a){if(Tm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return jPe(e,a)}else if(Im){if(r)return VPe(r,a)}else if(n)return WPe(n,a)},has:function(a){if(Tm&&a&&(typeof a=="object"||typeof a=="function")){if(e)return GPe(e,a)}else if(Im){if(r)return XPe(r,a)}else if(n)return YPe(n,a);return!1},set:function(a,o){Tm&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Tm),$Pe(e,a,o)):Im?(r||(r=new Im),HPe(r,a,o)):(n||(n={key:{},next:null}),zPe(n,a,o))}};return i},KPe=String.prototype.replace,ZPe=/%20/g,AC={RFC1738:"RFC1738",RFC3986:"RFC3986"},ek={default:AC.RFC3986,formatters:{RFC1738:function(t){return KPe.call(t,ZPe,"+")},RFC3986:function(t){return String(t)}},RFC1738:AC.RFC1738,RFC3986:AC.RFC3986},JPe=ek,TC=Object.prototype.hasOwnProperty,uc=Array.isArray,qo=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),QPe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(uc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},IH=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},eOe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(uc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!TC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return uc(e)&&!uc(r)&&(i=IH(e,n)),uc(e)&&uc(r)?(r.forEach(function(a,o){if(TC.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return TC.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},tOe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},rOe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},nOe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===JPe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+qo[l];continue}if(l<2048){s=s+(qo[192|l>>6]+qo[128|l&63]);continue}if(l<55296||l>=57344){s=s+(qo[224|l>>12]+qo[128|l>>6&63]+qo[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=qo[240|l>>18]+qo[128|l>>12&63]+qo[128|l>>6&63]+qo[128|l&63]}return s},iOe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return QPe(r),e},aOe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},oOe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},sOe=function(e,r){return[].concat(e,r)},lOe=function(e,r){if(uc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},RH={arrayToObject:IH,assign:tOe,combine:sOe,compact:iOe,decode:rOe,encode:nOe,isBuffer:oOe,isRegExp:aOe,maybeMap:lOe,merge:eOe},PH=qPe,B_=RH,xp=ek,uOe=Object.prototype.hasOwnProperty,OH={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},es=Array.isArray,cOe=Array.prototype.push,kH=function(t,e){cOe.apply(t,es(e)?e:[e])},fOe=Date.prototype.toISOString,D8=xp.default,Dn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:B_.encode,encodeValuesOnly:!1,format:D8,formatter:xp.formatters[D8],indices:!1,serializeDate:function(e){return fOe.call(e)},skipNulls:!1,strictNullHandling:!1},hOe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},IC={},dOe=function t(e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,g,m,_){for(var x=e,b=_,w=0,S=!1;(b=b.get(IC))!==void 0&&!S;){var C=b.get(e);if(w+=1,typeof C<"u"){if(C===w)throw new RangeError("Cyclic object value");S=!0}typeof b.get(IC)>"u"&&(w=0)}if(typeof u=="function"?x=u(r,x):x instanceof Date?x=d(x):n==="comma"&&es(x)&&(x=B_.maybeMap(x,function(G){return G instanceof Date?d(G):G})),x===null){if(o)return l&&!g?l(r,Dn.encoder,m,"key",p):r;x=""}if(hOe(x)||B_.isBuffer(x)){if(l){var A=g?r:l(r,Dn.encoder,m,"key",p);return[v(A)+"="+v(l(x,Dn.encoder,m,"value",p))]}return[v(r)+"="+v(String(x))]}var T=[];if(typeof x>"u")return T;var R;if(n==="comma"&&es(x))g&&l&&(x=B_.maybeMap(x,l)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(es(u))R=u;else{var O=Object.keys(x);R=f?O.sort(f):O}var P=c?r.replace(/\./g,"%2E"):r,k=i&&es(x)&&x.length===1?P+"[]":P;if(a&&es(x)&&x.length===0)return k+"[]";for(var F=0;F<R.length;++F){var L=R[F],D=typeof L=="object"&&typeof L.value<"u"?L.value:x[L];if(!(s&&D===null)){var H=h&&c?L.replace(/\./g,"%2E"):L,Q=es(x)?typeof n=="function"?n(k,H):k:k+(h?"."+H:"["+H+"]");_.set(e,w);var ee=PH();ee.set(IC,_),kH(T,t(D,Q,n,i,a,o,s,c,n==="comma"&&g&&es(x)?null:l,u,f,h,d,p,v,g,m,ee))}}return T},pOe=function(e){if(!e)return Dn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Dn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xp.default;if(typeof e.format<"u"){if(!uOe.call(xp.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=xp.formatters[n],a=Dn.filter;(typeof e.filter=="function"||es(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in OH?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Dn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Dn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Dn.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Dn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Dn.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Dn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Dn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Dn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Dn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Dn.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Dn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Dn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Dn.strictNullHandling}},vOe=function(t,e){var r=t,n=pOe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):es(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=OH[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=PH(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||kH(o,dOe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""},ed=RH,tT=Object.prototype.hasOwnProperty,gOe=Array.isArray,_n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:ed.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},mOe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},FH=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},_Oe="utf8=%26%2310003%3B",yOe="utf8=%E2%9C%93",xOe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===yOe?l="utf-8":o[c]===_Oe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,d,p;h===-1?(d=r.decoder(u,_n.decoder,l,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,h),_n.decoder,l,"key"),p=ed.maybeMap(FH(u.slice(h+1),r),function(g){return r.decoder(g,_n.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=mOe(p)),u.indexOf("[]=")>-1&&(p=gOe(p)?[p]:p);var v=tT.call(n,d);v&&r.duplicates==="combine"?n[d]=ed.combine(n[d],p):(!v||r.duplicates==="last")&&(n[d]=p)}return n},bOe=function(t,e,r,n){for(var i=n?e:FH(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},wOe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&tT.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&tT.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),bOe(u,r,n,i)}},EOe=function(e){if(!e)return _n;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?_n.charset:e.charset,n=typeof e.duplicates>"u"?_n.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:_n.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:_n.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:_n.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:_n.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:_n.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_n.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:_n.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:_n.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:_n.decoder,delimiter:typeof e.delimiter=="string"||ed.isRegExp(e.delimiter)?e.delimiter:_n.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:_n.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:_n.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:_n.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:_n.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_n.strictNullHandling}},SOe=function(t,e){var r=EOe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?xOe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=wOe(s,n[s],r,typeof t=="string");i=ed.merge(i,c,r)}return r.allowSparse===!0?i:ed.compact(i)},COe=vOe,AOe=SOe,TOe=ek,IOe={formats:TOe,parse:AOe,stringify:COe},ROe=dRe;function Lo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var POe=/^([a-z0-9.+-]+:)/i,OOe=/:[0-9]*$/,kOe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,FOe=["<",">",'"',"`"," ","\r",`
`,"	"],NOe=["{","}","|","\\","^","`"].concat(FOe),rT=["'"].concat(NOe),U8=["%","/","?",";","#"].concat(rT),j8=["/","?","#"],LOe=255,$8=/^[+a-z0-9A-Z_-]{0,63}$/,MOe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,BOe={javascript:!0,"javascript:":!0},nT={javascript:!0,"javascript:":!0},Nh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},iT=IOe;function D1(t,e,r){if(t&&typeof t=="object"&&t instanceof Lo)return t;var n=new Lo;return n.parse(t,e,r),n}Lo.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=kOe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=iT.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=POe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&nT[l])&&(s=s.substr(2),this.slashes=!0)}if(!nT[l]&&(f||l&&!Nh[l])){for(var h=-1,d=0;d<j8.length;d++){var p=s.indexOf(j8[d]);p!==-1&&(h===-1||p<h)&&(h=p)}var v,g;h===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",h),g!==-1&&(v=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(v)),h=-1;for(var d=0;d<U8.length;d++){var p=s.indexOf(U8[d]);p!==-1&&(h===-1||p<h)&&(h=p)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var _=this.hostname.split(/\./),d=0,x=_.length;d<x;d++){var b=_[d];if(b&&!b.match($8)){for(var w="",S=0,C=b.length;S<C;S++)b.charCodeAt(S)>127?w+="x":w+=b[S];if(!w.match($8)){var A=_.slice(0,d),T=_.slice(d+1),R=b.match(MOe);R&&(A.push(R[1]),T.unshift(R[2])),T.length&&(s="/"+T.join(".")+s),this.hostname=A.join(".");break}}}this.hostname.length>LOe?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=ROe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!BOe[u])for(var d=0,x=rT.length;d<x;d++){var k=rT[d];if(s.indexOf(k)!==-1){var F=encodeURIComponent(k);F===k&&(F=escape(k)),s=s.split(k).join(F)}}var L=s.indexOf("#");L!==-1&&(this.hash=s.substr(L),s=s.slice(0,L));var D=s.indexOf("?");if(D!==-1?(this.search=s.substr(D),this.query=s.substr(D+1),e&&(this.query=iT.parse(this.query)),s=s.slice(0,D)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Nh[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",H=this.search||"";this.path=O+H}return this.href=this.format(),this};function DOe(t){return typeof t=="string"&&(t=D1(t)),t instanceof Lo?t.format():Lo.prototype.format.call(t)}Lo.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=iT.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Nh[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function UOe(t,e){return D1(t,!1,!0).resolve(e)}Lo.prototype.resolve=function(t){return this.resolveObject(D1(t,!1,!0)).format()};Lo.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Lo;e.parse(t,!1,!0),t=e}for(var r=new Lo,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return Nh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Nh[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!nT[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",d=r.search||"";r.path=h+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=v||p||r.host&&t.pathname,m=g,_=r.pathname&&r.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],b=r.protocol&&!Nh[r.protocol];if(b&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),g=g&&(x[0]===""||_[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=x;else if(x.length)_||(_=[]),_.pop(),_=_.concat(x),r.search=t.search,r.query=t.query;else if(t.search!=null){if(b){r.host=_.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=_.slice(-1)[0],C=(r.host||t.host||_.length>1)&&(S==="."||S==="..")||S==="",A=0,T=_.length;T>=0;T--)S=_[T],S==="."?_.splice(T,1):S===".."?(_.splice(T,1),A++):A&&(_.splice(T,1),A--);if(!g&&!m)for(;A--;A)_.unshift("..");g&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),C&&_.join("/").substr(-1)!=="/"&&_.push("");var R=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(b){r.hostname=R?"":_.length?_.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return g=g||r.host&&_.length,g&&!R&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Lo.prototype.parseHost=function(){var t=this.host,e=OOe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var jOe=D1,$Oe=UOe,GOe=DOe;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gs;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(gs||(gs={}));var td;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(td||(td={}));var ev;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(ev||(ev={}));var We;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(We||(We={}));var Ma;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ma||(Ma={}));var Ue;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ue||(Ue={}));var lu;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(lu||(lu={}));var lt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(lt||(lt={}));var tv;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(tv||(tv={}));var ni;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(ni||(ni={}));var ds;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ds||(ds={}));var ja;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(ja||(ja={}));var ba;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ba||(ba={}));var Hs;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Hs||(Hs={}));var jy;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(jy||(jy={}));var No;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(No||(No={}));var pi;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(pi||(pi={}));var bn;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(bn||(bn={}));var Mo;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Mo||(Mo={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wc={parse:jOe,format:GOe,resolve:$Oe};rt.RETINA_PREFIX=/@([0-9\.]+)x/;rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var aT=!1,G8="6.4.2";function VOe(){aT=!0}function NH(t){var e;if(!aT){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+G8+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+G8+" - "+t+" - http://www.pixijs.com/");aT=!0}}var RC;function LH(){return typeof RC>"u"&&(RC=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),RC}var HOe="#f0f8ff",XOe="#faebd7",WOe="#00ffff",zOe="#7fffd4",YOe="#f0ffff",qOe="#f5f5dc",KOe="#ffe4c4",ZOe="#000000",JOe="#ffebcd",QOe="#0000ff",eke="#8a2be2",tke="#a52a2a",rke="#deb887",nke="#5f9ea0",ike="#7fff00",ake="#d2691e",oke="#ff7f50",ske="#6495ed",lke="#fff8dc",uke="#dc143c",cke="#00ffff",fke="#00008b",hke="#008b8b",dke="#b8860b",pke="#a9a9a9",vke="#006400",gke="#a9a9a9",mke="#bdb76b",_ke="#8b008b",yke="#556b2f",xke="#ff8c00",bke="#9932cc",wke="#8b0000",Eke="#e9967a",Ske="#8fbc8f",Cke="#483d8b",Ake="#2f4f4f",Tke="#2f4f4f",Ike="#00ced1",Rke="#9400d3",Pke="#ff1493",Oke="#00bfff",kke="#696969",Fke="#696969",Nke="#1e90ff",Lke="#b22222",Mke="#fffaf0",Bke="#228b22",Dke="#ff00ff",Uke="#dcdcdc",jke="#f8f8ff",$ke="#daa520",Gke="#ffd700",Vke="#808080",Hke="#008000",Xke="#adff2f",Wke="#808080",zke="#f0fff0",Yke="#ff69b4",qke="#cd5c5c",Kke="#4b0082",Zke="#fffff0",Jke="#f0e68c",Qke="#fff0f5",eFe="#e6e6fa",tFe="#7cfc00",rFe="#fffacd",nFe="#add8e6",iFe="#f08080",aFe="#e0ffff",oFe="#fafad2",sFe="#d3d3d3",lFe="#90ee90",uFe="#d3d3d3",cFe="#ffb6c1",fFe="#ffa07a",hFe="#20b2aa",dFe="#87cefa",pFe="#778899",vFe="#778899",gFe="#b0c4de",mFe="#ffffe0",_Fe="#00ff00",yFe="#32cd32",xFe="#faf0e6",bFe="#ff00ff",wFe="#800000",EFe="#66cdaa",SFe="#0000cd",CFe="#ba55d3",AFe="#9370db",TFe="#3cb371",IFe="#7b68ee",RFe="#00fa9a",PFe="#48d1cc",OFe="#c71585",kFe="#191970",FFe="#f5fffa",NFe="#ffe4e1",LFe="#ffe4b5",MFe="#ffdead",BFe="#000080",DFe="#fdf5e6",UFe="#808000",jFe="#6b8e23",$Fe="#ffa500",GFe="#ff4500",VFe="#da70d6",HFe="#eee8aa",XFe="#98fb98",WFe="#afeeee",zFe="#db7093",YFe="#ffefd5",qFe="#ffdab9",KFe="#cd853f",ZFe="#ffc0cb",JFe="#dda0dd",QFe="#b0e0e6",e3e="#800080",t3e="#663399",r3e="#ff0000",n3e="#bc8f8f",i3e="#4169e1",a3e="#8b4513",o3e="#fa8072",s3e="#f4a460",l3e="#2e8b57",u3e="#fff5ee",c3e="#a0522d",f3e="#c0c0c0",h3e="#87ceeb",d3e="#6a5acd",p3e="#708090",v3e="#708090",g3e="#fffafa",m3e="#00ff7f",_3e="#4682b4",y3e="#d2b48c",x3e="#008080",b3e="#d8bfd8",w3e="#ff6347",E3e="#40e0d0",S3e="#ee82ee",C3e="#f5deb3",A3e="#ffffff",T3e="#f5f5f5",I3e="#ffff00",R3e="#9acd32",P3e={aliceblue:HOe,antiquewhite:XOe,aqua:WOe,aquamarine:zOe,azure:YOe,beige:qOe,bisque:KOe,black:ZOe,blanchedalmond:JOe,blue:QOe,blueviolet:eke,brown:tke,burlywood:rke,cadetblue:nke,chartreuse:ike,chocolate:ake,coral:oke,cornflowerblue:ske,cornsilk:lke,crimson:uke,cyan:cke,darkblue:fke,darkcyan:hke,darkgoldenrod:dke,darkgray:pke,darkgreen:vke,darkgrey:gke,darkkhaki:mke,darkmagenta:_ke,darkolivegreen:yke,darkorange:xke,darkorchid:bke,darkred:wke,darksalmon:Eke,darkseagreen:Ske,darkslateblue:Cke,darkslategray:Ake,darkslategrey:Tke,darkturquoise:Ike,darkviolet:Rke,deeppink:Pke,deepskyblue:Oke,dimgray:kke,dimgrey:Fke,dodgerblue:Nke,firebrick:Lke,floralwhite:Mke,forestgreen:Bke,fuchsia:Dke,gainsboro:Uke,ghostwhite:jke,goldenrod:$ke,gold:Gke,gray:Vke,green:Hke,greenyellow:Xke,grey:Wke,honeydew:zke,hotpink:Yke,indianred:qke,indigo:Kke,ivory:Zke,khaki:Jke,lavenderblush:Qke,lavender:eFe,lawngreen:tFe,lemonchiffon:rFe,lightblue:nFe,lightcoral:iFe,lightcyan:aFe,lightgoldenrodyellow:oFe,lightgray:sFe,lightgreen:lFe,lightgrey:uFe,lightpink:cFe,lightsalmon:fFe,lightseagreen:hFe,lightskyblue:dFe,lightslategray:pFe,lightslategrey:vFe,lightsteelblue:gFe,lightyellow:mFe,lime:_Fe,limegreen:yFe,linen:xFe,magenta:bFe,maroon:wFe,mediumaquamarine:EFe,mediumblue:SFe,mediumorchid:CFe,mediumpurple:AFe,mediumseagreen:TFe,mediumslateblue:IFe,mediumspringgreen:RFe,mediumturquoise:PFe,mediumvioletred:OFe,midnightblue:kFe,mintcream:FFe,mistyrose:NFe,moccasin:LFe,navajowhite:MFe,navy:BFe,oldlace:DFe,olive:UFe,olivedrab:jFe,orange:$Fe,orangered:GFe,orchid:VFe,palegoldenrod:HFe,palegreen:XFe,paleturquoise:WFe,palevioletred:zFe,papayawhip:YFe,peachpuff:qFe,peru:KFe,pink:ZFe,plum:JFe,powderblue:QFe,purple:e3e,rebeccapurple:t3e,red:r3e,rosybrown:n3e,royalblue:i3e,saddlebrown:a3e,salmon:o3e,sandybrown:s3e,seagreen:l3e,seashell:u3e,sienna:c3e,silver:f3e,skyblue:h3e,slateblue:d3e,slategray:p3e,slategrey:v3e,snow:g3e,springgreen:m3e,steelblue:_3e,tan:y3e,teal:x3e,thistle:b3e,tomato:w3e,turquoise:E3e,violet:S3e,wheat:C3e,white:A3e,whitesmoke:T3e,yellow:I3e,yellowgreen:R3e};function Hn(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function tk(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function rk(t){return typeof t=="string"&&(t=P3e[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function ra(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function O3e(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[We.NORMAL_NPM]=We.NORMAL,t[We.ADD_NPM]=We.ADD,t[We.SCREEN_NPM]=We.SCREEN,e[We.NORMAL]=We.NORMAL_NPM,e[We.ADD]=We.ADD_NPM,e[We.SCREEN]=We.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var nk=O3e();function ik(t,e){return nk[e?1:0][t]}function MH(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function U1(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function ak(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function BH(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function j1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var k3e={Float32Array,Uint32Array,Int32Array,Uint8Array};function F3e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=j1(u);i[f]||(i[f]=new k3e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var d=(h/l|0)*n+c,p=h%l;s[d+p]=u[h]}c+=l}return new Float32Array(o)}function rv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function oT(t){return!(t&t-1)&&!!t}function sT(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ps(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function Ec(t){return t===0?0:t<0?-1:1}var N3e=0;function Eu(){return++N3e}var V8={};function sl(t,e,r){if(r===void 0&&(r=3),!V8[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),V8[e]=!0}}var lT={},da=Object.create(null),no=Object.create(null);function L3e(){var t;for(t in da)da[t].destroy();for(t in no)no[t].destroy()}function DH(){var t;for(t in da)delete da[t];for(t in no)delete no[t]}var uT=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||rt.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function UH(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var jH=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function M3e(t){var e=jH.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Rm;function $H(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Rm||(Rm=document.createElement("a")),Rm.href=t;var r=wc.parse(Rm.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function nv(t,e){var r=rt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const B3e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:no,CanvasRenderTarget:uT,DATA_URI:jH,EventEmitter:sf,ProgramCache:lT,TextureCache:da,clearTextureCache:DH,correctBlendMode:ik,createIndicesForQuads:BH,decomposeDataUri:M3e,deprecation:sl,destroyTextureCache:L3e,determineCrossOrigin:$H,earcut:zO,getBufferType:j1,getResolutionOfUrl:nv,hex2rgb:Hn,hex2string:tk,interleaveTypedArrays:F3e,isMobile:uo,isPow2:oT,isWebGLSupported:LH,log2:sT,nextPow2:rv,premultiplyBlendMode:nk,premultiplyRgba:MH,premultiplyTint:U1,premultiplyTintToRgba:ak,removeItems:ps,rgb2hex:ra,sayHello:NH,sign:Ec,skipHello:VOe,string2hex:rk,trimCanvas:UH,uid:Eu,url:wc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var iv=Math.PI*2,ok=180/Math.PI,ll=Math.PI/180,Wr;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Wr||(Wr={}));var $t=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Pm=[new $t,new $t,new $t,new $t],Ft=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Wr.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=Pm[0].set(e.left,e.top),h=Pm[1].set(e.left,e.bottom),d=Pm[2].set(e.right,e.top),p=Pm[3].set(e.right,e.bottom);if(d.x<=f.x||h.y<=f.y)return!1;var v=Math.sign(r.a*r.d-r.b*r.c);if(v===0||(r.apply(f,f),r.apply(h,h),r.apply(d,d),r.apply(p,p),Math.max(f.x,h.x,d.x,p.x)<=s||Math.min(f.x,h.x,d.x,p.x)>=c||Math.max(f.y,h.y,d.y,p.y)<=l||Math.min(f.y,h.y,d.y,p.y)>=u))return!1;var g=v*(h.y-f.y),m=v*(f.x-h.x),_=g*s+m*l,x=g*c+m*l,b=g*s+m*u,w=g*c+m*u;if(Math.max(_,x,b,w)<=g*f.x+m*f.y||Math.min(_,x,b,w)>=g*p.x+m*p.y)return!1;var S=v*(f.y-d.y),C=v*(d.x-f.x),A=S*s+C*l,T=S*c+C*l,R=S*s+C*u,O=S*c+C*u;return!(Math.max(A,T,R,O)<=S*f.x+C*f.y||Math.min(A,T,R,O)>=S*p.x+C*p.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),GH=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=Wr.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new Ft(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),VH=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=Wr.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Ft(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Lh=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=Wr.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),HH=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=Wr.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Yl=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ur=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new $t;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new $t;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(iv-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),ac=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],oc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],sc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],lc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],cT=[],XH=[],Om=Math.sign;function D3e(){for(var t=0;t<16;t++){var e=[];cT.push(e);for(var r=0;r<16;r++)for(var n=Om(ac[t]*ac[r]+sc[t]*oc[r]),i=Om(oc[t]*ac[r]+lc[t]*oc[r]),a=Om(ac[t]*sc[r]+sc[t]*lc[r]),o=Om(oc[t]*sc[r]+lc[t]*lc[r]),s=0;s<16;s++)if(ac[s]===n&&oc[s]===i&&sc[s]===a&&lc[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new Ur;c.set(ac[t],oc[t],sc[t],lc[t],0,0),XH.push(c)}}D3e();var Vr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ac[t]},uY:function(t){return oc[t]},vX:function(t){return sc[t]},vY:function(t){return lc[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return cT[t][e]},sub:function(t,e){return cT[t][Vr.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?Vr.S:Vr.N:Math.abs(e)*2<=Math.abs(t)?t>0?Vr.E:Vr.W:e>0?t>0?Vr.SE:Vr.SW:t>0?Vr.NE:Vr.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=XH[Vr.inv(e)];i.tx=r,i.ty=n,t.append(i)}},qv=function(){function t(){this.worldTransform=new Ur,this.localTransform=new Ur,this.position=new Yl(this.onChange,this,0,0),this.scale=new Yl(this.onChange,this,1,1),this.pivot=new Yl(this.onChange,this,0,0),this.skew=new Yl(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.SORTABLE_CHILDREN=!1;var rd=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Ft.EMPTY:(e=e||new Ft(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,g=o*r+c*n+u,m=s*r+l*n+f;h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*i+c*n+u,m=s*i+l*n+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*r+c*a+u,m=s*r+l*a+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*i+c*a+u,m=s*i+l*a+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,this.minX=h,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,d=this.minX,p=this.minY,v=this.maxX,g=this.maxY,m=n;m<i;m+=2){var _=r[m],x=r[m+1],b=s*_+l*x+f,w=u*x+c*_+h;d=Math.min(d,b-a),v=Math.max(v,b+a),p=Math.min(p,w-o),g=Math.max(g,w+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=g},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fT=function(t,e){return fT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},fT(t,e)};function sk(t,e){fT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pn=function(t){sk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new qv,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new rd,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ft),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Ft),r=this._localBoundsRect),this._localBounds||(this._localBounds=new rd);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new lk),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*ok},set:function(r){this.transform.rotation=r*ll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(sf),lk=function(t){sk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(pn);pn.prototype.displayObjectUpdateTransform=pn.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var H8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(H8||(H8={}));var X8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(X8||(X8={}));var W8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(W8||(W8={}));var z8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(z8||(z8={}));var Y8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Y8||(Y8={}));var q8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(q8||(q8={}));var K8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(K8||(K8={}));var Z8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Z8||(Z8={}));var J8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(J8||(J8={}));var Q8;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Q8||(Q8={}));var eU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(eU||(eU={}));var tU;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(tU||(tU={}));var rU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(rU||(rU={}));var nU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(nU||(nU={}));var iU;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(iU||(iU={}));var aU;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(aU||(aU={}));var hT;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(hT||(hT={}));var oU;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(oU||(oU={}));var sU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(sU||(sU={}));function U3e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Vn=function(t){sk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=rt.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ps(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ps(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ps(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(U3e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==hT.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(pn);Vn.prototype.containerUpdateTransform=Vn.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var WH={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};pn.mixin(WH);var j3e=9,km=100,$3e=0,G3e=0,lU=2,uU=1,V3e=-1e3,H3e=-1e3,X3e=2,zH=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(uo.tablet||uo.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=km+"px",r.style.height=km+"px",r.style.position="absolute",r.style.top=$3e+"px",r.style.left=G3e+"px",r.style.zIndex=lU.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=uU+"px",r.style.height=uU+"px",r.style.position="absolute",r.style.top=V3e+"px",r.style.left=H3e+"px",r.style.zIndex=X3e.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(uo.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=c+"px",d.style.height=l+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,ps(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var g=v.hitArea,m=v.worldTransform;v.hitArea?(d.style.left=(m.tx+g.x*m.a)*f+"px",d.style.top=(m.ty+g.y*m.d)*h+"px",d.style.width=g.width*m.a*f+"px",d.style.height=g.height*m.d*h+"px"):(g=v.getBounds(),this.capHitArea(g),d.style.left=g.x*f+"px",d.style.top=g.y*h+"px",d.style.width=g.width*f+"px",d.style.height=g.height*h+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=km+"px",r.style.height=km+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=lU.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===j3e&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.TARGET_FPMS=.06;var Bo;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Bo||(Bo={}));var PC=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),en=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new PC(null,null,1/0),this.deltaMS=1/rt.TARGET_FPMS,this.elapsedMS=1/rt.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=Bo.NORMAL),this._addListener(new PC(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=Bo.NORMAL),this._addListener(new PC(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*rt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,rt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),YH=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Bo.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?en.shared:new en,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dT=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new $t,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pT=function(t,e){return pT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pT(t,e)};function W3e(t,e){pT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qH=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),D_=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),z3e=function(){function t(){this._tempPoint=new $t}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],d=this.recursiveFindHit(e,h,n,i,c);if(d){if(!h.parent)continue;c=!1,d&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),KH={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};pn.mixin(KH);var Fm=1,Nm={target:null,data:{global:null}},ZH=function(t){W3e(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new dT,i.mouse.identifier=Fm,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Fm]=i.mouse,i.interactionDataPool=[],i.eventData=new qH,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new z3e,i._tempDisplayObject=new lk,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Nm.target=null,Nm.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Nm,n,null,!0),Nm.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(en.system.add(this.tickerUpdate,this,Bo.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(en.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,d=u.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,h,d)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new D_(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=D_.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,p=s!==void 0&&s.flags&d;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),p&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):p&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new D_(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Fm||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new dT,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=Fm),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(sf);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mi=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,d=f.length;h<d;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(mi.prototype,{dispatch:{value:mi.prototype.emit},run:{value:mi.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.PREFER_ENV=uo.any?gs.WEBGL:gs.WEBGL2;rt.STRICT_TEXTURE_CACHE=!1;var av=[];function $1(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=av.length-1;i>=0;--i){var a=av[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vT=function(t,e){return vT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vT(t,e)};function Or(t,e){vT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gT=function(){return gT=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gT.apply(this,arguments)};function Y3e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var zc=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new mi("setRealSize"),this.onUpdate=new mi("update"),this.onError=new mi("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),lf=function(t){Or(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(zc),q3e={scaleMode:ni.NEAREST,format:Ue.RGBA,alphaMode:ba.NPM},Qt=function(t){Or(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,d=n.type,p=n.target,v=n.resolution,g=n.resourceOptions;return r&&!(r instanceof zc)&&(r=$1(r,g),r.internal=!0),i.resolution=v||rt.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:rt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:rt.ANISOTROPIC_LEVEL,i._wrapMode=f||rt.WRAP_MODE,i._scaleMode=c!==void 0?c:rt.SCALE_MODE,i.format=h||Ue.RGBA,i.type=d||lt.UNSIGNED_BYTE,i.target=p||lu.TEXTURE_2D,i.alphaMode=a!==void 0?a:ba.UNPACK,i.uid=Eu(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=oT(this.realWidth)&&oT(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete no[this.cacheId],delete da[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=rt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Eu()}o=r._pixiId}var c=no[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new lf(r,{width:n,height:i}),s=r instanceof Float32Array?lt.FLOAT:lt.UNSIGNED_BYTE;return new e(o,Object.assign(q3e,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),no[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),no[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=no[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete no[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete no[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(sf),G1=function(t){Or(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new Qt;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof zc?this.addResourceAt(r[i],i):this.addResourceAt($1(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(zc),uk=function(t){Or(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=lu.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(G1),ms=function(t){Or(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=$H(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(zc),V1=function(t){Or(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(ms),ck=function(t){Or(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=lu.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=lu.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=lu.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(G1),H1=function(t){Or(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;ms.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:rt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===ba.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(ms),fk=function(t){Or(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;ms.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+Eu(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ms),hk=function(t){Or(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];ms.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[d]||"video/"+d,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=en.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(en.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ms),dk=function(t){Or(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(ms);av.push(H1,dk,V1,hk,fk,lf,ck,uk);var JH={__proto__:null,Resource:zc,BaseImageResource:ms,INSTALLED:av,autoDetectResource:$1,AbstractMultiResource:G1,ArrayResource:uk,BufferResource:lf,CanvasResource:V1,CubeResource:ck,ImageResource:H1,SVGResource:fk,VideoResource:hk,ImageBitmapResource:dk},K3e=function(t){Or(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(lf),$y=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mi("disposeFramebuffer"),this.multisample=bn.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Qt(null,{scaleMode:ni.NEAREST,resolution:1,mipmap:ja.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Qt(new K3e(null,{width:this.width,height:this.height}),{scaleMode:ni.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ja.OFF,format:Ue.DEPTH_COMPONENT,type:lt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),pk=function(t){Or(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:bn.NONE,n=t.call(this,null,r)||this,n.mipmap=ja.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new $y(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Qt),vk=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=Vr.add(n,Vr.NW),this.x0=c+o*Vr.uX(n),this.y0=l+s*Vr.uY(n),n=Vr.add(n,2),this.x1=c+o*Vr.uX(n),this.y1=l+s*Vr.uY(n),n=Vr.add(n,2),this.x2=c+o*Vr.uX(n),this.y2=l+s*Vr.uY(n),n=Vr.add(n,2),this.x3=c+o*Vr.uX(n),this.y3=l+s*Vr.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),cU=new vk;function Lm(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var gt=function(t){Or(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new Ft(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=cU,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new $t(s.x,s.y):new $t(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&da[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===cU&&(this._uvs=new vk),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=rt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof Qt){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Eu(),Qt.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Eu()}o=r._pixiId}var c=da[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof Qt)?(n.resolution||(n.resolution=nv(r)),c=new e(new Qt(r,n)),c.baseTexture.cacheId=o,Qt.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof Qt&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(Qt.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new Qt(r,Object.assign({scaleMode:rt.SCALE_MODE,resolution:nv(n)},a)),s=o.resource;s instanceof H1&&(s.url=n);var c=new e(o);return i||(i=n),Qt.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(Qt.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),da[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),da[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=da[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete da[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)da[r.textureCacheIds[a]]===r&&delete da[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Qt),Lm(e._EMPTY),Lm(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new Qt(new V1(r))),Lm(e._WHITE),Lm(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(sf),Su=function(t){Or(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(sl("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new pk(r))},e}(gt),QH=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=bn.NONE);var i=new pk(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Su(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=bn.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=rv(e),r=rv(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||bn.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),mT=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=lt.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),Z3e=0,On=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Z3e++,this.disposeRunner=new mi("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Mo.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Mo.ELEMENT_ARRAY_BUFFER:Mo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),J3e={Float32Array,Uint32Array,Int32Array,Uint8Array};function Q3e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=j1(u);i[f]||(i[f]=new J3e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var d=(h/l|0)*n+c,p=h%l;s[d+p]=u[h]}c+=l}return new Float32Array(o)}var fU={5126:4,5123:2,5121:1},e4e=0,t4e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Bd=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=e4e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mi("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof On||(r instanceof Array&&(r=new Float32Array(r)),r=new On(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new mT(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof On||(e instanceof Array&&(e=new Uint16Array(e)),e=new On(e)),e.type=Mo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new On,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*fU[a.type]/4),a.buffer=0}for(n.data=Q3e(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new On(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new mT(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Mo.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new t4e[j1(o.buffers[s].data)](i[s]),r.buffers[s]=new On(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Mo.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var d=o.attributes[s];(d.buffer|0)===h&&(u+=d.size*fU[d.type]/4)}for(var s=0;s<e.length;s++){for(var p=e[s].indexBuffer.data,c=0;c<p.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=p.length}}return r},t}(),eX=function(t){Or(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Bd),gk=function(t){Or(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new On(r.vertices),r.uvBuffer=new On(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Bd),r4e=0,uu=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=r4e++,this.static=!!r,this.ubo=!!n,e instanceof On?(this.buffer=e,this.buffer.type=Mo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new On(new Float32Array(1)),this.buffer.type=Mo.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),tX=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=bn.NONE,this.sourceFrame=new Ft,this.destinationFrame=new Ft,this.bindingSourceFrame=new Ft,this.bindingDestinationFrame=new Ft,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Mm=[new $t,new $t,new $t,new $t],OC=new Ur,mk=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new QH,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new eX,this.quadUv=new gk,this.tempRect=new Ft,this.activeState={},this.globalUniforms=new uu({outputFrame:new Ft,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new tX,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,d=(n=r[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<r.length;p++){var v=r[p];l=Math.min(l,v.resolution),u=Math.min(u,v.multisample),f=this.useMaxPadding?Math.max(f,v.padding):f+v.padding,h=h&&v.autoFit,d=d||((i=v.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var g=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(OC.copyFrom(a.projection.transform).invert(),g),h?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,m),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Hs.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,Hs.CLEAR,r);var d=u;u=f,f=d}n[h].apply(this,u,l.renderTexture,Hs.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=Hs.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===Hs.CLEAR||r===Hs.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Ma.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Ma.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(Ur.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=bn.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||bn.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=Mm[0],i=Mm[1],a=Mm[2],o=Mm[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?OC.copyFrom(a):OC.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),Kv=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),_k=function(){function t(e){this.renderer=e,this.emptyRenderer=new Kv(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),hU=0,yk=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=hU++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=hU++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(rt.PREFER_ENV>=gs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),rX=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=bn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),n4e=new Ft,xk=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new $y(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ft,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;rt.PREFER_ENV===gs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=ev.COLOR|ev.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new rX(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=bn.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=bn.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new $y(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=n4e,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ft},t.prototype.destroy=function(){this.renderer=null},t}(),kC={5126:4,5123:2,5121:1},bk=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;rt.PREFER_ENV===gs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,d={},p={};for(var v in f)d[v]=0,p[v]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[h[v].buffer]+=h[v].size*kC[h[v].type];for(var v in h){var g=h[v],m=g.size;g.stride===void 0&&(d[g.buffer]===m*kC[g.type]?g.stride=0:g.stride=d[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=m*kC[g.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var _=0;_<f.length;_++){var x=f[_];o.bind(x),n&&x._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var d=r.attributeData[l].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),nX=function(){function t(e){e===void 0&&(e=null),this.type=pi.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=rt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=pi.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function dU(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function pU(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function i4e(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||pU(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||pU(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function FC(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function iX(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return FC(2*e);case"bvec3":return FC(3*e);case"bvec4":return FC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var aX={},C0=aX;function oX(){if(C0===aX||C0&&C0.isContextLost()){var t=document.createElement("canvas"),e=void 0;rt.PREFER_ENV>=gs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),C0=e}return C0}var Bm;function a4e(){if(!Bm){Bm=No.MEDIUM;var t=oX();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Bm=e.precision?No.HIGH:No.MEDIUM}}return Bm}function vU(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===No.HIGH&&r!==No.HIGH&&(n=No.MEDIUM),"precision "+n+` float;
`+t}else if(r!==No.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var o4e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function sX(t){return o4e[t]}var Dm=null,gU={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function lX(t,e){if(!Dm){var r=Object.keys(gU);Dm={};for(var n=0;n<r.length;++n){var i=r[n];Dm[t[i]]=gU[i]}}return Dm[e]}var Nc=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],s4e={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},l4e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function u4e(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Nc.length;c++)if(Nc[c].test(a,o)){n.push(Nc[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?s4e:l4e,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var c4e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function f4e(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function uX(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=c4e.replace(/%forloop%/gi,f4e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var A0;function h4e(){if(typeof A0=="boolean")return A0;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");A0=t({a:"b"},"a","b")===!0}catch{A0=!1}return A0}var d4e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,p4e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,v4e=0,Um={},Dd=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=v4e++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Um[n]?(Um[n]++,n+="-"+Um[n]):Um[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=vU(this.vertexSrc,rt.PRECISION_VERTEX,No.HIGH),this.fragmentSrc=vU(this.fragmentSrc,rt.PRECISION_FRAGMENT,a4e())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return p4e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return d4e},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=lT[i];return a||(lT[i]=a=new t(e,r,n)),a},t}(),rl=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof uu?this.uniformGroup=r:this.uniformGroup=new uu(r):this.uniformGroup=new uu({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Dd.from(e,r);return new t(i,n)},t}(),NC=0,LC=1,MC=2,BC=3,DC=4,UC=5,ku=function(){function t(){this.data=0,this.blendMode=We.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<NC)},set:function(e){!!(this.data&1<<NC)!==e&&(this.data^=1<<NC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<LC)},set:function(e){!!(this.data&1<<LC)!==e&&(this.data^=1<<LC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<MC)},set:function(e){!!(this.data&1<<MC)!==e&&(this.data^=1<<MC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<BC)},set:function(e){!!(this.data&1<<BC)!==e&&(this.data^=1<<BC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<UC)},set:function(e){!!(this.data&1<<UC)!==e&&(this.data^=1<<UC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<DC)},set:function(e){!!(this.data&1<<DC)!==e&&(this.data^=1<<DC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==We.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),g4e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,m4e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,St=function(t){Or(e,t);function e(r,n,i){var a=this,o=Dd.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=rt.FILTER_RESOLUTION,a.multisample=rt.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new ku,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return g4e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return m4e},enumerable:!1,configurable:!0}),e}(rl),_4e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,y4e=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,mU=new Ur,X1=function(){function t(e,r){this._texture=e,this.mapCoord=new Ur,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(mU.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(mU));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),cX=function(t){Or(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||_4e,n||y4e,i)||this,a.maskSprite=o,a.maskMatrix=new Ur,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new X1(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(St),wk=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new nX;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==pi.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case pi.SCISSOR:this.renderer.scissor.push(n);break;case pi.STENCIL:this.renderer.stencil.push(n);break;case pi.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===pi.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case pi.SCISSOR:this.renderer.scissor.pop();break;case pi.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case pi.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===pi.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=pi.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=pi.SCISSOR:e.type=pi.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new cX]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),fX=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),_U=new Ur,Ek=function(t){Or(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?_U.copyFrom(o):_U.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(fX),Sk=function(t){Or(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(fX),Ck=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ur,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Yu=new Ft,T0=new Ft,Ak=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ft,this.destinationFrame=new Ft,this.viewportFrame=new Ft}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(Yu.width=e.frame.width,Yu.height=e.frame.height,r=Yu),n||(T0.x=e.frame.x,T0.y=e.frame.y,T0.width=r.width,T0.height=r.height,n=T0),o=a.framebuffer):(s=i.resolution,r||(Yu.width=i.screen.width,Yu.height=i.screen.height,r=Yu),n||(n=Yu,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function x4e(t,e,r,n,i){r.buffer.update(i)}var b4e={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},hX={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function dX(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=hX[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function pX(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function vX(t,e){if(!t.autoManage)return{size:0,syncFunc:x4e};for(var r=pX(t.uniforms,e),n=dX(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Nc.length;h++){var d=Nc[h];if(d.codeUbo&&d.test(c.data,l)){o.push("offset = "+c.offset/4+";",Nc[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var p=sX(c.data.type),v=Math.max(hX[c.data.type]/16,1),g=p/v,m=(4-g%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+g+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+m+`;
                }

                `)}else{var _=b4e[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+_+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var w4e=function(){function t(){}return t}(),gX=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function E4e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=lX(e,a.type),s={type:o,name:a.name,size:sX(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function S4e(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=lX(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:iX(c,a.size)}}return r}function mX(t,e){var r=dU(t,t.VERTEX_SHADER,e.vertexSrc),n=dU(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||i4e(t,i,r,n),e.attributeData=E4e(i,t),e.uniformData=S4e(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:iX(c.type,c.size)}}var l=new gX(i,s);return l}var C4e=0,jm={textureCount:0,uboCount:0},Tk=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=C4e++}return t.prototype.systemCheck=function(){if(!h4e())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(jm.textureCount=0,jm.uboCount=0,this.syncUniformGroup(e.uniformGroup,jm)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=u4e(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,jm,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=vX(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=mX(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function A4e(t,e){return e===void 0&&(e=[]),e[We.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.ADD]=[t.ONE,t.ONE],e[We.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.NONE]=[0,0],e[We.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[We.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[We.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[We.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[We.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[We.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[We.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[We.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[We.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[We.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[We.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var T4e=0,I4e=1,R4e=2,P4e=3,O4e=4,k4e=5,Ik=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=We.NONE,this._blendEq=!1,this.map=[],this.map[T4e]=this.setBlend,this.map[I4e]=this.setOffset,this.map[R4e]=this.setCullFace,this.map[P4e]=this.setDepthTest,this.map[O4e]=this.setFrontFace,this.map[k4e]=this.setDepthMask,this.checks=[],this.defaultState=new ku,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=A4e(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Rk=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=rt.GC_MAX_IDLE,this.checkCountMax=rt.GC_MAX_CHECK_COUNT,this.mode=rt.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==jy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function F4e(t){var e,r,n,i,a,o,s,c,l,u,f,h,d,p,v,g,m,_,x,b,w,S,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[lt.UNSIGNED_BYTE]=(r={},r[Ue.RGBA]=t.RGBA8,r[Ue.RGB]=t.RGB8,r[Ue.RG]=t.RG8,r[Ue.RED]=t.R8,r[Ue.RGBA_INTEGER]=t.RGBA8UI,r[Ue.RGB_INTEGER]=t.RGB8UI,r[Ue.RG_INTEGER]=t.RG8UI,r[Ue.RED_INTEGER]=t.R8UI,r[Ue.ALPHA]=t.ALPHA,r[Ue.LUMINANCE]=t.LUMINANCE,r[Ue.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[lt.BYTE]=(n={},n[Ue.RGBA]=t.RGBA8_SNORM,n[Ue.RGB]=t.RGB8_SNORM,n[Ue.RG]=t.RG8_SNORM,n[Ue.RED]=t.R8_SNORM,n[Ue.RGBA_INTEGER]=t.RGBA8I,n[Ue.RGB_INTEGER]=t.RGB8I,n[Ue.RG_INTEGER]=t.RG8I,n[Ue.RED_INTEGER]=t.R8I,n),e[lt.UNSIGNED_SHORT]=(i={},i[Ue.RGBA_INTEGER]=t.RGBA16UI,i[Ue.RGB_INTEGER]=t.RGB16UI,i[Ue.RG_INTEGER]=t.RG16UI,i[Ue.RED_INTEGER]=t.R16UI,i[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[lt.SHORT]=(a={},a[Ue.RGBA_INTEGER]=t.RGBA16I,a[Ue.RGB_INTEGER]=t.RGB16I,a[Ue.RG_INTEGER]=t.RG16I,a[Ue.RED_INTEGER]=t.R16I,a),e[lt.UNSIGNED_INT]=(o={},o[Ue.RGBA_INTEGER]=t.RGBA32UI,o[Ue.RGB_INTEGER]=t.RGB32UI,o[Ue.RG_INTEGER]=t.RG32UI,o[Ue.RED_INTEGER]=t.R32UI,o[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[lt.INT]=(s={},s[Ue.RGBA_INTEGER]=t.RGBA32I,s[Ue.RGB_INTEGER]=t.RGB32I,s[Ue.RG_INTEGER]=t.RG32I,s[Ue.RED_INTEGER]=t.R32I,s),e[lt.FLOAT]=(c={},c[Ue.RGBA]=t.RGBA32F,c[Ue.RGB]=t.RGB32F,c[Ue.RG]=t.RG32F,c[Ue.RED]=t.R32F,c[Ue.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[lt.HALF_FLOAT]=(l={},l[Ue.RGBA]=t.RGBA16F,l[Ue.RGB]=t.RGB16F,l[Ue.RG]=t.RG16F,l[Ue.RED]=t.R16F,l),e[lt.UNSIGNED_SHORT_5_6_5]=(u={},u[Ue.RGB]=t.RGB565,u),e[lt.UNSIGNED_SHORT_4_4_4_4]=(f={},f[Ue.RGBA]=t.RGBA4,f),e[lt.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Ue.RGBA]=t.RGB5_A1,h),e[lt.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[Ue.RGBA]=t.RGB10_A2,d[Ue.RGBA_INTEGER]=t.RGB10_A2UI,d),e[lt.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[Ue.RGB]=t.R11F_G11F_B10F,p),e[lt.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[Ue.RGB]=t.RGB9_E5,v),e[lt.UNSIGNED_INT_24_8]=(g={},g[Ue.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,g),e[lt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(m={},m[Ue.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,m),e):C=(_={},_[lt.UNSIGNED_BYTE]=(x={},x[Ue.RGBA]=t.RGBA,x[Ue.RGB]=t.RGB,x[Ue.ALPHA]=t.ALPHA,x[Ue.LUMINANCE]=t.LUMINANCE,x[Ue.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,x),_[lt.UNSIGNED_SHORT_5_6_5]=(b={},b[Ue.RGB]=t.RGB,b),_[lt.UNSIGNED_SHORT_4_4_4_4]=(w={},w[Ue.RGBA]=t.RGBA,w),_[lt.UNSIGNED_SHORT_5_5_5_1]=(S={},S[Ue.RGBA]=t.RGBA,S),_),C}var U_=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=lt.UNSIGNED_BYTE,this.internalFormat=Ue.RGBA,this.samplerType=0}return t}(),Pk=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qt,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=F4e(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new U_(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new U_(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==tv.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new U_(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===lt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==tv.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&ps(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ja.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ds.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==ja.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ni.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ni.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ni.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ni.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),_X={__proto__:null,FilterSystem:mk,BatchSystem:_k,ContextSystem:yk,FramebufferSystem:xk,GeometrySystem:bk,MaskSystem:wk,ScissorSystem:Ek,StencilSystem:Sk,ProjectionSystem:Ck,RenderTextureSystem:Ak,ShaderSystem:Tk,StateSystem:Ik,TextureGCSystem:Rk,TextureSystem:Pk},jC=new Ur,yX=function(t){Or(e,t);function e(r,n){r===void 0&&(r=td.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},rt.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Ft(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||rt.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(sl("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(sl("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=Y3e(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=Su.create(gT({width:a.width,height:a.height},s));return jC.tx=-a.x,jC.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:jC,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=td.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=tk(r),Hn(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(sf),N4e=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),L4e=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new N4e(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),fl=function(t){Or(e,t);function e(r){var n=t.call(this,td.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new mi("destroy"),contextChange:new mi("contextChange"),reset:new mi("reset"),update:new mi("update"),postrender:new mi("postrender"),prerender:new mi("prerender"),resize:new mi("resize")},n.runners.contextChange.add(n),n.globalUniforms=new uu({projectionMatrix:new Ur},!0),n.addSystem(wk,"mask").addSystem(yk,"context").addSystem(Ik,"state").addSystem(Tk,"shader").addSystem(Pk,"texture").addSystem(L4e,"buffer").addSystem(bk,"geometry").addSystem(xk,"framebuffer").addSystem(Ek,"scissor").addSystem(Sk,"stencil").addSystem(Ck,"projection").addSystem(Rk,"textureGC").addSystem(mk,"filter").addSystem(Ak,"renderTexture").addSystem(_k,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,NH(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(LH())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=bn.HIGH?this.multisample=bn.HIGH:n>=bn.MEDIUM?this.multisample=bn.MEDIUM:n>=bn.LOW?this.multisample=bn.LOW:this.multisample=bn.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof Su?(sl("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return sl("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(yX);function xX(t){return fl.create(t)}var M4e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,B4e=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,bX=M4e,Ok=B4e,D4e=function(){function t(e){sl("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),Gy=function(){function t(){this.texArray=null,this.blend=0,this.type=Ma.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),Vy=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Hy=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),wX=function(t){Or(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ku.for2d(),n.size=rt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;rt.PREFER_ENV===gs.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),rt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=uX(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Gy);for(;n.length<a;)n.push(new Vy);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++Qt._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,d),h=d,f=a[++u],++l),p._batchEnabled=l,p.touched=c,f.elements[f.count++]=p)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var d=0;d<s.length;d++)s[d]=null;Qt._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,d=this._iIndex,p=u[f];p.start=this._iIndex,p.texArray=r;for(var v=n;v<i;++v){var g=o[v],m=g._texture.baseTexture,_=nk[m.alphaMode?1:0][g.blendMode];o[v]=null,n<v&&p.blend!==_&&(p.size=d-p.start,n=v,p=u[++f],p.texArray=r,p.start=d),this.packInterleavedGeometry(g,s,c,h,d),h+=g.vertexData.length/2*l,d+=g.indices.length,p.blend=_}n<i&&(p.size=d-p.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=d},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;rt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,d=l.start,p=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,d*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),rt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=rv(Math.ceil(r/8)),i=sT(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Hy(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=rv(Math.ceil(r/12)),i=sT(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,d=r._texture.baseTexture._batchLocation,p=Math.min(r.worldAlpha,1),v=p<1&&r._texture.baseTexture.alphaMode?U1(r._tintRGB,p):r._tintRGB+(p*255<<24),g=0;g<h.length;g+=2)c[a++]=h[g],c[a++]=h[g+1],c[a++]=u[g],c[a++]=u[g+1],s[a++]=v,c[a++]=d;for(var g=0;g<f.length;g++)i[o++]=l+f[g]},e._drawCallPool=[],e._textureArrayPool=[],e}(Kv),EX=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=uu.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Dd(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ur,default:this.defaultGroupCache[e]};return new rl(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),kk=function(t){Or(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new On(null,r,!1),n._indexBuffer=new On(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,lt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,lt.FLOAT).addAttribute("aColor",n._buffer,4,!0,lt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,lt.FLOAT).addIndex(n._indexBuffer),n}return e}(Bd),yU=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,xU=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,SX=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:yU,fragment:xU,geometryClass:kk,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){Or(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new EX(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(wX)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return yU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return xU},enumerable:!1,configurable:!0}),t}(),CX=SX.create(),AX={},U4e=function(t){Object.defineProperty(AX,t,{get:function(){return sl("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),JH[t]}})};for(var Fk in JH)U4e(Fk);var TX={},j4e=function(t){Object.defineProperty(TX,t,{get:function(){return sl("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),_X[t]}})};for(var Fk in _X)j4e(Fk);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Zv=function(){function t(e){var r=this;this.stage=new Vn,e=Object.assign({forceCanvas:!1},e),this.renderer=xX(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),$4e=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Zv.registerPlugin($4e);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $C=/iPhone/i,bU=/iPod/i,wU=/iPad/i,EU=/\biOS-universal(?:.+)Mac\b/i,GC=/\bAndroid(?:.+)Mobile\b/i,SU=/Android/i,jf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,$m=/Silk/i,Ds=/Windows Phone/i,CU=/\bWindows(?:.+)ARM\b/i,AU=/BlackBerry/i,TU=/BB10/i,IU=/Opera Mini/i,RU=/\b(CriOS|Chrome)(?:.+)Mobile/i,PU=/Mobile(?:.+)Firefox\b/i,OU=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function G4e(t){return function(e){return e.test(t)}}function V4e(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=G4e(r),a={apple:{phone:i($C)&&!i(Ds),ipod:i(bU),tablet:!i($C)&&(i(wU)||OU(e))&&!i(Ds),universal:i(EU),device:(i($C)||i(bU)||i(wU)||i(EU)||OU(e))&&!i(Ds)},amazon:{phone:i(jf),tablet:!i(jf)&&i($m),device:i(jf)||i($m)},android:{phone:!i(Ds)&&i(jf)||!i(Ds)&&i(GC),tablet:!i(Ds)&&!i(jf)&&!i(GC)&&(i($m)||i(SU)),device:!i(Ds)&&(i(jf)||i($m)||i(GC)||i(SU))||i(/\bokhttp\b/i)},windows:{phone:i(Ds),tablet:i(CU),device:i(Ds)||i(CU)},other:{blackberry:i(AU),blackberry10:i(TU),opera:i(IU),firefox:i(PU),chrome:i(RU),device:i(AU)||i(TU)||i(IU)||i(PU)||i(RU)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fh=V4e(globalThis.navigator);function H4e(t){var e=!0;if(fh.tablet||fh.phone){if(fh.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(fh.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function X4e(){return!fh.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(kU||(kU={}));var FU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(FU||(FU={}));var NU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(NU||(NU={}));var LU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(LU||(LU={}));var MU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(MU||(MU={}));var BU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(BU||(BU={}));var DU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(DU||(DU={}));var UU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(UU||(UU={}));var jU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(jU||(jU={}));var _T;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(_T||(_T={}));var yT;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(yT||(yT={}));var xT;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(xT||(xT={}));var $U;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})($U||($U={}));var GU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(GU||(GU={}));var bT;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(bT||(bT={}));var bp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(bp||(bp={}));var VU;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(VU||(VU={}));var wT;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(wT||(wT={}));var HU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(HU||(HU={}));var IX={MIPMAP_TEXTURES:xT.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:wT.NONE,SPRITE_MAX_TEXTURES:H4e(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:bT.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:yT.CLAMP,SCALE_MODE:_T.LINEAR,PRECISION_VERTEX:bp.HIGH,PRECISION_FRAGMENT:fh.apple.device?bp.HIGH:bp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:X4e(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */IX.SORTABLE_CHILDREN=!1;var XU=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Ft.EMPTY:(e=e||new Ft(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,d=this.minY,p=this.maxX,v=this.maxY,g=o*r+c*n+u,m=s*r+l*n+f;h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*i+c*n+u,m=s*i+l*n+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*r+c*a+u,m=s*r+l*a+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,g=o*i+c*a+u,m=s*i+l*a+f,h=g<h?g:h,d=m<d?m:d,p=g>p?g:p,v=m>v?m:v,this.minX=h,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,d=this.minX,p=this.minY,v=this.maxX,g=this.maxY,m=n;m<i;m+=2){var _=r[m],x=r[m+1],b=s*_+l*x+f,w=u*x+c*_+h;d=Math.min(d,b-a),v=Math.max(v,b+a),p=Math.min(p,w-o),g=Math.max(g,w+o)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=g},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ET=function(t,e){return ET=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ET(t,e)};function Nk(t,e){ET(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ov=function(t){Nk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new qv,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new XU,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ft),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Ft),r=this._localBoundsRect),this._localBounds||(this._localBounds=new XU);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new W4e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*ok},set:function(r){this.transform.rotation=r*ll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(sf),W4e=function(t){Nk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(ov);ov.prototype.displayObjectUpdateTransform=ov.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var WU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(WU||(WU={}));var zU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(zU||(zU={}));var YU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(YU||(YU={}));var qU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(qU||(qU={}));var KU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(KU||(KU={}));var ZU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ZU||(ZU={}));var JU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(JU||(JU={}));var QU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(QU||(QU={}));var e6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(e6||(e6={}));var t6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(t6||(t6={}));var r6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(r6||(r6={}));var n6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(n6||(n6={}));var i6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(i6||(i6={}));var a6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(a6||(a6={}));var o6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(o6||(o6={}));var s6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(s6||(s6={}));var ST;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(ST||(ST={}));var l6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(l6||(l6={}));var u6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(u6||(u6={}));function z4e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var c6=function(t){Nk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=IX.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ps(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,ps(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ps(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(z4e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==ST.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(ov);c6.prototype.containerUpdateTransform=c6.prototype.updateTransform;var VC=new Ft,f6=4,RX=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof Su?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=VC,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new uT(c,l,1),f=new Uint8Array(f6*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var d=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,d.data),u.context.putImageData(d,0,0),a){var p=new uT(u.width,u.height,1);p.context.scale(1,-1),p.context.drawImage(u.canvas,0,-l),u.destroy(),u=p}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof Su?o=e:e instanceof ov&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=VC,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=VC,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(f6*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gm=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function h6(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var zs=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Gm))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return h6(this,new Gm(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return h6(this,new Gm(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Gm))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function PX(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var HC,Vm=null,Y4e=0,d6=200,q4e=204,K4e=1223,Z4e=2;function p6(){}function v6(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function XC(t){return t.toString().replace("object ","")}var br=function(){function t(e,r,n){if(this._dequeue=p6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=p6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new zs,this.onProgress=new zs,this.onComplete=new zs,this.onAfterMiddleware=new zs}return t.setExtensionLoadType=function(e,r){v6(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){v6(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof HC>"u"&&(HC=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),HC&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(XC(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(XC(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(XC(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?d6:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===Y4e&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=d6:n===K4e&&(n=q4e);var i=n/100|0;if(i===Z4e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Vm||(Vm=document.createElement("a")),Vm.href=e;var n=PX(Vm.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(br||(br={}));function qu(){}function J4e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var Q4e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),WC=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=qu,this.unsaturated=qu,this.empty=qu,this.drain=qu,this.error=qu,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new Q4e(i,typeof o=="function"?o:qu);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,J4e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=qu,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),zC=100,eNe=/(#[\w-]+)?$/,$a=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=WC.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new zs,this.onError=new zs,this.onLoad=new zs,this.onStart=new zs,this.onComplete=new zs;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new br(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=zC/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=PX(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=eNe.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,WC.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=zC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),WC.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(zC,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();$a.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var OX=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?$a.shared:new $a},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),kX=function(){function t(){}return t.add=function(){br.setExtensionLoadType("svg",br.LOAD_TYPE.XHR),br.setExtensionXhrType("svg",br.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===br.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;gt.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),tNe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rNe(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=tNe.charAt(i[a])}return e}function nNe(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===br.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+rNe(t.xhr.responseText),t.type=br.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=br.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}$a.registerPlugin({use:nNe});$a.registerPlugin(kX);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var xr,Ot;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Ot||(Ot={}));var sv=(xr={},xr[Ot.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,xr[Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,xr[Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,xr[Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,xr[Ot.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,xr[Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,xr[Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,xr[Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,xr[Ot.COMPRESSED_R11_EAC]=.5,xr[Ot.COMPRESSED_SIGNED_R11_EAC]=.5,xr[Ot.COMPRESSED_RG11_EAC]=1,xr[Ot.COMPRESSED_SIGNED_RG11_EAC]=1,xr[Ot.COMPRESSED_RGB8_ETC2]=.5,xr[Ot.COMPRESSED_RGBA8_ETC2_EAC]=1,xr[Ot.COMPRESSED_SRGB8_ETC2]=.5,xr[Ot.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,xr[Ot.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,xr[Ot.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,xr[Ot.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,xr[Ot.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,xr[Ot.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,xr[Ot.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,xr[Ot.COMPRESSED_RGB_ETC1_WEBGL]=.5,xr[Ot.COMPRESSED_RGB_ATC_WEBGL]=.5,xr[Ot.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,xr[Ot.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,xr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var CT=function(t,e){return CT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},CT(t,e)};function FX(t,e){CT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function iNe(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function aNe(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var NX=function(t){FX(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Hy(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return iNe(this,void 0,Promise,function(){var r,n,i;return aNe(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Hy(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(lf),Xy=function(t){FX(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,d=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,d)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*sv[n],g=0;g<i;g++)l[g]={levelID:g,levelWidth:i>1?f:d,levelHeight:i>1?h:p,levelBuffer:new Uint8Array(r.buffer,u,v)},u+=v,f=f>>1||1,h=h>>1||1,d=f+a-1&~(a-1),p=h+o-1&~(o-1),v=d*p*sv[n];return l},e}(NX),LX=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===br.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=wc.resolve(e.url.replace(i.baseUrl,""),o),v=n.cacheID;i.add(v,p,d,function(g){if(g.error){r(g.error);return}var m=g.texture,_=m===void 0?null:m,x=g.textures,b=x===void 0?{}:x;Object.assign(e,{texture:_,textures:b}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function MX(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new gt(new Qt(a,Object.assign({mipmap:ja.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);Qt.addToCache(s,c),gt.addToCache(a,c),o===0&&(Qt.addToCache(s,t),gt.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var I0,wo;br.setExtensionXhrType("dds",br.XHR_RESPONSE_TYPE.BUFFER);var YC=4,Hm=124,oNe=32,g6=20,sNe=542327876,Xm={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},lNe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Wm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Co;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Co||(Co={}));var AT;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(AT||(AT={}));var uNe=1,cNe=2,fNe=4,hNe=64,dNe=512,pNe=131072,vNe=827611204,gNe=861165636,mNe=894720068,_Ne=808540228,yNe=4,xNe=(I0={},I0[vNe]=Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,I0[gNe]=Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,I0[mNe]=Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,I0),bNe=(wo={},wo[Co.DXGI_FORMAT_BC1_TYPELESS]=Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,wo[Co.DXGI_FORMAT_BC1_UNORM]=Ot.COMPRESSED_RGBA_S3TC_DXT1_EXT,wo[Co.DXGI_FORMAT_BC2_TYPELESS]=Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,wo[Co.DXGI_FORMAT_BC2_UNORM]=Ot.COMPRESSED_RGBA_S3TC_DXT3_EXT,wo[Co.DXGI_FORMAT_BC3_TYPELESS]=Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,wo[Co.DXGI_FORMAT_BC3_UNORM]=Ot.COMPRESSED_RGBA_S3TC_DXT5_EXT,wo[Co.DXGI_FORMAT_BC1_UNORM_SRGB]=Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,wo[Co.DXGI_FORMAT_BC2_UNORM_SRGB]=Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,wo[Co.DXGI_FORMAT_BC3_UNORM_SRGB]=Ot.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,wo),BX=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,MX(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==sNe)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,Hm/Uint32Array.BYTES_PER_ELEMENT),a=i[Xm.HEIGHT],o=i[Xm.WIDTH],s=i[Xm.MIPMAP_COUNT],c=new Uint32Array(e,Xm.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,oNe/Uint32Array.BYTES_PER_ELEMENT),l=c[uNe];if(l&fNe){var u=c[lNe.FOURCC];if(u!==_Ne){var f=xNe[u],h=YC+Hm,d=new Uint8Array(e,h),p=new Xy(d,{format:f,width:o,height:a,levels:s});return[p]}var v=YC+Hm,g=new Uint32Array(r.buffer,v,g6/Uint32Array.BYTES_PER_ELEMENT),m=g[Wm.DXGI_FORMAT],_=g[Wm.RESOURCE_DIMENSION],x=g[Wm.MISC_FLAG],b=g[Wm.ARRAY_SIZE],w=bNe[m];if(w===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+m);if(x===yNe)throw new Error("DDSLoader does not support cubemap textures");if(_===AT.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var S=new Array,C=YC+Hm+g6;if(b===1)S.push(new Uint8Array(e,C));else{for(var A=sv[w],T=0,R=o,O=a,P=0;P<s;P++){var k=Math.max(1,R+3&-4),F=Math.max(1,O+3&-4),L=k*F*A;T+=L,R=R>>>1,O=O>>>1}for(var D=C,P=0;P<b;P++)S.push(new Uint8Array(e,D,T)),D+=T}return S.map(function(H){return new Xy(H,{format:w,width:o,height:a,levels:s})})}throw l&hNe?new Error("DDSLoader does not support uncompressed texture data."):l&dNe?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&pNe?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&cNe?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Al,Us,R0;br.setExtensionXhrType("ktx",br.XHR_RESPONSE_TYPE.BUFFER);var m6=[171,75,84,88,32,49,49,187,13,10,26,10],wNe=67305985,Eo={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},qC=64,TT=(Al={},Al[lt.UNSIGNED_BYTE]=1,Al[lt.UNSIGNED_SHORT]=2,Al[lt.INT]=4,Al[lt.UNSIGNED_INT]=4,Al[lt.FLOAT]=4,Al[lt.HALF_FLOAT]=8,Al),DX=(Us={},Us[Ue.RGBA]=4,Us[Ue.RGB]=3,Us[Ue.RG]=2,Us[Ue.RED]=1,Us[Ue.LUMINANCE]=1,Us[Ue.LUMINANCE_ALPHA]=2,Us[Ue.ALPHA]=1,Us),UX=(R0={},R0[lt.UNSIGNED_SHORT_4_4_4_4]=2,R0[lt.UNSIGNED_SHORT_5_5_5_1]=2,R0[lt.UNSIGNED_SHORT_5_6_5]=2,R0),jX=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=MX(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var d=new gt(new Qt(f.resource,{mipmap:ja.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(h+1);s&&(d.baseTexture.ktxKeyValueData=s),Qt.addToCache(d.baseTexture,p),gt.addToCache(d,p),h===0&&(u[n]=d,Qt.addToCache(d.baseTexture,n),gt.addToCache(d,n)),u[p]=d}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(Eo.ENDIANNESS,!0)===wNe,a=n.getUint32(Eo.GL_TYPE,i),o=n.getUint32(Eo.GL_FORMAT,i),s=n.getUint32(Eo.GL_INTERNAL_FORMAT,i),c=n.getUint32(Eo.PIXEL_WIDTH,i),l=n.getUint32(Eo.PIXEL_HEIGHT,i)||1,u=n.getUint32(Eo.PIXEL_DEPTH,i)||1,f=n.getUint32(Eo.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Eo.NUMBER_OF_FACES,i),d=n.getUint32(Eo.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(Eo.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,g=4,m=c+3&-4,_=l+3&-4,x=new Array(f),b=c*l;a===0&&(b=m*_);var w;if(a!==0?TT[a]?w=TT[a]*DX[o]:w=UX[a]:w=sv[s],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var S=t.loadKeyValueData?t.parseKvData(n,p,i):null,C=b*w,A=C,T=c,R=l,O=m,P=_,k=qC+p,F=0;F<d;F++){for(var L=n.getUint32(k,i),D=k+4,H=0;H<f;H++){var Q=x[H];Q||(Q=x[H]=new Array(d)),Q[F]={levelID:F,levelWidth:d>1||a!==0?T:O,levelHeight:d>1||a!==0?R:P,levelBuffer:new Uint8Array(r,D,A)},D+=A}k+=L+4,k=k%4!==0?k+4-k%4:k,T=T>>1||1,R=R>>1||1,O=T+v-1&~(v-1),P=R+g-1&~(g-1),A=O*P*w}return a!==0?{uncompressed:x.map(function(ee){var G=ee[0].levelBuffer,B=!1;return a===lt.FLOAT?G=new Float32Array(ee[0].levelBuffer.buffer,ee[0].levelBuffer.byteOffset,ee[0].levelBuffer.byteLength/4):a===lt.UNSIGNED_INT?(B=!0,G=new Uint32Array(ee[0].levelBuffer.buffer,ee[0].levelBuffer.byteOffset,ee[0].levelBuffer.byteLength/4)):a===lt.INT&&(B=!0,G=new Int32Array(ee[0].levelBuffer.buffer,ee[0].levelBuffer.byteOffset,ee[0].levelBuffer.byteLength/4)),{resource:new lf(G,{width:ee[0].levelWidth,height:ee[0].levelHeight}),type:a,format:B?t.convertFormatToInteger(o):o}}),kvData:S}:{compressed:x.map(function(ee){return new Xy(null,{format:s,width:c,height:l,levels:d,levelBuffers:ee})}),kvData:S}},t.validate=function(e,r){for(var n=0;n<m6.length;n++)if(r.getUint8(n)!==m6[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case Ue.RGBA:return Ue.RGBA_INTEGER;case Ue.RGB:return Ue.RGB_INTEGER;case Ue.RG:return Ue.RG_INTEGER;case Ue.RED:return Ue.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(qC+a,n),s=qC+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var IT=function(t,e){return IT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},IT(t,e)};function $X(t,e){IT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ENe=function(t){$X(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=We.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Hn(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Vn),_6=function(){function t(e,r,n){this.geometry=new Bd,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||lt.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new On(BH(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new On(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new On(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===lt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===lt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===lt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===lt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),SNe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,CNe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,GX=function(t){$X(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Ur,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:lt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=rl.from(CNe,SNe,{}),n.state=ku.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=ik(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=MH(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,d=0,p=0;d<s;d+=a,p+=1){var v=s-d;v>a&&(v=a),p>=c.length&&c.push(this._generateOneMoreBuffer(r));var g=c[p];g.uploadDynamic(n,d,v);var m=r._bufferUpdateIDs[p]||0;h=h||g._updateID<m,h&&(g._updateID=r._updateID,g.uploadStatic(n,d,v)),o.geometry.bind(g.geometry),u.drawElements(u.TRIANGLES,v*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new _6(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new _6(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var d=r[n+h],p=d._texture,v=d.scale.x,g=d.scale.y,m=p.trim,_=p.orig;m?(l=m.x-d.anchor.x*_.width,c=l+m.width,f=m.y-d.anchor.y*_.height,u=f+m.height):(c=_.width*(1-d.anchor.x),l=_.width*-d.anchor.x,u=_.height*(1-d.anchor.y),f=_.height*-d.anchor.y),a[s]=l*v,a[s+1]=f*g,a[s+o]=c*v,a[s+o+1]=f*g,a[s+o*2]=c*v,a[s+o*2+1]=u*g,a[s+o*3]=l*v,a[s+o*3+1]=u*g,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?U1(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Kv);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Zs;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(Zs||(Zs={}));var Js;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Js||(Js={}));var nd={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Lk=function(){function t(){this.color=16777215,this.alpha=1,this.texture=gt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=gt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var RT=function(t,e){return RT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},RT(t,e)};function Mk(t,e){RT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function y6(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,d=i-o-1,p=o,v=o+1;r=[t[p],t[h]],t[h]=r[0],t[p]=r[1],n=[t[v],t[d]],t[d]=n[0],t[v]=n[1]}}}var Bk={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){y6(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];y6(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=zO(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},lv={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===Wr.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===Wr.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var d=Math.ceil(2.3*Math.sqrt(o+s)),p=d*8+(i?4:0)+(a?4:0);if(e.length=p,p!==0){if(d===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var v=0,g=d*4+(i?2:0)+2,m=g,_=p;{var x=i+o,b=a,w=r+x,S=r-x,C=n+b;if(e[v++]=w,e[v++]=C,e[--g]=C,e[--g]=S,a){var A=n-b;e[m++]=S,e[m++]=A,e[--_]=A,e[--_]=w}}for(var T=1;T<d;T++){var R=Math.PI/2*(T/d),x=i+Math.cos(R)*o,b=a+Math.sin(R)*s,w=r+x,S=r-x,C=n+b,A=n-b;e[v++]=w,e[v++]=C,e[--g]=C,e[--g]=S,e[m++]=S,e[m++]=A,e[--_]=A,e[--_]=w}{var x=i,b=a+s,w=r+x,S=r-x,C=n+b,A=n-b;e[v++]=w,e[v++]=C,e[--_]=A,e[--_]=w,i&&(e[v++]=S,e[v++]=C,e[--_]=A,e[--_]=S)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==Wr.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},VX={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function $f(t,e,r){var n=e-t;return t+n*r}function zm(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,d=0,p=0,v=0,g=0;v<=s;++v)g=v/s,l=$f(t,r,g),u=$f(e,n,g),f=$f(r,i,g),h=$f(n,a,g),d=$f(l,f,g),p=$f(u,h,g),!(v===0&&c[c.length-2]===d&&c[c.length-1]===p)&&c.push(d,p);return c}var HX={build:function(t){if(id.nextRoundedRectBehavior){lv.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(zm(n,i+s,n,i,n+s,i,r),zm(n+a-s,i,n+a,i,n+a,i+s,r),zm(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),zm(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(id.nextRoundedRectBehavior){lv.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=zO(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function x6(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,d;o?(h=n,d=-r):(h=-n,d=r);var p=c+h,v=l+d,g=u+h,m=f+d;return s.push(p,v),s.push(g,m),2}function Gf(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,d=f-u,p=Math.abs(d),v=Math.sqrt(c*c+l*l),g=(15*p*Math.sqrt(v)/Math.PI>>0)+1,m=d/g;if(h+=m,s){o.push(t,e),o.push(r,n);for(var _=1,x=h;_<g;_++,x+=m)o.push(t,e),o.push(t+Math.sin(x)*v,e+Math.cos(x)*v);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var _=1,x=h;_<g;_++,x+=m)o.push(t+Math.sin(x)*v,e+Math.cos(x)*v),o.push(t,e);o.push(i,a),o.push(t,e)}return g*2}function ANe(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new $t(n[0],n[1]),s=new $t(n[n.length-2],n[n.length-1]),c=r.type!==Wr.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,d=n.length/2,p=n.length,v=h.length/2,g=a.width/2,m=g*g,_=a.miterLimit*a.miterLimit,x=n[0],b=n[1],w=n[2],S=n[3],C=0,A=0,T=-(b-S),R=x-w,O=0,P=0,k=Math.sqrt(T*T+R*R);T/=k,R/=k,T*=g,R*=g;var F=a.alignment,L=(1-F)*2,D=F*2;c||(a.cap===Js.ROUND?p+=Gf(x-T*(L-D)*.5,b-R*(L-D)*.5,x-T*L,b-R*L,x+T*D,b+R*D,h,!0)+2:a.cap===Js.SQUARE&&(p+=x6(x,b,T,R,L,D,!0,h))),h.push(x-T*L,b-R*L),h.push(x+T*D,b+R*D);for(var H=1;H<d-1;++H){x=n[(H-1)*2],b=n[(H-1)*2+1],w=n[H*2],S=n[H*2+1],C=n[(H+1)*2],A=n[(H+1)*2+1],T=-(b-S),R=x-w,k=Math.sqrt(T*T+R*R),T/=k,R/=k,T*=g,R*=g,O=-(S-A),P=w-C,k=Math.sqrt(O*O+P*P),O/=k,P/=k,O*=g,P*=g;var Q=w-x,ee=b-S,G=w-C,B=A-S,V=ee*G-B*Q,U=V<0;if(Math.abs(V)<.1){h.push(w-T*L,S-R*L),h.push(w+T*D,S+R*D);continue}var $=(-T+x)*(-R+S)-(-T+w)*(-R+b),J=(-O+C)*(-P+S)-(-O+w)*(-P+A),re=(Q*J-G*$)/V,fe=(B*$-ee*J)/V,le=(re-w)*(re-w)+(fe-S)*(fe-S),xe=w+(re-w)*L,Ae=S+(fe-S)*L,ye=w-(re-w)*D,we=S-(fe-S)*D,me=Math.min(Q*Q+ee*ee,G*G+B*B),Pe=U?L:D,je=me+Pe*Pe*m,Le=le<=je;Le?a.join===Zs.BEVEL||le/m>_?(U?(h.push(xe,Ae),h.push(w+T*D,S+R*D),h.push(xe,Ae),h.push(w+O*D,S+P*D)):(h.push(w-T*L,S-R*L),h.push(ye,we),h.push(w-O*L,S-P*L),h.push(ye,we)),p+=2):a.join===Zs.ROUND?U?(h.push(xe,Ae),h.push(w+T*D,S+R*D),p+=Gf(w,S,w+T*D,S+R*D,w+O*D,S+P*D,h,!0)+4,h.push(xe,Ae),h.push(w+O*D,S+P*D)):(h.push(w-T*L,S-R*L),h.push(ye,we),p+=Gf(w,S,w-T*L,S-R*L,w-O*L,S-P*L,h,!1)+4,h.push(w-O*L,S-P*L),h.push(ye,we)):(h.push(xe,Ae),h.push(ye,we)):(h.push(w-T*L,S-R*L),h.push(w+T*D,S+R*D),a.join===Zs.ROUND?U?p+=Gf(w,S,w+T*D,S+R*D,w+O*D,S+P*D,h,!0)+2:p+=Gf(w,S,w-T*L,S-R*L,w-O*L,S-P*L,h,!1)+2:a.join===Zs.MITER&&le/m<=_&&(U?(h.push(ye,we),h.push(ye,we)):(h.push(xe,Ae),h.push(xe,Ae)),p+=2),h.push(w-O*L,S-P*L),h.push(w+O*D,S+P*D),p+=2)}x=n[(d-2)*2],b=n[(d-2)*2+1],w=n[(d-1)*2],S=n[(d-1)*2+1],T=-(b-S),R=x-w,k=Math.sqrt(T*T+R*R),T/=k,R/=k,T*=g,R*=g,h.push(w-T*L,S-R*L),h.push(w+T*D,S+R*D),c||(a.cap===Js.ROUND?p+=Gf(w-T*(L-D)*.5,S-R*(L-D)*.5,w-T*L,S-R*L,w+T*D,S+R*D,h,!1)+2:a.cap===Js.SQUARE&&(p+=x6(w,S,T,R,L,D,!1,h)));for(var ze=e.indices,st=nd.epsilon*nd.epsilon,H=v;H<p+v-2;++H)x=h[H*2],b=h[H*2+1],w=h[(H+1)*2],S=h[(H+1)*2+1],C=h[(H+2)*2],A=h[(H+2)*2+1],!(Math.abs(x*(S-A)+w*(A-b)+C*(b-S))<st)&&ze.push(H,H+1,H+2)}}function TNe(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==Wr.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function PT(t,e){t.lineStyle.native?TNe(t,e):ANe(t,e)}var OT=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,d=Math.abs(l*h-u*f);if(d<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var p=l*l+u*u,v=f*f+h*h,g=l*f+u*h,m=a*Math.sqrt(p)/d,_=a*Math.sqrt(v)/d,x=m*g/p,b=_*g/v,w=m*h+_*u,S=m*f+_*l,C=u*(_+x),A=l*(_+x),T=h*(m+b),R=f*(m+b),O=Math.atan2(A-S,C-w),P=Math.atan2(R-S,T-w);return{cx:w+e,cy:S+r,radius:a,startAngle:O,endAngle:P,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=nd._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/iv)*40),h=u/(f*2),d=h*2,p=Math.cos(h),v=Math.sin(h),g=f-1,m=g%1/g,_=0;_<=g;++_){var x=_+m*_,b=h+o+d*x,w=Math.cos(b),S=-Math.sin(b);l.push((p*w+v*S)*a+n,(p*-S+v*w)*a+i)}},t}(),XX=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,d=0,p=0,v=0,g=0,m=0,_=0,x=0,b=0,w=e,S=r,C=1;C<=l;++C)f=C/l,h=f*f,d=h*f,p=1-f,v=p*p,g=v*p,m=g*e+3*v*f*n+3*p*h*a+d*s,_=g*r+3*v*f*i+3*p*h*o+d*c,x=w-m,b=S-_,w=m,S=_,u+=Math.sqrt(x*x+b*b);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=nd._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,d=0,p=0,v=0;s.push(c,l);for(var g=1,m=0;g<=u;++g)m=g/u,f=1-m,h=f*f,d=h*f,p=m*m,v=p*m,s.push(d*c+3*h*m*e+3*f*p*n+v*a,d*l+3*h*m*r+3*f*p*i+v*o)},t}(),WX=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),d=l*l+u*u,p=2*Math.sqrt(f+h+d),v=Math.sqrt(f),g=2*f*v,m=2*Math.sqrt(d),_=h/v;return(g*p+v*h*(p-m)+(4*d*f-h*h)*Math.log((2*v+_+p)/(_+m)))/(4*g)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=nd._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),zX=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Ku,j_=(Ku={},Ku[Wr.POLY]=Bk,Ku[Wr.CIRC]=lv,Ku[Wr.ELIP]=lv,Ku[Wr.RECT]=VX,Ku[Wr.RREC]=HX,Ku),kT=[],z0=[],FT=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Vf=new $t,INe=new rd,YX=function(t){Mk(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new rd,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),z0.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),kT.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new FT(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new FT(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,Vf):Vf.copyFrom(r),a.shape.contains(Vf.x,Vf.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(Vf.x,Vf.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=j_[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var d=h===0?l:u;if(d.visible){var p=d.texture.baseTexture,v=this.indices.length,g=this.points.length/2;p.wrapMode=ds.REPEAT,h===0?this.processFill(c):this.processLine(c);var m=this.points.length/2-g;m!==0&&(a&&!this._compareStyles(o,d)&&(a.end(v,g),a=null),a||(a=kT.pop()||new zX,a.begin(d,v,g),this.batches.push(a),o=d),this.addUvs(this.points,n,d.texture,g,m,d.matrix))}}}var _=this.indices.length,x=this.points.length/2;if(a&&a.end(_,x),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=x>65535&&r;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Qt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),z0.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=z0.pop();o||(o=new Gy,o.texArray=new Vy),o.texArray.count=0,o.start=0,o.size=0,o.type=Ma.TRIANGLES;var s=0,c=null,l=0,u=!1,f=Ma.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,v=d.style,g=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,f=u?Ma.LINES:Ma.TRIANGLES,c=null,s=p,r++),c!==g&&(c=g,g._batchEnabled!==r&&(s===p&&(r++,s=0,o.size>0&&(o=z0.pop(),o||(o=new Gy,o.texArray=new Vy),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),g.touched=1,g._batchEnabled=r,g._batchLocation=s,g.wrapMode=ds.REPEAT,o.texArray.elements[o.texArray.count++]=g,s++)),o.size+=d.size,h+=d.size,l=g._batchLocation,this.addColors(i,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,l,d.attribSize,d.attribStart)}Qt._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)Bk.triangulate(r,this);else{var n=j_[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){PT(r,this);for(var n=0;n<r.holes.length;n++)PT(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=j_[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=INe,i=Ur.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||Ur.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==Wr.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===Wr.RECT||c===Wr.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===Wr.CIRC){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.radius+f,d.radius+f)}else if(c===Wr.ELIP){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.width+f,p.height+f)}else{var v=s;r.addVerticesMatrix(i,v.points,0,v.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=U1(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var d=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=d}c++,n.push(f/u.width,h/u.height)}var p=i.baseTexture;(u.width<p.width||u.height<p.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,d=l.y/l.height,p=Math.floor(r[i]+s),v=Math.floor(r[i+1]+s),g=i+2;g<c;g+=2)p=Math.min(p,Math.floor(r[g]+s)),v=Math.min(v,Math.floor(r[g+1]+s));h-=p,d-=v;for(var g=i;g<c;g+=2)r[g]=(r[g]+h)*u,r[g+1]=(r[g+1]+d)*f},e.BATCHABLE_SIZE=100,e}(kk),qX=function(t){Mk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Js.BUTT,r.join=Zs.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Lk),RNe=new Float32Array(3),KC={},id=function(t){Mk(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new Lk,n._lineStyle=new qX,n._matrix=null,n._holeMode=!1,n.state=ku.for2d(),n._geometry=r||new YX,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=We.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:gt.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Js.BUTT,join:Zs.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Lh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Lh,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),WX.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),XX.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=OT.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,d=c.endAngle,p=c.anticlockwise;this.arc(l,u,f,h,d,p)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=iv:s&&a<=o&&(a+=iv);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var d=Math.abs(h[h.length-2]-l),p=Math.abs(h[h.length-1]-u);d<f&&p<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return OT.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:gt.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:gt.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new Ft(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new HH(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new GH(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new VH(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new Lh(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Wr.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:Hn(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!KC[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ur,default:uu.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;KC[i]=new rl(l,c)}n=KC[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Hn(this.tint,RNe),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,d=0;d<u.length;d+=2){var p=u[d],v=u[d+1];f[h++]=i*p+o*v+c,f[h++]=s*v+a*p+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new $t,e}(Vn),PNe={buildPoly:Bk,buildCircle:lv,buildRectangle:VX,buildRoundedRectangle:HX,buildLine:PT,ArcUtils:OT,BezierUtils:XX,QuadraticUtils:WX,BatchPart:zX,FILL_COMMANDS:j_,BATCH_POOL:kT,DRAW_CALL_POOL:z0};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var NT=function(t,e){return NT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},NT(t,e)};function ONe(t,e){NT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P0=new $t,kNe=new Uint16Array([0,1,2,0,2,3]),La=function(t){ONe(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Yl(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=We.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||gt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=kNe,n.pluginName="batch",n.isSprite=!0,n._roundPixels=rt.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ec(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ec(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,d=this._anchor,p=0,v=0,g=0,m=0;if(f?(v=f.x-d._x*h.width,p=v+f.width,m=f.y-d._y*h.height,g=m+f.height):(v=-d._x*h.width,p=v+h.width,m=-d._y*h.height,g=m+h.height),u[0]=i*v+o*m+c,u[1]=s*m+a*v+l,u[2]=i*p+o*m+c,u[3]=s*m+a*p+l,u[4]=i*p+o*g+c,u[5]=s*g+a*p+l,u[6]=i*v+o*g+c,u[7]=s*g+a*v+l,this._roundPixels)for(var _=rt.RESOLUTION,x=0;x<u.length;++x)u[x]=Math.round((u[x]*_|0)/_)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,d=-a._x*i.width,p=d+i.width,v=-a._y*i.height,g=v+i.height;n[0]=s*d+l*v+f,n[1]=u*v+c*d+h,n[2]=s*p+l*v+f,n[3]=u*v+c*p+h,n[4]=s*p+l*g+f,n[5]=u*g+c*p+h,n[6]=s*d+l*g+f,n[7]=u*g+c*d+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new rd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Ft),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,P0);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return P0.x>=a&&P0.x<a+n&&(o=-i*this.anchor.y,P0.y>=o&&P0.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof gt?r:gt.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Ec(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Ec(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||gt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Vn);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var LT=function(t,e){return LT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},LT(t,e)};function FNe(t,e){LT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ad;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(ad||(ad={}));var ZC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ad.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},NNe=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Yc=function(){function t(e){this.styleID=0,this.reset(),QC(this,e,e)}return t.prototype.clone=function(){var e={};return QC(e,this,ZC),new t(e)},t.prototype.reset=function(){QC(this,ZC,ZC)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=JC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=JC(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){LNe(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=JC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&NNe.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function b6(t){return typeof t=="number"?tk(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function JC(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=b6(t[e]);return t}else return b6(t)}function LNe(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function QC(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Uo=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var d=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=d,f=Math.max(f,d)}var p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||o.fontSize+r.strokeThickness,g=Math.max(v,o.fontSize+r.strokeThickness)+(l.length-1)*(v+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new t(e,r,p,g,l,u,v+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),d=!f,p=r.wordWrapWidth+l,v=t.tokenize(e),g=0;g<v.length;g++){var m=v[g];if(t.isNewline(m)){if(!h){s+=t.addLine(o),d=!f,o="",a=0;continue}m=" "}if(f){var _=t.isBreakingSpace(m),x=t.isBreakingSpace(o[o.length-1]);if(_&&x)continue}var b=t.getFromCache(m,l,c,i);if(b>p)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(m,r.breakWords))for(var w=t.wordWrapSplit(m),S=0;S<w.length;S++){for(var C=w[S],A=1;w[S+A];){var T=w[S+A],R=C[C.length-1];if(!t.canBreakChars(R,T,m,S,r.breakWords))C+=T;else break;A++}S+=C.length-1;var O=t.getFromCache(C,l,c,i);O+a>p&&(s+=t.addLine(o),d=!1,o="",a=0),o+=C,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=g===v.length-1;s+=t.addLine(m,!P),d=!1,o="",a=0}else b+a>p&&(d=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(m)||d)&&(o+=m,a+=b)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d+=f;else break}for(r.ascent=s-h,d=u-f,p=!1,h=c;h>s;--h){for(var v=0;v<f;v+=4)if(l[d+v]!==255){p=!0;break}if(!p)d-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();Uo._fonts={};Uo.METRICS_STRING="|q";Uo.BASELINE_SYMBOL="M";Uo.BASELINE_MULTIPLIER=1.4;Uo.HEIGHT_MULTIPLIER=2;Uo._newlines=[10,13];Uo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var MNe={texture:!0,children:!1,baseTexture:!0},Dk=function(t){FNe(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=gt.from(i);return s.orig=new Ft,s.trim=new Ft,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=rt.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=Uo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,v=n.dropShadow?2:1,g=0;g<v;++g){var m=n.dropShadow&&g===0,_=m?Math.ceil(Math.max(1,s)+n.padding*2):0,x=_*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var b=n.dropShadowColor,w=Hn(typeof b=="number"?b:rk(b)),S=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=S,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+x}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var A=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(A=0);for(var T=0;T<c.length;T++)d=n.strokeThickness/2,p=n.strokeThickness/2+T*l+h.ascent+A,n.align==="right"?d+=f-u[T]:n.align==="center"&&(d+=(f-u[T])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[T],d+n.padding,p+n.padding-_,!0),n.fill&&this.drawLetterSpacing(c[T],d+n.padding,p+n.padding-_)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,d=0;d<u.length;++d){var p=u[d];a?this.context.strokeText(p,l,i):this.context.fillText(p,l,i);for(var v="",g=d+1;g<u.length;++g)v+=u[g];h=this.context.measureText(v).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=UH(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var d=f.length+1,p=1;p<d;++p)h.push(p/d);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===ad.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var v=i.fontProperties.fontSize+r.strokeThickness,p=0;p<n.length;p++){var g=i.lineHeight*(p-1)+v,m=i.lineHeight*p,_=m;p>0&&g>m&&(_=(m+g)/2);var x=m+v,b=i.lineHeight*(p+1),w=x;p+1<n.length&&b<x&&(w=(x+b)/2);for(var S=(w-_)/u,C=0;C<f.length;C++){var A=0;typeof h[C]=="number"?A=h[C]:A=C/f.length;var T=Math.min(1,Math.max(0,_/u+A*S));T=Number(T.toFixed(5)),o.addColorStop(T,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var R=f.length+1,O=1,p=0;p<f.length;p++){var P=void 0;typeof h[p]=="number"?P=h[p]:P=O/R,o.addColorStop(P,f[p]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},MNe,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Ec(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Ec(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Yc?this._style=r:this._style=new Yc(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(La);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */rt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var MT=function(t,e){return MT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},MT(t,e)};function BNe(t,e){MT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var KX=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function DNe(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof gt){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function UNe(t,e){if(t.baseTexture instanceof Qt){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function jNe(t,e){if(t._texture&&t._texture instanceof gt){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function $Ne(t,e){return e instanceof Dk?(e.updateText(!0),!0):!1}function GNe(t,e){if(e instanceof Yc){var r=e.toFontString();return Uo.measureFont(r),!0}return!1}function VNe(t,e){if(t instanceof Dk){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function HNe(t,e){return t instanceof Yc?(e.indexOf(t)===-1&&e.push(t),!0):!1}var ZX=function(){function t(e){var r=this;this.limiter=new KX(rt.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(VNe),this.registerFindHook(HNe),this.registerFindHook(DNe),this.registerFindHook(UNe),this.registerFindHook(jNe),this.registerUploadHook($Ne),this.registerUploadHook(GNe)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,en.system.addOnce(this.tick,this,Bo.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)en.system.addOnce(this.tick,this,Bo.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Vn)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&en.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function JX(t,e){return e instanceof Qt?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function XNe(t,e){if(!(e instanceof id))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&JX(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function WNe(t,e){return t instanceof id?(e.push(t),!0):!1}var QX=function(t){BNe(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(WNe),n.registerUploadHook(JX),n.registerUploadHook(XNe),n}return e}(ZX),zNe=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eW=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof gt?e:null,this.baseTexture=e instanceof Qt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=nv(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new Ft(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new Ft(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new Ft(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new Ft(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new gt(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),gt.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),tW=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==br.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),g=wc.resolve(e.url.replace(a.baseUrl,""),p);if(a.resources[v]||Object.values(a.resources).some(function(_){return wc.format(wc.parse(_.url))===g}))return"continue";var m={crossOrigin:e.crossOrigin,loadType:br.LOAD_TYPE.XHR,xhrType:br.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(v,g,m)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,a.baseUrl);a.add(o,d,h,function(v){if(v.error){r(v.error);return}var g=new eW(v.texture,e.data,e.url);g.parse(function(){e.spritesheet=g,e.textures=g.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:wc.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BT=function(t,e){return BT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},BT(t,e)};function rW(t,e){BT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var O0=new $t,YNe=function(t){rW(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new qv,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new X1(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Ft),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,O0);var n=this._width,i=this._height,a=-n*this.anchor._x;if(O0.x>=a&&O0.x<a+n){var o=-i*this.anchor._y;if(O0.y>=o&&O0.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof gt?r:gt.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(La),qNe=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,w6=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,KNe=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,ZNe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,JNe=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Ym=new Ur,nW=function(t){rW(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new gk,n.state=ku.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=rl.from(w6,qNe,n),this.shader=r.context.webGLVersion>1?rl.from(ZNe,JNe,n):rl.from(w6,KNe,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==ds.CLAMP:l.wrapMode===ds.CLAMP&&(l.wrapMode=ds.REPEAT));var d=h?this.simpleShader:this.shader,p=c.width,v=c.height,g=r._width,m=r._height;Ym.set(u.a*p/g,u.b*p/m,u.c*v/g,u.d*v/m,u.tx/g,u.ty/m),Ym.invert(),h?Ym.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=Ym.toArray(!0),d.uniforms.uColor=ak(r.tint,r.worldAlpha,d.uniforms.uColor,l.alphaMode),d.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),d.uniforms.uSampler=c,n.shader.bind(d),n.geometry.bind(i),this.state.blendMode=ik(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Kv);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var DT=function(t,e){return DT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},DT(t,e)};function Uk(t,e){DT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var iW=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),e2=new $t,E6=new Lh,od=function(t){Uk(e,t);function e(r,n,i,a){a===void 0&&(a=Ma.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||ku.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=rt.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ma.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,d=this.vertexData,p=0;p<d.length/2;p++){var v=i[p*2],g=i[p*2+1];d[p*2]=s*v+l*g+f,d[p*2+1]=c*v+u*g+h}if(this._roundPixels)for(var m=rt.RESOLUTION,p=0;p<d.length;++p)d[p]=Math.round((d[p]*m|0)/m);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new iW(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,e2);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=E6.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],E6.contains(e2.x,e2.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Vn),QNe=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,eLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,sd=function(t){Uk(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:Ur.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||Dd.from(eLe,QNe),a)||this,i._colorDirty=!1,i.uvMatrix=new X1(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;ak(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(rl),Jv=function(t){Uk(e,t);function e(r,n,i){var a=t.call(this)||this,o=new On(r),s=new On(n,!0),c=new On(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,lt.FLOAT).addAttribute("aTextureCoord",s,2,!1,lt.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Bd);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UT=function(t,e){return UT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},UT(t,e)};function tLe(t,e){UT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uv=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),rLe=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),d=isNaN(h)?f:h;s[u]=d}n[a].push(s)}var p=new uv;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),jT=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new uv,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),nLe=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return jT.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return jT.parse(r)},t}(),t2=[rLe,jT,nLe];function aW(t){for(var e=0;e<t2.length;e++)if(t2[e].test(t))return t2[e];return null}function iLe(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=h.length+1,v=1;v<p;++v)d.push(v/p);if(h.unshift(o[0]),d.unshift(0),h.push(o[o.length-1]),d.push(1),r.fillGradientType===ad.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var g=0,m=a.fontProperties.fontSize+r.strokeThickness,_=m/f,v=0;v<i.length;v++)for(var x=a.lineHeight*v,b=0;b<h.length;b++){var w=0;typeof d[b]=="number"?w=d[b]:w=b/h.length;var S=x/f+w*_,C=Math.max(g,S);C=Math.min(C,1),s.addColorStop(C,h[b]),g=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var A=h.length+1,T=1,v=0;v<h.length;v++){var R=void 0;typeof d[v]=="number"?R=d[v]:R=T/A,s.addColorStop(R,h[v]),T++}}return s}function aLe(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=iLe(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=Hn(typeof f=="number"?f:rk(f)),d=o.dropShadowBlur*a,p=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function oW(t){return Array.from?Array.from(t):t.split("")}function oLe(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,oW(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function $_(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var cc=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=nv(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var d=e.page[h],p=d.id,v=d.file;f[p]=r instanceof Array?r[h]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[p].baseTexture.alphaMode=ba.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var g=e.char[h],p=g.id,m=g.page,_=e.char[h],x=_.x,b=_.y,w=_.width,S=_.height,C=_.xoffset,A=_.yoffset,T=_.xadvance;x/=u,b/=u,w/=u,S/=u,C/=u,A/=u,T/=u;var R=new Ft(x+f[m].frame.x/u,b+f[m].frame.y/u,w,S);this.chars[p]={xOffset:C,yOffset:A,xAdvance:T,kerning:{},texture:new gt(f[m].baseTexture,R),page:m}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,k=O.second,F=O.amount;P/=u,k/=u,F/=u,this.chars[k]&&(this.chars[k].kerning[P]=F)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof uv)i=e;else{var a=aW(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof gt&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=oLe(a),f=r instanceof Yc?r:new Yc(r),h=c,d=new uv;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,g,m,_,x=0,b=[],w=0;w<u.length;w++){g||(g=document.createElement("canvas"),g.width=c,g.height=l,m=g.getContext("2d"),_=new Qt(g,{resolution:s}),b.push(new gt(_)),d.page.push({id:b.length-1,file:""}));var S=Uo.measureText(u[w],f,!1,g),C=S.width,A=Math.ceil(S.height),T=Math.ceil((f.fontStyle==="italic"?2:1)*C);if(v>=l-A*s){if(v===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--w,g=null,m=null,_=null,v=0,p=0,x=0;continue}if(x=Math.max(A+S.fontProperties.descent,x),T*s+p>=h){--w,v+=x*s,v=Math.ceil(v),p=0,x=0;continue}aLe(g,m,S,p,v,s,f);var R=$_(S.text);d.char.push({id:R,page:b.length-1,x:p/s,y:v/s,width:T,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(C-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(T+2*o)*s,p=Math.ceil(p)}for(var w=0,O=u.length;w<O;w++)for(var P=u[w],k=0;k<O;k++){var F=u[k],L=m.measureText(P).width,D=m.measureText(F).width,H=m.measureText(P+F).width,Q=H-(L+D);Q&&d.kerning.push({first:$_(P),second:$_(F),amount:Q})}var ee=new t(d,b,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=ee,ee},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),sLe=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,lLe=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,uLe=[],cLe=[],S6=[],fLe=function(t){tLe(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!cc.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||cc.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new Yl(function(){i.dirty=!0},i,0,0),i._roundPixels=rt.ROUND_PIXELS,i.dirty=!0,i._resolution=rt.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=cc.available[this._fontName],i=this._fontSize/n.size,a=new $t,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=oW(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?uLe:cLe,d=null,p=0,v=0,g=0,m=-1,_=0,x=0,b=0,w=0,S=0;S<u.length;S++){var C=u[S],A=$_(C);if(/(?:\s)/.test(C)&&(m=S,_=p,w++),C==="\r"||C===`
`){s.push(p),c.push(-1),v=Math.max(v,p),++g,++x,a.x=0,a.y+=n.lineHeight,d=null,w=0;continue}var T=n.chars[A];if(T){d&&T.kerning[d]&&(a.x+=T.kerning[d]);var R=S6.pop()||{texture:gt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new $t};R.texture=T.texture,R.line=g,R.charCode=A,R.position.x=a.x+T.xOffset+this._letterSpacing/2,R.position.y=a.y+T.yOffset,R.prevSpaces=w,o.push(R),p=R.position.x+Math.max(T.xAdvance,T.texture.orig.width),a.x+=T.xAdvance+this._letterSpacing,b=Math.max(b,T.yOffset+T.texture.height),d=A,m!==-1&&f>0&&a.x>f&&(++x,ps(o,1+m-x,1+S-m),S=m,m=-1,s.push(_),c.push(o.length>0?o[o.length-1].prevSpaces:0),v=Math.max(v,_),g++,a.x=0,a.y+=n.lineHeight,d=null,w=0)}}var O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(p=_),s.push(p),v=Math.max(v,p),c.push(-1));for(var P=[],S=0;S<=g;S++){var k=0;this._align==="right"?k=v-s[S]:this._align==="center"?k=(v-s[S])/2:this._align==="justify"&&(k=c[S]<0?0:(v-s[S])/c[S]),P.push(k)}for(var F=o.length,L={},D=[],H=this._activePagesMeshData,S=0;S<H.length;S++)h.push(H[S]);for(var S=0;S<F;S++){var Q=o[S].texture,ee=Q.baseTexture.uid;if(!L[ee]){var G=h.pop();if(!G){var B=new Jv,V=void 0,U=void 0;n.distanceFieldType==="none"?(V=new sd(gt.EMPTY),U=We.NORMAL):(V=new sd(gt.EMPTY,{program:Dd.from(lLe,sLe),uniforms:{uFWidth:0}}),U=We.NORMAL_NPM);var $=new od(B,V);$.blendMode=U,G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:$,vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;var J=this._textureCache;J[ee]=J[ee]||new gt(Q.baseTexture),G.mesh.texture=J[ee],G.mesh.tint=this._tint,D.push(G),L[ee]=G}L[ee].total++}for(var S=0;S<H.length;S++)D.indexOf(H[S])===-1&&this.removeChild(H[S].mesh);for(var S=0;S<D.length;S++)D[S].mesh.parent!==this&&this.addChild(D[S].mesh);this._activePagesMeshData=D;for(var S in L){var G=L[S],re=G.total;if(!(((r=G.indices)===null||r===void 0?void 0:r.length)>6*re)||G.vertices.length<od.BATCHABLE_SIZE*2)G.vertices=new Float32Array(4*2*re),G.uvs=new Float32Array(4*2*re),G.indices=new Uint16Array(6*re);else for(var fe=G.total,le=G.vertices,xe=fe*4*2;xe<le.length;xe++)le[xe]=0;G.mesh.size=6*re}for(var S=0;S<F;S++){var C=o[S],Ae=C.position.x+P[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(Ae=Math.round(Ae));var ye=Ae*i,we=C.position.y*i,Q=C.texture,me=L[Q.baseTexture.uid],Pe=Q.frame,je=Q._uvs,Le=me.index++;me.indices[Le*6+0]=0+Le*4,me.indices[Le*6+1]=1+Le*4,me.indices[Le*6+2]=2+Le*4,me.indices[Le*6+3]=0+Le*4,me.indices[Le*6+4]=2+Le*4,me.indices[Le*6+5]=3+Le*4,me.vertices[Le*8+0]=ye,me.vertices[Le*8+1]=we,me.vertices[Le*8+2]=ye+Pe.width*i,me.vertices[Le*8+3]=we,me.vertices[Le*8+4]=ye+Pe.width*i,me.vertices[Le*8+5]=we+Pe.height*i,me.vertices[Le*8+6]=ye,me.vertices[Le*8+7]=we+Pe.height*i,me.uvs[Le*8+0]=je.x0,me.uvs[Le*8+1]=je.y0,me.uvs[Le*8+2]=je.x1,me.uvs[Le*8+3]=je.y1,me.uvs[Le*8+4]=je.x2,me.uvs[Le*8+5]=je.y2,me.uvs[Le*8+6]=je.x3,me.uvs[Le*8+7]=je.y3}this._textWidth=v*i,this._textHeight=(a.y+n.lineHeight)*i;for(var S in L){var G=L[S];if(this.anchor.x!==0||this.anchor.y!==0)for(var ze=0,st=this._textWidth*this.anchor.x,xt=this._textHeight*this.anchor.y,Et=0;Et<G.total;Et++)G.vertices[ze++]-=st,G.vertices[ze++]-=xt,G.vertices[ze++]-=st,G.vertices[ze++]-=xt,G.vertices[ze++]-=st,G.vertices[ze++]-=xt,G.vertices[ze++]-=st,G.vertices[ze++]-=xt;this._maxLineHeight=b*i;var it=G.mesh.geometry.getBuffer("aVertexPosition"),ct=G.mesh.geometry.getBuffer("aTextureCoord"),bt=G.mesh.geometry.getIndex();it.data=G.vertices,ct.data=G.uvs,bt.data=G.indices,it.update(),ct.update(),bt.update()}for(var S=0;S<o.length;S++)S6.push(o[S])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=cc.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),d=Math.sqrt(u*u+f*f),p=(Math.abs(h)+Math.abs(d))/2,v=this._fontSize/o,g=0,m=this._activePagesMeshData;g<m.length;g++){var _=m[g];_.mesh.shader.uniforms.uFWidth=p*i*v*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!cc.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Vn),sW=function(){function t(){}return t.add=function(){br.setExtensionXhrType("fnt",br.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=aW(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(v){o[v.metadata.pageFile]=v.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=cc.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===u){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),f=!0;break}}if(!f){var p={crossOrigin:e.crossOrigin,loadType:br.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,p,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $T=function(t,e){return $T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$T(t,e)};function hLe(t,e){$T(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dLe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,lW=function(t){hLe(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,bX,dLe,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var GT=function(t,e){return GT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},GT(t,e)};function uW(t,e){GT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pLe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function vLe(t,e){var r=Math.ceil(t/2),n=pLe,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var gLe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},mLe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function _Le(t){for(var e=gLe[t],r=e.length,n=mLe,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var C6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(C6||(C6={}));var A6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(A6||(A6={}));var T6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(T6||(T6={}));var I6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(I6||(I6={}));var R6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(R6||(R6={}));var P6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(P6||(P6={}));var O6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(O6||(O6={}));var k6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(k6||(k6={}));var F6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(F6||(F6={}));var N6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(N6||(N6={}));var L6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(L6||(L6={}));var M6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(M6||(M6={}));var B6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(B6||(B6={}));var cv;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(cv||(cv={}));var D6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(D6||(D6={}));var U6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(U6||(U6={}));var j6;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(j6||(j6={}));var $6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})($6||($6={}));var G6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(G6||(G6={}));var fv=function(t){uW(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=rt.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=vLe(o,r),l=_Le(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,cv.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,cv.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(St),yLe=function(t){uW(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=rt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new fv(!0,r,n,i,a),o.blurYFilter=new fv(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,cv.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var VT=function(t,e){return VT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},VT(t,e)};function xLe(t,e){VT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bLe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,HT=function(t){xLe(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,Ok,bLe,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,d=i+s*(1-i),p=s*(1-i)-c*a,v=s*(1-i)-c*a,g=s*(1-i)+c*a,m=i+s*(1-i),_=[l,u,f,0,0,h,d,p,0,0,v,g,m,0,0,0,0,0,1,0];this._loadMatrix(_,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,d=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(d,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(St);HT.prototype.grayscale=HT.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XT=function(t,e){return XT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},XT(t,e)};function wLe(t,e){XT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ELe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,SLe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,CLe=function(t){wLe(e,t);function e(r,n){var i=this,a=new Ur;return r.renderable=!1,i=t.call(this,SLe,ELe,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new $t(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var WT=function(t,e){return WT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},WT(t,e)};function ALe(t,e){WT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var TLe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,ILe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,RLe=function(t){ALe(e,t);function e(){return t.call(this,TLe,ILe)||this}return e}(St);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zT=function(t,e){return zT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},zT(t,e)};function PLe(t,e){zT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OLe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,kLe=function(t){PLe(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,Ok,OLe,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var V6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(V6||(V6={}));var H6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(H6||(H6={}));var X6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(X6||(X6={}));var W6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(W6||(W6={}));var z6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(z6||(z6={}));var Y6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Y6||(Y6={}));var q6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(q6||(q6={}));var K6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(K6||(K6={}));var Z6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Z6||(Z6={}));var J6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(J6||(J6={}));var Q6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Q6||(Q6={}));var e5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(e5||(e5={}));var t5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(t5||(t5={}));var r5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(r5||(r5={}));var n5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(n5||(n5={}));var i5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(i5||(i5={}));var a5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(a5||(a5={}));var YT;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(YT||(YT={}));var o5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(o5||(o5={}));var cW=new Ur;pn.prototype._cacheAsBitmap=!1;pn.prototype._cacheData=null;pn.prototype._cacheAsBitmapResolution=null;pn.prototype._cacheAsBitmapMultisample=YT.NONE;var FLe=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(pn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new FLe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});pn.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};pn.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(rt.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=Su.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Eu();this._cacheData.textureCacheId=f,Qt.addToCache(u.baseTexture,f),gt.addToCache(u,f);var h=this.transform.localTransform.copyTo(cW).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new La(u);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};pn.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};pn.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(rt.RESOLUTION);var o=Su.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Eu();this._cacheData.textureCacheId=s,Qt.addToCache(o.baseTexture,s),gt.addToCache(o,s);var c=cW;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new La(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};pn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};pn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};pn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Qt.removeFromCache(this._cacheData.textureCacheId),gt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};pn.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */pn.prototype.name=null;Vn.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */pn.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new $t),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qT=function(t,e){return qT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qT(t,e)};function Ud(t,e){qT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fW=function(t){Ud(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var d=o*s,u=0;u<d;u++){var p=u%o,v=u/o|0,g=v*this.segWidth+p,m=v*this.segWidth+p+1,_=(v+1)*this.segWidth+p,x=(v+1)*this.segWidth+p+1;a.push(g,m,_,m,x,_)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Jv),hW=function(t){Ud(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var d=h*4;if(this.textureScale>0){var p=l.x-r[h].x,v=l.y-r[h].y,g=Math.sqrt(p*p+v*v);l=r[h],c+=g/u}else c=h/(f-1);o[d]=c,o[d+1]=0,o[d+2]=c,o[d+3]=1}for(var m=0,h=0;h<f-1;h++){var d=h*2;s[m++]=d,s[m++]=d+1,s[m++]=d+2,s[m++]=d+2,s[m++]=d+1,s[m++]=d+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=d,o*=d,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Jv),NLe=function(t){Ud(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new hW(r.height,n,i),s=new sd(r);return i>0&&(r.baseTexture.wrapMode=ds.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(od),dW=function(t){Ud(e,t);function e(r,n,i){var a=this,o=new fW(r.width,r.height,n,i),s=new sd(gt.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(od),pW=function(t){Ud(e,t);function e(r,n,i,a,o){r===void 0&&(r=gt.EMPTY);var s=this,c=new Jv(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new sd(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(od),qm=10,LLe=function(t){Ud(e,t);function e(r,n,i,a,o){n===void 0&&(n=qm),i===void 0&&(i=qm),a===void 0&&(a=qm),o===void 0&&(o=qm);var s=t.call(this,gt.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(dW);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var KT=function(t,e){return KT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},KT(t,e)};function MLe(t,e){KT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var BLe=function(t){MLe(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof gt?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(en.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(gt.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(gt.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof gt)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(en.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(La);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */fl.registerPlugin("accessibility",zH);fl.registerPlugin("extract",RX);fl.registerPlugin("interaction",ZH);fl.registerPlugin("particle",GX);fl.registerPlugin("prepare",QX);fl.registerPlugin("batch",CX);fl.registerPlugin("tilingSprite",nW);$a.registerPlugin(sW);$a.registerPlugin(LX);$a.registerPlugin(BX);$a.registerPlugin(jX);$a.registerPlugin(tW);Zv.registerPlugin(YH);Zv.registerPlugin(OX);var DLe="6.4.2",vW={AlphaFilter:lW,BlurFilter:yLe,BlurFilterPass:fv,ColorMatrixFilter:HT,DisplacementFilter:CLe,FXAAFilter:RLe,NoiseFilter:kLe};const ULe=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return ba},AbstractBatchRenderer:wX,AbstractMultiResource:G1,AbstractRenderer:yX,AccessibilityManager:zH,AnimatedSprite:BLe,AppLoaderPlugin:OX,Application:Zv,ArrayResource:uk,Attribute:mT,get BLEND_MODES(){return We},get BUFFER_BITS(){return ev},get BUFFER_TYPE(){return Mo},BaseImageResource:ms,BasePrepare:ZX,BaseRenderTexture:pk,BaseTexture:Qt,BatchDrawCall:Gy,BatchGeometry:kk,BatchPluginFactory:SX,BatchRenderer:CX,BatchShaderGenerator:EX,BatchSystem:_k,BatchTextureArray:Vy,BitmapFont:cc,BitmapFontData:uv,BitmapFontLoader:sW,BitmapText:fLe,BlobResource:NX,Bounds:rd,Buffer:On,BufferResource:lf,get CLEAR_MODES(){return Hs},CanvasResource:V1,Circle:GH,CompressedTextureLoader:LX,CompressedTextureResource:Xy,Container:Vn,ContextSystem:yk,CountLimiter:KX,CubeResource:ck,DDSLoader:BX,DEG_TO_RAD:ll,get DRAW_MODES(){return Ma},DisplayObject:pn,get ENV(){return gs},Ellipse:VH,Extract:RX,get FORMATS(){return Ue},FORMATS_TO_COMPONENTS:DX,FillStyle:Lk,Filter:St,FilterState:tX,FilterSystem:mk,Framebuffer:$y,FramebufferSystem:xk,get GC_MODES(){return jy},GLFramebuffer:rX,GLProgram:gX,GLTexture:U_,GRAPHICS_CURVES:nd,Geometry:Bd,GeometrySystem:bk,Graphics:id,GraphicsData:FT,GraphicsGeometry:YX,IGLUniformData:w4e,INSTALLED:av,get INTERNAL_FORMATS(){return Ot},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:sv,ImageBitmapResource:dk,ImageResource:H1,InteractionData:dT,InteractionEvent:qH,InteractionManager:ZH,InteractionTrackingData:D_,KTXLoader:jX,get LINE_CAP(){return Js},get LINE_JOIN(){return Zs},LineStyle:qX,Loader:$a,get LoaderResource(){return br},get MASK_TYPES(){return pi},get MIPMAP_MODES(){return ja},get MSAA_QUALITY(){return bn},MaskData:nX,MaskSystem:wk,Matrix:Ur,Mesh:od,MeshBatchUvs:iW,MeshGeometry:Jv,MeshMaterial:sd,NineSlicePlane:LLe,ObjectRenderer:Kv,ObservablePoint:Yl,PI_2:iv,get PRECISION(){return No},ParticleContainer:ENe,ParticleRenderer:GX,PlaneGeometry:fW,Point:$t,Polygon:Lh,Prepare:QX,Program:Dd,ProjectionSystem:Ck,Quad:eX,QuadUv:gk,RAD_TO_DEG:ok,get RENDERER_TYPE(){return td},Rectangle:Ft,RenderTexture:Su,RenderTexturePool:QH,RenderTextureSystem:Ak,Renderer:fl,Resource:zc,RopeGeometry:hW,RoundedRectangle:HH,Runner:mi,get SAMPLER_TYPES(){return tv},get SCALE_MODES(){return ni},get SHAPES(){return Wr},SVGResource:fk,ScissorSystem:Ek,Shader:rl,ShaderSystem:Tk,SimpleMesh:pW,SimplePlane:dW,SimpleRope:NLe,Sprite:La,SpriteMaskFilter:cX,Spritesheet:eW,SpritesheetLoader:tW,State:ku,StateSystem:Ik,StencilSystem:Sk,System:D4e,get TARGETS(){return lu},get TEXT_GRADIENT(){return ad},get TYPES(){return lt},TYPES_TO_BYTES_PER_COMPONENT:TT,TYPES_TO_BYTES_PER_PIXEL:UX,TemporaryDisplayObject:lk,Text:Dk,TextMetrics:Uo,TextStyle:Yc,Texture:gt,TextureGCSystem:Rk,TextureLoader:kX,TextureMatrix:X1,TextureSystem:Pk,TextureUvs:vk,Ticker:en,TickerPlugin:YH,TilingSprite:YNe,TilingSpriteRenderer:nW,TimeLimiter:zNe,Transform:qv,get UPDATE_PRIORITY(){return Bo},UniformGroup:uu,VERSION:DLe,VideoResource:hk,ViewableBuffer:Hy,get WRAP_MODES(){return ds},accessibleTarget:WH,autoDetectRenderer:xX,autoDetectResource:$1,checkMaxIfStatementsInShader:uX,createUBOElements:dX,defaultFilterVertex:Ok,defaultVertex:bX,filters:vW,generateProgram:mX,generateUniformBufferSync:vX,getTestContext:oX,getUBOData:pX,graphicsUtils:PNe,groupD8:Vr,interactiveTarget:KH,isMobile:uo,resources:AX,settings:rt,systems:TX,uniformParsers:Nc,utils:B3e},Symbol.toStringTag,{value:"Module"}));let Km;const jLe=new Uint8Array(16);function $Le(){if(!Km&&(Km=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Km))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Km(jLe)}const di=[];for(let t=0;t<256;++t)di.push((t+256).toString(16).slice(1));function GLe(t,e=0){return di[t[e+0]]+di[t[e+1]]+di[t[e+2]]+di[t[e+3]]+"-"+di[t[e+4]]+di[t[e+5]]+"-"+di[t[e+6]]+di[t[e+7]]+"-"+di[t[e+8]]+di[t[e+9]]+"-"+di[t[e+10]]+di[t[e+11]]+di[t[e+12]]+di[t[e+13]]+di[t[e+14]]+di[t[e+15]]}const VLe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s5={randomUUID:VLe};function k0(t,e,r){if(s5.randomUUID&&!e&&!t)return s5.randomUUID();t=t||{};const n=t.random||(t.rng||$Le)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return GLe(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZT=function(t,e){return ZT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZT(t,e)};function HLe(t,e){ZT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,WLe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,zLe=function(t){HLe(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,XLe,WLe)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(St);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JT=function(t,e){return JT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JT(t,e)};function YLe(t,e){JT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,KLe=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,ZLe=function(t){YLe(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,qLe,KLe)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QT=function(t,e){return QT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QT(t,e)};function JLe(t,e){QT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var QLe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,tMe=function(t){JLe(e,t);function e(r){var n=t.call(this,QLe,eMe)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(St);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eI=function(t,e){return eI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eI(t,e)};function rMe(t,e){eI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iMe=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,aMe=function(t){rMe(e,t);function e(r){var n=t.call(this,nMe,iMe)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=gt.from(n._canvas,{scaleMode:ni.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*ll;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(St);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tI=function(t,e){return tI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tI(t,e)};function oMe(t,e){tI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,lMe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,uMe=function(t){oMe(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,sMe,lMe)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rI=function(t,e){return rI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rI(t,e)};function cMe(t,e){rI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hMe=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,dMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,pMe=function(t){cMe(e,t);function e(r){var n=t.call(this,fMe,dMe.replace("${perlin}",hMe))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new $t,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*ll;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(St);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nI=function(t,e){return nI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nI(t,e)};function vMe(t,e){nI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){vMe(e,t);function e(r){var n=t.call(this,gMe,mMe)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(St);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iI=function(t,e){return iI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iI(t,e)};function _Me(t,e){iI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xMe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,bMe=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,Wy=function(t){_Me(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,yMe,i?bMe:xMe)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new $t,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,d=this._quality-1,p=0;p<d;p++)c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof $t?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(St);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aI=function(t,e){return aI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},aI(t,e)};function gW(t,e){aI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wMe=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,EMe=function(t){gW(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,mW,wMe)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(St),SMe=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){gW(e,t);function e(r){var n=t.call(this,mW,SMe)||this;n.bloomScale=1,n.brightness=1,n._resolution=rt.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new EMe(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new Wy(a):new Wy(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:rt.FILTER_RESOLUTION},e})(St);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oI=function(t,e){return oI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oI(t,e)};function CMe(t,e){oI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var AMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,TMe=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){CMe(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,AMe,TMe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sI=function(t,e){return sI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sI(t,e)};function IMe(t,e){sI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var RMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PMe=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){IMe(e,t);function e(r){var n=t.call(this,RMe,PMe)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/ll},set:function(r){this._angle=r*ll,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return ra(this.uniforms.lightColor)},set:function(r){Hn(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return ra(this.uniforms.shadowColor)},set:function(r){Hn(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lI=function(t,e){return lI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lI(t,e)};function OMe(t,e){lI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){OMe(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=rt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof $t?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new fv(!0,s,n,i,a),o.blurYFilter=new fv(!1,c,n,i,a),o.blurYFilter.blendMode=We.SCREEN,o.defaultFilter=new lW,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uI=function(t,e){return uI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uI(t,e)};function kMe(t,e){uI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var FMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,NMe=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){kMe(e,t);function e(r){var n=t.call(this,FMe,NMe)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(St);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cI=function(t,e){return cI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cI(t,e)};function LMe(t,e){cI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var MMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,BMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){LMe(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,MMe,BMe)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof gt||(r=gt.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=ja.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?ni.NEAREST:ni.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=ja.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(St);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fI=function(t,e){return fI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},fI(t,e)};function DMe(t,e){fI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var UMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){DMe(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,UMe,jMe)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(Hn(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hI=function(t,e){return hI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hI(t,e)};function $Me(t,e){hI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var GMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,VMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){$Me(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,GMe,VMe)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(Hn(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(Hn(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dI=function(t,e){return dI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dI(t,e)};function HMe(t,e){dI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var XMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,WMe=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){HMe(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,XMe,WMe)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pI=function(t,e){return pI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pI(t,e)};function zMe(t,e){pI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var YMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qMe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){zMe(e,t);function e(){return t.call(this,YMe,qMe)||this}return e})(St);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vI=function(t,e){return vI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vI(t,e)};function KMe(t,e){vI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZMe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,JMe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){KMe(e,t);function e(r){var n=t.call(this,ZMe,JMe)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(St);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gI=function(t,e){return gI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gI(t,e)};function QMe(t,e){gI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zy=function(){return zy=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zy.apply(this,arguments)},eBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,tBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){QMe(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=rt.FILTER_RESOLUTION;var i=r?zy(zy({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new St(eBe,tBe),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new $t,n._tintFilter.resolution=l,n._blurFilter=a?new Wy(a):new Wy(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,d=i.alpha,p=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=d,n.color=p,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/ll},set:function(r){this.angle=r*ll,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return ra(this._tintFilter.uniforms.color)},set:function(r){Hn(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:rt.FILTER_RESOLUTION},e})(St);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mI(t,e)};function rBe(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iBe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){rBe(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,nBe,iBe)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_I(t,e)};function aBe(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,sBe=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){aBe(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,oBe,sBe.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return ra(this.uniforms.glowColor)},set:function(r){Hn(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(St);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yI=function(t,e){return yI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yI(t,e)};function lBe(t,e){yI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){lBe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,uBe,cBe)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new Yl(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xI=function(t,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},xI(t,e)};function fBe(t,e){xI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){fBe(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,hBe,dBe.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=Hn(c):s[0]=ra(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=Hn(l):s[1]=ra(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bI=function(t,e){return bI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bI(t,e)};function pBe(t,e){bI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,gBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){pBe(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,vBe,gBe.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return ra(this.uniforms.outlineColor)},set:function(r){Hn(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(St);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wI=function(t,e){return wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wI(t,e)};function mBe(t,e){wI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _Be=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yBe=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){mBe(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,_Be,yBe)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EI=function(t,e){return EI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},EI(t,e)};function xBe(t,e){EI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){xBe(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,bBe,wBe)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SI=function(t,e){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},SI(t,e)};function EBe(t,e){SI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,CBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,ABe=function(t){EBe(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,SBe,CBe)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(St);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CI=function(t,e){return CI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CI(t,e)};function TBe(t,e){CI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,RBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){TBe(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,IBe,RBe)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(Hn(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=ra(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AI(t,e)};function W1(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OBe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,_W=function(t){W1(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,PBe,OBe)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new $t(0,window.innerHeight/2),o.uniforms.end=a||new $t(600,window.innerHeight/2),o.uniforms.delta=new $t(30,30),o.uniforms.texSize=new $t(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(St),kBe=function(t){W1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(_W),FBe=function(t){W1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(_W);(function(t){W1(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new kBe(r,n,i,a),o.tiltShiftYFilter=new FBe(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(St);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},TI(t,e)};function NBe(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var LBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,MBe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){NBe(e,t);function e(r){var n=t.call(this,LBe,MBe)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new $t},e})(St);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},II(t,e)};function BBe(t,e){II(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function DBe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var UBe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jBe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){BBe(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=DBe(i,["maxKernelSize"]);return n=t.call(this,UBe,jBe.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(St);const RI="shockwaveFilter";function $Be(t,e){const r=t.containerFilters.get(RI);if(r)return r;if(e){const n=new ABe([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(RI,n),n}}function GBe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function VBe(t,e){if(e===0)t.removeFilter(RI);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const PI=0,OI="radiusAlphaFilter";class HBe extends St{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new $t(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function XBe(t,e){const r=t.containerFilters.get(OI);if(r)return r;if(e){const n=new HBe(new $t(.5,.5),PI);return n.radius=PI,t.addFilter(n),t.containerFilters.set(OI,n),n}}function WBe(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:PI}function zBe(t,e){if(e===0)t.removeFilter(OI);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class r2 extends Vn{constructor(){super();Ye(this,"containerFilters",new Map);Ye(this,"baseX",0);Ye(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new vW.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new zLe;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new ZLe;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new tMe;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new aMe;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new uMe;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new pMe;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return $Be(this,r)}get shockwaveFilter(){return GBe(this)}set shockwaveFilter(r){VBe(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return XBe(this,r)}get radiusAlphaFilter(){return WBe(this)}set radiusAlphaFilter(r){zBe(this,r)}}var kt;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(kt||(kt={}));var Yy=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),z;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(z||(z={}));var It;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(It||(It={}));var zr;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(zr||(zr={}));var dn;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(dn||(dn={}));var _t;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(_t||(_t={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kI=function(t,e){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kI(t,e)};function jd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function l5(t){switch(t.toLowerCase()){case"nearest":return ea.Nearest;case"linear":return ea.Linear;case"mipmap":return ea.MipMap;case"mipmapnearestnearest":return ea.MipMapNearestNearest;case"mipmaplinearnearest":return ea.MipMapLinearNearest;case"mipmapnearestlinear":return ea.MipMapNearestLinear;case"mipmaplinearlinear":return ea.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var ea;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(ea||(ea={}));var ql;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(ql||(ql={}));var FI=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),YBe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),qBe=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new u5,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=ea.Nearest,i.uWrap=ql.ClampToEdge,i.vWrap=ql.ClampToEdge,n.push(i)}var s=new c5;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new KBe(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=l5(o[1]),s.magFilter=l5(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=ql.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=ql.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var d=o[1],p=0;d.toLocaleLowerCase()=="true"?p=6:d.toLocaleLowerCase()=="false"?p=0:p=(720-parseFloat(d))%360/45,l.rotate=p},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new u5,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var d=c[o[0]];d&&d()}i.pages.push(s),r(s.name,function(T){if(T===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=T,s.pma&&(T.alphaMode=ba.PMA),T.valid||T.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=T.realWidth,s.height=T.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new YBe;var p=new c5;p.name=f,p.page=s;for(var v=null,g=null;;){var m=a.readEntry(o,f=a.readLine());if(m==0)break;var d=u[o[0]];if(d)d();else{v==null&&(v=[],g=[]),v.push(o[0]);for(var _=[],x=0;x<m;x++)_.push(parseInt(o[x+1]));g.push(_)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var b=s.baseTexture.resolution;l.x/=b,l.y/=b,l.width/=b,l.height/=b,l.originalWidth/=b,l.originalHeight/=b,l.offsetX/=b,l.offsetY/=b;var w=l.rotate%4!==0,S=new Ft(l.x,l.y,w?l.height:l.width,w?l.width:l.height),C=new Ft(0,0,l.originalWidth,l.originalHeight),A=new Ft(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);p.texture=new gt(p.page.baseTexture,S,C,A,l.rotate),p.index=l.index,p.texture.updateUvs(),i.regions.push(p)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),KBe=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),u5=function(){function t(){this.minFilter=ea.Nearest,this.magFilter=ea.Nearest,this.uWrap=ql.ClampToEdge,this.vWrap=ql.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==ea.Linear?e.scaleMode=ni.LINEAR:this.minFilter==ea.Nearest?e.scaleMode=ni.NEAREST:(e.mipmap=ja.POW2,r==ea.MipMapNearestNearest?e.scaleMode=ni.NEAREST:e.scaleMode=ni.LINEAR)},t}(),c5=function(t){jd(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(FI),ZBe=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),JBe=Math.fround||ZBe,yW=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),xW=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),De=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),K=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),QBe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),eDe=function(t){jd(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(QBe),bW=function(t){jd(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(eDe),he=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?JBe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),z1=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),hv=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),jk=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new z1(function(){return he.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===kt.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=he.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],d=l[u+1];e=Math.min(e,h),r=Math.min(r,d),n=Math.max(n,h),i=Math.max(i,d)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],d=0;d<s;d+=2){var p=o[d],v=o[d+1],g=f*v-h*p,m=f-p,_=h-v,x=c*_-l*m,b=(u*m-c*g)/x;if((b>=f&&b<=p||b>=p&&b<=f)&&(b>=r&&b<=i||b>=i&&b<=r)){var w=(u*_-l*g)/x;if((w>=h&&w<=v||w>=v&&w<=h)&&(w>=n&&w<=a||w>=a&&w<=n))return!0}f=p,h=v}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),tDe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},Tl=[0,0,0],rDe=function(t){jd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(La),nDe=function(t){jd(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(pW),Qv=function(t){jd(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===kt.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===kt.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===kt.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:Vn.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return ra(this.tintRgb)},set:function(r){this.tintRgb=Hn(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:tDe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),d=this.slotContainers[l];if(!h){d.visible=!1;continue}var p=null;h.sequence&&h.sequence.apply(f,h);var v=h.region,g=h.color;switch(h!=null&&h.type){case kt.Region:var m=d.transform;if(m.setFromMatrix(f.bone.matrix),v=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!v){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var _=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[_]!==void 0)f.sprites[_].visible=!0;else{var x=this.createSprite(f,h,_);d.addChild(x)}f.currentSprite=f.sprites[_],f.currentSpriteName=_}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,v),f.currentSprite.color?p=f.currentSprite.color:(Tl[0]=s[0]*f.color.r*g.r,Tl[1]=s[1]*f.color.g*g.g,Tl[2]=s[2]*f.color.b*g.b,f.currentSprite.tint=ra(Tl)),f.currentSprite.blendMode=f.blendMode;break;case kt.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var b=new qv;b._parentID=-1,b._worldID=d.transform._worldID,d.transform=b}if(!v){f.currentMesh&&(f.currentMesh.renderable=!1);break}var w=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==w){var S=w;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[S]!==void 0)f.meshes[S].visible=!0;else{var C=this.createMesh(f,h);d.addChild(C)}f.currentMesh=f.meshes[S],f.currentMeshName=h.name,f.currentMeshId=S}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?p=f.currentMesh.color:(Tl[0]=s[0]*f.color.r*g.r,Tl[1]=s[1]*f.color.g*g.g,Tl[2]=s[2]*f.color.b*g.b,f.currentMesh.tint=ra(Tl)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,v);break;case kt.Clipping:f.currentGraphics||(this.createGraphics(f,h),d.addChild(f.clippingContainer),d.addChild(f.currentGraphics)),this.updateGraphics(f,h),d.alpha=1,d.visible=!0;continue;default:d.visible=!1;continue}if(d.visible=!0,p){var A=f.color.r*g.r,T=f.color.g*g.g,R=f.color.b*g.b;p.setLight(s[0]*A+c[0]*(1-A),s[1]*T+c[1]*(1-T),s[2]*R+c[2]*(1-R)),f.darkColor?(A=f.darkColor.r,T=f.darkColor.g,R=f.darkColor.b):(A=0,T=0,R=0),p.setDark(s[0]*A+c[0]*(1-A),s[1]*T+c[1]*(1-T),s[2]*R+c[2]*(1-R))}d.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,k=null,l=0,u=O.length;l<u;l++){var f=a[O[l].data.index],d=this.slotContainers[O[l].data.index];if(k||d.parent!==null&&d.parent!==this&&(d.parent.removeChild(d),d.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,P=f.getAttachment(),k.children.length=0,this.children[l]=d,P.endSlot===f.data&&(P.endSlot=null);else if(k){var F=this.tempClipContainers[l];F||(F=this.tempClipContainers[l]=this.newContainer(),F.visible=!1),this.children[l]=F,d.parent=null,k.addChild(d),P.endSlot==f.data&&(k.renderable=!0,k=null,P=null)}else this.children[l]=d}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*K.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}Vn.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),Ma.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new Lh([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new FI,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new FI,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new Vn},e.prototype.newSprite=function(r){return new rDe(r)},e.prototype.newGraphics=function(){return new id},e.prototype.newMesh=function(r,n,i,a,o){return new nDe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(Vn);Object.defineProperty(Qv.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function iDe(t){return t.type===br.TYPE.JSON}function aDe(t){return t.xhrType===br.XHR_RESPONSE_TYPE.BUFFER}br.setExtensionXhrType("skel",br.XHR_RESPONSE_TYPE.BUFFER);var oDe=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=iDe(r)&&r.data.bones,a=aDe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,d=h.indexOf("?");d>0&&(h=h.substr(0,d)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var p={crossOrigin:r.crossOrigin,xhrType:br.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},v={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},g=r.url.substr(0,r.url.lastIndexOf("/")+1);g=g.replace(this.baseUrl,"");var m=c.imageNamePrefix||r.name+"_atlas_page_",_=c.images?f5(c.images):c.image?f5({default:c.image}):c.imageLoader?c.imageLoader(this,m,g,v):sDe(this,m,g,v);function x(b){new qBe(b,_,function(w){w&&e.parseData(r,o,w,s),n()})}c.atlasRawData?x(c.atlasRawData):this.add(r.name+"_atlas",h,p,function(b){b.error?n():x(b.data)})}}},t}();function sDe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=ba.PMA),a(u.texture.baseTexture))})}}function f5(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NI=function(t,e){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NI(t,e)};function Zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $k=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),uf=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,g=h.c,m=h.b,_=h.d,x=n,b=o;b<i;x+=2,b+=s){var w=u[x],S=u[x+1];a[b]=w*v+S*g+d,a[b+1]=w*m+S*_+p}return}for(var C=0,A=0,T=0;T<n;T+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var b=o,g=A*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,g+=3){var h=O[f[C]].matrix,w=u[g],S=u[g+1],F=u[g+2];P+=(w*h.a+S*h.c+h.tx)*F,k+=(w*h.b+S*h.d+h.ty)*F}a[b]=P,a[b+1]=k}else for(var L=l,b=o,g=A*3,D=A<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,g+=3,D+=2){var h=O[f[C]].matrix,w=u[g]+L[D],S=u[g+1]+L[D+1],F=u[g+2];P+=(w*h.a+S*h.c+h.tx)*F,k+=(w*h.b+S*h.d+h.ty)*F}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),he.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=he.newFloatArray(this.vertices.length),he.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}($k),wW=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.BoundingBox,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(uf),EW=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Clipping,n.color=new De(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(uf),Y1=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Mesh,n.color=new De(1,1,1,1),n.tempColor=new De(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),he.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),he.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),he.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(uf),dv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),he.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(uf),SW=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Point,n.color=new De(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(uf),Gk=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new De,this.darkColor=e.darkColor==null?null:new De,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),Vk=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new De(1,1,1,1),n.offset=he.newFloatArray(8),n.uvs=he.newFloatArray(8),n.tempColor=new De(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,d=a*l+this.y,p=a*u,v=o*l+this.x,g=o*u,m=s*l+this.y,_=s*u,x=this.offset;x[e.OX1]=f-p,x[e.OY1]=d+h,x[e.OX2]=f-_,x[e.OY2]=m+h,x[e.OX3]=v-_,x[e.OY3]=m+g,x[e.OX4]=v-p,x[e.OY4]=d+g},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof Gk?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,he.arrayCopy(this.uvs,0,r.uvs,0,8),he.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}($k),lDe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=K.randomTriangular(-this.jitterX,this.jitterY),e.y+=K.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),uDe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*K.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new bW(2),t}(),Cn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),ai;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(ai||(ai={}));var Cs=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=he.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var g=h,m=d,_=p+t.BEZIER_SIZE-1;p<_;p+=2)v[p]=g,v[p+1]=m,h+=u,d+=f,u+=c,f+=l,g+=h,m+=d},t.prototype.getCurvePercent=function(e,r){r=K.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),ka=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(ai.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.rotation=u.data.rotation;return;case z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case z.setup:u.rotation=u.data.rotation+h*o;break;case z.first:case z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case z.add:u.rotation+=h*o}return}var d=Cn.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],g=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),m=l[d+e.ROTATION]-p;switch(m=p+(m-(16384-(16384.499999999996-m/360|0))*360)*g,s){case z.setup:u.rotation=u.data.rotation+(m-(16384-(16384.499999999996-m/360|0))*360)*o;break;case z.first:case z.replace:m+=u.data.rotation-u.rotation;case z.add:u.rotation+=(m-(16384-(16384.499999999996-m/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Cs),qc=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.x=u.data.x,u.y=u.data.y;return;case z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=Cn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case z.first:case z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case z.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Cs),Hk=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ai.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var d=Cn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*u.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var g=0,m=0;if(c==It.mixOut)switch(s){case z.setup:g=u.data.scaleX,m=u.data.scaleY,u.scaleX=g+(Math.abs(f)*K.signum(g)-g)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case z.first:case z.replace:g=u.scaleX,m=u.scaleY,u.scaleX=g+(Math.abs(f)*K.signum(g)-g)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case z.add:g=u.scaleX,m=u.scaleY,u.scaleX=g+(Math.abs(f)*K.signum(g)-u.data.scaleX)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-u.data.scaleY)*o}else switch(s){case z.setup:g=Math.abs(u.data.scaleX)*K.signum(f),m=Math.abs(u.data.scaleY)*K.signum(h),u.scaleX=g+(f-g)*o,u.scaleY=m+(h-m)*o;break;case z.first:case z.replace:g=Math.abs(u.scaleX)*K.signum(f),m=Math.abs(u.scaleY)*K.signum(h),u.scaleX=g+(f-g)*o,u.scaleY=m+(h-m)*o;break;case z.add:g=K.signum(f),m=K.signum(h),u.scaleX=Math.abs(u.scaleX)*g+(f-Math.abs(u.data.scaleX)*g)*o,u.scaleY=Math.abs(u.scaleY)*m+(h-Math.abs(u.data.scaleY)*m)*o}}}},e}(qc),Xk=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ai.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=Cn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case z.first:case z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case z.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(qc),pv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color);return;case z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,g=0;if(i>=u[u.length-e.ENTRIES]){var m=u.length;d=u[m+e.PREV_R],p=u[m+e.PREV_G],v=u[m+e.PREV_B],g=u[m+e.PREV_A]}else{var _=Cn.binarySearch(u,i,e.ENTRIES);d=u[_+e.PREV_R],p=u[_+e.PREV_G],v=u[_+e.PREV_B],g=u[_+e.PREV_A];var x=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-x)/(u[_+e.PREV_TIME]-x));d+=(u[_+e.R]-d)*b,p+=(u[_+e.G]-p)*b,v+=(u[_+e.B]-v)*b,g+=(u[_+e.A]-g)*b}if(o==1)l.color.set(d,p,v,g);else{var f=l.color;s==z.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(g-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Cs),vv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case z.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,g=0,m=0,_=0,x=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var S=u.length;v=u[S+e.PREV_R],g=u[S+e.PREV_G],m=u[S+e.PREV_B],_=u[S+e.PREV_A],x=u[S+e.PREV_R2],b=u[S+e.PREV_G2],w=u[S+e.PREV_B2]}else{var C=Cn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],g=u[C+e.PREV_G],m=u[C+e.PREV_B],_=u[C+e.PREV_A],x=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var A=u[C],T=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*T,g+=(u[C+e.G]-g)*T,m+=(u[C+e.B]-m)*T,_+=(u[C+e.A]-_)*T,x+=(u[C+e.R2]-x)*T,b+=(u[C+e.G2]-b)*T,w+=(u[C+e.B2]-w)*T}if(o==1)l.color.set(v,g,m,_),l.darkColor.set(x,b,w,1);else{var f=l.color,h=l.darkColor;s==z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(g-f.g)*o,(m-f.b)*o,(_-f.a)*o),h.add((x-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Cs),Sc=function(){function t(e){this.frames=he.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(ai.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==It.mixOut){o==z.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==z.setup||o==z.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=Cn.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),h5=null,Wk=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r),n.frameVertices=new Array(r),h5==null&&(h5=he.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(ai.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof uf)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=z.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=u;switch(s){case z.setup:f.length=0;return;case z.first:if(o==1){f.length=0;break}var g=he.setArraySize(f,d);if(v.bones==null)for(var m=v.vertices,_=0;_<d;_++)g[_]+=(m[_]-g[_])*o;else{o=1-o;for(var _=0;_<d;_++)g[_]*=o}}return}var x=he.setArraySize(f,d);if(i>=p[p.length-1]){var b=h[p.length-1];if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var m=v.vertices,w=0;w<d;w++)x[w]+=b[w]-m[w];else for(var S=0;S<d;S++)x[S]+=b[S]}else he.arrayCopy(b,0,x,0,d);else switch(s){case z.setup:{var C=u;if(C.bones==null)for(var m=C.vertices,A=0;A<d;A++){var T=m[A];x[A]=T+(b[A]-T)*o}else for(var R=0;R<d;R++)x[R]=b[R]*o;break}case z.first:case z.replace:for(var O=0;O<d;O++)x[O]+=(b[O]-x[O])*o;break;case z.add:var v=u;if(v.bones==null)for(var m=v.vertices,P=0;P<d;P++)x[P]+=(b[P]-m[P])*o;else for(var k=0;k<d;k++)x[k]+=b[k]*o}return}var F=Cn.binarySearch(p,i),L=h[F-1],D=h[F],H=p[F],Q=this.getCurvePercent(F-1,1-(i-H)/(p[F-1]-H));if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var m=v.vertices,ee=0;ee<d;ee++){var G=L[ee];x[ee]+=G+(D[ee]-G)*Q-m[ee]}else for(var B=0;B<d;B++){var G=L[B];x[B]+=G+(D[B]-G)*Q}}else for(var V=0;V<d;V++){var G=L[V];x[V]=G+(D[V]-G)*Q}else switch(s){case z.setup:{var U=u;if(U.bones==null)for(var m=U.vertices,$=0;$<d;$++){var G=L[$],T=m[$];x[$]=T+(G+(D[$]-G)*Q-T)*o}else for(var J=0;J<d;J++){var G=L[J];x[J]=(G+(D[J]-G)*Q)*o}break}case z.first:case z.replace:for(var re=0;re<d;re++){var G=L[re];x[re]+=(G+(D[re]-G)*Q-x[re])*o}break;case z.add:var v=u;if(v.bones==null)for(var m=v.vertices,fe=0;fe<d;fe++){var G=L[fe];x[fe]+=(G+(D[fe]-G)*Q-m[fe])*o}else for(var le=0;le<d;le++){var G=L[le];x[le]+=(G+(D[le]-G)*Q)*o}}}}},e}(Cs),q1=function(){function t(e){this.frames=he.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return ai.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=Cn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Mh=function(){function t(e){this.frames=he.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return ai.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==It.mixOut&&o==z.setup){he.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==z.setup||o==z.first)&&he.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=Cn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)he.arrayCopy(l,0,c,0,l.length);else for(var d=0,p=h.length;d<p;d++)c[d]=l[h[d]]},t}(),gv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case z.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==It.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==It.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=Cn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f+e.PREV_SOFTNESS],p=l[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*v-u.data.mix)*o,u.softness=u.data.softness+(d+(l[f+e.SOFTNESS]-d)*v-u.data.softness)*o,c==It.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*v-u.mix)*o,u.softness+=(d+(l[f+e.SOFTNESS]-d)*v-u.softness)*o,c==It.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(Cs),mv=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var g=l.length;h=l[g+e.PREV_ROTATE],d=l[g+e.PREV_TRANSLATE],p=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR]}else{var m=Cn.binarySearch(l,i,e.ENTRIES);h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR];var _=l[m],x=this.getCurvePercent(m/e.ENTRIES-1,1-(i-_)/(l[m+e.PREV_TIME]-_));h+=(l[m+e.ROTATE]-h)*x,d+=(l[m+e.TRANSLATE]-d)*x,p+=(l[m+e.SCALE]-p)*x,v+=(l[m+e.SHEAR]-v)*x}if(s==z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(d-f.translateMix)*o,u.scaleMix=f.scaleMix+(p-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Cs),ld=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.position=u.data.position;return;case z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Cn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Cs),zk=function(t){Zr(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ai.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.spacing=u.data.spacing;return;case z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Cn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(ld),_v=function(t){Zr(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ai.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=Cn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Cs),CW=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new TW(this),this.propertyIDs=new yW,this.animationsChanged=!1,this.trackEntryPool=new z1(function(){return new AW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||c==z.add)for(var p=0;p<h;p++){he.webkit602BugfixHelper(l,c);var v=d[p];v instanceof Sc?this.applyAttachmentTimeline(v,e,f,c,!0):v.apply(e,u,f,r,l,c,It.mixIn)}else{var g=s.timelineMode,m=s.timelinesRotation.length==0;m&&he.setArraySize(s.timelinesRotation,h<<1,null);for(var _=s.timelinesRotation,p=0;p<h;p++){var x=d[p],b=g[p]==t.SUBSEQUENT?c:z.setup;x instanceof ka?this.applyRotateTimeline(x,e,f,l,b,_,p<<1,m):x instanceof Sc?this.applyAttachmentTimeline(x,e,f,c,!0):(he.webkit602BugfixHelper(l,c),x.apply(e,u,f,r,l,b,It.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+t.SETUP,S=e.slots,C=0,A=e.slots.length;C<A;C++){var T=S[C];if(T.attachmentState==w){var R=T.data.attachmentName;T.setAttachment(R==null?null:e.getAttachment(T.data.index,R))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==z.first&&(n=z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==z.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,p,n,It.mixOut);else{var g=i.timelineMode,m=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&he.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var b=h[v],w=It.mixOut,S=void 0,C=0;switch(g[v]){case t.SUBSEQUENT:if(!c&&b instanceof Mh)continue;S=n,C=p;break;case t.FIRST:S=z.setup,C=p;break;case t.HOLD_SUBSEQUENT:S=n,C=d;break;case t.HOLD_FIRST:S=z.setup,C=d;break;default:S=z.setup;var A=m[v];C=d*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,b instanceof ka?this.applyRotateTimeline(b,r,u,C,S,x,v<<1,_):b instanceof Sc?this.applyAttachmentTimeline(b,r,u,S,s):(he.webkit602BugfixHelper(C,n),c&&b instanceof Mh&&S==z.setup&&(w=It.mixIn),b.apply(r,l,u,o,C,S,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==z.setup||i==z.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=Cn.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,It.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,d=0;if(n<u[0])switch(a){case z.setup:f.rotation=f.data.rotation;default:return;case z.first:h=f.rotation,d=f.data.rotation}else if(h=a==z.setup?f.data.rotation:f.rotation,n>=u[u.length-ka.ENTRIES])d=f.data.rotation+u[u.length+ka.PREV_ROTATION];else{var p=Cn.binarySearch(u,n,ka.ENTRIES),v=u[p+ka.PREV_ROTATION],g=u[p],m=l.getCurvePercent((p>>1)-1,1-(n-g)/(u[p+ka.PREV_TIME]-g));d=u[p+ka.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*m+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var _=0,x=d-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)_=o[s];else{var b=0,w=0;c?(b=0,w=x):(b=o[s],w=o[s+1]);var S=x>0,C=b>=0;K.signum(w)!=K.signum(x)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*K.signum(b)),C=S),_=x+b-b%360,C!=S&&(_+=360*K.signum(b)),o[s]=_}o[s+1]=x,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(he.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=z.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=z.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=he.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=he.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof Sc||l instanceof Mh||l instanceof q1||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Cn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),AW=function(){function t(){this.mixBlend=z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),TW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Ki.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Ki.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Ki.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Ki.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Ki.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Ki.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Ki.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Ki.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Ki.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Ki.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Ki.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=K.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Ki.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Ki;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Ki||(Ki={}));var cDe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),IW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),Yk=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new Vk(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new Y1(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new wW(r)},t.prototype.newPathAttachment=function(e,r){return new dv(r)},t.prototype.newPointAttachment=function(e,r){return new SW(r)},t.prototype.newClippingAttachment=function(e,r){return new EW(r)},t}(),LI=function(){function t(e,r,n){if(this.matrix=new Ur,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,g=c.matrix.b,m=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=g*e+m*r+c.matrix.ty,this.data.transformMode){case _t.Normal:{var d=n+90+s,_=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,b=K.sinDeg(n+o)*i,w=K.sinDeg(d)*a;l.a=p*_+v*b,l.c=p*x+v*w,l.b=g*_+m*b,l.d=g*x+m*w;return}case _t.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case _t.NoRotationOrReflection:{var S=p*p+g*g,C=0;S>1e-4?(S=Math.abs(p*m-v*g)/S,p/=this.skeleton.scaleX,g/=this.skeleton.scaleY,v=g*S,m=p*S,C=Math.atan2(g,p)*K.radDeg):(p=0,g=0,C=90-Math.atan2(m,v)*K.radDeg);var A=n+o-C,T=n+s-C+90,_=K.cosDeg(A)*i,x=K.cosDeg(T)*a,b=K.sinDeg(A)*i,w=K.sinDeg(T)*a;l.a=p*_-v*b,l.c=p*x-v*w,l.b=g*_+m*b,l.d=g*x+m*w;break}case _t.NoScale:case _t.NoScaleOrReflection:{var R=K.cosDeg(n),O=K.sinDeg(n),P=(p*R+v*O)/u,k=(g*R+m*O)/f,S=Math.sqrt(P*P+k*k);S>1e-5&&(S=1/S),P*=S,k*=S,S=Math.sqrt(P*P+k*k),this.data.transformMode==_t.NoScale&&p*m-v*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(S=-S);var F=Math.PI/2+Math.atan2(k,P),L=Math.cos(F)*S,D=Math.sin(F)*S,_=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,b=K.sinDeg(o)*i,w=K.sinDeg(90+s)*a;l.a=P*_+L*b,l.c=P*x+L*w,l.b=k*_+D*b,l.d=k*x+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),qk=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_t.Normal,this.skinRequired=!1,this.color=new De,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),K1=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),Kk=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),Zk=function(){function t(e){this.name=e}return t}(),RW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,d=-e.ashearX-e.arotation,p=0,v=0;switch(e.data.transformMode){case _t.OnlyTranslation:p=r-e.worldX,v=n-e.worldY;break;case _t.NoRotationOrReflection:var g=Math.abs(l*h-u*f)/(l*l+f*f),m=l/e.skeleton.scaleX,_=f/e.skeleton.scaleY;u=-_*g*e.skeleton.scaleX,h=m*g*e.skeleton.scaleY,d+=Math.atan2(_,m)*K.radDeg;default:var x=r-c.tx,b=n-c.ty,w=l*h-u*f;p=(x*h-b*u)/w-e.ax,v=(b*l-x*f)/w-e.ay}d+=Math.atan2(v,p)*K.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var S=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case _t.NoScale:case _t.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var A=e.data.length*S,T=Math.sqrt(p*p+v*v);if(i&&T<A||a&&T>A&&A>1e-4){var g=(T/A-1)*s+1;S*=g,o&&(C*=g)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,S,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,d=e.ascaleY,p=r.ascaleX,v=e.matrix,g=0,m=0,_=0;f<0?(f=-f,g=180,_=-1):(g=0,_=1),d<0&&(d=-d,_=-_),p<0?(p=-p,m=180):m=0;var x=r.ax,b=0,w=0,S=0,C=v.a,A=v.c,T=v.b,R=v.d,O=Math.abs(f-d)<=1e-4;O?(b=r.ay,w=C*x+A*b+v.tx,S=T*x+R*b+v.ty):(b=0,w=C*x+v.tx,S=T*x+v.ty);var P=e.parent.matrix;C=P.a,A=P.c,T=P.b,R=P.d;var k=1/(C*R-A*T),F=w-P.tx,L=S-P.ty,D=(F*R-L*A)*k-l,H=(L*C-F*T)*k-u,Q=Math.sqrt(D*D+H*H),ee=r.data.length*p,G,B;if(Q<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(x,b,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}F=n-P.tx,L=i-P.ty;var V=(F*R-L*A)*k-l,U=(L*C-F*T)*k-u,$=V*V+U*U;if(s!=0){s*=f*(p+1)/2;var J=Math.sqrt($),re=J-Q-ee*f+s;if(re>0){var fe=Math.min(1,re/(s*2))-1;fe=(re-s*(1-fe*fe))/J,V-=fe*V,U-=fe*U,$=V*V+U*U}}e:if(O){ee*=f;var le=($-Q*Q-ee*ee)/(2*Q*ee);le<-1?le=-1:le>1&&(le=1,o&&(h*=(Math.sqrt($)/(Q+ee)-1)*c+1)),B=Math.acos(le)*a,C=Q+ee*le,A=ee*Math.sin(B),G=Math.atan2(U*C-V*A,V*C+U*A)}else{C=f*ee,A=d*ee;var xe=C*C,Ae=A*A,ye=Math.atan2(U,V);T=Ae*Q*Q+xe*$-xe*Ae;var we=-2*Ae*Q,me=Ae-xe;if(R=we*we-4*me*T,R>=0){var Pe=Math.sqrt(R);we<0&&(Pe=-Pe),Pe=-(we+Pe)/2;var je=Pe/me,Le=T/Pe,ze=Math.abs(je)<Math.abs(Le)?je:Le;if(ze*ze<=$){L=Math.sqrt($-ze*ze)*a,G=ye-Math.atan2(L,ze),B=Math.atan2(L/d,(ze-Q)/f);break e}}var st=K.PI,xt=Q-C,Et=xt*xt,it=0,ct=0,bt=Q+C,mr=bt*bt,_r=0;T=-C*Q/(xe-Ae),T>=-1&&T<=1&&(T=Math.acos(T),F=C*Math.cos(T)+Q,L=A*Math.sin(T),R=F*F+L*L,R<Et&&(st=T,Et=R,xt=F,it=L),R>mr&&(ct=T,mr=R,bt=F,_r=L)),$<=(Et+mr)/2?(G=ye-Math.atan2(it*a,xt),B=st*a):(G=ye-Math.atan2(_r*a,bt),B=ct*a)}var fr=Math.atan2(b,x)*_,ir=e.arotation;G=(G-fr)*K.radDeg+g-ir,G>180?G-=360:G<-180&&(G+=360),e.updateWorldTransformWith(l,u,ir+G*c,h,e.ascaleY,0,0),ir=r.arotation,B=((B+fr)*K.radDeg-r.ashearX)*_+m-ir,B>180?B-=360:B<-180&&(B+=360),r.updateWorldTransformWith(x,b,ir+B*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),Jk=function(t){Zr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(K1),Qk=function(t){Zr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(K1),$n;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})($n||($n={}));var PW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof dv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==$n.Length,l=o.rotateMode,u=l==dn.Tangent,f=l==dn.ChainScale,h=this.bones.length,d=u?h:h+1,p=this.bones,v=he.setArraySize(this.spaces,d),g=null,m=this.spacing;if(f||c){f&&(g=he.setArraySize(this.lengths,h));for(var _=0,x=d-1;_<x;){var b=p[_],w=b.data.length;if(w<t.epsilon)f&&(g[_]=0),v[++_]=0;else{var S=w*b.matrix.a,C=w*b.matrix.b,A=Math.sqrt(S*S+C*C);f&&(g[_]=A),v[++_]=(c?w+m:m)*A/w}}}else for(var _=1;_<d;_++)v[_]=m;var T=this.computeWorldPositions(e,d,u,o.positionMode==zr.Percent,s==$n.Percent),R=T[0],O=T[1],P=o.offsetRotation,k=!1;if(P==0)k=l==dn.Chain;else{k=!1;var F=this.target.bone.matrix;P*=F.a*F.d-F.b*F.c>0?K.degRad:-K.degRad}for(var _=0,F=3;_<h;_++,F+=3){var b=p[_],L=b.matrix;L.tx+=(R-L.tx)*n,L.ty+=(O-L.ty)*n;var S=T[F],C=T[F+1],D=S-R,H=C-O;if(f){var Q=g[_];if(Q!=0){var ee=(Math.sqrt(D*D+H*H)/Q-1)*r+1;L.a*=ee,L.b*=ee}}if(R=S,O=C,a){var G=L.a,B=L.c,V=L.b,U=L.d,$=0,J=0,re=0;if(u?$=T[F-1]:v[_+1]==0?$=T[F+2]:$=Math.atan2(H,D),$-=Math.atan2(V,G),k){J=Math.cos($),re=Math.sin($);var fe=b.data.length;R+=(fe*(J*G-re*V)-D)*r,O+=(fe*(re*G+J*V)-H)*r}else $+=P;$>K.PI?$-=K.PI2:$<-K.PI&&($+=K.PI2),$*=r,J=Math.cos($),re=Math.sin($),L.a=J*G-re*V,L.c=J*B-re*U,L.b=re*G+J*V,L.d=re*B+J*U}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=he.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var g=v[d];if(i&&(s*=g),a)for(var m=0;m<r;m++)c[m]*=g;u=he.setArraySize(this.world,8);for(var m=0,_=0,x=0;m<r;m++,_+=3){var b=c[m];s+=b;var w=s;if(f)w%=g,w<0&&(w+=g),x=0;else if(w<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>g){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-g,u,0,l,_);continue}for(;;x++){var S=v[x];if(!(w>S)){if(x==0)w/=S;else{var C=v[x-1];w=(w-C)/(S-C)}break}}x!=p&&(p=x,f&&x==d?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||m>0&&b==0)}return l}f?(h+=2,u=he.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(d--,h-=4,u=he.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=he.setArraySize(this.curves,d),T=0,R=u[0],O=u[1],P=0,k=0,F=0,L=0,D=0,H=0,Q=0,ee=0,G=0,B=0,V=0,U=0,$=0,J=0,m=0,re=2;m<d;m++,re+=6)P=u[re],k=u[re+1],F=u[re+2],L=u[re+3],D=u[re+4],H=u[re+5],Q=(R-P*2+F)*.1875,ee=(O-k*2+L)*.1875,G=((P-F)*3-R+D)*.09375,B=((k-L)*3-O+H)*.09375,V=Q*2+G,U=ee*2+B,$=(P-R)*.75+Q+G*.16666667,J=(k-O)*.75+ee+B*.16666667,T+=Math.sqrt($*$+J*J),$+=V,J+=U,V+=G,U+=B,T+=Math.sqrt($*$+J*J),$+=V,J+=U,T+=Math.sqrt($*$+J*J),$+=V+G,J+=U+B,T+=Math.sqrt($*$+J*J),A[m]=T,R=D,O=H;if(i&&(s*=T),a)for(var m=0;m<r;m++)c[m]*=T;for(var fe=this.segments,le=0,m=0,_=0,x=0,xe=0;m<r;m++,_+=3){var b=c[m];s+=b;var w=s;if(f)w%=T,w<0&&(w+=T),x=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>T){this.addAfterPosition(w-T,u,h-4,l,_);continue}for(;;x++){var Ae=A[x];if(!(w>Ae)){if(x==0)w/=Ae;else{var C=A[x-1];w=(w-C)/(Ae-C)}break}}if(x!=p){p=x;var ye=x*6;for(R=u[ye],O=u[ye+1],P=u[ye+2],k=u[ye+3],F=u[ye+4],L=u[ye+5],D=u[ye+6],H=u[ye+7],Q=(R-P*2+F)*.03,ee=(O-k*2+L)*.03,G=((P-F)*3-R+D)*.006,B=((k-L)*3-O+H)*.006,V=Q*2+G,U=ee*2+B,$=(P-R)*.3+Q+G*.16666667,J=(k-O)*.3+ee+B*.16666667,le=Math.sqrt($*$+J*J),fe[0]=le,ye=1;ye<8;ye++)$+=V,J+=U,V+=G,U+=B,le+=Math.sqrt($*$+J*J),fe[ye]=le;$+=V,J+=U,le+=Math.sqrt($*$+J*J),fe[8]=le,$+=V+G,J+=U+B,le+=Math.sqrt($*$+J*J),fe[9]=le,xe=0}for(w*=le;;xe++){var we=fe[xe];if(!(w>we)){if(xe==0)w/=we;else{var C=fe[xe-1];w=xe+(w-C)/(we-C)}break}}this.addCurvePosition(w*.1,R,O,P,k,F,L,D,H,l,_,n||m>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,g=v*v,m=g*v,_=v*e,x=_*3,b=v*x,w=x*e,S=r*m+i*b+o*w+c*p,C=n*m+a*b+s*w+l*p;u[f]=S,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*g+a*_*2+s*d),S-(r*g+i*_*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),OW=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new hv,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],_=!1,x=m.matrix;if(e!=0){var b=x.a,w=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)-Math.atan2(S,b)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);x.a=T*b-R*S,x.c=T*w-R*C,x.b=R*b+T*S,x.d=R*w+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=(O.x-x.tx)*r,x.ty+=(O.y-x.ty)*r,_=!0}if(n>0){var P=Math.sqrt(x.a*x.a+x.b*x.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),x.a*=P,x.b*=P,P=Math.sqrt(x.c*x.c+x.d*x.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),x.c*=P,x.d*=P,_=!0}if(i>0){var w=x.c,C=x.d,F=Math.atan2(C,w),A=Math.atan2(u,c)-Math.atan2(l,s)-(F-Math.atan2(x.b,x.a));A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A=F+(A+d)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,_=!0}_&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],_=!1,x=m.matrix;if(e!=0){var b=x.a,w=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);x.a=T*b-R*S,x.c=T*w-R*C,x.b=R*b+T*S,x.d=R*w+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=O.x*r,x.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=P,x.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=P,x.d*=P,_=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2);var w=x.c,C=x.d;A=Math.atan2(C,w)+(A-K.PI/2+d)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,_=!0}_&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var g=l.ashearY;if(i>0){var f=a.ashearY-g+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,u,p,v,l.ashearX,g)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,d,p,l.ashearX,v)}},t}(),kW=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new LI(n,this,null);else{var a=this.bones[n.parent.index];i=new LI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new Gk(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new RW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new OW(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new PW(u,this))}this.color=new De(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,d=u+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=c[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&he.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&he.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof dv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&he.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof dv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;he.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof Vk)h=8,d=he.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof Y1){var v=p;h=v.worldVerticesLength,d=he.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var g=0,m=d.length;g<m;g+=2){var _=d[g],x=d[g+1];a=Math.min(a,_),o=Math.min(o,x),s=Math.max(s,_),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),eF=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),tF=function(){function t(e,r,n){if(this.color=new De(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),rF=function(t){Zr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(K1),MI=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),qy=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof Y1?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new MI(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new MI(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),FW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new eF;n.name="";var i=new Yy(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new qk(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&De.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),d=n.bones[i.readInt(!0)],f=new tF(c,h,d);De.rgba8888ToColor(f.color,i.readInt32());var p=i.readInt32();p!=-1&&De.rgb888ToColor(f.darkColor=new De,p),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new Jk(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var g=0;g<v;g++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new rF(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var g=0;g<v;g++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,v=void 0;c<s;c++){var f=new Qk(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),v=i.readInt(!0);for(var g=0;g<v;g++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==zr.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==$n.Length||f.spacingMode==$n.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var m=this.readSkin(i,n,!0,o);m!=null&&(n.defaultSkin=m,n.skins.push(m));{var c=n.skins.length;for(he.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var _=this.linkedMeshes[c],x=_.skin==null?n.defaultSkin:n.findSkin(_.skin);if(x==null)throw new Error("Skin not found: "+_.skin);var b=x.getAttachment(_.slotIndex,_.parent);if(b==null)throw new Error("Parent mesh not found: "+_.parent);_.mesh.deformAttachment=_.inheritDeform?b:_.mesh,_.mesh.setParentMesh(b)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new Zk(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new qy("default")}else{a=new qy(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),d=this.readAttachment(e,r,a,l,h,i);d!=null&&a.setAttachment(l,h,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case kt.Region:{var f=e.readStringRef(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),g=e.readFloat(),m=e.readFloat(),_=e.readFloat(),x=e.readInt32();f==null&&(f=c);var b=this.attachmentLoader.newRegionAttachment(n,c,f);return b==null?null:(b.path=f,b.x=d*s,b.y=p*s,b.scaleX=v,b.scaleY=g,b.rotation=h,b.width=m*s,b.height=_*s,De.rgba8888ToColor(b.color,x),b)}case kt.BoundingBox:{var w=e.readInt(!0),S=this.readVertices(e,w),x=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=w<<1,C.vertices=S.vertices,C.bones=S.bones,o&&De.rgba8888ToColor(C.color,x),C)}case kt.Mesh:{var f=e.readStringRef(),x=e.readInt32(),w=e.readInt(!0),A=this.readFloatArray(e,w<<1,1),T=this.readShortArray(e),S=this.readVertices(e,w),R=e.readInt(!0),O=null,m=0,_=0;o&&(O=this.readShortArray(e),m=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,De.rgba8888ToColor(P.color,x),P.bones=S.bones,P.vertices=S.vertices,P.worldVerticesLength=w<<1,P.triangles=T,P.regionUVs=new Float32Array(A),P.hullLength=R<<1,o&&(P.edges=O,P.width=m*s,P.height=_*s),P)}case kt.LinkedMesh:{var f=e.readStringRef(),x=e.readInt32(),k=e.readStringRef(),F=e.readStringRef(),L=e.readBoolean(),m=0,_=0;o&&(m=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,De.rgba8888ToColor(P.color,x),o&&(P.width=m*s,P.height=_*s),this.linkedMeshes.push(new fDe(P,k,i,F,L)),P)}case kt.Path:{for(var D=e.readBoolean(),H=e.readBoolean(),w=e.readInt(!0),S=this.readVertices(e,w),Q=he.newArray(w/3,0),ee=0,G=Q.length;ee<G;ee++)Q[ee]=e.readFloat()*s;var x=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=D,f.constantSpeed=H,f.worldVerticesLength=w<<1,f.vertices=S.vertices,f.bones=S.bones,f.lengths=Q,o&&De.rgba8888ToColor(f.color,x),f)}case kt.Point:{var h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),x=o?e.readInt32():0,B=this.attachmentLoader.newPointAttachment(n,c);return B==null?null:(B.x=d*s,B.y=p*s,B.rotation=h,o&&De.rgba8888ToColor(B.color,x),B)}case kt.Clipping:{var V=e.readInt(!0),w=e.readInt(!0),S=this.readVertices(e,w),x=o?e.readInt32():0,U=this.attachmentLoader.newClippingAttachment(n,c);return U==null?null:(U.endSlot=r.slots[V],U.worldVerticesLength=w<<1,U.vertices=S.vertices,U.bones=S.bones,o&&De.rgba8888ToColor(U.color,x),U)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new hDe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=he.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new De,c=new De,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.SLOT_ATTACHMENT:{var g=new Sc(v);g.slotIndex=f;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readStringRef());i.push(g),o=Math.max(o,g.frames[v-1]);break}case t.SLOT_COLOR:{var g=new pv(v);g.slotIndex=f;for(var m=0;m<v;m++){var _=e.readFloat();De.rgba8888ToColor(s,e.readInt32()),g.setFrame(m,_,s.r,s.g,s.b,s.a),m<v-1&&this.readCurve(e,m,g)}i.push(g),o=Math.max(o,g.frames[(v-1)*pv.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var g=new vv(v);g.slotIndex=f;for(var m=0;m<v;m++){var _=e.readFloat();De.rgba8888ToColor(s,e.readInt32()),De.rgb888ToColor(c,e.readInt32()),g.setFrame(m,_,s.r,s.g,s.b,s.a,c.r,c.g,c.b),m<v-1&&this.readCurve(e,m,g)}i.push(g),o=Math.max(o,g.frames[(v-1)*vv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var x=e.readInt(!0),h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.BONE_ROTATE:{var g=new ka(v);g.boneIndex=x;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*ka.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var g=void 0,b=1;p==t.BONE_SCALE?g=new Hk(v):p==t.BONE_SHEAR?g=new Xk(v):(g=new qc(v),b=a),g.boneIndex=x;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat()*b,e.readFloat()*b),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*qc.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),v=e.readInt(!0),g=new gv(v);g.ikConstraintIndex=w;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*gv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),v=e.readInt(!0),g=new mv(v);g.transformConstraintIndex=w;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*mv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var w=e.readInt(!0),S=n.pathConstraints[w],h=0,d=e.readInt(!0);h<d;h++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.PATH_POSITION:case t.PATH_SPACING:{var g=void 0,b=1;p==t.PATH_SPACING?(g=new zk(v),(S.spacingMode==$n.Length||S.spacingMode==$n.Fixed)&&(b=a)):(g=new ld(v),S.positionMode==zr.Fixed&&(b=a)),g.pathConstraintIndex=w;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat()*b),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*ld.ENTRIES]);break}case t.PATH_MIX:{var g=new _v(v);g.pathConstraintIndex=w;for(var m=0;m<v;m++)g.setFrame(m,e.readFloat(),e.readFloat(),e.readFloat()),m<v-1&&this.readCurve(e,m,g);i.push(g),o=Math.max(o,g.frames[(v-1)*_v.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,d=e.readInt(!0);h<d;h++)for(var f=e.readInt(!0),A=0,T=e.readInt(!0);A<T;A++){var R=C.getAttachment(f,e.readStringRef()),O=R.bones!=null,P=R.vertices,k=O?P.length/3*2:P.length,v=e.readInt(!0),g=new Wk(v);g.slotIndex=f,g.attachment=R;for(var m=0;m<v;m++){var _=e.readFloat(),F=void 0,L=e.readInt(!0);if(L==0)F=O?he.newFloatArray(k):P;else{F=he.newFloatArray(k);var D=e.readInt(!0);if(L+=D,a==1)for(var H=D;H<L;H++)F[H]=e.readFloat();else for(var H=D;H<L;H++)F[H]=e.readFloat()*a;if(!O)for(var H=0,Q=F.length;H<Q;H++)F[H]+=P[H]}g.setFrame(m,_,F),m<v-1&&this.readCurve(e,m,g)}i.push(g),o=Math.max(o,g.frames[v-1])}var ee=e.readInt(!0);if(ee>0){for(var g=new Mh(ee),G=n.slots.length,l=0;l<ee;l++){for(var _=e.readFloat(),B=e.readInt(!0),V=he.newArray(G,0),h=G-1;h>=0;h--)V[h]=-1;for(var U=he.newArray(G-B,0),$=0,J=0,h=0;h<B;h++){for(var f=e.readInt(!0);$!=f;)U[J++]=$++;V[$+e.readInt(!0)]=$++}for(;$<G;)U[J++]=$++;for(var h=G-1;h>=0;h--)V[h]==-1&&(V[h]=U[--J]);g.setFrame(l,_,V)}i.push(g),o=Math.max(o,g.frames[ee-1])}var re=e.readInt(!0);if(re>0){for(var g=new q1(re),l=0;l<re;l++){var _=e.readFloat(),fe=n.events[e.readInt(!0)],le=new Kk(_,fe);le.intValue=e.readInt(!1),le.floatValue=e.readFloat(),le.stringValue=e.readBoolean()?e.readString():fe.stringValue,le.data.audioPath!=null&&(le.volume=e.readFloat(),le.balance=e.readFloat()),g.setFrame(l,le)}i.push(g),o=Math.max(o,g.frames[re-1])}return new Cn(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[_t.Normal,_t.OnlyTranslation,_t.NoRotationOrReflection,_t.NoScale,_t.NoScaleOrReflection],t.PositionModeValues=[zr.Fixed,zr.Percent],t.SpacingModeValues=[$n.Length,$n.Fixed,$n.Percent],t.RotateModeValues=[dn.Tangent,dn.Chain,dn.ChainScale],t.BlendModeValues=[We.NORMAL,We.ADD,We.MULTIPLY,We.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),fDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),hDe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),dDe=function(t){Zr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(jk),NW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new eF,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new qk(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],d=h.name,p=h.bone,v=n.findBone(p);if(v==null)throw new Error("Slot bone not found: "+p);var f=new tF(n.slots.length,d,v),g=this.getValue(h,"color",null);g!=null&&f.color.setFromString(g);var m=this.getValue(h,"dark",null);m!=null&&(f.darkColor=new De(1,1,1,1),f.darkColor.setFromString(m)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var _=i.ik[s],f=new Jk(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var x=0;x<_.bones.length;x++){var p=_.bones[x],b=n.findBone(p);if(b==null)throw new Error("IK bone not found: "+p);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("IK target bone not found: "+w);f.mix=this.getValue(_,"mix",1),f.softness=this.getValue(_,"softness",0)*r,f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.compress=this.getValue(_,"compress",!1),f.stretch=this.getValue(_,"stretch",!1),f.uniform=this.getValue(_,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var _=i.transform[s],f=new rF(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var x=0;x<_.bones.length;x++){var p=_.bones[x],b=n.findBone(p);if(b==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("Transform constraint target bone not found: "+w);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*r,f.offsetY=this.getValue(_,"y",0)*r,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var _=i.path[s],f=new Qk(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var x=0;x<_.bones.length;x++){var p=_.bones[x],b=n.findBone(p);if(b==null)throw new Error("Transform constraint bone not found: "+p);f.bones.push(b)}var w=_.target;if(f.target=n.findSlot(w),f.target==null)throw new Error("Path target slot not found: "+w);f.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==zr.Fixed&&(f.position*=r),f.spacing=this.getValue(_,"spacing",0),(f.spacingMode==$n.Length||f.spacingMode==$n.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var S=i.skins[s],C=new qy(S.name);if(S.bones)for(var A=0;A<S.bones.length;A++){var b=n.findBone(S.bones[A]);if(b==null)throw new Error("Skin bone not found: "+S.bones[s]);C.bones.push(b)}if(S.ik)for(var A=0;A<S.ik.length;A++){var T=n.findIkConstraint(S.ik[A]);if(T==null)throw new Error("Skin IK constraint not found: "+S.ik[s]);C.constraints.push(T)}if(S.transform)for(var A=0;A<S.transform.length;A++){var T=n.findTransformConstraint(S.transform[A]);if(T==null)throw new Error("Skin transform constraint not found: "+S.transform[s]);C.constraints.push(T)}if(S.path)for(var A=0;A<S.path.length;A++){var T=n.findPathConstraint(S.path[A]);if(T==null)throw new Error("Skin path constraint not found: "+S.path[s]);C.constraints.push(T)}for(var d in S.attachments){var R=n.findSlot(d);if(R==null)throw new Error("Slot not found: "+d);var h=S.attachments[d];for(var O in h){var P=this.readAttachment(h[O],C,R.index,O,n);P!=null&&C.setAttachment(R.index,O,P)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var F=this.linkedMeshes[s],C=F.skin==null?n.defaultSkin:n.findSkin(F.skin);if(C==null)throw new Error("Skin not found: "+F.skin);var L=C.getAttachment(F.slotIndex,F.parent);if(L==null)throw new Error("Parent mesh not found: "+F.parent);F.mesh.deformAttachment=F.inheritDeform?L:F.mesh,F.mesh.setParentMesh(L)}if(this.linkedMeshes.length=0,i.events)for(var D in i.events){var H=i.events[D],f=new Zk(D);f.intValue=this.getValue(H,"int",0),f.floatValue=this.getValue(H,"float",0),f.stringValue=this.getValue(H,"string",""),f.audioPath=this.getValue(H,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(H,"volume",1),f.balance=this.getValue(H,"balance",0)),n.events.push(f)}if(i.animations)for(var Q in i.animations){var ee=i.animations[Q];this.readAnimation(ee,Q,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var d=this.getValue(e,"parent",null);if(d!=null)return this.linkedMeshes.push(new pDe(h,this.getValue(e,"skin",null),n,d,this.getValue(e,"deform",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var g=he.newArray(v/3,0),m=0;m<e.lengths.length;m++)g[m]=e.lengths[m]*o;c.lengths=g;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);x.endSlot=w}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=he.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=he.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Sc(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,this.getValue(v,"time",0),v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new pv(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],g=new De;g.setFromString(v.color||"ffffffff"),h.setFrame(d,this.getValue(v,"time",0),g.r,g.g,g.b,g.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*pv.ENTRIES])}else if(u=="twoColor"){var h=new vv(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new De,_=new De;m.setFromString(v.light),_.setFromString(v.dark),h.setFrame(d,this.getValue(v,"time",0),m.r,m.g,m.b,m.a,_.r,_.g,_.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*vv.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var b=e.bones[x],w=n.findBoneIndex(x);if(w==-1)throw new Error("Bone not found: "+x);for(var u in b){var f=b[u];if(u==="rotate"){var h=new ka(f.length);h.boneIndex=w;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"angle",0)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ka.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,S=1,C=0;u==="scale"?(h=new Hk(f.length),C=1):u==="shear"?h=new Xk(f.length):(h=new qc(f.length),S=i),h.boneIndex=w;for(var d=0,p=0;p<f.length;p++){var v=f[p],A=this.getValue(v,"x",C),T=this.getValue(v,"y",C);h.setFrame(d,this.getValue(v,"time",0),A*S,T*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*qc.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var R in e.ik){var O=e.ik[R],P=n.findIkConstraint(R),h=new gv(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"mix",1),this.getValue(v,"softness",0)*i,this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*gv.ENTRIES])}if(e.transform)for(var R in e.transform){var O=e.transform[R],P=n.findTransformConstraint(R),h=new mv(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var d=0,p=0;p<O.length;p++){var v=O[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*mv.ENTRIES])}if(e.path)for(var R in e.path){var O=e.path[R],k=n.findPathConstraintIndex(R);if(k==-1)throw new Error("Path constraint not found: "+R);var F=n.pathConstraints[k];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,S=1;u==="spacing"?(h=new zk(f.length),(F.spacingMode==$n.Length||F.spacingMode==$n.Fixed)&&(S=i)):(h=new ld(f.length),F.positionMode==zr.Fixed&&(S=i)),h.pathConstraintIndex=k;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,u,0)*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ld.ENTRIES])}else if(u==="mix"){var h=new _v(f.length);h.pathConstraintIndex=k;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*_v.ENTRIES])}}}if(e.deform)for(var L in e.deform){var D=e.deform[L],H=n.findSkin(L);if(H!=null)for(var s in D){var c=D[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],Q=H.getAttachment(l,u);if(Q==null)throw new Error("Deform attachment not found: "+f.name);var ee=Q.bones!=null,G=Q.vertices,B=ee?G.length/3*2:G.length,h=new Wk(f.length);h.slotIndex=l,h.attachment=Q;for(var d=0,V=0;V<f.length;V++){var v=f[V],U=void 0,$=this.getValue(v,"vertices",null);if($==null)U=ee?he.newFloatArray(B):G;else{U=he.newFloatArray(B);var J=this.getValue(v,"offset",0);if(he.arrayCopy($,0,U,J,$.length),i!=1)for(var p=J,re=p+$.length;p<re;p++)U[p]*=i;if(!ee)for(var p=0;p<B;p++)U[p]+=G[p]}h.setFrame(d,this.getValue(v,"time",0),U),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var fe=e.drawOrder;if(fe==null&&(fe=e.draworder),fe!=null){for(var h=new Mh(fe.length),le=n.slots.length,d=0,V=0;V<fe.length;V++){var xe=fe[V],Ae=null,ye=this.getValue(xe,"offsets",null);if(ye!=null){Ae=he.newArray(le,-1);for(var we=he.newArray(le-ye.length,0),me=0,Pe=0,p=0;p<ye.length;p++){var je=ye[p],l=n.findSlotIndex(je.slot);if(l==-1)throw new Error("Slot not found: "+je.slot);for(;me!=l;)we[Pe++]=me++;Ae[me+je.offset]=me++}for(;me<le;)we[Pe++]=me++;for(var p=le-1;p>=0;p--)Ae[p]==-1&&(Ae[p]=we[--Pe])}h.setFrame(d++,this.getValue(xe,"time",0),Ae)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new q1(e.events.length),d=0,p=0;p<e.events.length;p++){var Le=e.events[p],ze=n.findEvent(Le.name);if(ze==null)throw new Error("Event not found: "+Le.name);var st=new Kk(he.toSinglePrecision(this.getValue(Le,"time",0)),ze);st.intValue=this.getValue(Le,"int",ze.intValue),st.floatValue=this.getValue(Le,"float",ze.floatValue),st.stringValue=this.getValue(Le,"string",ze.stringValue),st.data.audioPath!=null&&(st.volume=this.getValue(Le,"volume",1),st.balance=this.getValue(Le,"balance",0)),h.setFrame(d++,st)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Cn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return We.NORMAL;if(e=="additive")return We.ADD;if(e=="multiply")return We.MULTIPLY;if(e=="screen")return We.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return zr.Fixed;if(e=="percent")return zr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return $n.Length;if(e=="fixed")return $n.Fixed;if(e=="percent")return $n.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return dn.Tangent;if(e=="chain")return dn.Chain;if(e=="chainscale")return dn.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return _t.Normal;if(e=="onlytranslation")return _t.OnlyTranslation;if(e=="norotationorreflection")return _t.NoRotationOrReflection;if(e=="noscale")return _t.NoScale;if(e=="noscaleorreflection")return _t.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),pDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),vDe=function(t){Zr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new kW(r),this.skeleton.updateWorldTransform(),this.stateData=new IW(r),this.state=new CW(this.stateData)},e}(Qv);const gDe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Cn,AnimationState:CW,AnimationStateAdapter:cDe,AnimationStateData:IW,AtlasAttachmentLoader:Yk,Attachment:$k,AttachmentTimeline:Sc,Bone:LI,BoneData:qk,BoundingBoxAttachment:wW,ClippingAttachment:EW,ColorTimeline:pv,ConstraintData:K1,CurveTimeline:Cs,DeformTimeline:Wk,DrawOrderTimeline:Mh,Event:Kk,EventData:Zk,EventQueue:TW,EventTimeline:q1,get EventType(){return Ki},IkConstraint:RW,IkConstraintData:Jk,IkConstraintTimeline:gv,JitterEffect:lDe,MeshAttachment:Y1,PathAttachment:dv,PathConstraint:PW,PathConstraintData:Qk,PathConstraintMixTimeline:_v,PathConstraintPositionTimeline:ld,PathConstraintSpacingTimeline:zk,PointAttachment:SW,RegionAttachment:Vk,RotateTimeline:ka,ScaleTimeline:Hk,ShearTimeline:Xk,Skeleton:kW,SkeletonBinary:FW,SkeletonBounds:dDe,SkeletonData:eF,SkeletonJson:NW,Skin:qy,SkinEntry:MI,Slot:Gk,SlotData:tF,get SpacingMode(){return $n},Spine:vDe,SwirlEffect:uDe,get TimelineType(){return ai},TrackEntry:AW,TransformConstraint:OW,TransformConstraintData:rF,TransformConstraintTimeline:mv,TranslateTimeline:qc,TwoColorTimeline:vv,VertexAttachment:uf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BI=function(t,e){return BI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BI(t,e)};function Tn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nF=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),cf=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,g=h.c,m=h.b,_=h.d,x=n,b=o;b<i;x+=2,b+=s){var w=u[x],S=u[x+1];a[b]=w*v+S*g+d,a[b+1]=w*m+S*_+p}return}for(var C=0,A=0,T=0;T<n;T+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var b=o,g=A*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,g+=3){var h=O[f[C]].matrix,w=u[g],S=u[g+1],F=u[g+2];P+=(w*h.a+S*h.c+h.tx)*F,k+=(w*h.b+S*h.d+h.ty)*F}a[b]=P,a[b+1]=k}else for(var L=l,b=o,g=A*3,D=A<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,g+=3,D+=2){var h=O[f[C]].matrix,w=u[g]+L[D],S=u[g+1]+L[D+1],F=u[g+2];P+=(w*h.a+S*h.c+h.tx)*F,k+=(w*h.b+S*h.d+h.ty)*F}a[b]=P,a[b+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(nF),LW=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.BoundingBox,n.color=new De(1,1,1,1),n}return e}(cf),MW=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Clipping,n.color=new De(.2275,.2275,.8078,1),n}return e}(cf),iF=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Mesh,n.color=new De(1,1,1,1),n.inheritDeform=!1,n.tempColor=new De(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(cf),yv=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Path,n.closed=!1,n.constantSpeed=!1,n.color=new De(1,1,1,1),n}return e}(cf),BW=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Point,n.color=new De(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e}(cf),aF=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new De,this.darkColor=e.darkColor==null?null:new De,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),oF=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new De(1,1,1,1),n.offset=he.newFloatArray(8),n.uvs=he.newFloatArray(8),n.tempColor=new De(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,d=a*l+this.y,p=a*u,v=o*l+this.x,g=o*u,m=s*l+this.y,_=s*u,x=this.offset;x[e.OX1]=f-p,x[e.OY1]=d+h,x[e.OX2]=f-_,x[e.OY2]=m+h,x[e.OX3]=v-_,x[e.OY3]=m+g,x[e.OX4]=v-p,x[e.OY4]=d+g},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof aF?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,d=s.d,p=0,v=0;p=o[e.OX1],v=o[e.OY1],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX2],v=o[e.OY2],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX3],v=o[e.OY3],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l,i+=a,p=o[e.OX4],v=o[e.OY4],n[i]=p*u+v*f+c,n[i+1]=p*h+v*d+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(nF),mDe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=K.randomTriangular(-this.jitterX,this.jitterY),e.y+=K.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),_De=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*K.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new bW(2),t}(),Xn=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),oi;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(oi||(oi={}));var As=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=he.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,d=n*.3+s+l*.16666667,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var g=h,m=d,_=p+t.BEZIER_SIZE-1;p<_;p+=2)v[p]=g,v[p+1]=m,h+=u,d+=f,u+=c,f+=l,g+=h,m+=d},t.prototype.getCurvePercent=function(e,r){r=K.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Ro=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(oi.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.rotation=u.data.rotation;return;case z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case z.setup:u.rotation=u.data.rotation+h*o;break;case z.first:case z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case z.add:u.rotation+=h*o}return}var d=Xn.binarySearch(l,i,e.ENTRIES),p=l[d+e.PREV_ROTATION],v=l[d],g=this.getCurvePercent((d>>1)-1,1-(i-v)/(l[d+e.PREV_TIME]-v)),m=l[d+e.ROTATION]-p;switch(m=p+(m-(16384-(16384.499999999996-m/360|0))*360)*g,s){case z.setup:u.rotation=u.data.rotation+(m-(16384-(16384.499999999996-m/360|0))*360)*o;break;case z.first:case z.replace:m+=u.data.rotation-u.rotation;case z.add:u.rotation+=(m-(16384-(16384.499999999996-m/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(As),xv=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.x=u.data.x,u.y=u.data.y;return;case z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.X]-f)*v,h+=(l[d+e.Y]-h)*v}switch(s){case z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case z.first:case z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case z.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(As),DW=function(t){Tn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(oi.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=(f+(l[d+e.X]-f)*v)*u.data.scaleX,h=(h+(l[d+e.Y]-h)*v)*u.data.scaleY}if(o==1)s==z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var g=0,m=0;if(c==It.mixOut)switch(s){case z.setup:g=u.data.scaleX,m=u.data.scaleY,u.scaleX=g+(Math.abs(f)*K.signum(g)-g)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case z.first:case z.replace:g=u.scaleX,m=u.scaleY,u.scaleX=g+(Math.abs(f)*K.signum(g)-g)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-m)*o;break;case z.add:g=u.scaleX,m=u.scaleY,u.scaleX=g+(Math.abs(f)*K.signum(g)-u.data.scaleX)*o,u.scaleY=m+(Math.abs(h)*K.signum(m)-u.data.scaleY)*o}else switch(s){case z.setup:g=Math.abs(u.data.scaleX)*K.signum(f),m=Math.abs(u.data.scaleY)*K.signum(h),u.scaleX=g+(f-g)*o,u.scaleY=m+(h-m)*o;break;case z.first:case z.replace:g=Math.abs(u.scaleX)*K.signum(f),m=Math.abs(u.scaleY)*K.signum(h),u.scaleX=g+(f-g)*o,u.scaleY=m+(h-m)*o;break;case z.add:g=K.signum(f),m=K.signum(h),u.scaleX=Math.abs(u.scaleX)*g+(f-Math.abs(u.data.scaleX)*g)*o,u.scaleY=Math.abs(u.scaleY)*m+(h-Math.abs(u.data.scaleY)*m)*o}}},e}(xv),UW=function(t){Tn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(oi.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_X],h=l[d+e.PREV_Y];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f=f+(l[d+e.X]-f)*v,h=h+(l[d+e.Y]-h)*v}switch(s){case z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case z.first:case z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case z.add:u.shearX+=f*o,u.shearY+=h*o}},e}(xv),DI=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color);return;case z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,g=0;if(i>=u[u.length-e.ENTRIES]){var m=u.length;d=u[m+e.PREV_R],p=u[m+e.PREV_G],v=u[m+e.PREV_B],g=u[m+e.PREV_A]}else{var _=Xn.binarySearch(u,i,e.ENTRIES);d=u[_+e.PREV_R],p=u[_+e.PREV_G],v=u[_+e.PREV_B],g=u[_+e.PREV_A];var x=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-x)/(u[_+e.PREV_TIME]-x));d+=(u[_+e.R]-d)*b,p+=(u[_+e.G]-p)*b,v+=(u[_+e.B]-v)*b,g+=(u[_+e.A]-g)*b}if(o==1)l.color.set(d,p,v,g);else{var f=l.color;s==z.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(g-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(As),UI=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case z.first:var f=l.color,h=l.darkColor,d=l.data.color,p=l.data.darkColor;f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}return}var v=0,g=0,m=0,_=0,x=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var S=u.length;v=u[S+e.PREV_R],g=u[S+e.PREV_G],m=u[S+e.PREV_B],_=u[S+e.PREV_A],x=u[S+e.PREV_R2],b=u[S+e.PREV_G2],w=u[S+e.PREV_B2]}else{var C=Xn.binarySearch(u,i,e.ENTRIES);v=u[C+e.PREV_R],g=u[C+e.PREV_G],m=u[C+e.PREV_B],_=u[C+e.PREV_A],x=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var A=u[C],T=this.getCurvePercent(C/e.ENTRIES-1,1-(i-A)/(u[C+e.PREV_TIME]-A));v+=(u[C+e.R]-v)*T,g+=(u[C+e.G]-g)*T,m+=(u[C+e.B]-m)*T,_+=(u[C+e.A]-_)*T,x+=(u[C+e.R2]-x)*T,b+=(u[C+e.G2]-b)*T,w+=(u[C+e.B2]-w)*T}if(o==1)l.color.set(v,g,m,_),l.darkColor.set(x,b,w,1);else{var f=l.color,h=l.darkColor;s==z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((v-f.r)*o,(g-f.g)*o,(m-f.b)*o,(_-f.a)*o),h.add((x-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(As),Ky=function(){function t(e){this.frames=he.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(oi.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==It.mixOut&&o==z.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==z.setup||o==z.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=Xn.binarySearch(u,n,1)-1;var d=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(d==null?null:e.getAttachment(this.slotIndex,d))},t}(),d5=null,jW=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r),n.frameVertices=new Array(r),d5==null&&(d5=he.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(oi.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof cf)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=z.setup);var h=this.frameVertices,d=h[0].length,p=this.frames;if(i<p[0]){var v=u;switch(s){case z.setup:f.length=0;return;case z.first:if(o==1){f.length=0;break}var g=he.setArraySize(f,d);if(v.bones==null)for(var m=v.vertices,_=0;_<d;_++)g[_]+=(m[_]-g[_])*o;else{o=1-o;for(var _=0;_<d;_++)g[_]*=o}}return}var x=he.setArraySize(f,d);if(i>=p[p.length-1]){var b=h[p.length-1];if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var m=v.vertices,_=0;_<d;_++)x[_]+=b[_]-m[_];else for(var _=0;_<d;_++)x[_]+=b[_]}else he.arrayCopy(b,0,x,0,d);else switch(s){case z.setup:{var w=u;if(w.bones==null)for(var m=w.vertices,_=0;_<d;_++){var S=m[_];x[_]=S+(b[_]-S)*o}else for(var _=0;_<d;_++)x[_]=b[_]*o;break}case z.first:case z.replace:for(var _=0;_<d;_++)x[_]+=(b[_]-x[_])*o;case z.add:var v=u;if(v.bones==null)for(var m=v.vertices,_=0;_<d;_++)x[_]+=(b[_]-m[_])*o;else for(var _=0;_<d;_++)x[_]+=b[_]*o}return}var C=Xn.binarySearch(p,i),A=h[C-1],T=h[C],R=p[C],O=this.getCurvePercent(C-1,1-(i-R)/(p[C-1]-R));if(o==1)if(s==z.add){var v=u;if(v.bones==null)for(var m=v.vertices,_=0;_<d;_++){var P=A[_];x[_]+=P+(T[_]-P)*O-m[_]}else for(var _=0;_<d;_++){var P=A[_];x[_]+=P+(T[_]-P)*O}}else for(var _=0;_<d;_++){var P=A[_];x[_]=P+(T[_]-P)*O}else switch(s){case z.setup:{var k=u;if(k.bones==null)for(var m=k.vertices,_=0;_<d;_++){var P=A[_],S=m[_];x[_]=S+(P+(T[_]-P)*O-S)*o}else for(var _=0;_<d;_++){var P=A[_];x[_]=(P+(T[_]-P)*O)*o}break}case z.first:case z.replace:for(var _=0;_<d;_++){var P=A[_];x[_]+=(P+(T[_]-P)*O-x[_])*o}break;case z.add:var v=u;if(v.bones==null)for(var m=v.vertices,_=0;_<d;_++){var P=A[_];x[_]+=(P+(T[_]-P)*O-m[_])*o}else for(var _=0;_<d;_++){var P=A[_];x[_]+=(P+(T[_]-P)*O)*o}}}},e}(As),$W=function(){function t(e){this.frames=he.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return oi.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=Xn.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Zy=function(){function t(e){this.frames=he.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return oi.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==It.mixOut&&o==z.setup){he.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==z.setup||o==z.first)&&he.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=Xn.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)he.arrayCopy(l,0,c,0,l.length);else for(var d=0,p=h.length;d<p;d++)c[d]=l[h[d]]},t}(),jI=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case z.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==It.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==It.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=Xn.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],d=l[f],p=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*p-u.data.mix)*o,c==It.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*p-u.mix)*o,c==It.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(As),$I=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,d=0,p=0,v=0;if(i>=l[l.length-e.ENTRIES]){var g=l.length;h=l[g+e.PREV_ROTATE],d=l[g+e.PREV_TRANSLATE],p=l[g+e.PREV_SCALE],v=l[g+e.PREV_SHEAR]}else{var m=Xn.binarySearch(l,i,e.ENTRIES);h=l[m+e.PREV_ROTATE],d=l[m+e.PREV_TRANSLATE],p=l[m+e.PREV_SCALE],v=l[m+e.PREV_SHEAR];var _=l[m],x=this.getCurvePercent(m/e.ENTRIES-1,1-(i-_)/(l[m+e.PREV_TIME]-_));h+=(l[m+e.ROTATE]-h)*x,d+=(l[m+e.TRANSLATE]-d)*x,p+=(l[m+e.SCALE]-p)*x,v+=(l[m+e.SHEAR]-v)*x}if(s==z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(d-f.translateMix)*o,u.scaleMix=f.scaleMix+(p-f.scaleMix)*o,u.shearMix=f.shearMix+(v-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(d-u.translateMix)*o,u.scaleMix+=(p-u.scaleMix)*o,u.shearMix+=(v-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(As),Jy=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.position=u.data.position;return;case z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Xn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(As),GW=function(t){Tn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(oi.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.spacing=u.data.spacing;return;case z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=Xn.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var d=l[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(i-d)/(l[h+e.PREV_TIME]-d));f+=(l[h+e.VALUE]-f)*p}s==z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(Jy),GI=function(t){Tn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=he.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(oi.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var d=Xn.binarySearch(l,i,e.ENTRIES);f=l[d+e.PREV_ROTATE],h=l[d+e.PREV_TRANSLATE];var p=l[d],v=this.getCurvePercent(d/e.ENTRIES-1,1-(i-p)/(l[d+e.PREV_TIME]-p));f+=(l[d+e.ROTATE]-f)*v,h+=(l[d+e.TRANSLATE]-h)*v}s==z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(As),VW=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new XW(this),this.propertyIDs=new yW,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new z1(function(){return new HW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,d=s.animation.timelines;if(a==0&&l==1||c==z.add)for(var p=0;p<h;p++)he.webkit602BugfixHelper(l,c),d[p].apply(e,u,f,r,l,c,It.mixIn);else{var v=s.timelineMode,g=s.timelinesRotation.length==0;g&&he.setArraySize(s.timelinesRotation,h<<1,null);for(var m=s.timelinesRotation,p=0;p<h;p++){var _=d[p],x=v[p]==t.SUBSEQUENT?c:z.setup;_ instanceof Ro?this.applyRotateTimeline(_,e,f,l,x,m,p<<1,g):(he.webkit602BugfixHelper(l,c),_.apply(e,u,f,r,l,x,It.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==z.first&&(n=z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,d=i.alpha*e.interruptAlpha,p=d*(1-a);if(n==z.add)for(var v=0;v<f;v++)h[v].apply(r,l,u,o,p,n,It.mixOut);else{var g=i.timelineMode,m=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&he.setArraySize(i.timelinesRotation,f<<1,null);var x=i.timelinesRotation;i.totalAlpha=0;for(var v=0;v<f;v++){var b=h[v],w=It.mixOut,S=void 0,C=0;switch(g[v]){case t.SUBSEQUENT:if(!s&&b instanceof Ky||!c&&b instanceof Zy)continue;S=n,C=p;break;case t.FIRST:S=z.setup,C=p;break;case t.HOLD:S=z.setup,C=d;break;default:S=z.setup;var A=m[v];C=d*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=C,b instanceof Ro?this.applyRotateTimeline(b,r,u,C,S,x,v<<1,_):(he.webkit602BugfixHelper(C,n),S==z.setup&&(b instanceof Ky?s&&(w=It.mixOut):b instanceof Zy&&c&&(w=It.mixOut)),b.apply(r,l,u,o,C,S,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,It.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,d=0;if(n<u[0])switch(a){case z.setup:f.rotation=f.data.rotation;default:return;case z.first:h=f.rotation,d=f.data.rotation}else if(h=a==z.setup?f.data.rotation:f.rotation,n>=u[u.length-Ro.ENTRIES])d=f.data.rotation+u[u.length+Ro.PREV_ROTATION];else{var p=Xn.binarySearch(u,n,Ro.ENTRIES),v=u[p+Ro.PREV_ROTATION],g=u[p],m=l.getCurvePercent((p>>1)-1,1-(n-g)/(u[p+Ro.PREV_TIME]-g));d=u[p+Ro.ROTATION]-v,d-=(16384-(16384.499999999996-d/360|0))*360,d=v+d*m+f.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}var _=0,x=d-h;if(x-=(16384-(16384.499999999996-x/360|0))*360,x==0)_=o[s];else{var b=0,w=0;c?(b=0,w=x):(b=o[s],w=o[s+1]);var S=x>0,C=b>=0;K.signum(w)!=K.signum(x)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*K.signum(b)),C=S),_=x+b-b%360,C!=S&&(_+=360*K.signum(b)),o[s]=_}o[s+1]=x,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(he.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=z.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=he.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=he.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new Xn("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),HW=function(){function t(){this.mixBlend=z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),XW=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Zi.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Zi.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Zi.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Zi.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Zi.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Zi.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Zi.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Zi.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case Zi.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Zi.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case Zi.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=K.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case Zi.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),Zi;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Zi||(Zi={}));var yDe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),WW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),zW=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new oF(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new iF(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new LW(r)},t.prototype.newPathAttachment=function(e,r){return new yv(r)},t.prototype.newPointAttachment=function(e,r){return new BW(r)},t.prototype.newClippingAttachment=function(e,r){return new MW(r)},t}(),VI=function(){function t(e,r,n){if(this.matrix=new Ur,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,g=c.matrix.b,m=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=g*e+m*r+c.matrix.ty,this.data.transformMode){case _t.Normal:{var d=n+90+s,_=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,b=K.sinDeg(n+o)*i,w=K.sinDeg(d)*a;l.a=p*_+v*b,l.c=p*x+v*w,l.b=g*_+m*b,l.d=g*x+m*w;return}case _t.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case _t.NoRotationOrReflection:{var S=p*p+g*g,C=0;S>1e-4?(S=Math.abs(p*m-v*g)/S,v=g*S,m=p*S,C=Math.atan2(g,p)*K.radDeg):(p=0,g=0,C=90-Math.atan2(m,v)*K.radDeg);var A=n+o-C,T=n+s-C+90,_=K.cosDeg(A)*i,x=K.cosDeg(T)*a,b=K.sinDeg(A)*i,w=K.sinDeg(T)*a;l.a=p*_-v*b,l.c=p*x-v*w,l.b=g*_+m*b,l.d=g*x+m*w;break}case _t.NoScale:case _t.NoScaleOrReflection:{var R=K.cosDeg(n),O=K.sinDeg(n),P=(p*R+v*O)/u,k=(g*R+m*O)/f,S=Math.sqrt(P*P+k*k);S>1e-5&&(S=1/S),P*=S,k*=S,S=Math.sqrt(P*P+k*k),this.data.transformMode==_t.NoScale&&p*m-v*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(S=-S);var F=Math.PI/2+Math.atan2(k,P),L=Math.cos(F)*S,D=Math.sin(F)*S,_=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,b=K.sinDeg(o)*i,w=K.sinDeg(90+s)*a;l.a=P*_+L*b,l.c=P*x+L*w,l.b=k*_+D*b,l.d=k*x+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),YW=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_t.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),qW=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),KW=function(){function t(e){this.name=e}return t}(),ZW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,d=(f*c.a-u*c.b)*l-e.ay,p=Math.atan2(d,h)*K.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var v=e.ascaleX,g=e.ascaleY;if(i||a){var m=e.data.length*v,_=Math.sqrt(h*h+d*d);if(i&&_<m||a&&_>m&&m>1e-4){var x=(_/m-1)*s+1;v*=x,o&&(g*=x)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,v,g,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,d=r.ascaleX,p=e.matrix,v=0,g=0,m=0;u<0?(u=-u,v=180,m=-1):(v=0,m=1),h<0&&(h=-h,m=-m),d<0?(d=-d,g=180):g=0;var _=r.ax,x=0,b=0,w=0,S=p.a,C=p.c,A=p.b,T=p.d,R=Math.abs(u-h)<=1e-4;R?(x=r.ay,b=S*_+C*x+p.tx,w=A*_+T*x+p.ty):(x=0,b=S*_+p.tx,w=A*_+p.ty);var O=e.parent.matrix;S=O.a,C=O.c,A=O.b,T=O.d;var P=1/(S*T-C*A),k=n-O.tx,F=i-O.ty,L=(k*T-F*C)*P-c,D=(F*S-k*A)*P-l,H=L*L+D*D;k=b-O.tx,F=w-O.ty;var Q=(k*T-F*C)*P-c,ee=(F*S-k*A)*P-l,G=Math.sqrt(Q*Q+ee*ee),B=r.data.length*d,V=0,U=0;e:if(R){B*=u;var $=(H-G*G-B*B)/(2*G*B);$<-1?$=-1:$>1&&($=1,o&&G+B>1e-4&&(f*=(Math.sqrt(H)/(G+B)-1)*s+1)),U=Math.acos($)*a,S=G+B*$,C=B*Math.sin(U),V=Math.atan2(D*S-L*C,L*S+D*C)}else{S=u*B,C=h*B;var J=S*S,re=C*C,fe=Math.atan2(D,L);A=re*G*G+J*H-J*re;var le=-2*re*G,xe=re-J;if(T=le*le-4*xe*A,T>=0){var Ae=Math.sqrt(T);le<0&&(Ae=-Ae),Ae=-(le+Ae)/2;var ye=Ae/xe,we=A/Ae,me=Math.abs(ye)<Math.abs(we)?ye:we;if(me*me<=H){F=Math.sqrt(H-me*me)*a,V=fe-Math.atan2(F,me),U=Math.atan2(F/h,(me-G)/u);break e}}var Pe=K.PI,je=G-S,Le=je*je,ze=0,st=0,xt=G+S,Et=xt*xt,it=0;A=-S*G/(J-re),A>=-1&&A<=1&&(A=Math.acos(A),k=S*Math.cos(A)+G,F=C*Math.sin(A),T=k*k+F*F,T<Le&&(Pe=A,Le=T,je=k,ze=F),T>Et&&(st=A,Et=T,xt=k,it=F)),H<=(Le+Et)/2?(V=fe-Math.atan2(ze*a,je),U=Pe*a):(V=fe-Math.atan2(it*a,xt),U=st*a)}var ct=Math.atan2(x,_)*m,bt=e.arotation;V=(V-ct)*K.radDeg+v-bt,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(c,l,bt+V*s,f,e.ascaleY,0,0),bt=r.arotation,U=((U+ct)*K.radDeg-r.ashearX)*m+g-bt,U>180?U-=360:U<-180&&(U+=360),r.updateWorldTransformWith(_,x,bt+U*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),JW=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),QW=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),io;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(io||(io={}));var ez=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof yv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==io.Length,l=o.rotateMode,u=l==dn.Tangent,f=l==dn.ChainScale,h=this.bones.length,d=u?h:h+1,p=this.bones,v=he.setArraySize(this.spaces,d),g=null,m=this.spacing;if(f||c){f&&(g=he.setArraySize(this.lengths,h));for(var _=0,x=d-1;_<x;){var b=p[_],w=b.data.length;if(w<t.epsilon)f&&(g[_]=0),v[++_]=0;else{var S=w*b.matrix.a,C=w*b.matrix.b,A=Math.sqrt(S*S+C*C);f&&(g[_]=A),v[++_]=(c?w+m:m)*A/w}}}else for(var _=1;_<d;_++)v[_]=m;var T=this.computeWorldPositions(e,d,u,o.positionMode==zr.Percent,s==io.Percent),R=T[0],O=T[1],P=o.offsetRotation,k=!1;if(P==0)k=l==dn.Chain;else{k=!1;var F=this.target.bone.matrix;P*=F.a*F.d-F.b*F.c>0?K.degRad:-K.degRad}for(var _=0,F=3;_<h;_++,F+=3){var b=p[_],L=b.matrix;L.tx+=(R-L.tx)*n,L.ty+=(O-L.ty)*n;var S=T[F],C=T[F+1],D=S-R,H=C-O;if(f){var Q=g[_];if(Q!=0){var ee=(Math.sqrt(D*D+H*H)/Q-1)*r+1;L.a*=ee,L.b*=ee}}if(R=S,O=C,a){var G=L.a,B=L.c,V=L.b,U=L.d,$=0,J=0,re=0;if(u?$=T[F-1]:v[_+1]==0?$=T[F+2]:$=Math.atan2(H,D),$-=Math.atan2(V,G),k){J=Math.cos($),re=Math.sin($);var fe=b.data.length;R+=(fe*(J*G-re*V)-D)*r,O+=(fe*(re*G+J*V)-H)*r}else $+=P;$>K.PI?$-=K.PI2:$<-K.PI&&($+=K.PI2),$*=r,J=Math.cos($),re=Math.sin($),L.a=J*G-re*V,L.c=J*B-re*U,L.b=re*G+J*V,L.d=re*B+J*U}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=he.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,d=h/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths;d-=f?1:2;var g=v[d];if(i&&(s*=g),a)for(var m=0;m<r;m++)c[m]*=g;u=he.setArraySize(this.world,8);for(var m=0,_=0,x=0;m<r;m++,_+=3){var b=c[m];s+=b;var w=s;if(f)w%=g,w<0&&(w+=g),x=0;else if(w<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>g){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-g,u,0,l,_);continue}for(;;x++){var S=v[x];if(!(w>S)){if(x==0)w/=S;else{var C=v[x-1];w=(w-C)/(S-C)}break}}x!=p&&(p=x,f&&x==d?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,x*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||m>0&&b==0)}return l}f?(h+=2,u=he.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(d--,h-=4,u=he.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var A=he.setArraySize(this.curves,d),T=0,R=u[0],O=u[1],P=0,k=0,F=0,L=0,D=0,H=0,Q=0,ee=0,G=0,B=0,V=0,U=0,$=0,J=0,m=0,re=2;m<d;m++,re+=6)P=u[re],k=u[re+1],F=u[re+2],L=u[re+3],D=u[re+4],H=u[re+5],Q=(R-P*2+F)*.1875,ee=(O-k*2+L)*.1875,G=((P-F)*3-R+D)*.09375,B=((k-L)*3-O+H)*.09375,V=Q*2+G,U=ee*2+B,$=(P-R)*.75+Q+G*.16666667,J=(k-O)*.75+ee+B*.16666667,T+=Math.sqrt($*$+J*J),$+=V,J+=U,V+=G,U+=B,T+=Math.sqrt($*$+J*J),$+=V,J+=U,T+=Math.sqrt($*$+J*J),$+=V+G,J+=U+B,T+=Math.sqrt($*$+J*J),A[m]=T,R=D,O=H;if(i&&(s*=T),a)for(var m=0;m<r;m++)c[m]*=T;for(var fe=this.segments,le=0,m=0,_=0,x=0,xe=0;m<r;m++,_+=3){var b=c[m];s+=b;var w=s;if(f)w%=T,w<0&&(w+=T),x=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>T){this.addAfterPosition(w-T,u,h-4,l,_);continue}for(;;x++){var Ae=A[x];if(!(w>Ae)){if(x==0)w/=Ae;else{var C=A[x-1];w=(w-C)/(Ae-C)}break}}if(x!=p){p=x;var ye=x*6;for(R=u[ye],O=u[ye+1],P=u[ye+2],k=u[ye+3],F=u[ye+4],L=u[ye+5],D=u[ye+6],H=u[ye+7],Q=(R-P*2+F)*.03,ee=(O-k*2+L)*.03,G=((P-F)*3-R+D)*.006,B=((k-L)*3-O+H)*.006,V=Q*2+G,U=ee*2+B,$=(P-R)*.3+Q+G*.16666667,J=(k-O)*.3+ee+B*.16666667,le=Math.sqrt($*$+J*J),fe[0]=le,ye=1;ye<8;ye++)$+=V,J+=U,V+=G,U+=B,le+=Math.sqrt($*$+J*J),fe[ye]=le;$+=V,J+=U,le+=Math.sqrt($*$+J*J),fe[8]=le,$+=V+G,J+=U+B,le+=Math.sqrt($*$+J*J),fe[9]=le,xe=0}for(w*=le;;xe++){var we=fe[xe];if(!(w>we)){if(xe==0)w/=we;else{var C=fe[xe-1];w=xe+(w-C)/(we-C)}break}}this.addCurvePosition(w*.1,R,O,P,k,F,L,D,H,l,_,n||m>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var d=e*e,p=d*e,v=1-e,g=v*v,m=g*v,_=v*e,x=_*3,b=v*x,w=x*e,S=r*m+i*b+o*w+c*p,C=n*m+a*b+s*w+l*p;u[f]=S,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*g+a*_*2+s*d),S-(r*g+i*_*2+o*d)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),tz=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new hv,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],_=!1,x=m.matrix;if(e!=0){var b=x.a,w=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)-Math.atan2(S,b)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);x.a=T*b-R*S,x.c=T*w-R*C,x.b=R*b+T*S,x.d=R*w+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=(O.x-x.tx)*r,x.ty+=(O.y-x.ty)*r,_=!0}if(n>0){var P=Math.sqrt(x.a*x.a+x.b*x.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),x.a*=P,x.b*=P,P=Math.sqrt(x.c*x.c+x.d*x.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),x.c*=P,x.d*=P,_=!0}if(i>0){var w=x.c,C=x.d,F=Math.atan2(C,w),A=Math.atan2(u,c)-Math.atan2(l,s)-(F-Math.atan2(x.b,x.a));A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A=F+(A+d)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,_=!0}_&&(m.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?K.degRad:-K.degRad,h=this.data.offsetRotation*f,d=this.data.offsetShearY*f,p=this.bones,v=0,g=p.length;v<g;v++){var m=p[v],_=!1,x=m.matrix;if(e!=0){var b=x.a,w=x.c,S=x.b,C=x.d,A=Math.atan2(l,s)+h;A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2),A*=e;var T=Math.cos(A),R=Math.sin(A);x.a=T*b-R*S,x.c=T*w-R*C,x.b=R*b+T*S,x.d=R*w+T*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),x.tx+=O.x*r,x.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;x.a*=P,x.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,x.c*=P,x.d*=P,_=!0}if(i>0){var A=Math.atan2(u,c)-Math.atan2(l,s);A>K.PI?A-=K.PI2:A<-K.PI&&(A+=K.PI2);var w=x.c,C=x.d;A=Math.atan2(C,w)+(A-K.PI/2+d)*i;var P=Math.sqrt(w*w+C*C);x.c=Math.cos(A)*P,x.d=Math.sin(A)*P,_=!0}_&&(m.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,d=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,d+=(a.ay-d+this.data.offsetY)*r);var p=l.ascaleX,v=l.ascaleY;n>0&&(p>1e-5&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),v>1e-5&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*n)/v));var g=l.ashearY;if(i>0){var f=a.ashearY-g+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,d,u,p,v,l.ashearX,g)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var d=l.ascaleX,p=l.ascaleY;n>0&&(d>1e-5&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var v=l.ashearY;i>0&&(v+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,d,p,l.ashearX,v)}},t.prototype.getOrder=function(){return this.data.order},t}(),rz=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new VI(n,this,null);else{var a=this.bones[n.parent.index];i=new VI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new aF(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new ZW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new tz(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new ez(u,this))}this.color=new De(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var d=a[h];if(d.data.order==n){this.sortIkConstraint(d);continue e}}for(var h=0;h<l;h++){var d=o[h];if(d.data.order==n){this.sortTransformConstraint(d);continue e}}for(var h=0;h<u;h++){var d=s[h];if(d.data.order==n){this.sortPathConstraint(d);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof yv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof yv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;he.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,d=null,p=f.getAttachment();if(p instanceof oF)h=8,d=he.setArraySize(n,h,0),p.computeWorldVertices(f.bone,d,0,2);else if(p instanceof iF){var v=p;h=v.worldVerticesLength,d=he.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d!=null)for(var g=0,m=d.length;g<m;g+=2){var _=d[g],x=d[g+1];a=Math.min(a,_),o=Math.min(o,x),s=Math.max(s,_),c=Math.max(c,x)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),xDe=function(t){Tn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(jk),nz=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),iz=function(){function t(e,r,n){if(this.color=new De(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),az=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),oz=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),sz=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new nz,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new YW(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,d=f.bone,p=n.findBone(d);if(p==null)throw new Error("Slot bone not found: "+d);var u=new iz(n.slots.length,h,p),v=this.getValue(f,"color",null);v!=null&&u.color.setFromString(v);var g=this.getValue(f,"dark",null);g!=null&&(u.darkColor=new De(1,1,1,1),u.darkColor.setFromString(g)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var m=i.ik[o],u=new JW(m.name);u.order=this.getValue(m,"order",0);for(var _=0;_<m.bones.length;_++){var d=m.bones[_],x=n.findBone(d);if(x==null)throw new Error("IK bone not found: "+d);u.bones.push(x)}var b=m.target;if(u.target=n.findBone(b),u.target==null)throw new Error("IK target bone not found: "+b);u.bendDirection=this.getValue(m,"bendPositive",!0)?1:-1,u.mix=this.getValue(m,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var m=i.transform[o],u=new az(m.name);u.order=this.getValue(m,"order",0);for(var _=0;_<m.bones.length;_++){var d=m.bones[_],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(x)}var b=m.target;if(u.target=n.findBone(b),u.target==null)throw new Error("Transform constraint target bone not found: "+b);u.local=this.getValue(m,"local",!1),u.relative=this.getValue(m,"relative",!1),u.offsetRotation=this.getValue(m,"rotation",0),u.offsetX=this.getValue(m,"x",0)*r,u.offsetY=this.getValue(m,"y",0)*r,u.offsetScaleX=this.getValue(m,"scaleX",0),u.offsetScaleY=this.getValue(m,"scaleY",0),u.offsetShearY=this.getValue(m,"shearY",0),u.rotateMix=this.getValue(m,"rotateMix",1),u.translateMix=this.getValue(m,"translateMix",1),u.scaleMix=this.getValue(m,"scaleMix",1),u.shearMix=this.getValue(m,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var m=i.path[o],u=new QW(m.name);u.order=this.getValue(m,"order",0);for(var _=0;_<m.bones.length;_++){var d=m.bones[_],x=n.findBone(d);if(x==null)throw new Error("Transform constraint bone not found: "+d);u.bones.push(x)}var b=m.target;if(u.target=n.findSlot(b),u.target==null)throw new Error("Path target slot not found: "+b);u.positionMode=t.positionModeFromString(this.getValue(m,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(m,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(m,"rotateMode","tangent")),u.offsetRotation=this.getValue(m,"rotation",0),u.position=this.getValue(m,"position",0),u.positionMode==zr.Fixed&&(u.position*=r),u.spacing=this.getValue(m,"spacing",0),(u.spacingMode==io.Length||u.spacingMode==io.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(m,"rotateMix",1),u.translateMix=this.getValue(m,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var w in i.skins){var S=i.skins[w],C=new oz(w);for(var h in S){var A=n.findSlotIndex(h);if(A==-1)throw new Error("Slot not found: "+h);var f=S[h];for(var T in f){var R=this.readAttachment(f[T],C,A,T,n);R!=null&&C.addAttachment(A,T,R)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],C=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(C==null)throw new Error("Skin not found: "+P.skin);var k=C.getAttachment(P.slotIndex,P.parent);if(k==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var F in i.events){var L=i.events[F],u=new KW(F);u.intValue=this.getValue(L,"int",0),u.floatValue=this.getValue(L,"float",0),u.stringValue=this.getValue(L,"string",""),u.audioPath=this.getValue(L,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(L,"volume",1),u.balance=this.getValue(L,"balance",0)),n.events.push(u)}if(i.animations)for(var D in i.animations){var H=i.animations[D];this.readAnimation(H,D,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var d=this.getValue(e,"parent",null);if(d!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new bDe(h,this.getValue(e,"skin",null),n,d)),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,c,v<<1);for(var g=he.newArray(v/3,0),m=0;m<e.lengths.length;m++)g[m]=e.lengths[m]*o;c.lengths=g;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);x.endSlot=w}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=this.getValue(e,"color",null);return u!=null&&x.color.setFromString(u),x}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=he.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=he.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Ky(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d++,v.time,v.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new DI(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],g=new De;g.setFromString(v.color||"ffffffff"),h.setFrame(d,v.time,g.r,g.g,g.b,g.a),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*DI.ENTRIES])}else if(u=="twoColor"){var h=new UI(f.length);h.slotIndex=l;for(var d=0,p=0;p<f.length;p++){var v=f[p],m=new De,_=new De;m.setFromString(v.light),_.setFromString(v.dark),h.setFrame(d,v.time,m.r,m.g,m.b,m.a,_.r,_.g,_.b),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*UI.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var x in e.bones){var b=e.bones[x],w=n.findBoneIndex(x);if(w==-1)throw new Error("Bone not found: "+x);for(var u in b){var f=b[u];if(u==="rotate"){var h=new Ro(f.length);h.boneIndex=w;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,v.angle),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ro.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,S=1;u==="scale"?h=new DW(f.length):u==="shear"?h=new UW(f.length):(h=new xv(f.length),S=i),h.boneIndex=w;for(var d=0,p=0;p<f.length;p++){var v=f[p],C=this.getValue(v,"x",0),A=this.getValue(v,"y",0);h.setFrame(d,v.time,C*S,A*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*xv.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+x+")")}}if(e.ik)for(var T in e.ik){var R=e.ik[T],O=n.findIkConstraint(T),h=new jI(R.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var d=0,p=0;p<R.length;p++){var v=R[p];h.setFrame(d,v.time,this.getValue(v,"mix",1),this.getValue(v,"bendPositive",!0)?1:-1,this.getValue(v,"compress",!1),this.getValue(v,"stretch",!1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*jI.ENTRIES])}if(e.transform)for(var T in e.transform){var R=e.transform[T],O=n.findTransformConstraint(T),h=new $I(R.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var d=0,p=0;p<R.length;p++){var v=R[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1),this.getValue(v,"scaleMix",1),this.getValue(v,"shearMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*$I.ENTRIES])}if(e.paths)for(var T in e.paths){var R=e.paths[T],P=n.findPathConstraintIndex(T);if(P==-1)throw new Error("Path constraint not found: "+T);var k=n.pathConstraints[P];for(var u in R){var f=R[u];if(u==="position"||u==="spacing"){var h=null,S=1;u==="spacing"?(h=new GW(f.length),(k.spacingMode==io.Length||k.spacingMode==io.Fixed)&&(S=i)):(h=new Jy(f.length),k.positionMode==zr.Fixed&&(S=i)),h.pathConstraintIndex=P;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,u,0)*S),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Jy.ENTRIES])}else if(u==="mix"){var h=new GI(f.length);h.pathConstraintIndex=P;for(var d=0,p=0;p<f.length;p++){var v=f[p];h.setFrame(d,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*GI.ENTRIES])}}}if(e.deform)for(var F in e.deform){var L=e.deform[F],D=n.findSkin(F);if(D!=null)for(var s in L){var c=L[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],H=D.getAttachment(l,u);if(H==null)throw new Error("Deform attachment not found: "+f.name);var Q=H.bones!=null,ee=H.vertices,G=Q?ee.length/3*2:ee.length,h=new jW(f.length);h.slotIndex=l,h.attachment=H;for(var d=0,B=0;B<f.length;B++){var v=f[B],V=void 0,U=this.getValue(v,"vertices",null);if(U==null)V=Q?he.newFloatArray(G):ee;else{V=he.newFloatArray(G);var $=this.getValue(v,"offset",0);if(he.arrayCopy(U,0,V,$,U.length),i!=1)for(var p=$,J=p+U.length;p<J;p++)V[p]*=i;if(!Q)for(var p=0;p<G;p++)V[p]+=ee[p]}h.setFrame(d,v.time,V),this.readCurve(v,h,d),d++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var re=e.drawOrder;if(re==null&&(re=e.draworder),re!=null){for(var h=new Zy(re.length),fe=n.slots.length,d=0,B=0;B<re.length;B++){var le=re[B],xe=null,Ae=this.getValue(le,"offsets",null);if(Ae!=null){xe=he.newArray(fe,-1);for(var ye=he.newArray(fe-Ae.length,0),we=0,me=0,p=0;p<Ae.length;p++){var Pe=Ae[p],l=n.findSlotIndex(Pe.slot);if(l==-1)throw new Error("Slot not found: "+Pe.slot);for(;we!=l;)ye[me++]=we++;xe[we+Pe.offset]=we++}for(;we<fe;)ye[me++]=we++;for(var p=fe-1;p>=0;p--)xe[p]==-1&&(xe[p]=ye[--me])}h.setFrame(d++,le.time,xe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new $W(e.events.length),d=0,p=0;p<e.events.length;p++){var je=e.events[p],Le=n.findEvent(je.name);if(Le==null)throw new Error("Event not found: "+je.name);var ze=new qW(he.toSinglePrecision(je.time),Le);ze.intValue=this.getValue(je,"int",Le.intValue),ze.floatValue=this.getValue(je,"float",Le.floatValue),ze.stringValue=this.getValue(je,"string",Le.stringValue),ze.data.audioPath!=null&&(ze.volume=this.getValue(je,"volume",1),ze.balance=this.getValue(je,"balance",0)),h.setFrame(d++,ze)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Xn(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return We.NORMAL;if(e=="additive")return We.ADD;if(e=="multiply")return We.MULTIPLY;if(e=="screen")return We.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return zr.Fixed;if(e=="percent")return zr.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return io.Length;if(e=="fixed")return io.Fixed;if(e=="percent")return io.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return dn.Tangent;if(e=="chain")return dn.Chain;if(e=="chainscale")return dn.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return _t.Normal;if(e=="onlytranslation")return _t.OnlyTranslation;if(e=="norotationorreflection")return _t.NoRotationOrReflection;if(e=="noscale")return _t.NoScale;if(e=="noscaleorreflection")return _t.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),bDe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),wDe=function(t){Tn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new rz(r),this.skeleton.updateWorldTransform(),this.stateData=new WW(r),this.state=new VW(this.stateData)},e}(Qv);const EDe=Object.freeze(Object.defineProperty({__proto__:null,Animation:Xn,AnimationState:VW,AnimationStateAdapter2:yDe,AnimationStateData:WW,AtlasAttachmentLoader:zW,Attachment:nF,AttachmentTimeline:Ky,Bone:VI,BoneData:YW,BoundingBoxAttachment:LW,ClippingAttachment:MW,ColorTimeline:DI,CurveTimeline:As,DeformTimeline:jW,DrawOrderTimeline:Zy,Event:qW,EventData:KW,EventQueue:XW,EventTimeline:$W,get EventType(){return Zi},IkConstraint:ZW,IkConstraintData:JW,IkConstraintTimeline:jI,JitterEffect:mDe,MeshAttachment:iF,PathAttachment:yv,PathConstraint:ez,PathConstraintData:QW,PathConstraintMixTimeline:GI,PathConstraintPositionTimeline:Jy,PathConstraintSpacingTimeline:GW,PointAttachment:BW,RegionAttachment:oF,RotateTimeline:Ro,ScaleTimeline:DW,ShearTimeline:UW,Skeleton:rz,SkeletonBounds:xDe,SkeletonData:nz,SkeletonJson:sz,Skin:oz,Slot:aF,SlotData:iz,get SpacingMode(){return io},Spine:wDe,SwirlEffect:_De,get TimelineType(){return oi},TrackEntry:HW,TransformConstraint:tz,TransformConstraintData:az,TransformConstraintTimeline:$I,TranslateTimeline:xv,TwoColorTimeline:UI,VertexAttachment:cf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HI=function(t,e){return HI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},HI(t,e)};function Mt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");HI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sF=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),_s=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,d=h.tx,p=h.ty,v=h.a,g=h.c,m=h.b,_=h.d,x=n,b=o;b<i;x+=2,b+=s){var w=u[x],S=u[x+1];a[b]=w*v+S*g+d,a[b+1]=w*m+S*_+p}return}for(var C=0,A=0,T=0;T<n;T+=2){var R=f[C];C+=R+1,A+=R}var O=c.bones;if(l.length==0)for(var b=o,g=A*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,g+=3){var h=O[f[C]].matrix,w=u[g],S=u[g+1],F=u[g+2];P+=(w*h.a+S*h.c+h.tx)*F,k+=(w*h.b+S*h.d+h.ty)*F}a[b]=P,a[b+1]=k}else for(var L=l,b=o,g=A*3,D=A<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,g+=3,D+=2){var h=O[f[C]].matrix,w=u[g]+L[D],S=u[g+1]+L[D+1],F=u[g+2];P+=(w*h.a+S*h.c+h.tx)*F,k+=(w*h.b+S*h.d+h.ty)*F}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),he.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=he.newFloatArray(this.vertices.length),he.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(sF),lz=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.BoundingBox,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(_s),uz=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Clipping,n.endSlot=null,n.color=new De(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(_s),Z1=function(t){Mt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=kt.Mesh,i.region=null,i.triangles=[],i.color=new De(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new De(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),he.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),he.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),he.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(_s),bv=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new De(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),he.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(_s),cz=function(t){Mt(e,t);function e(r){var n=t.call(this,r)||this;return n.type=kt.Point,n.x=0,n.y=0,n.rotation=0,n.color=new De(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=K.cosDeg(this.rotation),a=K.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*K.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(_s),lF=function(t){Mt(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=kt.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new De(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=he.newFloatArray(8),i.uvs=he.newFloatArray(8),i.tempColor=new De(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,d=this.y,p=a*u+h,v=a*f,g=o*u+d,m=o*f,_=s*u+h,x=s*f,b=c*u+d,w=c*f,S=this.offset;S[0]=p-m,S[1]=g+v,S[2]=p-w,S[3]=b+v,S[4]=_-w,S[5]=b+x,S[6]=_-m,S[7]=g+x;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,d=c.b,p=c.d,v=0,g=0;v=s[0],g=s[1],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+u,i+=a,v=s[2],g=s[3],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+u,i+=a,v=s[4],g=s[5],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+u,i+=a,v=s[6],g=s[7],n[i]=v*f+g*h+l,n[i+1]=v*d+g*p+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,he.arrayCopy(this.uvs,0,r.uvs,0,8),he.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(sF),uF=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return he.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),ei;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(ei||(ei={}));var cF=[ei.hold,ei.once,ei.loop,ei.pingpong,ei.onceReverse,ei.loopReverse,ei.pingpongReverse],J1=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new xW,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),sr={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},vn=function(){function t(e,r){this.propertyIds=r,this.frames=he.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),jo=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=he.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=he.newFloatArray(n);he.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,g=(o-c*2+u)*.03,m=((s-l)*3-a+f)*.006,_=((c-u)*3-o+h)*.006,x=v*2+m,b=g*2+_,w=(s-a)*.3+v+m*.16666667,S=(c-o)*.3+g+_*.16666667,C=a+w,A=o+S,T=p+18;p<T;p+=2)d[p]=C,d[p+1]=A,w+=x,S+=b,x+=m,b+=_,C+=w,A+=S},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],d=o[l-1];return d+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-d)},e}(vn),$o=function(t){Mt(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(jo),Q1=function(t){Mt(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(jo),wv=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.rotation=l.data.rotation;return;case z.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.rotation=l.data.rotation+f*o;break;case z.first:case z.replace:f+=l.data.rotation-l.rotation;case z.add:l.rotation+=f*o}}},e}($o),fF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.x+"|"+i,sr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.x=l.data.x,l.y=l.data.y;return;case z.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,d=vn.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var g=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*g,h+=(u[d+3+2]-h)*g;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case z.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case z.first:case z.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case z.add:l.x+=f*o,l.y+=h*o}}},e}(Q1),hF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.x=l.data.x;return;case z.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.x=l.data.x+f*o;break;case z.first:case z.replace:l.x+=(l.data.x+f-l.x)*o;break;case z.add:l.x+=f*o}}},e}($o),dF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.y=l.data.y;return;case z.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.y=l.data.y+f*o;break;case z.first:case z.replace:l.y+=(l.data.y+f-l.y)*o;break;case z.add:l.y+=f*o}}},e}($o),pF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.scaleX+"|"+i,sr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,d=vn.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var g=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*g,h+=(u[d+3+2]-h)*g;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==z.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var m=0,_=0;if(c==It.mixOut)switch(s){case z.setup:m=l.data.scaleX,_=l.data.scaleY,l.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,l.scaleY=_+(Math.abs(h)*K.signum(_)-_)*o;break;case z.first:case z.replace:m=l.scaleX,_=l.scaleY,l.scaleX=m+(Math.abs(f)*K.signum(m)-m)*o,l.scaleY=_+(Math.abs(h)*K.signum(_)-_)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case z.setup:m=Math.abs(l.data.scaleX)*K.signum(f),_=Math.abs(l.data.scaleY)*K.signum(h),l.scaleX=m+(f-m)*o,l.scaleY=_+(h-_)*o;break;case z.first:case z.replace:m=Math.abs(l.scaleX)*K.signum(f),_=Math.abs(l.scaleY)*K.signum(h),l.scaleX=m+(f-m)*o,l.scaleY=_+(h-_)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(Q1),vF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.scaleX=l.data.scaleX;return;case z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==z.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==It.mixOut)switch(s){case z.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.first:case z.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case z.setup:h=Math.abs(l.data.scaleX)*K.signum(f),l.scaleX=h+(f-h)*o;break;case z.first:case z.replace:h=Math.abs(l.scaleX)*K.signum(f),l.scaleX=h+(f-h)*o;break;case z.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}($o),gF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.scaleY=l.data.scaleY;return;case z.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==z.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==It.mixOut)switch(s){case z.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.first:case z.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*K.signum(h)-h)*o;break;case z.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case z.setup:h=Math.abs(l.data.scaleY)*K.signum(f),l.scaleY=h+(f-h)*o;break;case z.first:case z.replace:h=Math.abs(l.scaleY)*K.signum(f),l.scaleY=h+(f-h)*o;break;case z.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}($o),mF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.shearX+"|"+i,sr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case z.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,d=vn.search(u,i,3),p=this.curves[d/3];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var g=(i-v)/(u[d+3]-v);f+=(u[d+3+1]-f)*g,h+=(u[d+3+2]-h)*g;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}switch(s){case z.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case z.first:case z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case z.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(Q1),_F=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.shearX=l.data.shearX;return;case z.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.shearX=l.data.shearX+f*o;break;case z.first:case z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case z.add:l.shearX+=f*o}}},e}($o),yF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.shearY=l.data.shearY;return;case z.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case z.setup:l.shearY=l.data.shearY+f*o;break;case z.first:case z.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case z.add:l.shearY+=f*o}}},e}($o),xF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i,sr.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case z.setup:f.setFromColor(h);return;case z.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var d=0,p=0,v=0,g=0,m=vn.search(u,i,5),_=this.curves[m/5];switch(_){case 0:var x=u[m];d=u[m+1],p=u[m+2],v=u[m+3],g=u[m+4];var b=(i-x)/(u[m+5]-x);d+=(u[m+5+1]-d)*b,p+=(u[m+5+2]-p)*b,v+=(u[m+5+3]-v)*b,g+=(u[m+5+4]-g)*b;break;case 1:d=u[m+1],p=u[m+2],v=u[m+3],g=u[m+4];break;default:d=this.getBezierValue(i,m,1,_-2),p=this.getBezierValue(i,m,2,_+18-2),v=this.getBezierValue(i,m,3,_+18*2-2),g=this.getBezierValue(i,m,4,_+18*3-2)}o==1?f.set(d,p,v,g):(s==z.setup&&f.setFromColor(l.data.color),f.add((d-f.r)*o,(p-f.g)*o,(v-f.b)*o,(g-f.a)*o))}},e}(jo),bF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case z.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case z.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var d=0,p=0,v=0,g=vn.search(u,i,4),m=this.curves[g>>2];switch(m){case 0:var _=u[g];d=u[g+1],p=u[g+2],v=u[g+3];var x=(i-_)/(u[g+4]-_);d+=(u[g+4+1]-d)*x,p+=(u[g+4+2]-p)*x,v+=(u[g+4+3]-v)*x;break;case 1:d=u[g+1],p=u[g+2],v=u[g+3];break;default:d=this.getBezierValue(i,g,1,m-2),p=this.getBezierValue(i,g,2,m+18-2),v=this.getBezierValue(i,g,3,m+18*2-2)}if(o==1)f.r=d,f.g=p,f.b=v;else{if(s==z.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(d-f.r)*o,f.g+=(p-f.g)*o,f.b+=(v-f.b)*o}}},e}(jo),wF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case z.setup:u.a=f.a;return;case z.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==z.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}($o),EF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i,sr.alpha+"|"+i,sr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case z.setup:f.setFromColor(d),h.r=p.r,h.g=p.g,h.b=p.b;return;case z.first:f.add((d.r-f.r)*o,(d.g-f.g)*o,(d.b-f.b)*o,(d.a-f.a)*o),h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,g=0,m=0,_=0,x=0,b=0,w=0,S=vn.search(u,i,8),C=this.curves[S>>3];switch(C){case 0:var A=u[S];v=u[S+1],g=u[S+2],m=u[S+3],_=u[S+4],x=u[S+5],b=u[S+6],w=u[S+7];var T=(i-A)/(u[S+8]-A);v+=(u[S+8+1]-v)*T,g+=(u[S+8+2]-g)*T,m+=(u[S+8+3]-m)*T,_+=(u[S+8+4]-_)*T,x+=(u[S+8+5]-x)*T,b+=(u[S+8+6]-b)*T,w+=(u[S+8+7]-w)*T;break;case 1:v=u[S+1],g=u[S+2],m=u[S+3],_=u[S+4],x=u[S+5],b=u[S+6],w=u[S+7];break;default:v=this.getBezierValue(i,S,1,C-2),g=this.getBezierValue(i,S,2,C+18-2),m=this.getBezierValue(i,S,3,C+18*2-2),_=this.getBezierValue(i,S,4,C+18*3-2),x=this.getBezierValue(i,S,5,C+18*4-2),b=this.getBezierValue(i,S,6,C+18*5-2),w=this.getBezierValue(i,S,7,C+18*6-2)}if(o==1)f.set(v,g,m,_),h.r=x,h.g=b,h.b=w;else{if(s==z.setup){f.setFromColor(l.data.color);var p=l.data.darkColor;h.r=p.r,h.g=p.g,h.b=p.b}f.add((v-f.r)*o,(g-f.g)*o,(m-f.b)*o,(_-f.a)*o),h.r+=(x-h.r)*o,h.g+=(b-h.g)*o,h.b+=(w-h.b)*o}}},e}(jo),SF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.rgb+"|"+i,sr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var d=l.data.color,p=l.data.darkColor;switch(s){case z.setup:f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b;return;case z.first:f.r+=(d.r-f.r)*o,f.g+=(d.g-f.g)*o,f.b+=(d.b-f.b)*o,h.r+=(p.r-h.r)*o,h.g+=(p.g-h.g)*o,h.b+=(p.b-h.b)*o}return}var v=0,g=0,m=0,_=0,x=0,b=0,w=vn.search(u,i,7),S=this.curves[w/7];switch(S){case 0:var C=u[w];v=u[w+1],g=u[w+2],m=u[w+3],_=u[w+4],x=u[w+5],b=u[w+6];var A=(i-C)/(u[w+7]-C);v+=(u[w+7+1]-v)*A,g+=(u[w+7+2]-g)*A,m+=(u[w+7+3]-m)*A,_+=(u[w+7+4]-_)*A,x+=(u[w+7+5]-x)*A,b+=(u[w+7+6]-b)*A;break;case 1:v=u[w+1],g=u[w+2],m=u[w+3],_=u[w+4],x=u[w+5],b=u[w+6];break;default:v=this.getBezierValue(i,w,1,S-2),g=this.getBezierValue(i,w,2,S+18-2),m=this.getBezierValue(i,w,3,S+18*2-2),_=this.getBezierValue(i,w,4,S+18*3-2),x=this.getBezierValue(i,w,5,S+18*4-2),b=this.getBezierValue(i,w,6,S+18*5-2)}if(o==1)f.r=v,f.g=g,f.b=m,h.r=_,h.g=x,h.b=b;else{if(s==z.setup){var d=l.data.color,p=l.data.darkColor;f.r=d.r,f.g=d.g,f.b=d.b,h.r=p.r,h.g=p.g,h.b=p.b}f.r+=(v-f.r)*o,f.g+=(g-f.g)*o,f.b+=(m-f.b)*o,h.r+=(_-h.r)*o,h.g+=(x-h.g)*o,h.b+=(b-h.b)*o}}},e}(jo),Cc=function(t){Mt(e,t);function e(r,n){var i=t.call(this,r,[sr.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==It.mixOut){s==z.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==z.setup||s==z.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[vn.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}(vn),CF=function(t){Mt(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[sr.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var d=this.curves,p=this.getFrameCount()+r*18;i==0&&(d[n]=2+p);for(var v=(a-s*2+l)*.03,g=u*.03-c*.06,m=((s-l)*3-a+f)*.006,_=(c-u+.33333333)*.018,x=v*2+m,b=g*2+_,w=(s-a)*.3+v+m*.16666667,S=c*.3+g+_*.16666667,C=a+w,A=S,T=p+18;p<T;p+=2)d[p]=C,d[p+1]=A,w+=x,S+=b,x+=m,b+=_,C+=w,A+=S},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof _s)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=z.setup);var h=this.vertices,d=h[0].length,p=this.frames;if(i<p[0]){switch(s){case z.setup:f.length=0;return;case z.first:if(o==1){f.length=0;return}f.length=d;var v=u;if(v.bones){o=1-o;for(var m=0;m<d;m++)f[m]*=o}else for(var g=v.vertices,m=0;m<d;m++)f[m]+=(g[m]-f[m])*o}return}if(f.length=d,i>=p[p.length-1]){var _=h[p.length-1];if(o==1)if(s==z.add){var v=u;if(v.bones)for(var b=0;b<d;b++)f[b]+=_[b];else for(var g=v.vertices,x=0;x<d;x++)f[x]+=_[x]-g[x]}else he.arrayCopy(_,0,f,0,d);else switch(s){case z.setup:{var w=u;if(w.bones)for(var A=0;A<d;A++)f[A]=_[A]*o;else for(var g=w.vertices,S=0;S<d;S++){var C=g[S];f[S]=C+(_[S]-C)*o}break}case z.first:case z.replace:for(var T=0;T<d;T++)f[T]+=(_[T]-f[T])*o;break;case z.add:var v=u;if(v.bones)for(var O=0;O<d;O++)f[O]+=_[O]*o;else for(var g=v.vertices,R=0;R<d;R++)f[R]+=(_[R]-g[R])*o}return}var P=vn.search1(p,i),k=this.getCurvePercent(i,P),F=h[P],L=h[P+1];if(o==1)if(s==z.add){var v=u;if(v.bones)for(var Q=0;Q<d;Q++){var H=F[Q];f[Q]+=H+(L[Q]-H)*k}else for(var g=v.vertices,D=0;D<d;D++){var H=F[D];f[D]+=H+(L[D]-H)*k-g[D]}}else for(var ee=0;ee<d;ee++){var H=F[ee];f[ee]=H+(L[ee]-H)*k}else switch(s){case z.setup:{var G=u;if(G.bones)for(var V=0;V<d;V++){var H=F[V];f[V]=(H+(L[V]-H)*k)*o}else for(var g=G.vertices,B=0;B<d;B++){var H=F[B],C=g[B];f[B]=C+(H+(L[B]-H)*k-C)*o}break}case z.first:case z.replace:for(var U=0;U<d;U++){var H=F[U];f[U]+=(H+(L[U]-H)*k-f[U])*o}break;case z.add:var v=u;if(v.bones)for(var J=0;J<d;J++){var H=F[J];f[J]+=(H+(L[J]-H)*k)*o}else for(var g=v.vertices,$=0;$<d;$++){var H=F[$];f[$]+=(H+(L[$]-H)*k-g[$])*o}}}}},e}(jo),eb=function(t){Mt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=vn.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+sr.event],e}(vn),Bh=function(t){Mt(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==It.mixOut){s==z.setup&&he.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==z.setup||s==z.first)&&he.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=vn.search1(this.frames,i),u=this.drawOrders[l];if(!u)he.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,d=0,p=u.length;d<p;d++)f[d]=h[u[d]]},e.propertyIds=[""+sr.drawOrder],e}(vn),AF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case z.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,d=vn.search(u,i,6),p=this.curves[d/6];switch(p){case 0:var v=u[d];f=u[d+1],h=u[d+2];var g=(i-v)/(u[d+6]-v);f+=(u[d+6+1]-f)*g,h+=(u[d+6+2]-h)*g;break;case 1:f=u[d+1],h=u[d+2];break;default:f=this.getBezierValue(i,d,1,p-2),h=this.getBezierValue(i,d,2,p+18-2)}s==z.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==It.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==It.mixIn&&(l.bendDirection=u[d+3],l.compress=u[d+4]!=0,l.stretch=u[d+5]!=0))}},e}(jo),TF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case z.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case z.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,d,p,v,g,m,_=vn.search(u,i,7),x=this.curves[_/7];switch(x){case 0:var b=u[_];h=u[_+1],d=u[_+2],p=u[_+3],v=u[_+4],g=u[_+5],m=u[_+6];var w=(i-b)/(u[_+7]-b);h+=(u[_+7+1]-h)*w,d+=(u[_+7+2]-d)*w,p+=(u[_+7+3]-p)*w,v+=(u[_+7+4]-v)*w,g+=(u[_+7+5]-g)*w,m+=(u[_+7+6]-m)*w;break;case 1:h=u[_+1],d=u[_+2],p=u[_+3],v=u[_+4],g=u[_+5],m=u[_+6];break;default:h=this.getBezierValue(i,_,1,x-2),d=this.getBezierValue(i,_,2,x+18-2),p=this.getBezierValue(i,_,3,x+18*2-2),v=this.getBezierValue(i,_,4,x+18*3-2),g=this.getBezierValue(i,_,5,x+18*4-2),m=this.getBezierValue(i,_,6,x+18*5-2)}if(s==z.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(d-f.mixX)*o,l.mixY=f.mixY+(p-f.mixY)*o,l.mixScaleX=f.mixScaleX+(v-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(g-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(m-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(d-l.mixX)*o,l.mixY+=(p-l.mixY)*o,l.mixScaleX+=(v-l.mixScaleX)*o,l.mixScaleY+=(g-l.mixScaleY)*o,l.mixShearY+=(m-l.mixShearY)*o}},e}(jo),IF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.position=l.data.position;return;case z.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==z.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}($o),RF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,sr.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.spacing=l.data.spacing;return;case z.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==z.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}($o),PF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,n,[sr.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case z.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case z.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,d,p=vn.search(u,i,4),v=this.curves[p>>2];switch(v){case 0:var g=u[p];f=u[p+1],h=u[p+2],d=u[p+3];var m=(i-g)/(u[p+4]-g);f+=(u[p+4+1]-f)*m,h+=(u[p+4+2]-h)*m,d+=(u[p+4+3]-d)*m;break;case 1:f=u[p+1],h=u[p+2],d=u[p+3];break;default:f=this.getBezierValue(i,p,1,v-2),h=this.getBezierValue(i,p,2,v+18-2),d=this.getBezierValue(i,p,3,v+18*2-2)}if(s==z.setup){var _=l.data;l.mixRotate=_.mixRotate+(f-_.mixRotate)*o,l.mixX=_.mixX+(h-_.mixX)*o,l.mixY=_.mixY+(d-_.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(d-l.mixY)*o}},e}(jo),OF=function(t){Mt(e,t);function e(r,n,i){var a=t.call(this,r,[sr.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof _s)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==z.setup||s==z.first)&&(l.sequenceIndex=-1);return}var d=vn.search(h,i,e.ENTRIES),p=h[d],v=h[d+e.MODE],g=h[d+e.DELAY];if(this.attachment.sequence){var m=v>>4,_=this.attachment.sequence.regions.length,x=cF[v&15];if(x!=ei.hold)switch(m+=(i-p)/g+1e-5|0,x){case ei.once:m=Math.min(_-1,m);break;case ei.loop:m%=_;break;case ei.pingpong:{var b=(_<<1)-2;m=b==0?0:m%b,m>=_&&(m=b-m);break}case ei.onceReverse:m=Math.max(_-1-m,0);break;case ei.loopReverse:m=_-1-m%_;break;case ei.pingpongReverse:{var b=(_<<1)-2;m=b==0?0:(m+_-1)%b,m>=_&&(m=b-m)}}l.sequenceIndex=m}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}(vn),fz=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new dz(this),this.propertyIDs=new xW,this.animationsChanged=!1,this.trackEntryPool=new z1(function(){return new hz}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?z.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,d=r;s.reverse&&(h=s.animation.duration-h,d=null);var p=s.animation.timelines,v=p.length;if(a==0&&l==1||c==z.add)for(var g=0;g<v;g++){he.webkit602BugfixHelper(l,c);var m=p[g];m instanceof Cc?this.applyAttachmentTimeline(m,e,h,c,!0):m.apply(e,u,h,d,l,c,It.mixIn)}else{var _=s.timelineMode,x=s.shortestRotation,b=!x&&s.timelinesRotation.length!=v<<1;b&&(s.timelinesRotation.length=v<<1);for(var g=0;g<v;g++){var w=p[g],S=_[g]==n2?c:z.setup;!x&&w instanceof wv?this.applyRotateTimeline(w,e,h,l,S,s.timelinesRotation,g<<1,b):w instanceof Cc?this.applyAttachmentTimeline(w,e,h,c,!0):(he.webkit602BugfixHelper(l,c),w.apply(e,u,h,d,l,S,It.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+g5,A=e.slots,T=0,R=e.slots.length;T<R;T++){var O=A[T];if(O.attachmentState==C){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==z.first&&(n=z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=z.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,d=i.getAnimationTime(),p=d,v=null;if(i.reverse?p=i.animation.duration-p:a<i.eventThreshold&&(v=this.events),n==z.add)for(var g=0;g<l;g++)c[g].apply(r,h,p,v,f,n,It.mixOut);else{var m=i.timelineMode,_=i.timelineHoldMix,x=i.shortestRotation,b=!x&&i.timelinesRotation.length!=l<<1;b&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var g=0;g<l;g++){var w=c[g],S=It.mixOut,C=void 0,A=0;switch(m[g]){case n2:if(!s&&w instanceof Bh)continue;C=n,A=f;break;case p5:C=z.setup,A=f;break;case v5:C=n,A=u;break;case i2:C=z.setup,A=u;break;default:C=z.setup;var T=_[g];A=u*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=A,!x&&w instanceof wv?this.applyRotateTimeline(w,r,p,A,C,i.timelinesRotation,g<<1,b):w instanceof Cc?this.applyAttachmentTimeline(w,r,p,C,o):(he.webkit602BugfixHelper(A,n),s&&w instanceof Bh&&C==z.setup&&(S=It.mixIn),w.apply(r,h,p,v,A,C,S))}}return e.mixDuration>0&&this.queueEvents(i,d),this.events.length=0,i.nextAnimationLast=d,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==z.setup||i==z.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[vn.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+g5))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+ADe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,It.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case z.setup:l.rotation=l.data.rotation;default:return;case z.first:f=l.rotation,h=l.data.rotation}else f=a==z.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var d=0,p=h-f;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)d=o[s];else{var v=0,g=0;c?(v=0,g=p):(v=o[s],g=o[s+1]);var m=p>0,_=v>=0;K.signum(g)!=K.signum(p)&&Math.abs(g)<=90&&(Math.abs(v)>180&&(v+=360*K.signum(v)),_=m),d=p+v-v%360,_!=m&&(d+=360*K.signum(v)),o[s]=d}o[s+1]=p,l.rotation=f+d*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(he.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=z.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=z.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?i2:v5;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=n2;else if(!r||l instanceof Cc||l instanceof Bh||l instanceof eb||!r.animation.hasTimeline(u))a[c]=p5;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=CDe,o[c]=f;continue e}break}a[c]=i2}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new J1("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),hz=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),dz=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(Ji.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(Ji.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(Ji.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(Ji.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(Ji.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(Ji.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case Ji.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case Ji.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case Ji.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case Ji.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case Ji.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case Ji.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),Ji;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(Ji||(Ji={}));var SDe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),n2=0,p5=1,v5=2,i2=3,CDe=4,g5=1,ADe=2,pz=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),kF=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new lF(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Z1(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new lz(r)},t.prototype.newPathAttachment=function(e,r){return new bv(r)},t.prototype.newPointAttachment=function(e,r){return new cz(r)},t.prototype.newClippingAttachment=function(e,r){return new uz(r)},t}(),XI=function(){function t(e,r,n){if(this.matrix=new Ur,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,d=n+90+s;l.a=K.cosDeg(n+o)*i*u,l.c=K.cosDeg(d)*a*u,l.b=K.sinDeg(n+o)*i*f,l.d=K.sinDeg(d)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var p=c.matrix.a,v=c.matrix.c,g=c.matrix.b,m=c.matrix.d;switch(l.tx=p*e+v*r+c.matrix.tx,l.ty=g*e+m*r+c.matrix.ty,this.data.transformMode){case _t.Normal:{var d=n+90+s,_=K.cosDeg(n+o)*i,x=K.cosDeg(d)*a,b=K.sinDeg(n+o)*i,w=K.sinDeg(d)*a;l.a=p*_+v*b,l.c=p*x+v*w,l.b=g*_+m*b,l.d=g*x+m*w;return}case _t.OnlyTranslation:{var d=n+90+s;l.a=K.cosDeg(n+o)*i,l.c=K.cosDeg(d)*a,l.b=K.sinDeg(n+o)*i,l.d=K.sinDeg(d)*a;break}case _t.NoRotationOrReflection:{var S=p*p+g*g,C=0;S>1e-4?(S=Math.abs(p*m-v*g)/S,p/=u,g/=f,v=g*S,m=p*S,C=Math.atan2(g,p)*K.radDeg):(p=0,g=0,C=90-Math.atan2(m,v)*K.radDeg);var A=n+o-C,T=n+s-C+90,_=K.cosDeg(A)*i,x=K.cosDeg(T)*a,b=K.sinDeg(A)*i,w=K.sinDeg(T)*a;l.a=p*_-v*b,l.c=p*x-v*w,l.b=g*_+m*b,l.d=g*x+m*w;break}case _t.NoScale:case _t.NoScaleOrReflection:{var R=K.cosDeg(n),O=K.sinDeg(n),P=(p*R+v*O)/u,k=(g*R+m*O)/f,S=Math.sqrt(P*P+k*k);S>1e-5&&(S=1/S),P*=S,k*=S,S=Math.sqrt(P*P+k*k),this.data.transformMode==_t.NoScale&&p*m-v*g<0!=(u<0!=f<0)&&(S=-S);var F=Math.PI/2+Math.atan2(k,P),L=Math.cos(F)*S,D=Math.sin(F)*S,_=K.cosDeg(o)*i,x=K.cosDeg(90+s)*a,b=K.sinDeg(o)*i,w=K.sinDeg(90+s)*a;l.a=P*_+L*b,l.c=P*x+L*w,l.b=k*_+D*b,l.d=k*x+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*K.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*K.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*K.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*K.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,d=c*r.b-u*r.a,p=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+d*d),this.ascaleX>1e-4){var v=f*p-h*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(f*h+d*p,v)*K.radDeg,this.arotation=Math.atan2(d,f)*K.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*K.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*K.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=K.sinDeg(e),n=K.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*K.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=K.cosDeg(e),c=K.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),FF=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_t.Normal,this.skinRequired=!1,this.color=new De,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),tb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),NF=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),LF=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),vz=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,d=-e.ashearX-e.arotation,p=0,v=0,g=e.skeleton.scaleX,m=-e.skeleton.scaleY;switch(e.data.transformMode){case _t.OnlyTranslation:p=r-e.worldX,v=n-e.worldY,v=-v;break;case _t.NoRotationOrReflection:var _=Math.abs(l*h-u*f)/(l*l+f*f),x=l/g,b=f/m;u=-b*_*g,h=x*_*m,d+=Math.atan2(b,x)*K.radDeg;default:var w=r-c.tx,S=n-c.ty,C=l*h-u*f;p=(w*h-S*u)/C-e.ax,v=(S*l-w*f)/C-e.ay}d+=Math.atan2(v,p)*K.radDeg,e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var A=e.ascaleX,T=e.ascaleY;if(i||a){switch(e.data.transformMode){case _t.NoScale:case _t.NoScaleOrReflection:p=r-e.worldX,v=n-e.worldY}var R=e.data.length*A,O=Math.sqrt(p*p+v*v);if(i&&O<R||a&&O>R&&R>1e-4){var _=(O/R-1)*s+1;A*=_,o&&(T*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,A,T,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,d=e.ascaleY,p=h,v=d,g=r.ascaleX,m=e.matrix,_=0,x=0,b=0;h<0?(h=-h,_=180,b=-1):(_=0,b=1),d<0&&(d=-d,b=-b),g<0?(g=-g,x=180):x=0;var w=r.ax,S=0,C=0,A=0,T=m.a,R=m.c,O=m.b,P=m.d,k=Math.abs(h-d)<=1e-4;!k||o?(S=0,C=T*w+m.tx,A=O*w+m.ty):(S=r.ay,C=T*w+R*S+m.tx,A=O*w+P*S+m.ty);var F=e.parent.matrix;if(!F)throw new Error("IK parent must itself have a parent.");T=F.a,R=F.c,O=F.b,P=F.d;var L=1/(T*P-R*O),D=C-F.tx,H=A-F.ty,Q=(D*P-H*R)*L-u,ee=(H*T-D*O)*L-f,G=Math.sqrt(Q*Q+ee*ee),B=r.data.length*g,V,U;if(G<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(w,S,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}D=n-F.tx,H=i-F.ty;var $=(D*P-H*R)*L-u,J=(H*T-D*O)*L-f,re=$*$+J*J;if(c!=0){c*=h*(g+1)*.5;var fe=Math.sqrt(re),le=fe-G-B*h+c;if(le>0){var xe=Math.min(1,le/(c*2))-1;xe=(le-c*(1-xe*xe))/fe,$-=xe*$,J-=xe*J,re=$*$+J*J}}e:if(k){B*=h;var Ae=(re-G*G-B*B)/(2*G*B);Ae<-1?(Ae=-1,U=Math.PI*a):Ae>1?(Ae=1,U=0,o&&(T=(Math.sqrt(re)/(G+B)-1)*l+1,p*=T,s&&(v*=T))):U=Math.acos(Ae)*a,T=G+B*Ae,R=B*Math.sin(U),V=Math.atan2(J*T-$*R,$*T+J*R)}else{T=h*B,R=d*B;var ye=T*T,we=R*R,me=Math.atan2(J,$);O=we*G*G+ye*re-ye*we;var Pe=-2*we*G,je=we-ye;if(P=Pe*Pe-4*je*O,P>=0){var Le=Math.sqrt(P);Pe<0&&(Le=-Le),Le=-(Pe+Le)*.5;var ze=Le/je,st=O/Le,xt=Math.abs(ze)<Math.abs(st)?ze:st;if(xt*xt<=re){H=Math.sqrt(re-xt*xt)*a,V=me-Math.atan2(H,xt),U=Math.atan2(H/d,(xt-G)/h);break e}}var Et=K.PI,it=G-T,ct=it*it,bt=0,mr=0,_r=G+T,fr=_r*_r,ir=0;O=-T*G/(ye-we),O>=-1&&O<=1&&(O=Math.acos(O),D=T*Math.cos(O)+G,H=R*Math.sin(O),P=D*D+H*H,P<ct&&(Et=O,ct=P,it=D,bt=H),P>fr&&(mr=O,fr=P,_r=D,ir=H)),re<=(ct+fr)*.5?(V=me-Math.atan2(bt*a,it),U=Et*a):(V=me-Math.atan2(ir*a,_r),U=mr*a)}var Rt=Math.atan2(S,w)*b,Er=e.arotation;V=(V-Rt)*K.radDeg+_-Er,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(u,f,Er+V*l,p,v,0,0),Er=r.arotation,U=((U+Rt)*K.radDeg-r.ashearX)*b+x-Er,U>180?U-=360:U<-180&&(U+=360),r.updateWorldTransformWith(w,S,Er+U*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),MF=function(t){Mt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(tb),BF=function(t){Mt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=zr.Fixed,n.spacingMode=kn.Fixed,n.rotateMode=dn.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(tb),kn;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(kn||(kn={}));var gz=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof bv){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==dn.Tangent,s=a.rotateMode==dn.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=he.setArraySize(this.spaces,u),h=s?this.lengths=he.setArraySize(this.lengths,l):[],d=this.spacing;switch(a.spacingMode){case kn.Percent:if(s)for(var p=0,v=u-1;p<v;p++){var g=c[p],m=g.data.length;if(m<t.epsilon)h[p]=0;else{var _=m*g.matrix.a,x=m*g.matrix.b;h[p]=Math.sqrt(_*_+x*x)}}he.arrayFill(f,1,u,d);break;case kn.Proportional:for(var b=0,p=0,v=u-1;p<v;){var g=c[p],m=g.data.length;if(m<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var _=m*g.matrix.a,x=m*g.matrix.b,w=Math.sqrt(_*_+x*x);s&&(h[p]=w),f[++p]=w,b+=w}}if(b>0){b=u/b*d;for(var p=1;p<u;p++)f[p]*=b}break;default:for(var S=a.spacingMode==kn.Length,p=0,v=u-1;p<v;){var g=c[p],m=g.data.length;if(m<t.epsilon)s&&(h[p]=0),f[++p]=d;else{var _=m*g.matrix.a,x=m*g.matrix.b,C=Math.sqrt(_*_+x*x);s&&(h[p]=C),f[++p]=(S?m+d:d)*C/m}}}var A=this.computeWorldPositions(e,u,o),T=A[0],R=A[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==dn.Chain;else{P=!1;var k=this.target.bone.matrix;O*=k.a*k.d-k.b*k.c>0?K.degRad:-K.degRad}for(var p=0,k=3;p<l;p++,k+=3){var g=c[p],F=g.matrix;F.tx+=(T-F.tx)*n,F.ty+=(R-F.ty)*i;var _=A[k],x=A[k+1],L=_-T,D=x-R;if(s){var H=h[p];if(H!=0){var Q=(Math.sqrt(L*L+D*D)/H-1)*r+1;F.a*=Q,F.b*=Q}}if(T=_,R=x,r>0){var ee=F.a,G=F.c,B=F.b,V=F.d,U=0,$=0,J=0;if(o?U=A[k-1]:f[p+1]==0?U=A[k+2]:U=Math.atan2(D,L),U-=Math.atan2(B,ee),P){$=Math.cos(U),J=Math.sin(U);var re=g.data.length;T+=(re*($*ee-J*B)-L)*r,R+=(re*(J*ee+$*B)-D)*r}else U+=O;U>K.PI?U-=K.PI2:U<-K.PI&&(U+=K.PI2),U*=r,$=Math.cos(U),J=Math.sin(U),F.a=$*ee-J*B,F.c=$*G-J*V,F.b=J*ee+$*B,F.d=J*G+$*V}g.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=he.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var d=e.lengths;f-=l?1:2;var p=d[f];this.data.positionMode==zr.Percent&&(a*=p);var v;switch(this.data.spacingMode){case kn.Percent:v=p;break;case kn.Proportional:v=p/r;break;default:v=1}c=he.setArraySize(this.world,8);for(var g=0,m=0,_=0;g<r;g++,m+=3){var x=o[g]*v;a+=x;var b=a;if(l)b%=p,b<0&&(b+=p),_=0;else if(b<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(b,c,0,s,m);continue}else if(b>p){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(b-p,c,0,s,m);continue}for(;;_++){var w=d[_];if(!(b>w)){if(_==0)b/=w;else{var S=d[_-1];b=(b-S)/(w-S)}break}}_!=h&&(h=_,l&&_==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,_*6+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,m,n||g>0&&x==0)}return s}l?(u+=2,c=he.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=he.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=he.setArraySize(this.curves,f),A=0,T=c[0],R=c[1],O=0,P=0,k=0,F=0,L=0,D=0,H=0,Q=0,ee=0,G=0,B=0,V=0,U=0,$=0,g=0,J=2;g<f;g++,J+=6)O=c[J],P=c[J+1],k=c[J+2],F=c[J+3],L=c[J+4],D=c[J+5],H=(T-O*2+k)*.1875,Q=(R-P*2+F)*.1875,ee=((O-k)*3-T+L)*.09375,G=((P-F)*3-R+D)*.09375,B=H*2+ee,V=Q*2+G,U=(O-T)*.75+H+ee*.16666667,$=(P-R)*.75+Q+G*.16666667,A+=Math.sqrt(U*U+$*$),U+=B,$+=V,B+=ee,V+=G,A+=Math.sqrt(U*U+$*$),U+=B,$+=V,A+=Math.sqrt(U*U+$*$),U+=B+ee,$+=V+G,A+=Math.sqrt(U*U+$*$),C[g]=A,T=L,R=D;this.data.positionMode==zr.Percent&&(a*=A);var re;switch(this.data.spacingMode){case kn.Percent:re=A;break;case kn.Proportional:re=A/r;break;default:re=1}for(var fe=this.segments,le=0,g=0,m=0,_=0,xe=0;g<r;g++,m+=3){var x=o[g]*re;a+=x;var b=a;if(l)b%=A,b<0&&(b+=A),_=0;else if(b<0){this.addBeforePosition(b,c,0,s,m);continue}else if(b>A){this.addAfterPosition(b-A,c,u-4,s,m);continue}for(;;_++){var Ae=C[_];if(!(b>Ae)){if(_==0)b/=Ae;else{var S=C[_-1];b=(b-S)/(Ae-S)}break}}if(_!=h){h=_;var ye=_*6;for(T=c[ye],R=c[ye+1],O=c[ye+2],P=c[ye+3],k=c[ye+4],F=c[ye+5],L=c[ye+6],D=c[ye+7],H=(T-O*2+k)*.03,Q=(R-P*2+F)*.03,ee=((O-k)*3-T+L)*.006,G=((P-F)*3-R+D)*.006,B=H*2+ee,V=Q*2+G,U=(O-T)*.3+H+ee*.16666667,$=(P-R)*.3+Q+G*.16666667,le=Math.sqrt(U*U+$*$),fe[0]=le,ye=1;ye<8;ye++)U+=B,$+=V,B+=ee,V+=G,le+=Math.sqrt(U*U+$*$),fe[ye]=le;U+=B,$+=V,le+=Math.sqrt(U*U+$*$),fe[8]=le,U+=B+ee,$+=V+G,le+=Math.sqrt(U*U+$*$),fe[9]=le,xe=0}for(b*=le;;xe++){var we=fe[xe];if(!(b>we)){if(xe==0)b/=we;else{var S=fe[xe-1];b=xe+(b-S)/(we-S)}break}}this.addCurvePosition(b*.1,T,R,O,P,k,F,L,D,s,m,n||g>0&&x==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var d=e*e,p=d*e,v=1-e,g=v*v,m=g*v,_=v*e,x=_*3,b=v*x,w=x*e,S=r*m+i*b+o*w+c*p,C=n*m+a*b+s*w+l*p;u[f]=S,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*g+a*_*2+s*d),S-(r*g+i*_*2+o*d)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),mz=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new De,this.darkColor=e.darkColor?new De:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof _s)||!(this.attachment instanceof _s)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),_z=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new hv,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,d=l.d,p=u*d-f*h>0?K.degRad:-K.degRad,v=this.data.offsetRotation*p,g=this.data.offsetShearY*p,m=this.bones,_=0,x=m.length;_<x;_++){var b=m[_],w=b.matrix;if(e!=0){var S=w.a,C=w.c,A=w.b,T=w.d,R=Math.atan2(h,u)-Math.atan2(A,S)+v;R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);w.a=O*S-P*A,w.c=O*C-P*T,w.b=P*S+O*A,w.d=P*C+O*T}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=(k.x-w.tx)*r,w.ty+=(k.y-w.ty)*n}if(i!=0){var F=Math.sqrt(w.a*w.a+w.b*w.b);F!=0&&(F=(F+(Math.sqrt(u*u+h*h)-F+this.data.offsetScaleX)*i)/F),w.a*=F,w.b*=F}if(a!=0){var F=Math.sqrt(w.c*w.c+w.d*w.d);F!=0&&(F=(F+(Math.sqrt(f*f+d*d)-F+this.data.offsetScaleY)*a)/F),w.c*=F,w.d*=F}if(o>0){var C=w.c,T=w.d,L=Math.atan2(T,C),R=Math.atan2(d,f)-Math.atan2(h,u)-(L-Math.atan2(w.b,w.a));R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2),R=L+(R+g)*o;var F=Math.sqrt(C*C+T*T);w.c=Math.cos(R)*F,w.d=Math.sin(R)*F}b.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,d=l.d,p=u*d-f*h>0?K.degRad:-K.degRad,v=this.data.offsetRotation*p,g=this.data.offsetShearY*p,m=this.bones,_=0,x=m.length;_<x;_++){var b=m[_],w=b.matrix;if(e!=0){var S=w.a,C=w.c,A=w.b,T=w.d,R=Math.atan2(h,u)+v;R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);w.a=O*S-P*A,w.c=O*C-P*T,w.b=P*S+O*A,w.d=P*C+O*T}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=k.x*r,w.ty+=k.y*n}if(i!=0){var F=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;w.a*=F,w.b*=F}if(a!=0){var F=(Math.sqrt(f*f+d*d)-1+this.data.offsetScaleY)*a+1;w.c*=F,w.d*=F}if(o>0){var R=Math.atan2(d,f)-Math.atan2(h,u);R>K.PI?R-=K.PI2:R<-K.PI&&(R+=K.PI2);var C=w.c,T=w.d;R=Math.atan2(T,C)+(R-K.PI/2+g)*o;var F=Math.sqrt(C*C+T*T);w.c=Math.cos(R)*F,w.d=Math.sin(R)*F}b.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var d=s.arotation-h+this.data.offsetRotation;d-=(16384-(16384.499999999996-d/360|0))*360,h+=d*e}var p=f.ax,v=f.ay;p+=(s.ax-p+this.data.offsetX)*r,v+=(s.ay-v+this.data.offsetY)*n;var g=f.ascaleX,m=f.ascaleY;i!=0&&g!=0&&(g=(g+(s.ascaleX-g+this.data.offsetScaleX)*i)/g),a!=0&&m!=0&&(m=(m+(s.ascaleY-m+this.data.offsetScaleY)*a)/m);var _=f.ashearY;if(o!=0){var d=s.ashearY-_+this.data.offsetShearY;d-=(16384-(16384.499999999996-d/360|0))*360,_+=d*o}f.updateWorldTransformWith(p,v,h,g,m,f.ashearX,_)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,d=f.ax+(s.ax+this.data.offsetX)*r,p=f.ay+(s.ay+this.data.offsetY)*n,v=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),g=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),m=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(d,p,h,v,g,f.ashearX,m)}},t}(),yz=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new XI(n,this,null);else{var a=this.bones[n.parent.index];i=new XI(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new mz(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new vz(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new _z(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new gz(u,this))}this.color=new De(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,d=u+f+h;e:for(var n=0;n<d;n++){for(var p=0;p<u;p++){var v=s[p];if(v.data.order==n){this.sortIkConstraint(v);continue e}}for(var p=0;p<f;p++){var v=c[p];if(v.data.order==n){this.sortTransformConstraint(v);continue e}}for(var p=0;p<h;p++){var v=l[p];if(v.data.order==n){this.sortPathConstraint(v);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&he.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&he.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof bv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&he.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof bv){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=K.cosDeg(r.rotation+r.shearX)*r.scaleX,l=K.cosDeg(s)*r.scaleY,u=K.sinDeg(r.rotation+r.shearX)*r.scaleX,f=K.sinDeg(s)*r.scaleY,h=this.scaleX,d=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*d,r.matrix.d=(a*l+o*f)*d;for(var p=this._updateCache,v=0,g=p.length;v<g;v++){var m=p[v];m!=r&&m.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;he.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new hv,r=new hv;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,d=null,p=f.getAttachment();if(p instanceof lF)h=8,d=he.setArraySize(n,h,0),p.computeWorldVertices(f,d,0,2);else if(p instanceof Z1){var v=p;h=v.worldVerticesLength,d=he.setArraySize(n,h,0),v.computeWorldVertices(f,0,h,d,0,2)}if(d)for(var g=0,m=d.length;g<m;g+=2){var _=d[g],x=d[g+1];a=Math.min(a,_),o=Math.min(o,x),s=Math.max(s,_),c=Math.max(c,x)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),DF=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),UF=function(){function t(e,r,n){if(this.index=0,this.color=new De(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=We.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),jF=function(t){Mt(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(tb),WI=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Qy=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof Z1?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new WI(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new WI(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),xz=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new DF;n.name="";var i=new Yy(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var d=i.readString();if(!d)throw new Error("Bone name must not be null.");var p=f==0?null:n.bones[i.readInt(!0)],v=new FF(f,d,p);v.rotation=i.readFloat(),v.x=i.readFloat()*r,v.y=i.readFloat()*r,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*r,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),l&&De.rgba8888ToColor(v.color,i.readInt32()),n.bones.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var g=i.readString();if(!g)throw new Error("Slot name must not be null.");var m=n.bones[i.readInt(!0)],v=new UF(f,g,m);De.rgba8888ToColor(v.color,i.readInt32());var _=i.readInt32();_!=-1&&De.rgb888ToColor(v.darkColor=new De,_),v.attachmentName=i.readStringRef(),v.blendMode=i.readInt(!0),n.slots.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var b=i.readString();if(!b)throw new Error("IK constraint data name must not be null.");var v=new MF(b);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var w=0;w<x;w++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.mix=i.readFloat(),v.softness=i.readFloat()*r,v.bendDirection=i.readByte(),v.compress=i.readBoolean(),v.stretch=i.readBoolean(),v.uniform=i.readBoolean(),n.ikConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var S=i.readString();if(!S)throw new Error("Transform constraint data name must not be null.");var v=new jF(S);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var w=0;w<x;w++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.bones[i.readInt(!0)],v.local=i.readBoolean(),v.relative=i.readBoolean(),v.offsetRotation=i.readFloat(),v.offsetX=i.readFloat()*r,v.offsetY=i.readFloat()*r,v.offsetScaleX=i.readFloat(),v.offsetScaleY=i.readFloat(),v.offsetShearY=i.readFloat(),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),v.mixScaleX=i.readFloat(),v.mixScaleY=i.readFloat(),v.mixShearY=i.readFloat(),n.transformConstraints.push(v)}u=i.readInt(!0);for(var f=0,x=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var v=new BF(C);v.order=i.readInt(!0),v.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var w=0;w<x;w++)v.bones.push(n.bones[i.readInt(!0)]);v.target=n.slots[i.readInt(!0)],v.positionMode=i.readInt(!0),v.spacingMode=i.readInt(!0),v.rotateMode=i.readInt(!0),v.offsetRotation=i.readFloat(),v.position=i.readFloat(),v.positionMode==zr.Fixed&&(v.position*=r),v.spacing=i.readFloat(),(v.spacingMode==kn.Length||v.spacingMode==kn.Fixed)&&(v.spacing*=r),v.mixRotate=i.readFloat(),v.mixX=i.readFloat(),v.mixY=i.readFloat(),n.pathConstraints.push(v)}var A=this.readSkin(i,n,!0,l);A&&(n.defaultSkin=A,n.skins.push(A));{var f=n.skins.length;for(he.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var T=this.readSkin(i,n,!1,l);if(!T)throw new Error("readSkin() should not have returned null.");n.skins[f]=T}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var R=this.linkedMeshes[f],T=R.skin?n.findSkin(R.skin):n.defaultSkin;if(!T)throw new Error("Not skin found for linked mesh.");if(!R.parent)throw new Error("Linked mesh parent must not be null");var O=T.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error("Parent mesh not found: "+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var P=i.readStringRef();if(!P)throw new Error;var v=new LF(P);v.intValue=i.readInt(!1),v.floatValue=i.readFloat(),v.stringValue=i.readString(),v.audioPath=i.readString(),v.audioPath&&(v.volume=i.readFloat(),v.balance=i.readFloat()),n.events.push(v)}u=i.readInt(!0);for(var f=0;f<u;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Qy("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Qy(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var d=e.readStringRef();if(!d)throw new Error("Attachment name must not be null");var p=this.readAttachment(e,r,a,u,d,i);p&&a.setAttachment(u,d,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case kt.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),g=e.readFloat(),m=e.readInt32(),_=this.readSequence(e);l||(l=c);var x=this.attachmentLoader.newRegionAttachment(n,c,l,_);return x?(x.path=l,x.x=f*s,x.y=h*s,x.scaleX=d,x.scaleY=p,x.rotation=u,x.width=v*s,x.height=g*s,De.rgba8888ToColor(x.color,m),x.sequence=_,_==null&&x.updateRegion(),x):null}case kt.BoundingBox:{var b=e.readInt(!0),w=this.readVertices(e,b),m=o?e.readInt32():0,S=this.attachmentLoader.newBoundingBoxAttachment(n,c);return S?(S.worldVerticesLength=b<<1,S.vertices=w.vertices,S.bones=w.bones,o&&De.rgba8888ToColor(S.color,m),S):null}case kt.Mesh:{var l=e.readStringRef(),m=e.readInt32(),b=e.readInt(!0),C=this.readFloatArray(e,b<<1,1),A=this.readShortArray(e),w=this.readVertices(e,b),T=e.readInt(!0),_=this.readSequence(e),R=[],v=0,g=0;o&&(R=this.readShortArray(e),v=e.readFloat(),g=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,De.rgba8888ToColor(O.color,m),O.bones=w.bones,O.vertices=w.vertices,O.worldVerticesLength=b<<1,O.triangles=A,O.regionUVs=new Float32Array(C),O.hullLength=T<<1,O.sequence=_,o&&(O.edges=R,O.width=v*s,O.height=g*s),O):null}case kt.LinkedMesh:{var l=e.readStringRef(),m=e.readInt32(),P=e.readStringRef(),k=e.readStringRef(),F=e.readBoolean(),_=this.readSequence(e),v=0,g=0;o&&(v=e.readFloat(),g=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,De.rgba8888ToColor(O.color,m),O.sequence=_,o&&(O.width=v*s,O.height=g*s),this.linkedMeshes.push(new TDe(O,P,i,k,F)),O):null}case kt.Path:{for(var L=e.readBoolean(),D=e.readBoolean(),b=e.readInt(!0),w=this.readVertices(e,b),H=he.newArray(b/3,0),Q=0,ee=H.length;Q<ee;Q++)H[Q]=e.readFloat()*s;var m=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=L,l.constantSpeed=D,l.worldVerticesLength=b<<1,l.vertices=w.vertices,l.bones=w.bones,l.lengths=H,o&&De.rgba8888ToColor(l.color,m),l):null}case kt.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),m=o?e.readInt32():0,G=this.attachmentLoader.newPointAttachment(n,c);return G?(G.x=f*s,G.y=h*s,G.rotation=u,o&&De.rgba8888ToColor(G.color,m),G):null}case kt.Clipping:{var B=e.readInt(!0),b=e.readInt(!0),w=this.readVertices(e,b),m=o?e.readInt32():0,V=this.attachmentLoader.newClippingAttachment(n,c);return V?(V.endSlot=r.slots[B],V.worldVerticesLength=b<<1,V.vertices=w.vertices,V.bones=w.bones,o&&De.rgba8888ToColor(V.color,m),V):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new uF(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?m5:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new IDe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=he.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),d=h-1;switch(f){case UDe:{for(var p=new Cc(h,c),v=0;v<h;v++)p.setFrame(v,e.readFloat(),e.readStringRef());i.push(p);break}case jDe:{for(var g=e.readInt(!0),p=new xF(h,g,c),m=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,_,x,b,w),v!=d;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,_,A,1),qt(e,p,S++,v,1,m,C,x,T,1),qt(e,p,S++,v,2,m,C,b,R,1),qt(e,p,S++,v,3,m,C,w,O,1)}m=C,_=A,x=T,b=R,w=O}i.push(p);break}case $De:{for(var g=e.readInt(!0),p=new bF(h,g,c),m=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,_,x,b),v!=d;v++){var C=e.readFloat(),A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255;switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,_,A,1),qt(e,p,S++,v,1,m,C,x,T,1),qt(e,p,S++,v,2,m,C,b,R,1)}m=C,_=A,x=T,b=R}i.push(p);break}case GDe:{for(var g=e.readInt(!0),p=new EF(h,g,c),m=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,_,x,b,w,A,T,R),v!=d;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,Q=e.readUnsignedByte()/255;switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,_,P,1),qt(e,p,S++,v,1,m,C,x,k,1),qt(e,p,S++,v,2,m,C,b,F,1),qt(e,p,S++,v,3,m,C,w,L,1),qt(e,p,S++,v,4,m,C,A,D,1),qt(e,p,S++,v,5,m,C,T,H,1),qt(e,p,S++,v,6,m,C,R,Q,1)}m=C,_=P,x=k,b=F,w=L,A=D,T=H,R=Q}i.push(p);break}case VDe:{for(var g=e.readInt(!0),p=new SF(h,g,c),m=e.readFloat(),_=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,_,x,b,A,T,R),v!=d;v++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,Q=e.readUnsignedByte()/255;switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,_,P,1),qt(e,p,S++,v,1,m,C,x,k,1),qt(e,p,S++,v,2,m,C,b,F,1),qt(e,p,S++,v,3,m,C,A,D,1),qt(e,p,S++,v,4,m,C,T,H,1),qt(e,p,S++,v,5,m,C,R,Q,1)}m=C,_=P,x=k,b=F,A=D,T=H,R=Q}i.push(p);break}case HDe:{for(var p=new wF(h,e.readInt(!0),c),m=e.readFloat(),w=e.readUnsignedByte()/255,v=0,S=0;p.setFrame(v,m,w),v!=d;v++){var C=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,w,O,1)}m=C,w=O}i.push(p)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var ee=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var G=e.readByte(),h=e.readInt(!0),g=e.readInt(!0);switch(G){case RDe:i.push(js(e,new wv(h,g,ee),1));break;case PDe:i.push(a2(e,new fF(h,g,ee),a));break;case ODe:i.push(js(e,new hF(h,g,ee),a));break;case kDe:i.push(js(e,new dF(h,g,ee),a));break;case FDe:i.push(a2(e,new pF(h,g,ee),1));break;case NDe:i.push(js(e,new vF(h,g,ee),1));break;case LDe:i.push(js(e,new gF(h,g,ee),1));break;case MDe:i.push(a2(e,new mF(h,g,ee),1));break;case BDe:i.push(js(e,new _F(h,g,ee),1));break;case DDe:i.push(js(e,new yF(h,g,ee),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var B=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new AF(h,e.readInt(!0),B),m=e.readFloat(),V=e.readFloat(),U=e.readFloat()*a,v=0,S=0;p.setFrame(v,m,V,U,e.readByte(),e.readBoolean(),e.readBoolean()),v!=d;v++){var C=e.readFloat(),$=e.readFloat(),J=e.readFloat()*a;switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,V,$,1),qt(e,p,S++,v,1,m,C,U,J,a)}m=C,V=$,U=J}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var B=e.readInt(!0),h=e.readInt(!0),d=h-1,p=new TF(h,e.readInt(!0),B),m=e.readFloat(),re=e.readFloat(),fe=e.readFloat(),le=e.readFloat(),xe=e.readFloat(),Ae=e.readFloat(),ye=e.readFloat(),v=0,S=0;p.setFrame(v,m,re,fe,le,xe,Ae,ye),v!=d;v++){var C=e.readFloat(),we=e.readFloat(),me=e.readFloat(),Pe=e.readFloat(),je=e.readFloat(),Le=e.readFloat(),ze=e.readFloat();switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,re,we,1),qt(e,p,S++,v,1,m,C,fe,me,1),qt(e,p,S++,v,2,m,C,le,Pe,1),qt(e,p,S++,v,3,m,C,xe,je,1),qt(e,p,S++,v,4,m,C,Ae,Le,1),qt(e,p,S++,v,5,m,C,ye,ze,1)}m=C,re=we,fe=me,le=Pe,xe=je,Ae=Le,ye=ze}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var B=e.readInt(!0),st=n.pathConstraints[B],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case WDe:i.push(js(e,new IF(e.readInt(!0),e.readInt(!0),B),st.positionMode==zr.Fixed?a:1));break;case zDe:i.push(js(e,new RF(e.readInt(!0),e.readInt(!0),B),st.spacingMode==kn.Length||st.spacingMode==kn.Fixed?a:1));break;case YDe:for(var p=new PF(e.readInt(!0),e.readInt(!0),B),m=e.readFloat(),re=e.readFloat(),fe=e.readFloat(),le=e.readFloat(),v=0,S=0,d=p.getFrameCount()-1;p.setFrame(v,m,re,fe,le),v!=d;v++){var C=e.readFloat(),we=e.readFloat(),me=e.readFloat(),Pe=e.readFloat();switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,re,we,1),qt(e,p,S++,v,1,m,C,fe,me,1),qt(e,p,S++,v,2,m,C,le,Pe,1)}m=C,re=we,fe=me,le=Pe}i.push(p)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var xt=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),Et=0,it=e.readInt(!0);Et<it;Et++){var ct=e.readStringRef();if(!ct)throw new Error("attachmentName must not be null.");var bt=xt.getAttachment(c,ct),f=this.readDeformTimelineType(e),h=e.readInt(!0),d=h-1;switch(f){case m5:{for(var mr=bt,_r=mr.bones,fr=mr.vertices,ir=_r?fr.length/3*2:fr.length,g=e.readInt(!0),p=new CF(h,g,c,mr),m=e.readFloat(),v=0,S=0;;v++){var Rt=void 0,Er=e.readInt(!0);if(Er==0)Rt=_r?he.newFloatArray(ir):fr;else{Rt=he.newFloatArray(ir);var _e=e.readInt(!0);if(Er+=_e,a==1)for(var Se=_e;Se<Er;Se++)Rt[Se]=e.readFloat();else for(var Se=_e;Se<Er;Se++)Rt[Se]=e.readFloat()*a;if(!_r)for(var Se=0,Oe=Rt.length;Se<Oe;Se++)Rt[Se]+=fr[Se]}if(p.setFrame(v,m,Rt),v==d)break;var C=e.readFloat();switch(e.readByte()){case Ao:p.setStepped(v);break;case To:qt(e,p,S++,v,0,m,C,0,1,1)}m=C}i.push(p);break}case XDe:{for(var p=new OF(h,c,bt),v=0;v<h;v++){var m=e.readFloat(),qe=e.readInt32();p.setFrame(v,m,cF[qe&15],qe>>4,e.readFloat())}i.push(p);break}}}var He=e.readInt(!0);if(He>0){for(var p=new Bh(He),at=n.slots.length,o=0;o<He;o++){for(var m=e.readFloat(),ar=e.readInt(!0),kr=he.newArray(at,0),l=at-1;l>=0;l--)kr[l]=-1;for(var zn=he.newArray(at-ar,0),Yn=0,Ar=0,l=0;l<ar;l++){for(var c=e.readInt(!0);Yn!=c;)zn[Ar++]=Yn++;kr[Yn+e.readInt(!0)]=Yn++}for(;Yn<at;)zn[Ar++]=Yn++;for(var l=at-1;l>=0;l--)kr[l]==-1&&(kr[l]=zn[--Ar]);p.setFrame(o,m,kr)}i.push(p)}var Ea=e.readInt(!0);if(Ea>0){for(var p=new eb(Ea),o=0;o<Ea;o++){var m=e.readFloat(),Si=n.events[e.readInt(!0)],Ln=new NF(m,Si);Ln.intValue=e.readInt(!1),Ln.floatValue=e.readFloat(),Ln.stringValue=e.readBoolean()?e.readString():Si.stringValue,Ln.data.audioPath&&(Ln.volume=e.readFloat(),Ln.balance=e.readFloat()),p.setFrame(o,Ln)}i.push(p)}for(var Sa=0,o=0,s=i.length;o<s;o++)Sa=Math.max(Sa,i[o].getDuration());return new J1(r,i,Sa)},t.BlendModeValues=[We.NORMAL,We.ADD,We.MULTIPLY,We.SCREEN],t}(),TDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),IDe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function js(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case Ao:e.setStepped(a);break;case To:qt(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function a2(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case Ao:e.setStepped(o);break;case To:qt(t,e,s++,o,0,n,l,i,u,r),qt(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function qt(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var RDe=0,PDe=1,ODe=2,kDe=3,FDe=4,NDe=5,LDe=6,MDe=7,BDe=8,DDe=9,UDe=0,jDe=1,$De=2,GDe=3,VDe=4,HDe=5,m5=0,XDe=1,WDe=0,zDe=1,YDe=2,Ao=1,To=2,qDe=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(jk),bz=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new DF,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=ve(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new FF(n.bones.length,l.name,u);h.length=ve(l,"length",0)*r,h.x=ve(l,"x",0)*r,h.y=ve(l,"y",0)*r,h.rotation=ve(l,"rotation",0),h.scaleX=ve(l,"scaleX",1),h.scaleY=ve(l,"scaleY",1),h.shearX=ve(l,"shearX",0),h.shearY=ve(l,"shearY",0),h.transformMode=he.enumValue(_t,ve(l,"transform","Normal")),h.skinRequired=ve(l,"skin",!1);var d=ve(l,"color",null);d&&h.color.setFromString(d),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var p=i.slots[c],v=n.findBone(p.bone);if(!v)throw new Error("Couldn't find bone "+p.bone+" for slot "+p.name);var h=new UF(n.slots.length,p.name,v),d=ve(p,"color",null);d&&h.color.setFromString(d);var g=ve(p,"dark",null);g&&(h.darkColor=De.fromString(g)),h.attachmentName=ve(p,"attachment",null),h.blendMode=t.blendModeFromString(ve(p,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var m=i.ik[c],h=new MF(m.name);h.order=ve(m,"order",0),h.skinRequired=ve(m,"skin",!1);for(var _=0;_<m.bones.length;_++){var x=m.bones[_],b=n.findBone(x);if(b==null)throw new Error("IK bone not found: "+x);h.bones.push(b)}h.target=n.findBone(m.target),h.mix=ve(m,"mix",1),h.softness=ve(m,"softness",0)*r,h.bendDirection=ve(m,"bendPositive",!0)?1:-1,h.compress=ve(m,"compress",!1),h.stretch=ve(m,"stretch",!1),h.uniform=ve(m,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var m=i.transform[c],h=new jF(m.name);h.order=ve(m,"order",0),h.skinRequired=ve(m,"skin",!1);for(var _=0;_<m.bones.length;_++){var x=m.bones[_],b=n.findBone(x);if(!b)throw new Error("Couldn't find bone "+x+" for transform constraint "+m.name+".");h.bones.push(b)}var w=m.target,S=n.findBone(w);if(!S)throw new Error("Couldn't find target bone "+w+" for transform constraint "+m.name+".");h.target=S,h.local=ve(m,"local",!1),h.relative=ve(m,"relative",!1),h.offsetRotation=ve(m,"rotation",0),h.offsetX=ve(m,"x",0)*r,h.offsetY=ve(m,"y",0)*r,h.offsetScaleX=ve(m,"scaleX",0),h.offsetScaleY=ve(m,"scaleY",0),h.offsetShearY=ve(m,"shearY",0),h.mixRotate=ve(m,"mixRotate",1),h.mixX=ve(m,"mixX",1),h.mixY=ve(m,"mixY",h.mixX),h.mixScaleX=ve(m,"mixScaleX",1),h.mixScaleY=ve(m,"mixScaleY",h.mixScaleX),h.mixShearY=ve(m,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var m=i.path[c],h=new BF(m.name);h.order=ve(m,"order",0),h.skinRequired=ve(m,"skin",!1);for(var _=0;_<m.bones.length;_++){var x=m.bones[_],b=n.findBone(x);if(!b)throw new Error("Couldn't find bone "+x+" for path constraint "+m.name+".");h.bones.push(b)}var w=m.target,S=n.findSlot(w);if(!S)throw new Error("Couldn't find target slot "+w+" for path constraint "+m.name+".");h.target=S,h.positionMode=he.enumValue(zr,ve(m,"positionMode","Percent")),h.spacingMode=he.enumValue(kn,ve(m,"spacingMode","Length")),h.rotateMode=he.enumValue(dn,ve(m,"rotateMode","Tangent")),h.offsetRotation=ve(m,"rotation",0),h.position=ve(m,"position",0),h.positionMode==zr.Fixed&&(h.position*=r),h.spacing=ve(m,"spacing",0),(h.spacingMode==kn.Length||h.spacingMode==kn.Fixed)&&(h.spacing*=r),h.mixRotate=ve(m,"mixRotate",1),h.mixX=ve(m,"mixX",1),h.mixY=ve(m,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],A=new Qy(C.name);if(C.bones)for(var _=0;_<C.bones.length;_++){var x=C.bones[_],b=n.findBone(x);if(!b)throw new Error("Couldn't find bone "+x+" for skin "+C.name+".");A.bones.push(b)}if(C.ik)for(var _=0;_<C.ik.length;_++){var T=C.ik[_],R=n.findIkConstraint(T);if(!R)throw new Error("Couldn't find IK constraint "+T+" for skin "+C.name+".");A.constraints.push(R)}if(C.transform)for(var _=0;_<C.transform.length;_++){var T=C.transform[_],R=n.findTransformConstraint(T);if(!R)throw new Error("Couldn't find transform constraint "+T+" for skin "+C.name+".");A.constraints.push(R)}if(C.path)for(var _=0;_<C.path.length;_++){var T=C.path[_],R=n.findPathConstraint(T);if(!R)throw new Error("Couldn't find path constraint "+T+" for skin "+C.name+".");A.constraints.push(R)}for(var O in C.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+C.name+".");var p=C.attachments[O];for(var k in p){var F=this.readAttachment(p[k],A,P.index,k,n);F&&A.setAttachment(P.index,k,F)}}n.skins.push(A),A.name=="default"&&(n.defaultSkin=A)}for(var c=0,L=this.linkedMeshes.length;c<L;c++){var D=this.linkedMeshes[c],A=D.skin?n.findSkin(D.skin):n.defaultSkin;if(!A)throw new Error("Skin not found: "+D.skin);var H=A.getAttachment(D.slotIndex,D.parent);if(!H)throw new Error("Parent mesh not found: "+D.parent);D.mesh.timelineAttachment=D.inheritTimeline?H:D.mesh,D.mesh.setParentMesh(H)}if(this.linkedMeshes.length=0,i.events)for(var Q in i.events){var ee=i.events[Q],h=new LF(Q);h.intValue=ve(ee,"int",0),h.floatValue=ve(ee,"float",0),h.stringValue=ve(ee,"string",""),h.audioPath=ve(ee,"audio",null),h.audioPath&&(h.volume=ve(ee,"volume",1),h.balance=ve(ee,"balance",0)),n.events.push(h)}if(i.animations)for(var G in i.animations){var B=i.animations[G];this.readAnimation(B,G,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=ve(e,"name",i),ve(e,"type","region")){case"region":{var s=ve(e,"path",i),c=this.readSequence(ve(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=ve(e,"x",0)*o,l.y=ve(e,"y",0)*o,l.scaleX=ve(e,"scaleX",1),l.scaleY=ve(e,"scaleY",1),l.rotation=ve(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=ve(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=ve(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=ve(e,"path",i),c=this.readSequence(ve(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=ve(e,"color",null);u&&h.color.setFromString(u),h.width=ve(e,"width",0)*o,h.height=ve(e,"height",0)*o,h.sequence=c;var d=ve(e,"parent",null);if(d)return this.linkedMeshes.push(new KDe(h,ve(e,"skin",null),n,d,ve(e,"timelines",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=ve(e,"edges",null),h.hullLength=ve(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=ve(e,"closed",!1),s.constantSpeed=ve(e,"constantSpeed",!0);var v=e.vertexCount;this.readVertices(e,s,v<<1);for(var g=he.newArray(v/3,0),m=0;m<e.lengths.length;m++)g[m]=e.lengths[m]*o;s.lengths=g;var u=ve(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(!_)return null;_.x=ve(e,"x",0)*o,_.y=ve(e,"y",0)*o,_.rotation=ve(e,"rotation",0);var u=ve(e,"color",null);return u&&_.color.setFromString(u),_}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(!x)return null;var b=ve(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);x.endSlot=w}var v=e.vertexCount;this.readVertices(e,x,v<<1);var u=ve(e,"color",null);return u&&x.color.setFromString(u),x}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new uF(ve(e,"count",0));return r.start=ve(e,"start",1),r.digits=ve(e,"digits",0),r.setupIndex=ve(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=he.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=he.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var d=new Cc(h,l),p=0;p<h;p++){var v=f[p];d.setFrame(p,ve(v,"time",0),ve(v,"name",null))}a.push(d)}else if(u=="rgba"){for(var d=new xF(h,h<<2,l),v=f[0],g=ve(v,"time",0),m=De.fromString(v.color),p=0,_=0;;p++){d.setFrame(p,g,m.r,m.g,m.b,m.a);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),w=De.fromString(x.color),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,m.r,w.r,1),_=Jt(S,d,_,p,1,g,b,m.g,w.g,1),_=Jt(S,d,_,p,2,g,b,m.b,w.b,1),_=Jt(S,d,_,p,3,g,b,m.a,w.a,1)),g=b,m=w,v=x}a.push(d)}else if(u=="rgb"){for(var d=new bF(h,h*3,l),v=f[0],g=ve(v,"time",0),m=De.fromString(v.color),p=0,_=0;;p++){d.setFrame(p,g,m.r,m.g,m.b);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),w=De.fromString(x.color),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,m.r,w.r,1),_=Jt(S,d,_,p,1,g,b,m.g,w.g,1),_=Jt(S,d,_,p,2,g,b,m.b,w.b,1)),g=b,m=w,v=x}a.push(d)}else if(u=="alpha")a.push(Ko(f,new wF(h,h,l),0,1));else if(u=="rgba2"){for(var d=new EF(h,h*7,l),v=f[0],g=ve(v,"time",0),m=De.fromString(v.light),C=De.fromString(v.dark),p=0,_=0;;p++){d.setFrame(p,g,m.r,m.g,m.b,m.a,C.r,C.g,C.b);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),w=De.fromString(x.light),A=De.fromString(x.dark),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,m.r,w.r,1),_=Jt(S,d,_,p,1,g,b,m.g,w.g,1),_=Jt(S,d,_,p,2,g,b,m.b,w.b,1),_=Jt(S,d,_,p,3,g,b,m.a,w.a,1),_=Jt(S,d,_,p,4,g,b,C.r,A.r,1),_=Jt(S,d,_,p,5,g,b,C.g,A.g,1),_=Jt(S,d,_,p,6,g,b,C.b,A.b,1)),g=b,m=w,C=A,v=x}a.push(d)}else if(u=="rgb2"){for(var d=new SF(h,h*6,l),v=f[0],g=ve(v,"time",0),m=De.fromString(v.light),C=De.fromString(v.dark),p=0,_=0;;p++){d.setFrame(p,g,m.r,m.g,m.b,C.r,C.g,C.b);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),w=De.fromString(x.light),A=De.fromString(x.dark),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,m.r,w.r,1),_=Jt(S,d,_,p,1,g,b,m.g,w.g,1),_=Jt(S,d,_,p,2,g,b,m.b,w.b,1),_=Jt(S,d,_,p,3,g,b,C.r,A.r,1),_=Jt(S,d,_,p,4,g,b,C.g,A.g,1),_=Jt(S,d,_,p,5,g,b,C.b,A.b,1)),g=b,m=w,C=A,v=x}a.push(d)}}}}if(e.bones)for(var T in e.bones){var R=e.bones[T],O=n.findBone(T);if(!O)throw new Error("Bone not found: "+T);var P=O.index;for(var u in R){var f=R[u],k=f.length;if(k!=0){if(u==="rotate")a.push(Ko(f,new wv(k,k,P),0,1));else if(u==="translate"){var d=new fF(k,k<<1,P);a.push(o2(f,d,"x","y",0,i))}else if(u==="translatex"){var d=new hF(k,k,P);a.push(Ko(f,d,0,i))}else if(u==="translatey"){var d=new dF(k,k,P);a.push(Ko(f,d,0,i))}else if(u==="scale"){var d=new pF(k,k<<1,P);a.push(o2(f,d,"x","y",1,1))}else if(u==="scalex"){var d=new vF(k,k,P);a.push(Ko(f,d,1,1))}else if(u==="scaley"){var d=new gF(k,k,P);a.push(Ko(f,d,1,1))}else if(u==="shear"){var d=new mF(k,k<<1,P);a.push(o2(f,d,"x","y",0,1))}else if(u==="shearx"){var d=new _F(k,k,P);a.push(Ko(f,d,0,1))}else if(u==="sheary"){var d=new yF(k,k,P);a.push(Ko(f,d,0,1))}}}}if(e.ik)for(var F in e.ik){var L=e.ik[F],v=L[0];if(v){var D=n.findIkConstraint(F);if(!D)throw new Error("IK Constraint not found: "+F);for(var H=n.ikConstraints.indexOf(D),d=new AF(L.length,L.length<<1,H),g=ve(v,"time",0),Q=ve(v,"mix",1),ee=ve(v,"softness",0)*i,p=0,_=0;;p++){d.setFrame(p,g,Q,ee,ve(v,"bendPositive",!0)?1:-1,ve(v,"compress",!1),ve(v,"stretch",!1));var x=L[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),G=ve(x,"mix",1),B=ve(x,"softness",0)*i,S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,Q,G,1),_=Jt(S,d,_,p,1,g,b,ee,B,i)),g=b,Q=G,ee=B,v=x}a.push(d)}}if(e.transform)for(var F in e.transform){var f=e.transform[F],v=f[0];if(v){var D=n.findTransformConstraint(F);if(!D)throw new Error("Transform constraint not found: "+F);for(var H=n.transformConstraints.indexOf(D),d=new TF(f.length,f.length*6,H),g=ve(v,"time",0),V=ve(v,"mixRotate",1),U=ve(v,"mixX",1),$=ve(v,"mixY",U),J=ve(v,"mixScaleX",1),re=ve(v,"mixScaleY",J),fe=ve(v,"mixShearY",1),p=0,_=0;;p++){d.setFrame(p,g,V,U,$,J,re,fe);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),le=ve(x,"mixRotate",1),xe=ve(x,"mixX",1),Ae=ve(x,"mixY",xe),ye=ve(x,"mixScaleX",1),we=ve(x,"mixScaleY",ye),me=ve(x,"mixShearY",1),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,V,le,1),_=Jt(S,d,_,p,1,g,b,U,xe,1),_=Jt(S,d,_,p,2,g,b,$,Ae,1),_=Jt(S,d,_,p,3,g,b,J,ye,1),_=Jt(S,d,_,p,4,g,b,re,we,1),_=Jt(S,d,_,p,5,g,b,fe,me,1)),g=b,V=le,U=xe,$=Ae,J=ye,re=we,J=ye,v=x}a.push(d)}}if(e.path)for(var F in e.path){var L=e.path[F],D=n.findPathConstraint(F);if(!D)throw new Error("Path constraint not found: "+F);var H=n.pathConstraints.indexOf(D);for(var u in L){var f=L[u],v=f[0];if(v){var Pe=f.length;if(u==="position"){var d=new IF(Pe,Pe,H);a.push(Ko(f,d,0,D.positionMode==zr.Fixed?i:1))}else if(u==="spacing"){var d=new RF(Pe,Pe,H);a.push(Ko(f,d,0,D.spacingMode==kn.Length||D.spacingMode==kn.Fixed?i:1))}else if(u==="mix"){for(var d=new PF(Pe,Pe*3,H),g=ve(v,"time",0),V=ve(v,"mixRotate",1),U=ve(v,"mixX",1),$=ve(v,"mixY",U),p=0,_=0;;p++){d.setFrame(p,g,V,U,$);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),le=ve(x,"mixRotate",1),xe=ve(x,"mixX",1),Ae=ve(x,"mixY",xe),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,V,le,1),_=Jt(S,d,_,p,1,g,b,U,xe,1),_=Jt(S,d,_,p,2,g,b,$,Ae,1)),g=b,V=le,U=xe,$=Ae,v=x}a.push(d)}}}}if(e.deform){e.attachments={};for(var je in e.deform){var Le=e.deform[je],ze=e.attachments[je]={};for(var o in Le){var s=Le[o],st=ze[o]={};for(var xt in s)st[xt]={deform:s[xt]}}}}if(e.attachments)for(var Et in e.attachments){var it=e.attachments[Et],ct=n.findSkin(Et);if(ct!=null)for(var bt in it){var s=it[bt],c=n.findSlot(bt);if(!c)throw new Error("Slot not found: "+bt);var l=c.index;for(var mr in s){var _r=s[mr],fr=ct.getAttachment(l,mr);for(var ir in _r){var f=_r[ir],v=f[0];if(v){if(ir=="deform"){for(var Rt=fr.bones,Er=fr.vertices,_e=Rt?Er.length/3*2:Er.length,d=new CF(f.length,f.length,l,fr),g=ve(v,"time",0),p=0,_=0;;p++){var Se=void 0,Oe=ve(v,"vertices",null);if(!Oe)Se=Rt?he.newFloatArray(_e):Er;else{Se=he.newFloatArray(_e);var qe=ve(v,"offset",0);if(he.arrayCopy(Oe,0,Se,qe,Oe.length),i!=1)for(var He=qe,at=He+Oe.length;He<at;He++)Se[He]*=i;if(!Rt)for(var He=0;He<_e;He++)Se[He]+=Er[He]}d.setFrame(p,g,Se);var x=f[p+1];if(!x){d.shrink(_);break}var b=ve(x,"time",0),S=v.curve;S&&(_=Jt(S,d,_,p,0,g,b,0,1,1)),g=b,v=x}a.push(d)}else if(ir=="sequence"){for(var d=new OF(f.length,l,fr),ar=0,p=0;p<f.length;p++){var kr=ve(v,"delay",ar),g=ve(v,"time",0),zn=ei[ve(v,"mode","hold")],Yn=ve(v,"index",0);d.setFrame(p,g,zn,Yn,kr),ar=kr,v=f[p+1]}a.push(d)}}}}}}if(e.drawOrder){for(var d=new Bh(e.drawOrder.length),Ar=n.slots.length,p=0,He=0;He<e.drawOrder.length;He++,p++){var Ea=e.drawOrder[He],Si=null,Ln=ve(Ea,"offsets",null);if(Ln){Si=he.newArray(Ar,-1);for(var Sa=he.newArray(Ar-Ln.length,0),Wa=0,Ho=0,Gi=0;Gi<Ln.length;Gi++){var hl=Ln[Gi],c=n.findSlot(hl.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;Wa!=l;)Sa[Ho++]=Wa++;Si[Wa+hl.offset]=Wa++}for(;Wa<Ar;)Sa[Ho++]=Wa++;for(var Gi=Ar-1;Gi>=0;Gi--)Si[Gi]==-1&&(Si[Gi]=Sa[--Ho])}d.setFrame(p,ve(Ea,"time",0),Si)}a.push(d)}if(e.events){for(var d=new eb(e.events.length),p=0,He=0;He<e.events.length;He++,p++){var Vi=e.events[He],go=n.findEvent(Vi.name);if(!go)throw new Error("Event not found: "+Vi.name);var Ci=new NF(he.toSinglePrecision(ve(Vi,"time",0)),go);Ci.intValue=ve(Vi,"int",go.intValue),Ci.floatValue=ve(Vi,"float",go.floatValue),Ci.stringValue=ve(Vi,"string",go.stringValue),Ci.data.audioPath&&(Ci.volume=ve(Vi,"volume",1),Ci.balance=ve(Vi,"balance",0)),d.setFrame(p,Ci)}a.push(d)}for(var on=0,He=0,at=a.length;He<at;He++)on=Math.max(on,a[He].getDuration());if(isNaN(on))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new J1(r,a,on))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return We.NORMAL;if(e=="additive")return We.ADD;if(e=="multiply")return We.MULTIPLY;if(e=="screen")return We.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),KDe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function Ko(t,e,r,n){for(var i=t[0],a=ve(i,"time",0),o=ve(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=ve(l,"time",0),f=ve(l,"value",r)*n;i.curve&&(s=Jt(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function o2(t,e,r,n,i,a){for(var o=t[0],s=ve(o,"time",0),c=ve(o,r,i)*a,l=ve(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var d=ve(h,"time",0),p=ve(h,r,i)*a,v=ve(h,n,i)*a,g=o.curve;g&&(u=Jt(g,e,u,f,0,s,d,c,p,a),u=Jt(g,e,u,f,1,s,d,l,v,a)),s=d,c=p,l=v,o=h}}function Jt(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,d=t[u+2],p=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,d,p,o,c),r+1}function ve(t,e,r){return t[e]!==void 0?t[e]:r}var ZDe=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new yz(r),this.skeleton.updateWorldTransform(),this.stateData=new pz(r),this.state=new fz(this.stateData)},e}(Qv);const JDe=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:wF,Animation:J1,AnimationState:fz,AnimationStateAdapter:SDe,AnimationStateData:pz,AtlasAttachmentLoader:kF,Attachment:sF,AttachmentTimeline:Cc,Bone:XI,BoneData:FF,BoundingBoxAttachment:lz,ClippingAttachment:uz,ConstraintData:tb,CurveTimeline:jo,CurveTimeline1:$o,CurveTimeline2:Q1,DeformTimeline:CF,DrawOrderTimeline:Bh,Event:NF,EventData:LF,EventQueue:dz,EventTimeline:eb,get EventType(){return Ji},IkConstraint:vz,IkConstraintData:MF,IkConstraintTimeline:AF,MeshAttachment:Z1,PathAttachment:bv,PathConstraint:gz,PathConstraintData:BF,PathConstraintMixTimeline:PF,PathConstraintPositionTimeline:IF,PathConstraintSpacingTimeline:RF,PointAttachment:cz,RGB2Timeline:SF,RGBA2Timeline:EF,RGBATimeline:xF,RGBTimeline:bF,RegionAttachment:lF,RotateTimeline:wv,ScaleTimeline:pF,ScaleXTimeline:vF,ScaleYTimeline:gF,Sequence:uF,get SequenceMode(){return ei},SequenceModeValues:cF,SequenceTimeline:OF,ShearTimeline:mF,ShearXTimeline:_F,ShearYTimeline:yF,Skeleton:yz,SkeletonBinary:xz,SkeletonBounds:qDe,SkeletonData:DF,SkeletonJson:bz,Skin:Qy,SkinEntry:WI,Slot:mz,SlotData:UF,get SpacingMode(){return kn},Spine:ZDe,Timeline:vn,TrackEntry:hz,TransformConstraint:_z,TransformConstraintData:jF,TransformConstraintTimeline:TF,TranslateTimeline:fF,TranslateXTimeline:hF,TranslateYTimeline:dF,VertexAttachment:_s},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zI=function(t,e){return zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zI(t,e)};function wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(Fn||(Fn={}));function ex(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?Fn.VER37:e==="3.8"?Fn.VER38:e==="4.0"?Fn.VER40:e==="4.1"?Fn.VER41:r<Fn.VER37?Fn.VER37:Fn.UNKNOWN}var QDe=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=ex(i);if(a===Fn.VER38&&(n=new FW(new Yk(e))),i=this.readVersionNewFormat(r),a=ex(i),(a===Fn.VER40||a===Fn.VER41)&&(n=new xz(new kF(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Yy(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Yy(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),e8e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=ex(n),a=null;if(i===Fn.VER37&&(a=new sz(new zW(e))),i===Fn.VER38&&(a=new NW(new Yk(e))),(i===Fn.VER40||i===Fn.VER41)&&(a=new bz(new kF(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),t8e=function(t){wz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new QDe},e.prototype.createJsonParser=function(){return new e8e},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){$a.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(oDe),r8e=function(t){wz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=ex(r.version),i=null;if(n===Fn.VER37&&(i=EDe),n===Fn.VER38&&(i=gDe),(n===Fn.VER40||n===Fn.VER41)&&(i=JDe),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Qv);t8e.registerLoaderPlugin();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YI(t,e)},qI=function(){return qI=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qI.apply(this,arguments)},Lc={},Ez={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.loop=Qs.conditional=Qs.parse=void 0;Qs.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};Qs.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};Qs.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.readBits=yn.readArray=yn.readUnsigned=yn.readString=yn.peekBytes=yn.readBytes=yn.peekByte=yn.readByte=yn.buildStream=void 0;yn.buildStream=function(t){return{data:t,pos:0}};var n8e=function(){return function(t){return t.data[t.pos++]}};yn.readByte=n8e;yn.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var rb=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};yn.readBytes=rb;yn.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};yn.readString=function(t){return function(e){return Array.from(rb(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};yn.readUnsigned=function(t){return function(e){var r=rb(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};yn.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=rb(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};yn.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Qs,r=yn,n={blocks:function(u){for(var f=[],h=u.data.length,d=0,p=(0,r.readByte)()(u);p!==0&&p;p=(0,r.readByte)()(u)){if(u.pos+p>=h){var v=h-u.pos;f.push((0,r.readBytes)(v)(u)),d+=v;break}f.push((0,r.readBytes)(p)(u)),d+=p}for(var g=new Uint8Array(d),m=0,_=0;_<f.length;_++)g.set(f[_],m),m+=f[_].length;return g}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(Ez);var tx={};Object.defineProperty(tx,"__esModule",{value:!0}),tx.deinterlace=void 0;tx.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var rx={};Object.defineProperty(rx,"__esModule",{value:!0}),rx.lzw=void 0;rx.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,d,p,v,g,m,_,x=4096,b=r,w=new Array(r),S=new Array(x),C=new Array(x),A=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)S[u]=0,C[u]=u;for(d=p=v=g=m=_=0,f=0;f<b;){if(g===0){if(p<o){d+=e[_]<<p,p+=8,_++;continue}if(u=d&a,d>>=o,p-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){A[g++]=C[u],l=u,v=u;continue}for(c=u,u==n&&(A[g++]=v,u=l);u>i;)A[g++]=C[u],u=S[u];v=255&C[u],A[g++]=v,n<x&&(S[n]=l,C[n]=v,!(++n&a)&&n<x&&(o++,a+=n)),l=c}g--,w[m++]=A[g],f++}for(f=m;f<b;f++)w[f]=0;return w},Object.defineProperty(Lc,"__esModule",{value:!0});var Zm,Sz=Lc.decompressFrames=Lc.decompressFrame=Cz=Lc.parseGIF=void 0,i8e=(Zm=Ez)&&Zm.__esModule?Zm:{default:Zm},a8e=Qs,o8e=yn,s8e=tx,l8e=rx,Cz=Lc.parseGIF=function(t){var e=new Uint8Array(t);return(0,a8e.parse)((0,o8e.buildStream)(e),i8e.default)},Az=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,l8e.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,s8e.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],d=s.colorTable[h]||[0,0,0];l[f]=d[0],l[f+1]=d[1],l[f+2]=d[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};Lc.decompressFrame=Az;Sz=Lc.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return Az(r,t.gct,e)})};var u8e=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,d){var p={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&d.indexOf(v)<0&&(p[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(v=Object.getOwnPropertySymbols(h);g<v.length;g++)d.indexOf(v[g])<0&&Object.prototype.propertyIsEnumerable.call(h,v[g])&&(p[v[g]]=h[v[g]])}return p}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,gt.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}YI(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=Cz(r);(function(F){for(var L,D=null,H=0,Q=F.frames;H<Q.length;H++){var ee=Q[H];D=(L=ee.gce)!==null&&L!==void 0?L:D,"image"in ee&&!("gce"in ee)&&(ee.gce=D)}})(i);var a=Sz(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,d=0;d<a.length;d++){var p=a[d],v=p.disposalType,g=v===void 0?2:v,m=p.delay,_=m===void 0?h:m,x=p.patch,b=p.dims,w=b.width,S=b.height,C=b.left,A=b.top;l.width=w,l.height=S,u.clearRect(0,0,w,S);var T=u.createImageData(w,S);T.data.set(x),u.putImageData(T,0,0),c.drawImage(l,C,A);var R=c.getImageData(0,0,s.width,s.height);g!==2&&g!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+_,imageData:R}),f+=_}s.width=s.height=0,l.width=l.height=0;var O=i.lsd,P=O.width,k=O.height;return new e(o,qI({width:P,height:k},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(en.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(en.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/rt.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(en.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(en.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:ni.LINEAR,fps:en.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}(La);window.PIXI=ULe;class c8e{constructor(){Ye(this,"currentApp",null);Ye(this,"effectsContainer");Ye(this,"frameDuration",16.67);Ye(this,"notUpdateBacklogEffects",!1);Ye(this,"figureContainer");Ye(this,"figureObjects",[]);Ye(this,"backgroundContainer");Ye(this,"backgroundObjects",[]);Ye(this,"stageAnimations",[]);Ye(this,"assetLoader",new $a);Ye(this,"loadQueue",[]);Ye(this,"live2dFigureRecorder",[]);Ye(this,"lockTransformTarget",[]);Ye(this,"stageWidth",_u().width||Ic.width);Ye(this,"stageHeight",_u().height||Ic.height);Ye(this,"MAX_TEX_COUNT",10);const e=new Zv({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),$F&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new Vn,this.effectsContainer.zIndex=3,this.figureContainer=new Vn,this.figureContainer.zIndex=2,this.backgroundContainer=new Vn,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:k0(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:k0(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};ae.dispatch(pa.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,d=Math.min(f,h),p=new La(c);p.scale.x=d,p.scale.y=d,p.anchor.set(.5),p.position.y=this.stageHeight/2;const v=l*d,g=u*d;a.setBaseY(this.stageHeight/2),g<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-g/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(p)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,d=Math.min(f,h),p=new La(c);p.scale.x=d,p.scale.y=d,p.anchor.set(.5),p.position.y=this.stageHeight/2;const v=l*d,g=u*d;a.setBaseY(this.stageHeight/2),g<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-g/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(v/2),i==="right"&&a.setBaseX(this.stageWidth-v/2),a.pivot.set(0,this.stageHeight/2),a.addChild(p)})}addBg(e,r,n,i){var h,d;const a=this.assetLoader,o=new r2;this.backgroundObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e);const l=(p,v,g,m)=>{fetch(p).then(_=>_.arrayBuffer()).then(u8e.fromBuffer).then(_=>{v&&(_.transform=v.transform),g&&(_.width=mt(g)),m&&(_.height=mt(m)),o.addChild(_)})};this.backgroundContainer.addChild(o);const u=k0();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var v,g;const p=(g=(v=a.resources)==null?void 0:v[r])==null?void 0:g.texture;if(p&&this.getStageObjByUuid(u)){const m=p.width,_=p.height,x=this.stageWidth/m,b=this.stageHeight/_,w=Math.max(x,b),S=new La(p);if(S.scale.x=w,S.scale.y=w,S.anchor.set(.5),r.includes(".gif")){l(r,S,n,i);return}S.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(S)}};this.cacheGC(),(d=(h=a.resources)==null?void 0:h[r])!=null&&d.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center"){var u,f;const i=this.assetLoader,a=new r2;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(a);const c=k0();this.figureObjects.push({uuid:c,key:e,pixiContainer:a,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const l=()=>{var d,p;const h=(p=(d=i.resources)==null?void 0:d[r])==null?void 0:p.texture;if(h&&this.getStageObjByUuid(c)){const v=h.width,g=h.height,m=this.stageWidth/v,_=this.stageHeight/g,x=Math.min(m,_),b=new La(h);b.scale.x=x,b.scale.y=x,b.anchor.set(.5),b.position.y=this.stageHeight/2;const w=v*x,S=g*x;a.setBaseY(this.stageHeight/2),S<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-S/2),n==="center"&&a.setBaseX(this.stageWidth/2),n==="left"&&a.setBaseX(w/2),n==="right"&&a.setBaseX(this.stageWidth-w/2),a.pivot.set(0,this.stageHeight/2),a.addChild(b)}};this.cacheGC(),(f=(u=i.resources)==null?void 0:u[r])!=null&&f.texture?l():this.loadAsset(r,l)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new r2;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=k0();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var d,p;console.log(this.assetLoader.resources);const h=(d=this.assetLoader.resources)==null?void 0:d[i];if(h&&this.getStageObjByUuid(l)){const v=new r8e(h.spineData),g=((p=h==null?void 0:h.spineData)==null?void 0:p.y)??0;console.log(v);const m=v.width,_=v.height,x=this.stageWidth/m,b=this.stageHeight/_;v.y=-(b*g)/2,console.log(v.state),v.state.setAnimation(0,"07",!0);const w=Math.min(x,b),S=new La;S.addChild(v),S.scale.x=w,S.scale.y=w,S.anchor.set(.5),S.position.y=this.stageHeight/2;const C=m*w,A=_*w;o.setBaseY(this.stageHeight/2),A<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-A/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(S)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const d=(l==null?void 0:l.internalModel)??void 0;(o=(a=d==null?void 0:d.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,d,p;function n(v){return v<50?0:(v-50)/50}const i=n(r),a=this.figureObjects.find(v=>v.key===e);if(a){const g=a.pixiContainer.children;for(const m of g)m!=null&&m.internalModel&&((s=(o=m==null?void 0:m.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=m==null?void 0:m.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=m==null?void 0:m.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((p=(d=m==null?void 0:m.internalModel)==null?void 0:d.coreModel)==null||p.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){DH()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n){this.loadQueue.unshift({url:e,callback:r,name:n}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){Ve.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){s2==null||s2(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const s2=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),f8e={version:"IdolTime 1.0.0"},h8e=navigator.userAgent,$F=!!h8e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),d8e=()=>{Ve.info(f8e.version),Ve.info("Made with  by IdolTime"),$F&&alert(`iOS 
| iOS `),p8e("./game/userStyleSheet.css"),v8e(),kIe("./game/config.txt");const t=yt("start.txt",pt.scene);wa(t).then(async e=>{const r=await W.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const i=Lv(n);Ad(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");ae.dispatch(or.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),W.gameplay.pixiStage=new c8e,LIe(),MIe()};function p8e(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function v8e(){Dp.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)Dp.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};W.animationManager.addAnimation(i)}})})}const g8e="_Menu_main_x2m75_1",m8e="_Menu_ShowSoftly_x2m75_1",_8e="_Menu_TagContent_x2m75_10",_5={Menu_main:g8e,Menu_ShowSoftly:m8e,Menu_TagContent:_8e},y8e="_Save_Load_main_1ow1v_2",x8e="_extra_video_main_1ow1v_12",b8e="_goback_1ow1v_16",w8e="_Elements_in_1ow1v_1",E8e="_extraVideo_goback_1ow1v_36",S8e="_Save_Load_title_1ow1v_41",C8e="_Save_title_text_1ow1v_57",A8e="_Load_title_text_1ow1v_65",T8e="_Save_Load_top_buttonList_1ow1v_73",I8e="_extra_video_top_buttonList_1ow1v_78",R8e="_Save_Load_top_button_1ow1v_73",P8e="_Save_Load_top_button_on_1ow1v_107",O8e="_Load_top_button_on_1ow1v_120",k8e="_Load_top_button_1ow1v_120",F8e="_Save_Load_content_1ow1v_133",N8e="_Save_Load_content_element_1ow1v_142",L8e="_Elements_in_transform_1ow1v_1",M8e="_Save_Load_content_element_top_1ow1v_158",B8e="_Save_Load_content_element_top_index_1ow1v_165",D8e="_Load_content_elememt_top_index_1ow1v_178",U8e="_Save_Load_content_element_top_date_1ow1v_182",j8e="_Load_content_element_top_date_1ow1v_199",$8e="_Save_Load_content_text_1ow1v_203",G8e="_Save_Load_content_text_padding_1ow1v_217",V8e="_Save_Load_content_speaker_1ow1v_221",H8e="_Load_content_speaker_1ow1v_230",X8e="_Load_content_text_1ow1v_234",W8e="_Save_Load_content_miniRen_1ow1v_238",z8e="_Save_Load_content_miniRen_bg_1ow1v_245",Y8e="_Save_Load_content_miniRen_figure_1ow1v_252",q8e="_Save_Load_content_miniRen_figLeft_1ow1v_260",K8e="_Save_Load_content_miniRen_figRight_1ow1v_265",Z8e="_hideDefalutGobackBg_1ow1v_270",Ke={Save_Load_main:y8e,extra_video_main:x8e,goback:b8e,Elements_in:w8e,extraVideo_goback:E8e,Save_Load_title:S8e,Save_title_text:C8e,Load_title_text:A8e,Save_Load_top_buttonList:T8e,extra_video_top_buttonList:I8e,Save_Load_top_button:R8e,Save_Load_top_button_on:P8e,Load_top_button_on:O8e,Load_top_button:k8e,Save_Load_content:F8e,Save_Load_content_element:N8e,Elements_in_transform:L8e,Save_Load_content_element_top:M8e,Save_Load_content_element_top_index:B8e,Load_content_elememt_top_index:D8e,Save_Load_content_element_top_date:U8e,Load_content_element_top_date:j8e,Save_Load_content_text:$8e,Save_Load_content_text_padding:G8e,Save_Load_content_speaker:V8e,Load_content_speaker:H8e,Load_content_text:X8e,Save_Load_content_miniRen:W8e,Save_Load_content_miniRen_bg:z8e,Save_Load_content_miniRen_figure:Y8e,Save_Load_content_miniRen_figLeft:q8e,Save_Load_content_miniRen_figRight:K8e,hideDefalutGobackBg:Z8e},J8e="_GlobalDialog_main_101j8_2",Q8e="_showGlobalDialog_101j8_1",eUe="_glabalDialog_container_inner_101j8_17",tUe="_glabalDialog_container_101j8_17",rUe="_title_101j8_36",nUe="_button_list_101j8_41",iUe="_button_101j8_41",Zu={GlobalDialog_main:J8e,showGlobalDialog:Q8e,glabalDialog_container_inner:eUe,glabalDialog_container:tUe,title:rUe,button_list:nUe,button:iUe};function aUe(){const t=tt(e=>e.GUI.showGlobalDialog);return M.jsx(M.Fragment,{children:t&&M.jsx("div",{id:"globalDialogContainer"})})}function Tz(t){const{playSeClick:e,playSeEnter:r}=rO();ae.dispatch(ut({component:"showGlobalDialog",visibility:!0}));const n=()=>{e(),t.leftFunc(),y5()},i=()=>{e(),t.rightFunc(),y5()},a=M.jsx("div",{className:Zu.GlobalDialog_main,children:M.jsx("div",{className:Zu.glabalDialog_container,children:M.jsxs("div",{className:Zu.glabalDialog_container_inner,children:[M.jsx("div",{className:Zu.title,children:t.title}),M.jsxs("div",{className:Zu.button_list,children:[M.jsx("div",{className:`${Zu.button} interactive`,onClick:n,onMouseEnter:r,children:t.leftText}),M.jsx("div",{className:`${Zu.button} interactive`,onClick:i,onMouseEnter:r,children:t.rightText})]})]})})});setTimeout(()=>{Uc.render(a,document.getElementById("globalDialogContainer"))},100)}function y5(){ae.dispatch(ut({component:"showGlobalDialog",visibility:!1}))}function GF(t,e){if(t==null)return{};var r=nEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var oUe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const sUe=Ei(oUe);var lUe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function x5(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(sUe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(lUe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var uUe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,cUe=/^\s*$/,fUe=Object.create(null);function Iz(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(Iz,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var hUe={parse:function(t,e){e||(e={}),e.components||(e.components=fUe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(uUe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),d=l+c.length,p=t.charAt(d);if(h){var v=x5(c);return a<0?(n.push(v),n):((u=i[a]).children.push(v),n)}if(f&&(a++,(r=x5(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!p||p==="<"||r.children.push({type:"text",content:t.slice(d,t.indexOf("<",d))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&p!=="<"&&p)){u=a===-1?n:i[a].children;var g=t.indexOf("<",d),m=t.slice(d,g===-1?void 0:g);cUe.test(m)&&(m=" "),(g>-1&&a+u.length>=0||m!==" ")&&u.push({type:"text",content:m})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+Iz("",r)},"")}};function G_(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var b5={};function nx(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&b5[e[0]]||(typeof e[0]=="string"&&(b5[e[0]]=new Date),G_.apply(void 0,e))}var Rz=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function w5(t,e,r){t.loadNamespaces(e,Rz(t,r))}function E5(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Rz(t,n))}function dUe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function pUe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return nx("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):dUe(t,e,r)}var vUe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gUe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mUe=function(e){return gUe[e]},_Ue=function(e){return e.replace(vUe,mUe)};function S5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KI={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_Ue};function yUe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};KI=C5(C5({},KI),t)}function Pz(){return KI}var Oz;function xUe(t){Oz=t}function VF(){return Oz}var bUe=["format"],wUe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function A5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l2(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function u2(t){return t?t.props?t.props.children:t.children:[]}function EUe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ce.isValidElement(e)})}function Y0(t){return Array.isArray(t)?t:[t]}function SUe(t,e){var r=jn({},e);return r.props=Object.assign(t.props,e.props),r}function kz(t,e){if(!t)return"";var r="",n=Y0(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(ce.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=kz(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)G_("Trans: the passed in value is invalid - seems you passed in a null child.");else if(ri(a)==="object"){var f=a.format,h=GF(a,bUe),d=Object.keys(h);if(d.length===1){var p=f?"".concat(d[0],", ").concat(f):d[0];r+="{{".concat(p,"}}")}else G_("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else G_("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function CUe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(g){var m=Y0(g);m.forEach(function(_){typeof _!="string"&&(l2(_)?l(u2(_)):ri(_)==="object"&&!ce.isValidElement(_)&&Object.assign(c,_))})}l(t);var u=hUe.parse("<0>".concat(e,"</0>")),f=jn(jn({},c),i);function h(g,m,_){var x=u2(g),b=p(x,m.children,_);return EUe(x)&&b.length===0?x:b}function d(g,m,_,x,b){g.dummy&&(g.children=m),_.push(ce.cloneElement(g,jn(jn({},g.props),{},{key:x}),b?void 0:m))}function p(g,m,_){var x=Y0(g),b=Y0(m);return b.reduce(function(w,S,C){var A=S.children&&S.children[0]&&S.children[0].content&&r.services.interpolator.interpolate(S.children[0].content,f,r.language);if(S.type==="tag"){var T=x[parseInt(S.name,10)];!T&&_.length===1&&_[0][S.name]&&(T=_[0][S.name]),T||(T={});var R=Object.keys(S.attrs).length!==0?SUe({props:S.attrs},T):T,O=ce.isValidElement(R),P=O&&l2(S,!0)&&!S.voidElement,k=s&&ri(R)==="object"&&R.dummy&&!O,F=ri(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,S.name);if(typeof R=="string"){var L=r.services.interpolator.interpolate(R,f,r.language);w.push(L)}else if(l2(R)||P){var D=h(R,S,_);d(R,D,w,C)}else if(k){var H=p(x,S.children,_);w.push(ce.cloneElement(R,jn(jn({},R.props),{},{key:C}),H))}else if(Number.isNaN(parseFloat(S.name)))if(F){var Q=h(R,S,_);d(R,Q,w,C,S.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(S.name)>-1)if(S.voidElement)w.push(ce.createElement(S.name,{key:"".concat(S.name,"-").concat(C)}));else{var ee=p(x,S.children,_);w.push(ce.createElement(S.name,{key:"".concat(S.name,"-").concat(C)},ee))}else if(S.voidElement)w.push("<".concat(S.name," />"));else{var G=p(x,S.children,_);w.push("<".concat(S.name,">").concat(G,"</").concat(S.name,">"))}else if(ri(R)==="object"&&!O){var B=S.children[0]?A:null;B&&w.push(B)}else S.children.length===1&&A?w.push(ce.cloneElement(R,jn(jn({},R.props),{},{key:C}),A)):w.push(ce.cloneElement(R,jn(jn({},R.props),{},{key:C})))}else if(S.type==="text"){var V=n.transWrapTextNodes,U=a?n.unescape(r.services.interpolator.interpolate(S.content,f,r.language)):r.services.interpolator.interpolate(S.content,f,r.language);V?w.push(ce.createElement(V,{key:"".concat(S.name,"-").concat(C)},U)):w.push(U)}return w},[])}var v=p([{dummy:!0,children:t||[]}],u,Y0(t||[]));return u2(v[0])}function AUe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=GF(t,wUe),g=h||VF();if(!g)return nx("You will need to pass in an i18next instance by using i18nextReactModule"),e;var m=d||g.t.bind(g)||function(P){return P};a&&(s.context=a);var _=jn(jn({},Pz()),g.options&&g.options.react),x=f||m.ns||g.options&&g.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"];var b=l||kz(e,_)||_.transEmptyNodeValue||i,w=_.hashTransKey,S=i||(w?w(b):b),C=c?s.interpolation:{interpolation:jn(jn({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=jn(jn(jn(jn({},s),{},{count:r},c),C),{},{defaultValue:b,ns:x}),T=S?m(S,A):b,R=CUe(u||e,T,g,_,A,p),O=n!==void 0?n:_.defaultTransParent;return O?ce.createElement(O,v,R):R}function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a9(n.key),n)}}function Vo(t,e,r){return e&&T5(t.prototype,e),r&&T5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var TUe={type:"3rdParty",init:function(e){yUe(e.options.react),xUe(e)}},Fz=ce.createContext(),IUe=function(){function t(){Go(this,t),this.usedNamespaces={}}return Vo(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),RUe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PUe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OUe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,d=t.t,p=t.shouldUnescape,v=GF(t,RUe),g=ce.useContext(Fz)||{},m=g.i18n,_=g.defaultNS,x=h||m||VF(),b=d||x&&x.t.bind(x);return AUe(PUe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||b&&b.ns||_||x&&x.options&&x.options.defaultNS,i18n:x,t:d,shouldUnescape:p},v))}function Nz(t){if(Array.isArray(t))return t}function kUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function R5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lz(t,e){if(t){if(typeof t=="string")return R5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(t,e)}}function Mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FUe(t,e){return Nz(t)||kUe(t,e)||Lz(t,e)||Mz()}function P5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var NUe=function(e,r){var n=ce.useRef();return ce.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=ce.useContext(Fz)||{},i=n.i18n,a=n.defaultNS,o=r||i||VF();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new IUe),!o){nx("You will need to pass in an i18next instance by using initReactI18next");var s=function(T,R){return typeof R=="string"?R:R&&ri(R)==="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(T)?T[T.length-1]:T},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&nx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=c2(c2(c2({},Pz()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var d=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(A){return pUe(A,o,l)});function p(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var v=ce.useState(p),g=FUe(v,2),m=g[0],_=g[1],x=h.join();e.lng&&(x="".concat(e.lng).concat(x));var b=NUe(x),w=ce.useRef(!0);ce.useEffect(function(){var A=l.bindI18n,T=l.bindI18nStore;w.current=!0,!d&&!u&&(e.lng?E5(o,e.lng,h,function(){w.current&&_(p)}):w5(o,h,function(){w.current&&_(p)})),d&&b&&b!==x&&w.current&&_(p);function R(){w.current&&_(p)}return A&&o&&o.on(A,R),T&&o&&o.store.on(T,R),function(){w.current=!1,A&&o&&A.split(" ").forEach(function(O){return o.off(O,R)}),T&&o&&T.split(" ").forEach(function(O){return o.store.off(O,R)})}},[o,x]);var S=ce.useRef(!0);ce.useEffect(function(){w.current&&!S.current&&_(p),S.current=!1},[o,f]);var C=[m,o,d];if(C.t=m,C.i18n=o,C.ready=d,d||!d&&!u)return C;throw new Promise(function(A){e.lng?E5(o,e.lng,h,function(){return A()}):w5(o,h,function(){return A()})})}function ys(t){const{t:e}=nb(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const LUe=()=>{const{playSePageChange:t,playSeEnter:e,playSeDialogOpen:r}=li(),n=tt(d=>d.userData),i=tt(d=>d.saveData),a=qr(),o=[];for(let d=1;d<=20;d++){let p=Ke.Save_Load_top_button;d===n.optionData.slPage&&(p=p+" "+Ke.Save_Load_top_button_on);const v=M.jsx("div",{onClick:()=>{a(gc(d)),En(),t()},onMouseEnter:e,className:`${p} interactive`,children:M.jsx("div",{className:Ke.Save_Load_top_button_text,children:d})},"Save_element_page"+d);o.push(v)}const s=ys("common."),c=[],l=(n.optionData.slPage-1)*10+1,u=l+9;ce.useEffect(()=>{Hv(l,u)},[l,u]);let f=0;for(let d=l;d<=u;d++){f++;const p=i.saveData[d];let v=M.jsx("div",{});if(p){const m=p.nowStageState.showName===""?"":`${p.nowStageState.showName}`;v=M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Ke.Save_Load_content_element_top,children:[M.jsx("div",{className:Ke.Save_Load_content_element_top_index,children:p.index}),M.jsx("div",{className:Ke.Save_Load_content_element_top_date,children:p.saveTime})]}),M.jsx("div",{className:Ke.Save_Load_content_miniRen,children:M.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:p.previewImage})}),M.jsxs("div",{className:Ke.Save_Load_content_text,children:[M.jsx("div",{className:Ke.Save_Load_content_speaker,children:m}),M.jsx("div",{className:Ke.Save_Load_content_text_padding,children:p.nowStageState.showText})]})]})}const g=M.jsx("div",{onClick:()=>{i.saveData[d]?(r(),Tz({title:h("saving.isOverwrite"),leftText:s("yes"),rightText:s("no"),leftFunc:()=>{Ry(d),En()},rightFunc:()=>{}})):(t(),Ry(d))},onMouseEnter:e,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${f*30}ms`},children:v},"saveElement_"+d);c.push(g)}const h=ys("menu.");return M.jsxs("div",{className:Ke.Save_Load_main,children:[M.jsxs("div",{className:Ke.Save_Load_top,children:[M.jsx("div",{className:Ke.Save_Load_title,children:M.jsx("div",{className:Ke.Save_title_text,children:h("saving.title")})}),M.jsx("div",{className:Ke.Save_Load_top_buttonList,children:o})]}),M.jsx("div",{className:Ke.Save_Load_content,id:"Save_content_page_"+n.optionData.slPage,children:c})]})},MUe=()=>{var g,m,_,x,b,w,S;const t=qr(),{playSeClick:e,playSeEnter:r,playSePageChange:n}=li(),i=tt(C=>C.userData),a=tt(C=>C.saveData),o=tt(C=>C.GUI.gameUIConfigs[Pn.load]),s=[];for(let C=1;C<=20;C++){let A=Ke.Save_Load_top_button+" "+Ke.Load_top_button;C===i.optionData.slPage&&(A=A+" "+Ke.Save_Load_top_button_on+" "+Ke.Load_top_button_on);const T=M.jsx("div",{onClick:()=>{t(gc(C)),En(),n()},onMouseEnter:r,className:`${A} interactive`,children:M.jsx("div",{className:Ke.Save_Load_top_button_text,style:v((g=o==null?void 0:o.other)==null?void 0:g.Load_indicator,{hasDisplay:!1,imgType:pt.ui}),children:C})},"Load_element_page"+C);s.push(T)}const c=[],l=(i.optionData.slPage-1)*10+1,u=l+9;ce.useEffect(()=>{Hv(l,u)},[l,u]);let f=0;for(let C=l;C<=u;C++){f++;const A=a.saveData[C];let T=M.jsx("div",{});if(A){const O=A.nowStageState.showName===""?"":`${A.nowStageState.showName}`;T=M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Ke.Save_Load_content_element_top,children:[M.jsx("div",{className:Ke.Save_Load_content_element_top_index+" "+Ke.Load_content_elememt_top_index,children:A.index}),M.jsx("div",{className:Ke.Save_Load_content_element_top_date+" "+Ke.Load_content_element_top_date,children:A.saveTime})]}),M.jsx("div",{className:Ke.Save_Load_content_miniRen,children:M.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:A.previewImage})}),M.jsxs("div",{className:Ke.Save_Load_content_text,children:[M.jsx("div",{className:Ke.Save_Load_content_speaker+" "+Ke.Load_content_speaker,children:O}),M.jsx("div",{className:Ke.Save_Load_content_text_padding,children:A.nowStageState.showText})]})]})}const R=M.jsx("div",{onClick:()=>{G7(C),e()},onMouseEnter:r,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${f*30}ms`,...v((m=o==null?void 0:o.other)==null?void 0:m.Load_locked_item,{hasDisplay:!0,imgType:pt.ui})},children:T},"loadElement_"+C);c.push(R)}const h=ys("menu."),d=()=>{e(),t(ut({component:"showMenuPanel",visibility:!1}))};function p(C,A){return yt(C,A)}function v(C,{hasDisplay:A=!1,id:T="",imgType:R}){const O={},P=C==null?void 0:C.args;if(!P||P!=null&&P.hide&&!A)return O;P!=null&&P.hide&&A&&(O.display="none");const k=P.style,F=/\.(png|jpeg|jpg|webp|icon|fig)$/;if(k!=null&&k.image)if(F.test(k.image)&&R)O.backgroundImage=`url(${p(k==null?void 0:k.image,R)})`,O.position=k.position,O.backgroundSize="100% 100%",O.backgroundRepeat="no-repeat";else{const L=document.getElementById(T);L&&(L.innerText=k==null?void 0:k.image)}return k!=null&&k.scale&&(O.transform=`scale(${k.scale})`),typeof(k==null?void 0:k.x)=="number"&&(O.top=`${mt(k.x)}px`),typeof(k==null?void 0:k.y)=="number"&&(O.top=`${mt(k.y)}px`),k!=null&&k.width&&(O.width=`${mt(k.width)}px`),k!=null&&k.height&&(O.height=`${mt(k.height)}px`),k!=null&&k.height&&(O.height=`${mt(k.height)}px`),k!=null&&k.fontColor&&(O.color=k.fontColor),k!=null&&k.fontSize&&(O.fontSize=k.fontSize),O}return M.jsxs("div",{className:Ke.Save_Load_main,style:v((_=o==null?void 0:o.other)==null?void 0:_.Load_bg,{hasDisplay:!1,imgType:pt.background}),children:[M.jsxs("div",{className:Ke.Save_Load_top,children:[M.jsx("div",{className:`${Ke.goback} interactive`,style:v((x=o==null?void 0:o.buttons)==null?void 0:x.Load_back_button,{hasDisplay:!0,imgType:pt.ui}),onClick:d,onMouseEnter:r}),M.jsx("div",{className:Ke.Save_Load_title,style:v((b=o==null?void 0:o.other)==null?void 0:b.Load_title,{hasDisplay:!0,id:(w=o==null?void 0:o.other)==null?void 0:w.Load_title.key}),children:M.jsx("div",{id:(S=o==null?void 0:o.other)==null?void 0:S.Load_title.key,className:Ke.Load_title_text,children:h("loadSaving.title")})}),M.jsx("div",{className:Ke.Save_Load_top_buttonList,children:s})]}),M.jsx("div",{className:Ke.Save_Load_content,id:"Load_content_page_"+i.optionData.slPage,children:c})]})},BUe="_Options_main_ddkoi_2",DUe="_Options_bg_ddkoi_11",UUe="_Options_back_ddkoi_23",jUe="_hideDefalutGobackBg_ddkoi_39",$Ue="_Options_checkbox_ddkoi_46",GUe="_Options_main_slider_ddkoi_64",VUe="_Options_light_slider_ddkoi_74",HUe="_label_ddkoi_84",XUe="_Options_sound_slider_ddkoi_90",WUe="_Options_checkbox_window_ddkoi_101",zUe="_Options_checkbox_active_ddkoi_108",YUe="_Options_top_ddkoi_112",qUe="_Options_title_ddkoi_119",KUe="_Option_title_text_ddkoi_128",ZUe="_Elements_in_ddkoi_1",JUe="_Option_title_text_shadow_ddkoi_137",QUe="_Option_title_text_ts_ddkoi_144",e6e="_Options_main_content_ddkoi_151",t6e="_Options_main_content_half_ddkoi_158",r6e="_About_title_text_ddkoi_168",n6e="_About_text_ddkoi_176",i6e="_Options_page_container_ddkoi_195",a6e="_Options_button_list_ddkoi_201",o6e="_Options_page_button_ddkoi_205",s6e="_Options_page_button_active_ddkoi_217",ro={Options_main:BUe,Options_bg:DUe,Options_back:UUe,hideDefalutGobackBg:jUe,Options_checkbox:$Ue,Options_main_slider:GUe,Options_light_slider:VUe,label:HUe,Options_sound_slider:XUe,Options_checkbox_window:WUe,Options_checkbox_active:zUe,Options_top:YUe,Options_title:qUe,Option_title_text:KUe,Elements_in:ZUe,Option_title_text_shadow:JUe,Option_title_text_ts:QUe,Options_main_content:e6e,Options_main_content_half:t6e,About_title_text:r6e,About_text:n6e,Options_page_container:i6e,Options_button_list:a6e,Options_page_button:o6e,Options_page_button_active:s6e},l6e="_OptionVideoSize_main_obggw_1",u6e="_label_obggw_5",c6e="_Options_checkbox_obggw_9",f6e="_Options_checkbox_1080P_obggw_24",h6e="_Options_checkbox_720P_obggw_28",d6e="_Options_checkbox_active_obggw_32",p6e="_option_item_obggw_35",v6e="_option_item_checkbox_obggw_49",g6e="_option_item_checkbox_active_obggw_60",Il={OptionVideoSize_main:l6e,label:u6e,Options_checkbox:c6e,Options_checkbox_1080P:f6e,Options_checkbox_720P:h6e,Options_checkbox_active:d6e,option_item:p6e,option_item_checkbox:v6e,option_item_checkbox_active:g6e},m6e=t=>{const e=qr(),{playSeEnter:r,playSeClick:n}=li(),i=tt(p=>p.userData),[a,o]=ce.useState(Oi.Size720P),[s,c]=ce.useState(!1),l=tt(p=>p.GUI.gameUIConfigs[Pn.option]),u=[Oi.Size1080P,Oi.Size720P];function f(){let p=1440,v=2560;const g=(a==null?void 0:a.split("x"))||[];(g==null?void 0:g.length)===2&&(v=parseInt(g[0])*2,p=parseInt(g[1])*2,e(vt({key:"storyLineBgX",value:parseInt(g[0])})),e(vt({key:"storyLineBgY",value:parseInt(g[1])})));const m=window.innerHeight,_=window.innerWidth,x=m/p,b=_/v,w=_/p,S=m/v;let C=(p-m)/2,A=(v-_)/2,T=v/2-_/2,R=p/2-m/2,O="",P="";const k=document.getElementById("root"),F=document.getElementById("Title_enter_page"),L=document.getElementById("ebg"),D=[k,F];if(k&&(k.style.width=`${v}px`,k.style.height=`${p}px`),F&&(F.style.width=`${v}px`,F.style.height=`${p}px`),_>m){const H=document.getElementById("ebg");H&&(H.style.height="100vh",H.style.width="100vw",P=""),A=-A,C=-C,_*(9/16)>=m&&(O=`translate(${A}px, ${C}px) scale(${x},${x})`),_*(9/16)<m&&(O=`translate(${A}px, ${C}px) scale(${b},${b})`)}else if(L&&(L.style.height=`${p}px`,L.style.width=`${v}px`),R=-R,m*(9/16)>=_&&(P=`rotate(90deg) translate(${R}px, ${T}px) scale(${w*1.75},${w*1.75})`,O=`rotate(90deg) translate(${R}px, ${T}px) scale(${w},${w})`),m*(9/16)<_&&(P=`rotate(90deg) translate(${R}px, ${T}px) scale(${S*1.75},${S*1.75})`,O=`rotate(90deg) translate(${R}px, ${T}px) scale(${S},${S})`),window&&(window!=null&&window.isIOSDevice)){const H=_/v;O=`translate(${-A}px, ${-C}px) scale(${H},${H})`}L&&(L.style.transform=P);for(const H of D)H&&(H.style.transform=O);h(v,p)}ce.useEffect(()=>{var p;if(s){if(f(),window.onload=f,window.onresize=f,W.events.screenSizeChange.emit(),ae.getState().GUI.isInGaming){const v=W.sceneManager.sceneData.currentScene.sentenceList[W.sceneManager.sceneData.currentSentenceId-1];Nv(v)}setTimeout(()=>{c(!1)},500),t!=null&&t.onUpdate&&((p=t.onUpdate)==null||p.call(t))}},[s]);function h(p,v){const g=document.documentElement;g.style.setProperty("--screenWidth",`${p}px`),g.style.setProperty("--screenHeight",`${v}px`);const m=a===Oi.Size1080P?3:2,_=a===Oi.Size1080P?3.2:2,x=a===Oi.Size1080P?.3333:.5;g.style.setProperty("--scale-factor",`${x}`),g.style.setProperty("--options_checkbox_top",`${239*m}px`),g.style.setProperty("--options_checkbox_left",`${441*m}px`),g.style.setProperty("--options_checkbox_window_top",`${218*_}px`),g.style.setProperty("--options_checkbox_window_left",`${661*m}px`),g.style.setProperty("--options_checkbox_1080P_top",`${266*_}px`),g.style.setProperty("--options_checkbox_1080P_left",`${441*m}px`),g.style.setProperty("--options_checkbox_720P_top",`${266*_}px`),g.style.setProperty("--options_checkbox_720P_left",`${640*m}px`),g.style.setProperty("--options_light_slider_top",`${375*m}px`),g.style.setProperty("--options_light_slider_left",`${622*m}px`),g.style.setProperty("--options_sound_slider_top",`${445*m}px`),g.style.setProperty("--options_sound_slider_left",`${622*m}px`),g.style.setProperty("--options_light_main_top",`${510*m}px`),g.style.setProperty("--options_light_main_left",`${622*m}px`)}function d(){const p=document.getElementById("Title_enter_page"),v=document.getElementById("root");p&&(p.style.width=`${a===Oi.Size1080P?`${1920*2}px`:`${1280*2}px`}`,p.style.height=`${a===Oi.Size1080P?`${1080*2}px`:`${720*2}px`}`),v&&(v.style.width=`${a===Oi.Size1080P?`${1920*2}px`:`${1280*2}px`}`,v.style.height=`${a===Oi.Size1080P?`${1080*2}px`:`${720*2}px`}`)}return M.jsxs("div",{className:Il.OptionVideoSize_main,children:[t.label&&M.jsx("label",{className:Il.label,children:t.label}),M.jsx(Di,{type:"checkbox",checked:i.optionData.videoSize===Oi.Size1080P,item:l.other[Na.Option_videoSize1080_checkbox],defaultClass:`${Il.Options_checkbox} ${Il.Options_checkbox_1080P} ${i.optionData.videoSize===Oi.Size1080P?Il.Options_checkbox_active:""} interactive`,onMouseEnter:r,onChecked:()=>{n(),window.localStorage.setItem("game-screen-size",u[0]),_u(u[0]),o(u[0]),d(),e(Fa({key:"videoSize",value:u[0]})),e(Fa({key:"textSize",value:fs.medium})),En(),c(!0)}},Na.Option_videoSize1080_checkbox),M.jsx(Di,{type:"checkbox",checked:i.optionData.videoSize===Oi.Size720P,item:l.other[Na.Option_videoSize720_checkbox],defaultClass:`${Il.Options_checkbox} ${Il.Options_checkbox_720P} ${i.optionData.videoSize===Oi.Size720P?Il.Options_checkbox_active:""} interactive`,onMouseEnter:r,onChecked:()=>{n(),window.localStorage.setItem("game-screen-size",u[1]),_u(u[1]),o(u[1]),d(),e(Fa({key:"videoSize",value:u[1]})),e(Fa({key:"textSize",value:fs.small})),En(),c(!0)}},Na.Option_videoSize720_checkbox)]})},Jm={min:50,max:100},_6e=()=>{var c,l,u;const{playSeEnter:t,playSeSwitch:e,playSeClick:r}=li(),n=tt(f=>f.userData);Xc(0);const[i,a]=ce.useState(!1);ce.useEffect(Oy,[]);const o=qr(),s=tt(f=>f.GUI.gameUIConfigs[Pn.option]);return ys("menu.options."),M.jsxs("div",{className:ro.Options_main,children:[M.jsx(Ks,{item:s.other[Na.Option_bg],defaultClass:ro.Options_bg}),M.jsx(Di,{item:s.buttons[Hp.Option_back_button],defaultClass:`
          ${ro.Options_back} 
          ${(u=(l=(c=s.buttons[Hp.Option_back_button])==null?void 0:c.args)==null?void 0:l.style)!=null&&u.image?ro.hideDefalutGobackBg:""}
          interactive`,onMouseEnter:t,onClick:()=>{r(),o(ut({component:"showMenuPanel",visibility:!1}))}}),M.jsx(Di,{checked:n.optionData.fullScreen===lo.on,item:s.other[Na.Option_fullscreen_checkbox],defaultClass:`${ro.Options_checkbox} ${n.optionData.fullScreen?"":ro.Options_checkbox_active} interactive`,onMouseEnter:t,type:"checkbox",onChecked:()=>{r(),o(Fa({key:"fullScreen",value:lo.on})),En()}}),M.jsx(Di,{checked:n.optionData.fullScreen===lo.off,item:s.other[Na.Option_window_checkbox],defaultClass:`${ro.Options_checkbox} ${ro.Options_checkbox_window} ${n.optionData.fullScreen?ro.Options_checkbox_active:""} interactive`,onMouseEnter:t,type:"checkbox",onChecked:()=>{r(),o(Fa({key:"fullScreen",value:lo.off})),En()}}),M.jsx(m6e,{onUpdate:()=>a(!i)}),M.jsx(fC,{item:s.other[Na.Options_light_slider],defaultClass:`${ro.Options_light_slider} interactive`,initValue:n.optionData.uiLight,uniqueID:"light",min:Jm.min,max:Jm.max,isUpdate:i,onChange:f=>{let h=Number(f.target.value);h<Jm.min&&(h=Jm.min),V7(h),o(Fa({key:"uiLight",value:h})),En()}}),M.jsx(fC,{item:s.other[Na.Option_effect_volume_slider],defaultClass:`${ro.Options_sound_slider} interactive`,initValue:n.optionData.seVolume,uniqueID:"seVolume",isUpdate:i,onChange:f=>{const h=f.target.value;o(Fa({key:"seVolume",value:Number(h)})),o(Fa({key:"uiSeVolume",value:Number(h)})),En()}}),M.jsx(fC,{initValue:n.optionData.volumeMain,item:s.other[Na.Option_global_volume_slider],defaultClass:`${ro.Options_main_slider} interactive`,uniqueID:"volumeMain",isUpdate:i,onChange:f=>{const h=f.target.value;o(Fa({key:"volumeMain",value:Number(h)})),En()}})]})},y6e=()=>{const t=tt(r=>r.GUI);let e;switch(t.currentMenuTag){case ya.Save:e=M.jsx(LUe,{});break;case ya.Load:e=M.jsx(MUe,{});break;case ya.Option:e=M.jsx(_6e,{});break}return M.jsx(M.Fragment,{children:t.showMenuPanel&&M.jsx("div",{className:_5.Menu_main,children:M.jsx("div",{className:_5.Menu_TagContent,children:e})})})},x6e="_MainStage_main_9enex_1",b6e="_MainStage_main_container_9enex_10",w6e="_MainStage_bgContainer_9enex_17",E6e="_MainStage_showBgSoftly_9enex_1",S6e="_MainStage_bgContainer_Settled_9enex_27",C6e="_MainStage_oldBgContainer_9enex_37",A6e="_MainStage_oldBgFadeout_9enex_1",T6e="_MainStage_oldBgContainer_Settled_9enex_47",I6e="_pixiContainer_9enex_72",R6e="_chooseContainer_9enex_77",f2={MainStage_main:x6e,MainStage_main_container:b6e,MainStage_bgContainer:w6e,MainStage_showBgSoftly:E6e,MainStage_bgContainer_Settled:S6e,MainStage_oldBgContainer:C6e,MainStage_oldBgFadeout:A6e,MainStage_oldBgContainer_Settled:T6e,pixiContainer:I6e,chooseContainer:R6e};function P6e(){const t=tt(r=>r.userData.optionData.textboxFont);function e(){return I1(t).with(Tc.song,()=>'"", serif').with(Tc.lxgw,()=>'"LXGW", serif').with(Tc.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function O5(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const O6e="_TextBox_EventHandler_16aii_1",k6e="_TextBox_Container_16aii_9",F6e="_showSoftly_16aii_1",N6e="_TextBox_main_16aii_17",L6e="_TextBox_Background_16aii_37",M6e="_TextBox_textElement_start_16aii_50",B6e="_TextDelayShow_16aii_1",D6e="_outer_16aii_56",U6e="_inner_16aii_68",j6e="_zhanwei_16aii_77",$6e="_TextBox_textElement_Settled_16aii_82",G6e="_TextBox_showName_16aii_87",V6e="_TextBox_ShowName_Background_16aii_101",H6e="_miniAvatarContainer_16aii_116",X6e="_miniAvatarImg_16aii_126",W6e="_nameContainer_16aii_134",z6e="_outerName_16aii_140",Y6e="_innerName_16aii_151",q6e="_text_16aii_158",Nr={TextBox_EventHandler:O6e,TextBox_Container:k6e,showSoftly:F6e,TextBox_main:N6e,TextBox_Background:L6e,TextBox_textElement_start:M6e,TextDelayShow:B6e,outer:D6e,inner:U6e,zhanwei:j6e,TextBox_textElement_Settled:$6e,TextBox_showName:G6e,TextBox_ShowName_Background:V6e,miniAvatarContainer:H6e,miniAvatarImg:X6e,nameContainer:W6e,outerName:z6e,innerName:Y6e,text:q6e};function K6e(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:d,textboxOpacity:p}=t,v=$O("Stage/TextBox/textbox.scss");ce.useEffect(()=>{function _(){[...document.querySelectorAll(".Textelement_start")].forEach(w=>{w.className=v("TextBox_textElement_Settled",Nr.TextBox_textElement_Settled)})}return W.events.textSettle.on(_),()=>{W.events.textSettle.off(_)}},[]);let g=0;const m=e.map((_,x)=>{const b=_.map((w,S)=>{let C=g*r;g++;let A=n.length;return n!==""&&S>=A&&(C=C-A*r),S<A?M.jsx("span",{id:`${C}`,className:v("TextBox_textElement_Settled",Nr.TextBox_textElement_Settled),style:{animationDelay:`${C}ms`,animationDuration:`${h}ms`},children:M.jsxs("span",{className:Nr.zhanwei,children:[w,M.jsx("span",{className:v("outer",Nr.outer),children:w}),d&&M.jsx("span",{className:v("inner",Nr.inner),children:w})]})},i+S):M.jsx("span",{"data-text":w,id:`${C}`,className:`${v("TextBox_textElement_start",Nr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${C}ms`,position:"relative"},children:M.jsxs("span",{className:Nr.zhanwei,children:[w,M.jsx("span",{className:v("outer",Nr.outer),children:w}),d&&M.jsx("span",{className:v("inner",Nr.inner),children:w})]})},i+S)});return M.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:b},`text-line-${x}`)});return M.jsx(M.Fragment,{children:a&&M.jsxs("div",{className:Nr.TextBox_Container,children:[M.jsx("div",{className:v("TextBox_main",Nr.TextBox_main)+" "+v("TextBox_Background",Nr.TextBox_Background),style:{opacity:`${p/100}`,left:l===""?25:void 0}}),M.jsxs("div",{id:"textBoxMain",className:v("TextBox_main",Nr.TextBox_main),style:{fontFamily:f,left:l===""?25:void 0},children:[M.jsx("div",{id:"miniAvatar",className:v("miniAvatarContainer",Nr.miniAvatarContainer),children:l!==""&&M.jsx("img",{className:v("miniAvatarImg",Nr.miniAvatarImg),alt:"miniAvatar",src:l})}),u!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:v("TextBox_showName",Nr.TextBox_showName)+" "+v("TextBox_ShowName_Background",Nr.TextBox_ShowName_Background),style:{opacity:`${p/100}`,fontSize:"200%"},children:M.jsx("div",{style:{opacity:0},children:u.split("").map((_,x)=>M.jsx("span",{style:{position:"relative"},children:M.jsxs("span",{className:Nr.zhanwei,children:[_,M.jsx("span",{className:v("outerName",Nr.outerName),children:_}),d&&M.jsx("span",{className:v("innerName",Nr.innerName),children:_})]})},_+x))})}),M.jsx("div",{className:v("TextBox_showName",Nr.TextBox_showName),style:{fontSize:"200%"},children:u.split("").map((_,x)=>M.jsx("span",{style:{position:"relative"},children:M.jsxs("span",{className:Nr.zhanwei,children:[_,M.jsx("span",{className:v("outerName",Nr.outerName),children:_}),d&&M.jsx("span",{className:v("innerName",Nr.innerName),children:_})]})},_+x))},u)]}),M.jsx("div",{className:v("text",Nr.text),style:{fontSize:c,flexFlow:"column",overflow:"hidden",paddingLeft:"0.1em"},children:m})]})]})})}const Bz=navigator.userAgent,Z6e=/firefox/i.test(Bz),J6e=/^((?!chrome|android).)*safari/i.test(Bz),Q6e=()=>{const[t,e]=ce.useState(!0);ce.useEffect(()=>{const _=()=>{const x=_u().height||Ic.height,b=_u().width||Ic.width,w=window.innerHeight,S=window.innerWidth,C=w/x,A=S/b,T=S/x,R=w/b;[C,A,T,R].forEach(O=>{O<=.2?e(!1):e(!0)})};return window.addEventListener("resize",_),_(),()=>{window.removeEventListener("resize",_)}},[]);const r=tt(_=>_.stage),n=tt(_=>_.userData),i=T7(n.optionData.textSpeed),a=MCe(n.optionData.textSpeed);let o=O5(n.optionData.textSize)+"%";const s=P6e(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=O5(r.showTextSize)+"%",l=r.showTextSize);const u=I1(n.optionData.textSize).with(fs.small,()=>3).with(fs.medium,()=>2).with(fs.large,()=>2).default(()=>2),f=Dz(r.showText,u),h=r.showName,d=r.currentConcatDialogPrev,p=r.currentDialogKey,v=r.miniAvatar,g=n.optionData.textboxOpacity,m=K6e;return M.jsx(m,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:d,fontSize:o,currentDialogKey:p,isSafari:J6e,isFirefox:Z6e,miniAvatar:v,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:g})};function k5(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function Dz(t,e,r){return t.split("|").map(o=>t5e(o)).map(o=>{const s=[];return o.forEach((c,l)=>{I1(c.type).with("SegmentType.String",()=>{const u=e5e(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=M.jsxs("ruby",{children:[u.text,M.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function e5e(t){if(!t)return[];const e=[];let r="",n=k5(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(k5(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function t5e(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const r5e=()=>{var x;const t=tt(b=>b.stage),e=tt(b=>b.GUI.titleBgm),r=tt(b=>b.GUI.showTitle),n=tt(b=>b.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((x=n.optionData)==null?void 0:x.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=tt(b=>b.GUI.isEnterGame),[h,d]=ce.useState(""),[p,v]=ce.useState(""),[g,m]=ce.useState(setTimeout(()=>{},0)),_=(b,w,S)=>{S>=0?b.volume=0:b.volume=w;const C=10,A=w/S*C,T=()=>{const R=setTimeout(()=>{b.volume+A>=w?b.volume=w:b.volume+A<=0?(b.volume=0,ae.dispatch(vt({key:"bgm",value:{src:"",enter:0,volume:100}}))):(b.volume+=A,T())},C);m(R)};T()};return ce.useEffect(()=>{clearTimeout(g);const b=document.getElementById("currentBgm");b&&(s===0?b.volume=o:_(b,o,s))},[h,o,s]),ce.useEffect(()=>{(async()=>{var S;const w=await O_(r?e:t.bgm.src);d(w),(S=document.getElementById("currentBgm"))==null||S.load()})()},[r,e,t.bgm.src]),ce.useEffect(()=>{Ve.debug(`${o}`)},[o]),ce.useEffect(()=>{Ve.debug(`: ${s}`)},[s]),ce.useEffect(()=>{Ve.debug(`${a}`);const b=document.getElementById("currentVocal");b&&(b.volume=a.toString())},[a]),ce.useEffect(()=>{var S;if(c==="")return;const b=ae.getState().GUI.currentPlayAudio;ae.getState().stage.hasCustomClickSe,b&&(b==null||b.pause(),b.volume=0,(S=b==null?void 0:b.remove)==null||S.call(b),ae.dispatch(MA(null))),(async()=>{var T;const C=await O_(c),A=document.createElement("audio");A.src=C,ae.dispatch(MA(A)),A.load(),A.loop=!1,isNaN(u)?(Ve.error("UI SE Vol is NaN"),A.volume=isNaN(l)?i/100:l/100):A.volume=u,(T=A==null?void 0:A.play)==null||T.call(A),A.addEventListener("ended",()=>{var R;(R=A==null?void 0:A.remove)==null||R.call(A)}),ae.dispatch(vt({key:"uiSe",value:""}))})()},[c]),ce.useEffect(()=>{Ve.debug(`: ${l}`)},[l]),ce.useEffect(()=>{Ve.debug(`: ${u}`)},[u]),ce.useEffect(()=>{Ve.debug(`: ${t.playVocal}`),O_(t.playVocal).then(b=>{v(b),document.getElementById("currentVocal").load()})},[t.playVocal]),M.jsxs("div",{children:[M.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),M.jsx("audio",{id:"currentVocal",src:p})]})},n5e=()=>{const t=tt(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),M.jsx("div",{className:Ol.FullScreenPerform_main,style:{width:e,height:r,top:n},children:M.jsx("div",{id:"videoContainer"})})},i5e="_TextBox_EventHandler_449dq_2",a5e="_TextBox_main_449dq_10",o5e="_showSoftly_449dq_1",s5e="_TextBox_textElement_449dq_38",l5e="_TextBox_textElement_start_449dq_43",u5e="_TextDelayShow_449dq_1",c5e="_TextBox_textElement_Settled_449dq_48",f5e="_TextBox_showName_449dq_52",h5e="_miniAvatarContainer_449dq_68",d5e="_miniAvatarImg_449dq_76",h2={TextBox_EventHandler:i5e,TextBox_main:a5e,showSoftly:o5e,TextBox_textElement:s5e,TextBox_textElement_start:l5e,TextDelayShow:u5e,TextBox_textElement_Settled:c5e,TextBox_showName:f5e,miniAvatarContainer:h5e,miniAvatarImg:d5e},p5e=()=>{const t=tt(o=>o.stage),e=tt(o=>o.userData);ce.useEffect(()=>{});const r=yde.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?M.jsx("span",{id:`${c}`,className:h2.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):M.jsx("span",{id:`${c}`,className:h2.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return M.jsx("div",{id:"textBoxMain",className:h2.TextBox_main,children:M.jsx("div",{style:{fontSize:n},children:a})})};function v5e(t){const e=t.bgName;ce.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=W.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&F5(c),(i=W.gameplay.pixiStage)==null||i.addBg(r,e,o,s),Xv(e),Ve.debug(""),setTimeout(()=>{const{duration:l,animation:u}=Bl("bg-main","enter",!0);W.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},0)}else{const o=(a=W.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&F5(o)}},[e])}function F5(t){var i,a;(i=W.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=W.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=Bl("bg-main-off","exit",!0);W.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=W.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=W.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}function g5e(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;ce.useEffect(()=>{var s;for(const c of a)(s=W.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),ce.useEffect(()=>{var s;for(const c of o)(s=W.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),ce.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&$s(f,c,t.effects),F0(void 0,s,r,"center"),Ve.debug(""),setTimeout(()=>{const{duration:h,animation:d}=Bl(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{Ve.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&$s(f,c,t.effects)}},[r]),ce.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&$s(f,c,t.effects),F0(void 0,s,e,"left"),Ve.debug(""),setTimeout(()=>{const{duration:h,animation:d}=Bl(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{Ve.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&$s(f,c,t.effects)}},[e]),ce.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&$s(f,c,t.effects),F0(void 0,s,n,"right"),Ve.debug(""),setTimeout(()=>{const{duration:h,animation:d}=Bl(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},0)}else{const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&$s(f,c,t.effects)}},[n]),ce.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,d=`${f.key}-softin`;if(f.name!==""){const p=(c=W.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);p?p.sourceUrl!==f.name&&($s(p,d,t.effects),F0(void 0,h,f.name,f.basePosition),Ve.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:g}=Bl(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(g,d,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)},0)):(F0(void 0,h,f.name,f.basePosition),Ve.debug(`${f.key}`),setTimeout(()=>{const{duration:v,animation:g}=Bl(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(g,d,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(d),v)},0))}else{const p=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);p&&p.sourceUrl!==f.name&&$s(p,d,t.effects)}}const s=(u=W.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(p=>p.key===h)<0){const p=`${f.key}-softin`;$s(f,p,t.effects)}}}},[i])}function $s(t,e,r){var c,l,u;if((c=W.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),W.gameplay.isFast){Ve.info(""),(l=W.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=W.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Bl(i,"exit");W.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.removeAnimation(a),(h=W.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function F0(t,...e){var n,i;const r=e[1];return r.endsWith(".json")?m5e(...e):r.endsWith(".skel")?(n=W.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e):(i=W.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function m5e(...t){}function _5e(t){const e=t.effects;setTimeout(()=>{y5e(e)},10)}function y5e(t){var r,n,i,a;const e=((r=W.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=W.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=W.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,N5(c.transform))}}else{const u=(a=W.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,N5(VP))}}}}function N5(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function x5e(){const t=tt(e=>e.stage);return v5e(t),g5e(t),_5e(t),M.jsx("div",{style:{display:"none"}})}const b5e="_introContainer_119k8_1",w5e={introContainer:b5e};function E5e(){return M.jsx("div",{className:w5e.introContainer,id:"introContainer"})}const S5e="_variableNameWrapper_1f0qs_1",C5e="_progressBarBg_1f0qs_10",A5e="_progressBar_1f0qs_10",T5e="_affinityWrapper_1f0qs_21",I5e="_bounceIn_1f0qs_57",R5e="_fadeOutUp_1f0qs_72",d2={variableNameWrapper:S5e,progressBarBg:C5e,progressBar:A5e,affinityWrapper:T5e,bounceIn:I5e,fadeOutUp:R5e},P5e=()=>{const t=tt(o=>o.stage);tt(o=>o.GUI);const[e,r]=ce.useState([]),[n,i]=ce.useState([]),a=ce.useMemo(()=>{const o=new Map,s=t.showValues;return s!=null&&s.length&&s.forEach(c=>{o.set(c.key,c.value)}),o},[t]);return ce.useEffect(()=>{t.showValueList.forEach((o,s)=>{if(o.isShowValueSwitch&&n[s]){const c=a.get(o.showValueName);o.showProgress&&typeof c=="number"&&setTimeout(()=>{const l=document.getElementById(`myRect-${s}`),u=c/(o.maxValue??100)*n[s].width;l==null||l.setAttribute("width",u.toString())},16)}})},[t.showValueList,n]),M.jsx(M.Fragment,{children:t.showValueList.map((o,s)=>{if(o.isShowValueSwitch){const c=e[s]||{width:0,height:0},l=n[s]||{width:0,height:0};return M.jsxs("div",{className:d2.variableNameWrapper,style:{position:"fixed",left:mt(o.showValueAxisX)+"px",top:mt(o.showValueAxisY)+"px",backgroundColor:o.showProgress?"transparent":"#08c"},children:[!o.showProgress&&(String(a.get(o.showValueName))||""),o.showProgress&&o.progressBarBgStyle&&M.jsx("img",{src:yt(o.progressBarBgStyle.image,pt.ui),alt:"progress",className:d2.progressBarBg,style:c.width?{width:c.width,height:c.height,opacity:1}:void 0,onLoad:u=>{r([...e,{width:mt(u.currentTarget.naturalWidth),height:mt(u.currentTarget.naturalHeight)}])}}),o.showProgress&&o.progressBarStyle&&M.jsxs(M.Fragment,{children:[M.jsx("img",{src:yt(o.progressBarStyle.image,pt.ui),alt:"progress",className:d2.progressBar,style:l.width?{width:l.width,height:l.height,opacity:1,clipPath:`url(#myClip-${s})`}:void 0,onLoad:u=>{i([...n,{width:mt(u.currentTarget.naturalWidth),height:mt(u.currentTarget.naturalHeight)}])}}),M.jsx("svg",{width:"0",height:"0",children:M.jsx("defs",{children:M.jsx("clipPath",{id:`myClip-${s}`,children:M.jsx("rect",{id:`myRect-${s}`,width:"0",height:l.height,style:{fill:"#ffffff"}})})})})]})]},o.showValueName+s.toString())}return null})})};function L5(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function O5e(t,e,r){!e.controlsVisibility&&L5(t)&&r(ut({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!L5(t)&&r(ut({component:"controlsVisibility",visibility:!1}))}function k5e(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let p2=null;function F5e(t,e,r,n){k5e(e,r)?(p2&&clearTimeout(p2),n(ut({component:"controlsVisibility",visibility:!0})),p2=setTimeout(()=>{n(ut({component:"controlsVisibility",visibility:!1}))},1e3)):O5e(t,r,n)}const N5e=()=>{const t=tt(n=>n.stage),e=tt(n=>n.GUI),r=qr();return aIe({isDisableCtrl:!0}),M.jsxs("div",{className:f2.MainStage_main,children:[M.jsx(n5e,{}),M.jsx(x5e,{}),M.jsx("div",{id:"pixiContianer",className:f2.pixiContainer,style:{zIndex:$F?"-5":void 0}}),M.jsx("div",{id:"chooseContainer",className:f2.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&M.jsx(Q6e,{}),e.showTextBox&&t.enableFilm!==""&&M.jsx(p5e,{}),M.jsx(r5e,{}),M.jsx("div",{onClick:()=>{if(!e.showTextBox){r(ut({component:"showTextBox",visibility:!0}));return}VO(),An()},onDoubleClick:()=>{W.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&F5e(n,t,e,r)}),M.jsx(E5e,{}),t.isShowValueSwitch&&M.jsx(P5e,{})]})},L5e=""+new URL("gaming-continue.png",import.meta.url).href,M5e=""+new URL("gaming-stop.png",import.meta.url).href,B5e=()=>{const t=ys("gaming."),{i18n:e}=nb(),r=qr(),n=tt(R=>R.GUI),i=tt(R=>R.stage),{playSeEnter:a,playSeClick:o,playSeDialogOpen:s}=li(),[c,l]=ce.useState(!1),[u,f]=ce.useState(!1);let h=null;const p=e.language==="fr";let v="150%";p&&(v="125%");function g(){return!n.playingVideo}const m=tt(R=>R.saveData.saveData);if(t("noSaving"),m[0]){const R=m[0];Fi.slPreviewMain,Fi.imgContainer,R.previewImage,Fi.textContainer,R.nowStageState.showName,R.nowStageState.showText}const _=async()=>{for(let R=1;R<=20;R++){const O=(R-1)*10+1,P=O+9;await Hv(O,P);const k=ae.getState().saveData.saveData;for(let F=1;F<k.length;F++){const L=(R-1)*10+F;if(!k[F])return L}}return(20-1)*10+9},x=async R=>{if(R.stopPropagation(),o(),n.showFavorited)return;r(Wp(!0));const O=await _();Ry(O),En()},b=R=>{if(g())return;f(!0);const O=()=>{f(!1),clearTimeout(h),clearInterval(h),document.removeEventListener("mouseup",O)};document.addEventListener("mouseup",O),h=setTimeout(()=>{h=setInterval(()=>{R==="fallBack"?w():R==="forward"&&S()},200)},500)},w=()=>{u||o();const R=W.videoManager.currentPlayingVideo;W.videoManager.backward(R)},S=()=>{if(g())return;u||o();const R=W.videoManager.currentPlayingVideo;W.videoManager.forward(R)},C=()=>{if(g())return;o();const R=W.videoManager.currentPlayingVideo;c?(l(!1),W.videoManager.playVideo(R)):(l(!0),W.videoManager.pauseVideo(R))},A=()=>{var P,k,F;if(g())return;let R=!0;if((F=(k=(P=W.gameplay)==null?void 0:P.performController)==null?void 0:k.performList)==null||F.forEach(L=>{L.performName==="choose"&&(R=!1)}),!R)return;o();const O=W.videoManager.currentPlayingVideo;W.videoManager.destroy(O),W.gameplay.isFast=!0,W.gameplay.isSyncingWithOrigine=!0,An(),setTimeout(()=>{W.gameplay.isFast=!1,W.gameplay.isSyncingWithOrigine=!1},1e3)},T=()=>{var O;const R=(O=n.gameUIConfigs[Pn.title])==null?void 0:O.buttons[fa.Game_extra_button];return!(!R||R.args.hide)};return n.isHideGameUI?null:M.jsx(M.Fragment,{children:n.showTextBox&&i.enableFilm===""&&M.jsxs("div",{className:Fi.main,style:{visibility:n.controlsVisibility?"visible":"hidden"},children:[M.jsx("span",{className:`${Fi.fallBack} interactive`,onMouseEnter:a,onClick:()=>{g()||w()},onMouseDown:()=>b("fallBack")}),M.jsx("span",{className:`${Fi.pause} interactive`,onMouseEnter:a,onClick:C,children:M.jsx("img",{src:c?M5e:L5e,className:Fi.icon})}),M.jsx("span",{className:`${Fi.advance} interactive`,onMouseEnter:a,onClick:S,onMouseDown:()=>b("forward")}),!ae.getState().saveData.isLoadVideo&&M.jsx("span",{className:`${Fi.autoplay} interactive`,onMouseEnter:a,onClick:A}),T()&&M.jsxs("span",{className:`${Fi.singleButton} interactive`,style:{fontSize:v},onClick:x,onMouseEnter:a,children:[M.jsx("span",{className:Fi.button_icon}),M.jsx("span",{className:Fi.button_text,children:t(`${n.showFavorited?"buttons.collected":"buttons.collection"}`)})]})]})})};var D5e=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function M5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(r),!0).forEach(function(n){U5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j5e(t,e){if(t==null)return{};var r=$5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $5e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var G5e={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function V5e(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function H5e(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var Uz=ce.createContext(G5e);Uz.Provider;function ib(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=j5e(n,D5e),d=ce.useContext(Uz),p=ce.useMemo(V5e,[]),v=H5e(p,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},d),g=[d.prefix+"-icon"];return g.push(d.prefix+"-icon-"+t),e&&d.rtl&&g.push(d.prefix+"-icon-rtl"),f&&g.push(d.prefix+"-icon-spin"),u&&g.push(u),ti.createElement("span",B5(B5({},h),{},{className:g.join(" ")}),r(v))}}const X5e=ib("close-small",!1,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M14 14L34 34",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M14 34L34 14",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),W5e=ib("hamburger-button",!1,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),z5e=ib("return",!0,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),Y5e=ib("volume-notice",!0,function(t){return ti.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},ti.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),ti.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),q5e=()=>{var h,d;const t=ys("gaming."),{playSeEnter:e,playSeClick:r}=li(),n=tt(p=>p.GUI),i=qr(),a="0.8em",[o,s]=ce.useState(!1),[c,l]=ce.useState(!1);let u=ce.useRef();const f=ce.useMemo(()=>{let p=[];for(let v=0;v<W.backlogManager.getBacklog().length;v++){const g=W.backlogManager.getBacklog()[v],m=Dz(g.currentStageState.showText,3,!0),x=K5e(m).map((w,S)=>M.jsx("div",{children:w.map((C,A)=>C==="<br />"?M.jsx("br",{},`br${A}`):C)},`backlog-line-${S}`)),b=M.jsxs("div",{className:hi.backlog_item,style:{animationDelay:`${20*(W.backlogManager.getBacklog().length-v)}ms`},children:[M.jsxs("div",{className:hi.backlog_func_area,children:[M.jsxs("div",{className:hi.backlog_item_button_list,children:[M.jsx("div",{onClick:w=>{r(),U2e(v),w.preventDefault(),w.stopPropagation()},onMouseEnter:e,className:`${hi.backlog_item_button_element} interactive`,children:M.jsx(z5e,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}),g.currentStageState.vocal?M.jsx("div",{onClick:()=>{r();const w=document.getElementById("backlog_audio_play_element_"+v);if(w){w.currentTime=0;const S=ae.getState().userData,C=S.optionData.volumeMain;w.volume=C*.01*S.optionData.vocalVolume*.01,w==null||w.play()}},onMouseEnter:e,className:`${hi.backlog_item_button_element} interactive`,children:M.jsx(Y5e,{theme:"outline",size:a,fill:"#ffffff",strokeWidth:3})}):null]}),M.jsx("div",{className:hi.backlog_item_content_name,children:g.currentStageState.showName})]}),M.jsx("div",{className:hi.backlog_item_content,children:M.jsx("span",{className:hi.backlog_item_content_text,children:x})}),M.jsx("audio",{id:"backlog_audio_play_element_"+v,src:g.currentStageState.vocal})]},"backlogItem"+g.currentStageState.showText+g.saveScene.currentSentenceId);p.unshift(b)}return p},[((d=(h=W.backlogManager.getBacklog()[W.backlogManager.getBacklog().length-1])==null?void 0:h.saveScene)==null?void 0:d.currentSentenceId)??0]);return ce.useEffect(()=>{n.showBacklog?(u.current&&clearTimeout(u.current),s(!1),l(!0),setTimeout(()=>{l(!1)},0)):u.current=setTimeout(()=>{s(!0),u.current=void 0},700+80)},[n.showBacklog]),M.jsx(M.Fragment,{children:M.jsxs("div",{className:`
          ${n.showBacklog?hi.Backlog_main:hi.Backlog_main_out}
          ${o?hi.Backlog_main_out_IndexHide:""}
          `,children:[M.jsxs("div",{className:hi.backlog_top,children:[M.jsx(X5e,{className:`${hi.backlog_top_icon} interactive`,onClick:()=>{r(),i(ut({component:"showBacklog",visibility:!1})),i(ut({component:"showTextBox",visibility:!0}))},onMouseEnter:e,theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),M.jsx("div",{className:hi.backlog_title,onClick:()=>{Ve.info("Rua! Testing")},children:t("buttons.backlog")})]}),n.showBacklog&&M.jsx("div",{className:`${hi.backlog_content} ${c?hi.Backlog_main_DisableScroll:""}`,children:f})]})})};function K5e(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const Z5e="_extra_zyyk5_2",J5e="_extra_bg_zyyk5_13",Q5e="_extra_top_zyyk5_22",eje="_extra_top_icon_zyyk5_27",tje="_extra_icon_softin_zyyk5_1",rje="_extra_title_zyyk5_47",nje="_mainContainer_zyyk5_58",ije="_bgmContainer_zyyk5_66",aje="_bgmListContainer_zyyk5_83",oje="_bgmPlayerMain_zyyk5_98",sje="_bgmControlButton_zyyk5_102",lje="_bgmName_zyyk5_117",uje="_bgmElement_zyyk5_125",cje="_bgmElement_active_zyyk5_155",fje="_cgMain_zyyk5_160",hje="_cgContainer_zyyk5_165",dje="_cgElement_zyyk5_177",pje="_cgShowDiv_zyyk5_192",vje="_cgShowDivWarpper_zyyk5_201",gje="_cgNav_zyyk5_210",mje="_cgNav_active_zyyk5_229",_je="_showFullContainer_zyyk5_239",yje="_showFullCgMain_zyyk5_252",xje="_fullCgIn_zyyk5_1",bje="_editDialogMark_zyyk5_273",wje="_editDialog_zyyk5_273",Eje="_editDialog_content_zyyk5_295",Sje="_editDialog_footer_zyyk5_315",Cje="_button_zyyk5_324",Aje="_bgmElement_In_zyyk5_1",Xs={extra:Z5e,extra_bg:J5e,extra_top:Q5e,extra_top_icon:eje,extra_icon_softin:tje,extra_title:rje,mainContainer:nje,bgmContainer:ije,bgmListContainer:aje,bgmPlayerMain:oje,bgmControlButton:sje,bgmName:lje,bgmElement:uje,bgmElement_active:cje,cgMain:fje,cgContainer:hje,cgElement:dje,cgShowDiv:pje,cgShowDivWarpper:vje,cgNav:gje,cgNav_active:mje,showFullContainer:_je,showFullCgMain:yje,fullCgIn:xje,editDialogMark:bje,editDialog:wje,editDialog_content:Eje,editDialog_footer:Sje,button:Cje,bgmElement_In:Aje},Tje=t=>{const[e,r]=ce.useState("");ce.useEffect(()=>{t.value&&r(t.value)},[]);const n=()=>{t.onConfirm(e)},i=()=>{t.onCancel()};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Xs.editDialogMark}),M.jsxs("div",{className:Xs.editDialog,children:[M.jsxs("div",{className:Xs.editDialog_content,children:[M.jsx("label",{children:""}),M.jsx("input",{value:e,onChange:a=>{r(a.target.value)}})]}),M.jsxs("div",{className:Xs.editDialog_footer,children:[M.jsx("span",{className:Xs.button,onClick:n,children:""}),M.jsx("span",{className:Xs.button,onClick:i,children:""})]})]})]})};let Qm="",D5=0;const Ije=()=>{var x,b,w,S,C,A;const{playSeClick:t,playSeEnter:e,playSePageChange:r}=li(),n=tt(T=>T.userData),i=tt(T=>T.saveData),a=qr(),[o,s]=ce.useState(!1),c={},l=tt(T=>T.GUI.gameUIConfigs[Pn.extra]);for(let T=1;T<=20;T++){let R=Ke.Save_Load_top_button+" "+Ke.Load_top_button;T===n.optionData.slPage&&(R=R+" "+Ke.Save_Load_top_button_on+" "+Ke.Load_top_button_on),Ke.Save_Load_top_button_text,""+T}const u=[],f=(n.optionData.slPage-1)*10+1,h=f+9;ce.useEffect(()=>{Hv(f,h)},[f,h]);const d=(T,R,O)=>{T.stopPropagation(),Qm=R.saveName||R.saveTime,D5=O,setTimeout(()=>{s(!0)},100)},p=()=>{s(!1),Qm=""},v=T=>{Qm="",Ry(D5,T,!0),En(),s(!1)};let g=0;for(let T=f;T<=h;T++){g++;const R=i.saveData[T];let O=M.jsx("div",{});const P=l.other[Wl.Extra_bgm_unlocked_item],k=l.other[Wl.Extra_bgm_locked_item_bg],F=vr(P.args.style);let L=vr(k.args.style);L!=null&&L.columnGap&&(c.columnGap=L.columnGap),L!=null&&L.rowGap&&(c.rowGap=L.rowGap);const D=((x=P.args.style)==null?void 0:x.image)||"",H=((b=k.args.style)==null?void 0:b.image)||"";if(H&&(L.backgroundImage=`url(${yt(H,pt.ui)})`,L.backgroundSize="100% 100%",L.backgroundRepeat="no-repeat"),R&&D&&(F.backgroundImage=`url(${yt(D,pt.ui)})`,F.backgroundSize="100% 100%",F.backgroundRepeat="no-repeat"),R&&((w=P==null?void 0:P.args)!=null&&w.hide?O=M.jsx("div",{}):(L={...L,...F},O=M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Ke.Save_Load_content_element_top,children:M.jsx("div",{className:Ke.Save_Load_content_element_top_index+" "+Ke.Load_content_elememt_top_index,children:R.index})}),M.jsx("div",{className:Ke.Save_Load_content_miniRen,children:M.jsx("img",{className:Ke.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:R.previewImage})}),M.jsx("div",{children:M.jsx("div",{className:Ke.Save_Load_content_element_top_date+" "+Ke.Load_content_element_top_date,style:{width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},onClick:Q=>d(Q,R,T),title:`${R.saveName||R.saveTime}`,children:R.saveName||R.saveTime})})]}))),!k.args.hide){const Q=M.jsx("div",{onClick:()=>{a(Wp(!0)),G7(T,!0),t()},onMouseEnter:e,className:`${Ke.Save_Load_content_element} interactive`,style:{animationDelay:`${g*30}ms`,...L},children:O},"loadElement_"+T);u.push(Q)}}const m=ys("menu."),_=()=>{t(),a(ut({component:"showExtra",visibility:!1})),a(or.setLoadVideo(!1))};return M.jsxs(M.Fragment,{children:[M.jsx(Di,{item:l.buttons.Extra_back_button,defaultClass:`
          ${Ke.goback} 
          ${Ke.extraVideo_goback} 
          ${(A=(C=(S=l.buttons.Extra_back_button)==null?void 0:S.args)==null?void 0:C.style)!=null&&A.image?Ke.hideDefalutGobackBg:""}
          interactive`,onClick:_,onMouseEnter:e}),M.jsx(Di,{item:l.other[Wl.Extra_title],defaultClass:Ke.Save_Load_title,defaultTextClass:Ke.Load_title_text,defaultText:m("extra.title")}),M.jsx(EIe,{isExtraIndicator:!0,isShowNumber:!0,item:l.other[Wl.Extra_indicator],activeIndex:n.optionData.slPage,defaultClass:`${Ke.Save_Load_top_buttonList} ${Ke.extra_video_top_buttonList} interactive`,pageLength:20,indicatorDefaultClass:`${Ke.Save_Load_top_button} ${Ke.Load_top_button} interactive`,activeIndecatorClass:`${Ke.Save_Load_top_button_on} ${Ke.Load_top_button_on}`,onClickIndicator:T=>{a(gc(T)),En(),r()},onClickPrev:()=>{n.optionData.slPage<=1||(a(gc(n.optionData.slPage-1)),En(),r())},onClickNext:()=>{n.optionData.slPage>=20||(a(gc(n.optionData.slPage+1)),En(),r())}}),M.jsx("div",{className:`${Ke.Save_Load_main} ${Ke.extra_video_main}`,children:M.jsx("div",{className:Ke.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,style:c,children:u})}),o&&M.jsx(Tje,{value:Qm,onCancel:p,onConfirm:v})]})};function Rje(){li();const t=tt(n=>n.GUI.showExtra),e=qr(),r=tt(n=>n.GUI.gameUIConfigs[Pn.extra]);return ys("extra."),ce.useEffect(()=>{t&&e(or.setLoadVideo(!0))},[t]),M.jsx(M.Fragment,{children:t&&M.jsxs("div",{className:Xs.extra,children:[M.jsx(Ks,{item:r.other[Wl.Extra_bg],defaultClass:Xs.extra_bg}),M.jsx("div",{className:Xs.mainContainer,children:M.jsx(Ije,{})})]})})}const Pje="_tag_yghix_2",Oje="_container_yghix_17",kje="_showContainer_yghix_1",Fje="_singleButton_yghix_33",Nje="_button_text_yghix_37",Zn={tag:Pje,container:Oje,showContainer:kje,singleButton:Fje,button_text:Nje},ab=()=>{const t=ae.dispatch;LO(),GO(),kh(),t(vt({key:"playVocal",value:""})),t(ut({component:"showTitle",visibility:!0})),t(or.setIsShowUnlock(!1)),t(or.setShowStoryline(!1)),Xv(ae.getState().GUI.titleBg)},Lje=()=>{const t=Xc(!1),e=tt(a=>a.stage),r=qr(),n=(a,o)=>{r(ut({component:a,visibility:o}))},i=a=>{r(Fy(a))};return M.jsx(M.Fragment,{children:e.enableFilm!==""&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Zn.tag,onClick:()=>{t.set(!t.value)},children:M.jsx(W5e,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&M.jsxs("div",{className:Zn.container,children:[M.jsx("span",{className:Zn.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:M.jsx("span",{className:Zn.button_text,children:" / BACKLOG"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:M.jsx("span",{className:Zn.button_text,children:" / REPLAY VOICE"})}),M.jsx("span",{id:"Button_ControlPanel_auto",className:Zn.singleButton,onClick:()=>{aTe(),t.set(!t.value)},children:M.jsx("span",{className:Zn.button_text,children:" / AUTO"})}),M.jsx("span",{id:"Button_ControlPanel_fast",className:Zn.singleButton,onClick:()=>{lTe(),t.set(!t.value)},children:M.jsx("span",{className:Zn.button_text,children:" / FAST"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),i(ya.Save),n("showMenuPanel",!0)},children:M.jsx("span",{className:Zn.button_text,children:" / SAVE"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),i(ya.Load),n("showMenuPanel",!0)},children:M.jsx("span",{className:Zn.button_text,children:" / LOAD"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),i(ya.Option),n("showMenuPanel",!0)},children:M.jsx("span",{className:Zn.button_text,children:" / OPTIONS"})}),M.jsx("span",{className:Zn.singleButton,onClick:()=>{t.set(!t.value),ab()},children:M.jsx("span",{className:Zn.button_text,children:" / TITLE"})})]})]})})},Mje="_devPanelMain_11x6i_1",Bje="_devPanelOpener_11x6i_13",U5={devPanelMain:Mje,devPanelOpener:Bje};function Dje(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function Uje(){function t(){return!!window.location.hash.match(/dev/)}const e=Xc(!1),r=Xc(window.location.hash),n=tt(c=>c.stage);ce.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=nb(),s=M.jsxs(M.Fragment,{children:[M.jsx("div",{onClick:()=>Dje(),children:"Save PIXI Screenshot"}),M.jsxs("div",{children:["Current Language:",o.language]}),M.jsx("div",{onClick:()=>{var c;return(c=W.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),M.jsx("div",{children:"Stage State"}),M.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return M.jsxs(M.Fragment,{children:[i&&e.value&&M.jsxs("div",{className:U5.devPanelMain,children:[M.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[M.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),M.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),M.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&M.jsx("div",{onClick:()=>e.set(!0),className:U5.devPanelOpener,children:"Open Dev Panel"})]})}function jje(t){return wd[t]}function $je(){const{i18n:t}=nb(),e=kd(n=>n.userData),r=qr();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??wd.zhCn,o=jje(a);t.changeLanguage(o),r(Fa({key:"language",value:a})),Ve.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&En()}}const Gje="_trans_8uz61_2",Vje="_langWrapper_8uz61_10",Hje="_lang_8uz61_10",Xje="_langSelect_8uz61_29",Wje="_langSelectButton_8uz61_35",N0={trans:Gje,langWrapper:Vje,lang:Hje,langSelect:Xje,langSelectButton:Wje};function zje(){const t=$je(),[e,r]=ce.useState(!1);ce.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return M.jsx(M.Fragment,{children:e&&M.jsx("div",{className:N0.trans,children:M.jsxs("div",{className:N0.langWrapper,children:[M.jsx("div",{className:N0.lang,children:"LANGUAGE SELECT"}),M.jsx("div",{className:N0.langSelect,children:Object.keys(AM).map(i=>M.jsx("div",{className:N0.langSelectButton,onClick:()=>n(wd[i]),children:AM[i]},i))})]})})})}const Yje=()=>{const t=tt(n=>n.GUI),[e,r]=ce.useState(!1);return ce.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function qje(){const t=tt(i=>i.userData),e=tt(i=>i.GUI);qr();const r=t.optionData.fullScreen,n=e.isEnterGame;ce.useEffect(()=>{switch(r){case lo.on:{n&&(document.documentElement.requestFullscreen(),lh&&lh.lock(["Escape","F11"]));break}case lo.off:{document.fullscreenElement&&(document.exitFullscreen(),lh&&lh.unlock());break}}},[r])}const Kje="_storyLine_kw9fs_2",Zje="_bg_animation_kw9fs_1",Jje="_goBack_kw9fs_13",Qje="_hideDefalutGobackBg_kw9fs_31",e$e="_storyLine_content_kw9fs_37",t$e="_storyLine_item_kw9fs_46",r$e="_info_card_kw9fs_54",n$e="_playButton_icon_kw9fs_73",i$e="_name_kw9fs_88",Ju={storyLine:Kje,bg_animation:Zje,goBack:Jje,hideDefalutGobackBg:Qje,storyLine_content:e$e,storyLine_item:t$e,info_card:r$e,playButton_icon:n$e,name:i$e},ZI=t=>{const[e,r]=ce.useState();return M.jsx("img",{...t,style:e?{...t.style,width:e.width,height:e.height}:t.style,onLoad:n=>{var i,a;(i=t.style)!=null&&i.width||(a=t.style)!=null&&a.height||r({width:mt(n.currentTarget.naturalWidth),height:mt(n.currentTarget.naturalHeight)})}})},a$e={storylineBg:"",storylineBgX:1280,storylineBgY:720},o$e=()=>{var p,v,g;const{playSeClick:t,playSeEnter:e}=li(),r=qr(),n=tt(m=>m.GUI);tt(m=>m.stage),tt(m=>m.saveData);const i=tt(m=>m.saveData.allStorylineData),a=tt(m=>m.GUI.gameUIConfigs[Pn.storyline]),o=a.other.Storyline_item,[s,c]=ce.useState(a$e);ce.useEffect(()=>{wO(),n.showStoryLine&&(r(or.setShowStoryline(!1)),l())},[n.showStoryLine]);async function l(){var w,S,C,A;const m=yt(ol.Storyline,pt.scene),_=await wa(m),b=qh(_,ol.Storyline,m).sentenceList;if((b==null?void 0:b.length)>0&&((w=b[0])==null?void 0:w.commandRaw)==="changeBg"){const T=((S=b[0])==null?void 0:S.content)??"";let R=1280,O=720;const P=window.localStorage.getItem("game-screen-size"),k=(P==null?void 0:P.split("x"))??[];(k==null?void 0:k.length)>0&&k[0]==="1920"&&(R=Number(k[0]),O=Number(k[1])),(A=(C=b[0])==null?void 0:C.args)==null||A.forEach(F=>{(F==null?void 0:F.key)==="x"?R=Number(F==null?void 0:F.value):(F==null?void 0:F.key)==="y"&&(O=Number(F==null?void 0:F.value))}),c({storylineBg:T,storylineBgX:R,storylineBgY:O})}}const u=()=>{ab(),r(LA(!1))},f=(m,_)=>{m.stopPropagation(),r(LA(!1)),r(or.setIsShowUnlock(!0)),BO(_.videoData)};function h(m){return yt(m,pt.ui)}const d=typeof s.storylineBgX=="number"&&typeof s.storylineBgY=="number"?{width:mt(s.storylineBgX),height:mt(s.storylineBgY),maxWidth:"none"}:{maxWidth:"none"};return M.jsx(M.Fragment,{children:n.showStoryLine&&M.jsxs("div",{className:Ju.storyLine,id:"camera",children:[M.jsx(Di,{item:a.buttons.Storyline_back_button,defaultClass:`
              ${Ju.goBack} 
              ${(g=(v=(p=a.buttons.Storyline_back_button)==null?void 0:p.args)==null?void 0:v.style)!=null&&g.image?Ju.hideDefalutGobackBg:""} 
              interactive`,onClick:u,onMouseEnter:e}),M.jsx(ZI,{src:s.storylineBg,style:d}),(i==null?void 0:i.map((m,_)=>{const{name:x,thumbnailUrl:b,x:w,y:S,isUnlock:C,isHideName:A}=m.storyLine;if(!C)return null;let T=vr(o.args.style)||{},R={};T!=null&&T.fontSize&&(R.fontSize=T.fontSize),T!=null&&T.color&&(R.color=T.color),b&&(T={...T,position:"absolute",top:`${mt(S)}px`,left:`${mt(w)}px`});let O={};return T!=null&&T.width&&(O.width=T.width),T!=null&&T.height&&(O.height=T.height),M.jsxs("div",{className:`${Ju.storyLine_item} interactive`,style:T,onClick:P=>f(P,m),children:[M.jsx(ZI,{src:h(b),style:O}),M.jsxs("div",{className:Ju.info_card,children:[M.jsx("span",{className:Ju.playButton_icon,style:{width:A?"100%":"50%"}}),A?null:M.jsx("span",{className:Ju.name,style:R,children:x})]})]},`storyLine-${_}`)}))??null]})})},s$e="_achievement_1ispc_1",l$e="_bg_animation_1ispc_1",u$e="_goback_1ispc_14",c$e="_hideDefalutGobackBg_1ispc_32",f$e="_achievement_content_1ispc_38",h$e="_achievement_current_1ispc_45",d$e="_text_1ispc_58",p$e="_number_1ispc_63",v$e="_pregessBar_1ispc_68",g$e="_pregressBar_inner_1ispc_77",m$e="_achievement_content_bg_1ispc_86",_$e="_achievement_list_1ispc_95",y$e="_achievement_item_1ispc_99",x$e="_unlockname_1ispc_112",b$e="_ripple_1ispc_130",w$e="_info_card_1ispc_133",E$e="_condition_1ispc_165",S$e="_condition_bg_active_1ispc_174",C$e="_time_1ispc_177",A$e="_description_1ispc_178",T$e="_info_card_position_right_1ispc_183",I$e="_achievement_item_bg_active_1ispc_187",In={achievement:s$e,bg_animation:l$e,goback:u$e,hideDefalutGobackBg:c$e,achievement_content:f$e,achievement_current:h$e,text:d$e,number:p$e,pregessBar:v$e,pregressBar_inner:g$e,achievement_content_bg:m$e,achievement_list:_$e,achievement_item:y$e,unlockname:x$e,ripple:b$e,"ripple-effect":"_ripple-effect_1ispc_1",info_card:w$e,condition:E$e,condition_bg_active:S$e,time:C$e,description:A$e,info_card_position_right:T$e,achievement_item_bg_active:I$e},R$e={achieveBg:"",achieveBgX:1280,achieveBgY:720},P$e=()=>{var T,R,O,P,k;const{playSeClick:t,playSeEnter:e}=li(),r=tt(F=>F.GUI);tt(F=>F.stage);const n=tt(F=>F.saveData),i=qr(),[a,o]=ce.useState(null),[s,c]=ce.useState(null),[l,u]=ce.useState(null),[f,h]=ce.useState(null),[d,p]=ce.useState(R$e),[v,g]=ce.useState({unlocked:0,allTotal:0,currentProgress:"0%"}),m=tt(F=>F.GUI.gameUIConfigs[Pn.achievement]);ce.useEffect(()=>{r.showAchievement&&(r.achievementUI.Achievement_progress_text&&o(r.achievementUI.Achievement_progress_text),r.achievementUI.Achievement_progress_bg&&c(r.achievementUI.Achievement_progress_bg),r.achievementUI.Achievement_progress&&u(r.achievementUI.Achievement_progress),r.achievementUI.Achievement_notUnlock&&h(r.achievementUI.Achievement_notUnlock),ae.dispatch(or.setIsShowUnlock(!1)),_())},[r.showAchievement]);async function _(){var Q,ee,G,B;const F=yt(ol.Achieve,pt.scene),L=await wa(F),H=qh(L,ol.Achieve,F).sentenceList;if((H==null?void 0:H.length)>0&&((Q=H[0])==null?void 0:Q.commandRaw)==="changeBg"){const V=((ee=H[0])==null?void 0:ee.content)??"";let U=1280,$=720;const J=window.localStorage.getItem("game-screen-size"),re=(J==null?void 0:J.split("x"))??[];(re==null?void 0:re.length)>0&&re[0]==="1920"&&(U=Number(re[0]),$=Number(re[1])),(B=(G=H[0])==null?void 0:G.args)==null||B.forEach(fe=>{(fe==null?void 0:fe.key)==="x"?U=Number(fe==null?void 0:fe.value):(fe==null?void 0:fe.key)==="y"&&($=Number(fe==null?void 0:fe.value))}),p({achieveBg:V,achieveBgX:U,achieveBgY:$})}setTimeout(()=>{x()},100)}async function x(){var Q;const F=ae.getState().saveData.allUnlockAchieveList,L=((Q=ae.getState().saveData.unlockAchieveData)==null?void 0:Q.length)??0,D=F.length||0,H=(L/D*100).toFixed(2)+"%";g({unlocked:L,allTotal:D,currentProgress:H})}const b=F=>yt(F,pt.ui),w=(F,L)=>F+500>=L,S=(F,L)=>F>=L?L-100:F,C=()=>{t(),ab(),i(ut({component:"showAchievement",visibility:!1}))},A=()=>{var J,re,fe,le,xe,Ae,ye,we,me,Pe,je,Le,ze,st,xt,Et;const F=(J=a==null?void 0:a.args)!=null&&J.hide?"":(a==null?void 0:a.content)??"",L=s!=null&&s.content?yt(s==null?void 0:s.content,pt.background):"",D=(fe=(re=l==null?void 0:l.args)==null?void 0:re.style)!=null&&fe.image?yt(l.args.style.image,pt.ui):"",H=(xe=(le=l==null?void 0:l.args)==null?void 0:le.hoverStyle)!=null&&xe.image?yt(l==null?void 0:l.args.hoverStyle.image,pt.ui):"";let Q={};L&&(Q={backgroundColor:"transparent",borderRadius:"initial"});let ee={};const G=vr((Ae=s==null?void 0:s.args)==null?void 0:Ae.style);(G==null?void 0:G.top)!==void 0&&(ee.top=G.top,ee.transform="inherit",delete G.top,delete G.position),(G==null?void 0:G.left)!==void 0&&(ee.left=G.left,ee.transform="inherit",delete G.left,delete G.position);const B=(ye=s==null?void 0:s.args)!=null&&ye.hide?{}:{...G,backgroundImage:`url(${L})`,...Q},V=(we=a==null?void 0:a.args)!=null&&we.hide?{}:{...(me=a==null?void 0:a.args)==null?void 0:me.style,color:(je=(Pe=a==null?void 0:a.args)==null?void 0:Pe.style)==null?void 0:je.fontColor,transform:(Le=a==null?void 0:a.args.style)!=null&&Le.scale?`scale(${a.args.style.scale})`:""},U=(ze=l==null?void 0:l.args)!=null&&ze.hide?{}:{backgroundImage:`url(${D})`,...vr((st=l==null?void 0:l.args)==null?void 0:st.style)},$=(xt=l==null?void 0:l.args)!=null&&xt.hide?{}:{backgroundImage:`url(${H})`,...vr((Et=l==null?void 0:l.args)==null?void 0:Et.hoverStyle)};return M.jsx("div",{className:In.achievement_content,style:ee,children:M.jsxs("div",{className:In.achievement_current,style:B||{},children:[M.jsx("span",{className:In.text,style:V||{},children:F}),M.jsx("span",{className:In.number,style:V||{},children:`${v.unlocked}/${v.allTotal}`}),M.jsx("span",{className:In.pregessBar,style:U||{},children:M.jsx("span",{className:In.pregressBar_inner,style:{...$,width:v.currentProgress}})})]})})};return M.jsx(M.Fragment,{children:r.showAchievement&&M.jsxs("div",{className:In.achievement,id:"camera",children:[M.jsx(Di,{item:m.buttons.Achievement_back_button,defaultClass:`
              ${In.goback} 
              ${(O=(R=(T=m.buttons.Achievement_back_button)==null?void 0:T.args)==null?void 0:R.style)!=null&&O.image?In.hideDefalutGobackBg:""} 
              interactive`,onClick:C,onMouseEnter:e}),A(),M.jsx(ZI,{src:d.achieveBg,style:{width:typeof d.achieveBgX=="number"?mt(d.achieveBgX):void 0,height:typeof d.achieveBgY=="number"?mt(d.achieveBgY):void 0,maxWidth:"none"}}),((P=n.allUnlockAchieveList)==null?void 0:P.length)>0&&M.jsx("div",{className:In.achievement_list,children:((k=n.allUnlockAchieveList)==null?void 0:k.map(({unlockname:F,x:L,y:D,url:H,isShowUnlock:Q,saveTime:ee,condition:G},B)=>{var U,$,J,re,fe,le,xe,Ae,ye,we;const V=f!=null&&f.args.hide?{}:{width:($=(U=f==null?void 0:f.args)==null?void 0:U.style)!=null&&$.width?`${mt(f.args.style.width)}px`:void 0,height:(re=(J=f==null?void 0:f.args)==null?void 0:J.style)!=null&&re.height?`${mt(f.args.style.height)}px`:void 0};return M.jsxs("div",{className:`${In.achievement_item} ${Q?In.achievement_item_bg_active:""}`,style:{top:`${mt(D)}px`,left:`${S(mt(L),mt((d==null?void 0:d.achieveBgX)??""))}px`,backgroundImage:`url("${b(Q?H:!(f!=null&&f.args.hide)&&((le=(fe=f==null?void 0:f.args)==null?void 0:fe.style)!=null&&le.image)?(Ae=(xe=f==null?void 0:f.args)==null?void 0:xe.style)==null?void 0:Ae.image:"")}")`,transform:` scale(${(we=(ye=f==null?void 0:f.args)==null?void 0:ye.style)==null?void 0:we.scale})`,...V},children:[Q&&M.jsx("div",{className:In.ripple}),Q&&M.jsx("span",{className:In.unlockname,children:F}),M.jsxs("div",{className:`${In.info_card} ${w(mt(L),mt((d==null?void 0:d.achieveBgX)??0))?In.info_card_position_right:""}`,children:[G&&M.jsx("span",{className:`${In.condition} ${Q?In.condition_bg_active:""}`,children:G}),ee&&M.jsx("span",{className:In.time,children:`${ee}`}),M.jsxs("span",{className:In.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${B}`)}))??null})]})})};var jl=(t=>(t.Video="video",t.Image="image",t.Placeholder="placeholder",t))(jl||{});const O$e="_beautyGuideImageDialog_14r48_1",k$e="_mark_14r48_10",F$e="_content_14r48_21",N$e="_content_bg_14r48_35",L$e="_imgWrapper_14r48_46",M$e="_fade_14r48_1",B$e="_btnsWrapper_14r48_59",D$e="_btn_14r48_59",U$e="_btn_prev_disabled_14r48_79",j$e="_btn_next_disabled_14r48_80",$$e="_btn_txt_14r48_83",G$e="_hideButtonBgc_14r48_90",qi={beautyGuideImageDialog:O$e,mark:k$e,content:F$e,content_bg:N$e,imgWrapper:L$e,fade:M$e,btnsWrapper:B$e,btn:D$e,btn_prev_disabled:U$e,btn_next_disabled:j$e,btn_txt:$$e,hideButtonBgc:G$e},JI=({url:t,videoPlayerRef:e,...r})=>{const n=ce.useRef(null);return ce.useEffect(()=>{if(NA.isSupported()&&n.current){const i=t.endsWith(".flv")?"flv":"mp4";fetch(t).then(a=>a.status>200?null:a.arrayBuffer()).then(async a=>{var h;if(!a)return;const o="ENCRYPTED",s=o.length,c=new Uint8Array(a.slice(0,s));let l=!1;for(let d=0;d<s;d++){if(String.fromCharCode(c[d])!==o[d]){l=!1;break}l=!0}let u;if(l){const d=a.slice(s);if((h=window.crypto)!=null&&h.subtle){const p=new Uint8Array([64,230,173,66,154,19,2,10,7,190,41,12,94,241,215,220,126,69,229,196,191,52,213,74,86,100,40,38,39,148,110,77]),v=new Uint8Array([157,107,172,116,198,78,232,113,78,121,89,206,247,82,113,208]);u=await M7(d,p,v,i)}else u=await L7(d,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",i)}else u=new Blob([new Uint8Array(a)],{type:`video/${i==="mp4"?"mp4":"x-flv"}`});const f=NA.createPlayer({type:t.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(u)});e&&(e.current=f),f.attachMediaElement(n.current),f.load()})}return()=>{}},[t]),M.jsx("video",{ref:n,...r,style:{width:"100%",height:"auto"}})},V$e=t=>{var p,v,g,m,_,x;const e=qr(),{playSeClick:r,playSeEnter:n}=li(),[i,a]=ce.useState((t==null?void 0:t.imgUrl)??""),[o,s]=ce.useState(0),[c,l]=ce.useState({}),u=tt(b=>b.GUI.gameUIConfigs[Pn.collection]);ce.useEffect(()=>{var b,w,S;if(((b=t.contentList)==null?void 0:b.length)>0){const C=t.contentList.findIndex(A=>A.url===t.imgUrl);C>-1&&s(C)}if(t.show){const C=vr((S=(w=u==null?void 0:u.other[Gr.Collection_detail_dialog_bg])==null?void 0:w.args)==null?void 0:S.style);l(C)}},[t.contentList,t.show]);const f=()=>{r(),e(ut({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const b=o-1;b<0||(s(b),a(t.contentList[b].url))},d=()=>{r();const b=o+1;b>t.contentList.length-1||(s(b),a(t.contentList[b].url))};return M.jsxs("div",{className:qi.beautyGuideImageDialog,children:[M.jsx("div",{className:`${qi.mark} interactive`,onClick:f}),M.jsxs("div",{className:qi.content,style:vr((v=(p=u==null?void 0:u.other[Gr.Collection_detail_dialog_bg])==null?void 0:p.args)==null?void 0:v.style),children:[M.jsx(Ks,{item:u.other[Gr.Collection_detail_dialog_bg],defaultClass:qi.content_bg}),M.jsx("div",{className:qi.imgWrapper,children:(g=t.contentList)==null?void 0:g.map((b,w)=>b.type===jl.Image&&w===o?M.jsx("img",{src:b.url,className:qi.transitionImage},`img-${w}`):b.type===jl.Video&&w===o?M.jsx(JI,{url:b.url,className:qi.transitionImage,muted:!0,autoPlay:!0,loop:!0},`img-${w}`):null)}),M.jsxs("div",{className:qi.btnsWrapper,children:[M.jsx(Di,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`
              ${qi.btn} 
              ${o<1?qi.btn_prev_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?qi.hideButtonBgc:""} interactive`,onClick:h,onMouseEnter:n}),M.jsxs("span",{className:qi.btn_txt,style:vr((_=(m=u==null?void 0:u.other[Gr==null?void 0:Gr.Collection_detail_dialog_text])==null?void 0:m.args)==null?void 0:_.style)??{},children:[o+1,"/",((x=t.contentList)==null?void 0:x.length)??0,""]}),M.jsx(Di,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`
              ${qi.btn} 
              ${o+1>=t.contentList.length?qi.btn_next_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?qi.hideButtonBgc:""} interactive`,onClick:d,onMouseEnter:n})]})]})]})},H$e="_beautyGuideDetail_main_1pntc_1",X$e="_beautyGuide_detail_bg_1pntc_14",W$e="_goback_1pntc_25",z$e="_hideDefalutGobackBg_1pntc_43",Y$e="_beautyGuideDetail_left_1pntc_49",q$e="_left_box_1pntc_57",K$e="_beautyGuide_detail_left_bg_1pntc_65",Z$e="_pictureUrl_1pntc_77",J$e="_personal_info_1pntc_88",Q$e="_name_1pntc_92",e9e="_info_1pntc_99",t9e="_beautyGuideDetail_right_1pntc_119",r9e="_contentWrapper_1pntc_127",n9e="_content_1pntc_127",i9e="_content_bg_1pntc_138",a9e="_content_img_1pntc_155",o9e="_thumbnailWrapper_1pntc_166",s9e="_thumbnail_box_1pntc_177",l9e="_video_mark_1pntc_201",u9e="_desc_text_1pntc_212",c9e="_desc_bg_1pntc_229",f9e="_hideBgc_1pntc_244",Cr={beautyGuideDetail_main:H$e,beautyGuide_detail_bg:X$e,goback:W$e,hideDefalutGobackBg:z$e,beautyGuideDetail_left:Y$e,left_box:q$e,beautyGuide_detail_left_bg:K$e,pictureUrl:Z$e,personal_info:J$e,name:Q$e,info:e9e,beautyGuideDetail_right:t9e,contentWrapper:r9e,content:n9e,content_bg:i9e,content_img:a9e,thumbnailWrapper:o9e,thumbnail_box:s9e,video_mark:l9e,desc_text:u9e,desc_bg:c9e,hideBgc:f9e},h9e=t=>{var g,m,_,x,b,w,S,C,A,T,R,O,P,k,F,L,D,H,Q,ee,G,B,V,U,$;const e=qr(),{playSeClick:r,playSeEnter:n}=li(),i=tt(J=>J.GUI),[a,o]=ce.useState(null),[s,c]=ce.useState(""),l=ti.useRef(null),[u,f]=ce.useState([]),h=tt(J=>J.GUI.gameUIConfigs[Pn.collection]);ce.useEffect(()=>{var re,fe,le;const J=t.info;if(J!=null&&J.contentList&&((re=J==null?void 0:J.contentList)==null?void 0:re.length)>0)f(J.contentList),o(J.contentList[0]);else{const xe=((le=(fe=h.other[Gr.Collection_detail_right_thumbnail_bg])==null?void 0:fe.args)==null?void 0:le.style)??{},Ae=[],ye=xe!=null&&xe.image?yt(xe.image,pt.background):"";for(let we=0;we<5;we++)Ae.push({key:"placeholder",type:"placeholder",url:ye});f(Ae)}},[t]);const d=()=>{r(),e(ut({component:"showBeautyGuideDetail",visibility:!1}))},p=J=>{r(),c(J),l.current&&l.current.pause(),e(ut({component:"showBeautyGuideImageDialog",visibility:!0}))},v=(J,re)=>{if(typeof re!="string"||re==="")return null;const fe=document.getElementById(`${J}`);if(fe)return fe.innerHTML=re};return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:Cr.beautyGuideDetail_main,children:[M.jsx(Ks,{item:h.other[Gr.Collection_detail_bg],defaultClass:Cr.beautyGuide_detail_bg}),M.jsx(Di,{item:h.buttons.Collection_back_button,defaultClass:`
            ${Cr.goback} 
            ${(_=(m=(g=h.buttons.Collection_back_button)==null?void 0:g.args)==null?void 0:m.style)!=null&&_.image?Cr.hideDefalutGobackBg:""} 
            interactive`,onClick:d,onMouseEnter:n}),M.jsx("div",{className:Cr.beautyGuideDetail_left,children:M.jsxs("div",{className:Cr.left_box,style:vr((b=(x=h.other[Gr.Collection_detail_left_bg])==null?void 0:x.args)==null?void 0:b.style),children:[M.jsx(Ks,{item:h.other[Gr.Collection_detail_left_bg],defaultClass:Cr.beautyGuide_detail_left_bg}),M.jsx("div",{className:Cr.pictureUrl,children:M.jsx("img",{src:(w=t.info)==null?void 0:w.image,alt:""})}),M.jsxs("div",{className:Cr.personal_info,children:[M.jsx("h3",{className:Cr.name,style:(t==null?void 0:t.infoItemStyle)??{},children:((S=t.info)==null?void 0:S.name)??""}),M.jsxs("div",{className:Cr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((C=t.info)==null?void 0:C.height)??""})]}),M.jsxs("div",{className:Cr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((A=t.info)==null?void 0:A.weight)??""})]}),M.jsxs("div",{className:Cr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((T=t.info)==null?void 0:T.bustSize)??""})]}),M.jsxs("div",{className:Cr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((R=t.info)==null?void 0:R.waistSize)??""})]}),M.jsxs("div",{className:Cr.info,style:(t==null?void 0:t.infoTextStyle)??{},children:[M.jsx("span",{children:""}),M.jsx("span",{children:((O=t.info)==null?void 0:O.hipSize)??""})]})]})]})}),M.jsxs("div",{className:Cr.beautyGuideDetail_right,children:[M.jsxs("div",{className:`${Cr.desc_text} 
              ${(k=(P=h.other[Gr.Collection_detail_right_desc_bg])==null?void 0:P.args)!=null&&k.style.image?Cr.hideBgc:""}`,style:{...vr((L=(F=h.other[Gr.Collection_detail_right_desc_bg])==null?void 0:F.args)==null?void 0:L.style),display:(H=(D=h.other[Gr.Collection_detail_right_desc_bg])==null?void 0:D.args)!=null&&H.hide?"none":"flex"},children:[M.jsx(Ks,{item:h.other[Gr.Collection_detail_right_desc_bg],defaultClass:Cr.desc_bg}),M.jsx("span",{id:"info_description",children:v("info_description",(Q=t.info)==null?void 0:Q.description)})]}),M.jsxs("div",{className:Cr.contentWrapper,style:{display:(G=(ee=h.other[Gr.Collection_detail_right_content_bg])==null?void 0:ee.args)!=null&&G.hide?"none":"block"},children:[M.jsxs("div",{className:`${Cr.content} 
                ${(V=(B=h.other[Gr.Collection_detail_right_content_bg])==null?void 0:B.args)!=null&&V.style.image?Cr.hideBgc:""}`,style:vr(($=(U=h.other[Gr.Collection_detail_right_content_bg])==null?void 0:U.args)==null?void 0:$.style),children:[M.jsx(Ks,{item:h.other[Gr.Collection_detail_right_content_bg],defaultClass:Cr.content_bg}),a&&M.jsxs(M.Fragment,{children:[a.type==="video"&&M.jsx(JI,{videoPlayerRef:l,url:a.url,controls:!0,autoPlay:!i.showBeautyGuideImageDialog,loop:!0,muted:!0},a.url),a.type==="image"&&M.jsx("img",{className:`${Cr.content_img} interactive`,src:a.url,onClick:()=>{p(a.url)}})]})]}),M.jsx("div",{className:Cr.thumbnailWrapper,children:M.jsx("div",{children:(u==null?void 0:u.map((J,re)=>{var fe,le;return M.jsxs("div",{className:Cr.thumbnail_box,style:vr((le=(fe=h.other[Gr.Collection_detail_right_thumbnail_bg])==null?void 0:fe.args)==null?void 0:le.style),onClick:()=>{J.type!==jl.Placeholder&&o(J)},children:[J.type===jl.Placeholder&&M.jsx("img",{src:J.url,alt:""}),J.type===jl.Image&&M.jsx("img",{src:J.url,alt:""}),J.type===jl.Video&&M.jsx(JI,{url:J.url,controls:!1,loop:!0,muted:!0}),J.type===jl.Video&&M.jsx("div",{className:Cr.video_mark,children:M.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:M.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${re}`)}))??null})})]})]})]}),i.showBeautyGuideImageDialog&&M.jsx(V$e,{imgUrl:s,contentList:u||[],show:i.showBeautyGuideImageDialog})]})},d9e="_beautyGuide_main_7fk88_1",p9e="_bg_animation_7fk88_1",v9e="_beautyGuide_bg_7fk88_16",g9e="_beautyGuide_header_7fk88_27",m9e="_goback_7fk88_33",_9e="_hideDefalutGobackBg_7fk88_51",y9e="_title_7fk88_57",x9e="_beautyGuide_content_7fk88_63",b9e="_item_7fk88_69",Rl={beautyGuide_main:d9e,bg_animation:p9e,beautyGuide_bg:v9e,beautyGuide_header:g9e,goback:m9e,hideDefalutGobackBg:_9e,title:y9e,beautyGuide_content:x9e,item:b9e},w9e=()=>{var w,S,C;const t=qr(),e=tt(A=>A.GUI),{playSeClick:r,playSeEnter:n}=li(),[i,a]=ce.useState(null),o=tt(A=>A.GUI.gameUIConfigs[Pn.collection]),[s,c]=ce.useState([]),[l,u]=ce.useState({}),[f,h]=ce.useState(null),[d,p]=ce.useState({}),[v,g]=ce.useState({}),[m,_]=ce.useState({});ce.useEffect(()=>{if(e.showBeautyGuide){const A=[],T=(o==null?void 0:o.other)??{},R={},O={};let P=1;Object.entries(T).forEach(([k,F])=>{var L,D,H,Q,ee,G,B,V;if(k!=null&&k.includes("Collection_img")){const U=(L=F==null?void 0:F.args)==null?void 0:L.info;let $=((D=F==null?void 0:F.args)==null?void 0:D.style)??{};const J=(H=F==null?void 0:F.args)==null?void 0:H.images,re=(Q=F==null?void 0:F.args)==null?void 0:Q.videos;O[`Collection_img_info${P}`]={color:$==null?void 0:$.customColor,fontSize:$!=null&&$.customFontSize?`${mt($.customFontSize)}px`:""},$=vr($);const fe=TEe(J),le=IEe(re),xe=(U==null?void 0:U.image)&&yt(U==null?void 0:U.image,pt.ui)||"",Ae=((G=(ee=F==null?void 0:F.args)==null?void 0:ee.style)==null?void 0:G.image)&&yt((V=(B=F==null?void 0:F.args)==null?void 0:B.style)==null?void 0:V.image,pt.ui)||"";A.push({avatar:Ae,name:U==null?void 0:U.name,image:xe,height:U==null?void 0:U.height,weight:U==null?void 0:U.weight,bustSize:U==null?void 0:U.bustSize,waistSize:U==null?void 0:U.waistSize,hipSize:U==null?void 0:U.hipSize,description:(U==null?void 0:U.description)??"",contentList:le.concat(fe)}),R[`Collection_img${P}`]=$,P++}}),p(O),u(R),g(R),c(A)}},[e.showBeautyGuide]);const x=()=>{r(),a(null),_({}),t(ut({component:"showBeautyGuide",visibility:!1}))},b=(A,T)=>{r(),a(A),h(l[`Collection_img${T+1}`]),_(d[`Collection_img_info${T+1}`]),t(ut({component:"showBeautyGuideDetail",visibility:!0}))};return M.jsxs(M.Fragment,{children:[e.showBeautyGuide&&M.jsxs("div",{className:Rl.beautyGuide_main,children:[M.jsx(Ks,{item:o.other[Gr.Collection_bg],defaultClass:Rl.beautyGuide_bg}),M.jsxs("div",{className:Rl.beautyGuide_header,children:[M.jsx(Di,{item:o.buttons.Collection_back_button,defaultClass:`
                ${Rl.goback} 
                ${(C=(S=(w=o.buttons.Collection_back_button)==null?void 0:w.args)==null?void 0:S.style)!=null&&C.image?Rl.hideDefalutGobackBg:""} 
                interactive`,onClick:x,onMouseEnter:n}),M.jsx(Di,{item:o.other.Collection_title,defaultClass:Rl.title})]}),M.jsx("div",{className:Rl.beautyGuide_content,children:s.map((A,T)=>A!=null&&A.avatar?M.jsx("div",{className:`${Rl.item} interactive`,onClick:()=>b(A,T),onMouseEnter:n,children:M.jsx("img",{src:A.avatar,style:v[`Collection_img${T+1}`]})},`${A==null?void 0:A.name}$-${T}`):null)})]}),e.showBeautyGuideDetail&&M.jsx(h9e,{info:i,infoItemStyle:f,infoTextStyle:m,detailRightDescBgStyle:o.other[Gr.Collection_detail_right_desc_bg]})]})},E9e="_modalR18_main_jr75s_1",S9e="_footer_jr75s_16",j5={modalR18_main:E9e,"fade-in":"_fade-in_jr75s_1",footer:S9e},C9e=""+new URL("r18-exit-btn-default.png",import.meta.url).href,A9e=""+new URL("r18-exit-btn-active.png",import.meta.url).href,T9e=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,I9e=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,R9e=()=>{ys("r18.");const t=qr(),e=tt(p=>p.GUI),{playSeClick:r,playSeEnter:n}=li(),[i,a]=ce.useState(!1),[o,s]=ce.useState(!1),[c,l]=ce.useState({width:void 0,height:void 0,opacity:0}),[u,f]=ce.useState({width:void 0,height:void 0,opacity:0}),h=()=>{r(),t($7(!1))},d=()=>{r(),window.location.href="/"};return M.jsx(M.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&M.jsx("div",{className:`${j5.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:M.jsxs("div",{className:j5.footer,children:[M.jsx("div",{id:"exitButton",className:"interactive",children:M.jsx("img",{src:i?A9e:C9e,onClick:d,onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:p=>{l({width:p.target.naturalWidth/.5,height:p.target.naturalHeight/.5,opacity:1})},style:c})}),M.jsx("div",{id:"confirmButton",className:"interactive",children:M.jsx("img",{src:o?I9e:T9e,onClick:h,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:p=>{f({width:p.target.naturalWidth/.5,height:p.target.naturalHeight/.5,opacity:1})},style:u})})]})})})},P9e="_gameMenuPanelWrapper_9suy8_1",O9e="_gameMenuPanel_9suy8_1",k9e="_menuButton_9suy8_12",F9e="_gameMenuPanelContentWrapper_9suy8_26",N9e="_mask_9suy8_34",L9e="_gameMenuPanelContent_9suy8_26",M9e="_content_9suy8_54",B9e="_buttons_wrapper_9suy8_59",D9e="_button_9suy8_59",U9e="_button_text_9suy8_93",j9e="_button_custom_9suy8_96",Zo={gameMenuPanelWrapper:P9e,gameMenuPanel:O9e,menuButton:k9e,gameMenuPanelContentWrapper:F9e,mask:N9e,gameMenuPanelContent:L9e,content:M9e,buttons_wrapper:B9e,button:D9e,button_text:U9e,button_custom:j9e},$9e=()=>{const t=ys("gaming."),e=qr(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=li(),a=tt(f=>f.GUI);$O("UI/GameMenuPanel/gameMenuPanel.scss");const o=(f,h)=>{e(ut({component:f,visibility:h}))};ce.useEffect(()=>{const f=h=>{h.keyCode===27&&(n(),o("isShowGameMenu",!a.isShowGameMenu))};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[]);const s=f=>{e(Fy(f))},c=()=>{n(),o("isShowGameMenu",!0)},l={[Qi.Esc_continueGame_button]:()=>{n(),o("isShowGameMenu",!1)},[Qi.Esc_backToLevel_button]:()=>{n(),o("isShowGameMenu",!1),ab()},[Qi.Esc_setting_button]:()=>{n(),s(ya.Option),o("isShowGameMenu",!1),o("showMenuPanel",!0)},[Qi.Esc_exitGame_button]:()=>{n(),i(),Tz({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{o("isShowGameMenu",!1),o("isInGaming",!1),window.location.href="/"}})}},u=f=>{var m,_,x;const h=a.escMenus[f];if(!h||h.args.hide)return null;const d={},p={},v=`escMenu-${f}`;if(h.args.style){const b=h.args.style;b.btnPosition!=="custom"&&(d.alignSelf=b.btnPosition),typeof b.align=="string"&&(d.textAlign=b.align),typeof b.fontFamily=="string"&&b.fontFamily&&(d.fontFamily=b.fontFamily),typeof b.x=="number"&&b.btnPosition==="custom"&&(d.position="fixed",d.left=mt(b.x)+"px"),typeof b.y=="number"&&b.btnPosition=="custom"&&(d.position="fixed",d.top=mt(b.y)+"px"),typeof b.scale=="number"&&(d.transform?d.transform+=`scale(${b.scale})`:d.transform=`scale(${b.scale})`),typeof b.fontSize=="number"&&b.fontSize&&(p.fontSize=mt(b.fontSize)+"px"),typeof b.fontColor=="string"&&b.fontColor[0]==="#"&&(d.color=b.fontColor)}if((m=h.args.style)!=null&&m.btnImage&&!document.getElementById(v)){const w=yt(h.args.style.btnImage,pt.ui),S=new Image;S.src=w,S.onload=function(){let C=document.getElementById(v);S.alt=h.content,C&&setTimeout(()=>{C==null||C.prepend(S),C=null},32)}}const g=document.getElementById(`${v}-text`);return g&&(h!=null&&h.content)&&(g.innerText=((_=h.content)==null?void 0:_.replace(/\\n/g,`
`))??""),M.jsx("span",{id:v,className:`
          ${(x=h.args.style)!=null&&x.btnImage?Zo.button_custom:Zo.button} 
          interactive`,onMouseEnter:r,onClick:l[f],style:d,children:M.jsx("span",{className:Zo.button_text,style:p,id:`${v}-text`})},f)};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:Zo.gameMenuPanel,children:M.jsx("div",{className:Zo.menuButton,onClick:c,onMouseEnter:r})}),a.isShowGameMenu&&M.jsxs("div",{className:Zo.gameMenuPanelContentWrapper,children:[M.jsx("div",{className:Zo.mask}),M.jsx("div",{className:Zo.gameMenuPanelContent,children:M.jsx("div",{className:Zo.content,children:M.jsxs("div",{className:Zo.buttons_wrapper,children:[u(Qi.Esc_continueGame_button),u(Qi.Esc_backToLevel_button),u(Qi.Esc_setting_button),u(Qi.Esc_exitGame_button)]})})})]})]})};function G9e(){return ce.useEffect(()=>{d8e()},[]),qje(),M.jsxs("div",{className:"App",children:[M.jsx(zje,{}),M.jsx(N5e,{}),M.jsx(B5e,{}),M.jsx(Lje,{}),M.jsx(q5e,{}),M.jsx(CIe,{}),M.jsx(OIe,{}),M.jsx(Rje,{}),M.jsx(y6e,{}),M.jsx(aUe,{}),M.jsx(Yje,{}),M.jsx(Uje,{}),M.jsx(o$e,{}),M.jsx(P$e,{}),M.jsx(w9e,{}),M.jsx(R9e,{}),M.jsx($9e,{})]})}function cu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QI(t,e){return QI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QI(t,e)}function ob(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QI(t,e)}function eg(t,e){if(e&&(ri(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(t)}function xs(t){return xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xs(t)}function V9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H9e(t){return Nz(t)||V9e(t)||Lz(t)||Mz()}function $5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var X9e={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},W9e=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Go(this,t),this.init(e,r)}return Vo(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||X9e,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,G5(G5({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),ss=new W9e,Cu=function(){function t(){Go(this,t),this.observers={}}return Vo(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function L0(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function V5(t){return t==null?"":""+t}function z9e(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function HF(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function H5(t,e,r){var n=HF(t,e,Object),i=n.obj,a=n.k;i[a]=r}function Y9e(t,e,r,n){var i=HF(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function ix(t,e){var r=HF(t,e),n=r.obj,i=r.k;if(n)return n[i]}function q9e(t,e,r){var n=ix(t,r);return n!==void 0?n:ix(e,r)}function jz(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):jz(t[n],e[n],r):t[n]=e[n]);return t}function Hf(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var K9e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Z9e(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return K9e[e]}):t}var sb=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,J9e=[" ",",","?","!",";"];function Q9e(t,e,r){e=e||"",r=r||"";var n=J9e.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function ax(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?ax(c,l,r):void 0}i=i[n[a]]}return i}}function X5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eGe(t){var e=tGe();return function(){var n=xs(t),i;if(e){var a=xs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return eg(this,i)}}function tGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var rGe=function(t){ob(r,t);var e=eGe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Go(this,r),i=e.call(this),sb&&Cu.call(cu(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Vo(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=ix(this.data,u);return f||!l||typeof o!="string"?f:ax(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),H5(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=ix(this.data,u)||{};s?jz(f,o,c):f=e_(e_({},f),o),H5(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?e_(e_({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Cu),$z={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nGe(t){var e=iGe();return function(){var n=xs(t),i;if(e){var a=xs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return eg(this,i)}}function iGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var z5={},Y5=function(t){ob(r,t);var e=nGe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Go(this,r),i=e.call(this),sb&&Cu.call(cu(i)),z9e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,cu(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ss.create("translator"),i}return Vo(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!Q9e(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(ri(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),ri(a)==="object"&&(a=Ri({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,d=h[h.length-1],p=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){var g=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(d).concat(g).concat(f),usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:"".concat(d).concat(g).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:p,usedNS:d}:f}var m=this.resolve(i,a),_=m&&m.res,x=m&&m.usedKey||f,b=m&&m.exactUsedKey||f,w=Object.prototype.toString.apply(_),S=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof _!="string"&&typeof _!="boolean"&&typeof _!="number";if(A&&_&&T&&S.indexOf(w)<0&&!(typeof C=="string"&&w==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,_,Ri(Ri({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(m.res=R,m):R}if(l){var O=w==="[object Array]",P=O?[]:{},k=O?b:x;for(var F in _)if(Object.prototype.hasOwnProperty.call(_,F)){var L="".concat(k).concat(l).concat(F);P[F]=this.translate(L,Ri(Ri({},a),{joinArrays:!1,ns:h})),P[F]===L&&(P[F]=_[F])}_=P}}else if(A&&typeof C=="string"&&w==="[object Array]")_=_.join(C),_&&(_=this.extendTranslation(_,i,a,o));else{var D=!1,H=!1,Q=a.count!==void 0&&typeof a.count!="string",ee=r.hasDefaultValue(a),G=Q?this.pluralResolver.getSuffix(p,a.count,a):"",B=a["defaultValue".concat(G)]||a.defaultValue;!this.isValidLookup(_)&&ee&&(D=!0,_=B),this.isValidLookup(_)||(H=!0,_=f);var V=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,U=V&&H?void 0:_,$=ee&&B!==_&&this.options.updateMissing;if(H||D||$){if(this.logger.log($?"updateKey":"missingKey",p,d,f,$?B:_),l){var J=this.resolve(f,Ri(Ri({},a),{},{keySeparator:!1}));J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var re=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var le=0;le<fe.length;le++)re.push(fe[le]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(a.lng||this.language):re.push(a.lng||this.language);var xe=function(ye,we,me){var Pe=ee&&me!==_?me:U;s.options.missingKeyHandler?s.options.missingKeyHandler(ye,d,we,Pe,$,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ye,d,we,Pe,$,a),s.emit("missingKey",ye,d,we,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Q?re.forEach(function(Ae){s.pluralResolver.getSuffixes(Ae,a).forEach(function(ye){xe([Ae],f+ye,a["defaultValue".concat(ye)]||B)})}):xe(re,f,B))}_=this.extendTranslation(_,i,a,m,o),H&&_===f&&this.options.appendNamespaceToMissingKey&&(_="".concat(d,":").concat(f)),(H||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(f):f,D?_:void 0):_=this.options.parseMissingKeyHandler(_))}return c?(m.res=_,m):_}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Ri(Ri({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Ri(Ri({},o),{interpolation:Ri(Ri({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=Ri(Ri({},this.options.interpolation.defaultVariables),d)),i=this.interpolator.interpolate(i,d,o.lng||this.language,o),u){var p=i.match(this.interpolator.nestingRegexp),v=p&&p.length;f<v&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var _=arguments.length,x=new Array(_),b=0;b<_;b++)x[b]=arguments[b];return c&&c[0]===x[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(x[0]," in key: ").concat(a[0])),null):l.translate.apply(l,x.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var g=o.postProcess||this.options.postProcess,m=typeof g=="string"?[g]:g;return i!=null&&m&&m.length&&o.applyPostProcessor!==!1&&(i=$z.handle(m,i,a,this.options&&this.options.postProcessPassResolved?Ri({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var d=a.extractFromKey(h,o),p=d.key;c=p;var v=d.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var g=o.count!==void 0&&typeof o.count!="string",m=g&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),_=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",x=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(b){a.isValidLookup(s)||(f=b,!z5["".concat(x[0],"-").concat(b)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(z5["".concat(x[0],"-").concat(b)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(x.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(function(w){if(!a.isValidLookup(s)){u=w;var S=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(S,p,w,b,o);else{var C;g&&(C=a.pluralResolver.getSuffix(w,o.count,o));var A="".concat(a.options.pluralSeparator,"zero");if(g&&(S.push(p+C),m&&S.push(p+A)),_){var T="".concat(p).concat(a.options.contextSeparator).concat(o.context);S.push(T),g&&(S.push(T+C),m&&S.push(T+A))}}for(var R;R=S.pop();)a.isValidLookup(s)||(l=R,s=a.getResource(w,b,R,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Cu);function v2(t){return t.charAt(0).toUpperCase()+t.slice(1)}var q5=function(){function t(e){Go(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ss.create("languageUtils")}return Vo(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=v2(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=v2(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=v2(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),aGe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],oGe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},sGe=["v1","v2","v3"],K5={zero:0,one:1,two:2,few:3,many:4,other:5};function lGe(){var t={};return aGe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:oGe[e.fc]}})}),t}var uGe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Go(this,t),this.languageUtils=e,this.options=r,this.logger=ss.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=lGe()}return Vo(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return K5[o]-K5[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!sGe.includes(this.options.compatibilityJSON)}}]),t}();function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J5(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=q9e(t,e,r);return!a&&i&&typeof r=="string"&&(a=ax(t,r,n),a===void 0&&(a=ax(e,r,n))),a}var cGe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Go(this,t),this.logger=ss.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Vo(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:Z9e,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Hf(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Hf(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Hf(n.nestingPrefix):n.nestingPrefixEscaped||Hf("$t("),this.nestingSuffix=n.nestingSuffix?Hf(n.nestingSuffix):n.nestingSuffixEscaped||Hf(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(g){return g.replace(/\$/g,"$$$$")}var h=function(m){if(m.indexOf(o.formatSeparator)<0){var _=J5(n,u,m,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(_,void 0,i,So(So(So({},a),n),{},{interpolationkey:m})):_}var x=m.split(o.formatSeparator),b=x.shift().trim(),w=x.join(o.formatSeparator).trim();return o.format(J5(n,u,b,o.options.keySeparator,o.options.ignoreJSONStructure),w,i,So(So(So({},a),n),{},{interpolationkey:b}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(m){return f(m)}},{regex:this.regexp,safeValue:function(m){return o.escapeValue?f(o.escape(m)):f(m)}}];return v.forEach(function(g){for(l=0;s=g.regex.exec(r);){var m=s[1].trim();if(c=h(m),c===void 0)if(typeof d=="function"){var _=d(r,s,a);c=typeof _=="string"?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,m))c="";else if(p){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=V5(c));var x=g.safeValue(c);if(r=r.replace(s[0],x),p?(g.regex.lastIndex+=c.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(d,p){var v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;var g=d.split(new RegExp("".concat(v,"[ ]*{"))),m="{".concat(g[1]);d=g[0],m=this.interpolate(m,c);var _=m.match(/'/g),x=m.match(/"/g);(_&&_.length%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{c=JSON.parse(m),p&&(c=So(So({},p),c))}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),b),"".concat(d).concat(v).concat(m)}return delete c.defaultValue,d}for(;o=this.nestingRegexp.exec(r);){var u=[];c=So({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=V5(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(d,p){return i.format(d,p,a.lng,So(So({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function Q5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fGe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=H9e(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function Xf(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var hGe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Go(this,t),this.logger=ss.create("formatter"),this.options=e,this.formats={number:Xf(function(r,n){var i=new Intl.NumberFormat(r,Gs({},n));return function(a){return i.format(a)}}),currency:Xf(function(r,n){var i=new Intl.NumberFormat(r,Gs(Gs({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Xf(function(r,n){var i=new Intl.DateTimeFormat(r,Gs({},n));return function(a){return i.format(a)}}),relativetime:Xf(function(r,n){var i=new Intl.RelativeTimeFormat(r,Gs({},n));return function(a){return i.format(a,n.range||"day")}}),list:Xf(function(r,n){var i=new Intl.ListFormat(r,Gs({},n));return function(a){return i.format(a)}})},this.init(e)}return Vo(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Xf(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=fGe(u),h=f.formatName,d=f.formatOptions;if(a.formats[h]){var p=l;try{var v=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=v.locale||v.lng||o.locale||o.lng||i;p=a.formats[h](l,g,Gs(Gs(Gs({},d),o),v))}catch(m){a.logger.warn(m)}return p}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dGe(t){var e=pGe();return function(){var n=xs(t),i;if(e){var a=xs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return eg(this,i)}}function pGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vGe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var gGe=function(t){ob(r,t);var e=dGe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Go(this,r),o=e.call(this),sb&&Cu.call(cu(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=ss.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return Vo(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(d){var p=!0;a.forEach(function(v){var g="".concat(d,"|").concat(v);!o.reload&&c.store.hasResourceBundle(d,v)?c.state[g]=2:c.state[g]<0||(c.state[g]===1?u[g]===void 0&&(u[g]=!0):(c.state[g]=1,p=!1,u[g]===void 0&&(u[g]=!0),l[g]===void 0&&(l[g]=!0),h[v]===void 0&&(h[v]=!0)))}),p||(f[d]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){Y9e(f.loaded,[c],l),vGe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var d=f.loaded[h];d.length&&d.forEach(function(p){u[h][p]===void 0&&(u[h][p]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(v,g){if(s.readingCalls--,s.waitingReads.length>0){var m=s.waitingReads.shift();s.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(v&&g&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(v,g)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var d=h(i,a);d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=tj(tj({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var d;h.length===5?d=h(i,a,o,s,f):d=h(i,a,o,s),d&&typeof d.then=="function"?d.then(function(p){return u(null,p)}).catch(u):u(null,d)}catch(p){u(p)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(Cu);function rj(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(ri(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),ri(e[2])==="object"||ri(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function nj(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mGe(t){var e=_Ge();return function(){var n=xs(t),i;if(e){var a=xs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return eg(this,i)}}function _Ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t_(){}function yGe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var ox=function(t){ob(r,t);var e=mGe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Go(this,r),n=e.call(this),sb&&Cu.call(cu(n)),n.options=nj(i),n.services={},n.logger=ss,n.modules={external:[]},yGe(cu(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),eg(n,cu(n));setTimeout(function(){n.init(i,a)},0)}return n}return Vo(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=rj();this.options=Jo(Jo(Jo({},s),this.options),nj(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Jo(Jo({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(m){return m?typeof m=="function"?new m:m:null}if(!this.options.isClone){this.modules.logger?ss.init(c(this.modules.logger),this.options):ss.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=hGe);var u=new q5(this.options);this.store=new rGe(this.options.resources,this.options);var f=this.services;f.logger=ss,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new uGe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new cGe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new gGe(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var _=arguments.length,x=new Array(_>1?_-1:0),b=1;b<_;b++)x[b-1]=arguments[b];i.emit.apply(i,[m].concat(x))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Y5(this.services,this.options),this.translator.on("*",function(m){for(var _=arguments.length,x=new Array(_>1?_-1:0),b=1;b<_;b++)x[b-1]=arguments[b];i.emit.apply(i,[m].concat(x))}),this.modules.external.forEach(function(m){m.init&&m.init(i)})}if(this.format=this.options.interpolation.format,o||(o=t_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(m){i[m]=function(){var _;return(_=i.store)[m].apply(_,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(m){i[m]=function(){var _;return(_=i.store)[m].apply(_,arguments),i}});var v=L0(),g=function(){var _=function(b,w){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(w),o(b,w)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return _(null,i.t.bind(i));i.changeLanguage(i.options.lng,_)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),v}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t_,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(d){if(d){var p=a.services.languageUtils.toResolveHierarchy(d);p.forEach(function(v){l.indexOf(v)<0&&l.push(v)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=L0();return i||(i=this.languages),a||(a=this.options.ns),o||(o=t_),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&$z.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=L0();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,d){d?(c(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var d=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);d&&(o.language||c(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){l(p,d)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(ri(f)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),v=2;v<d;v++)p[v-2]=arguments[v];h=s.options.overloadTranslationOptionHandler([u,f].concat(p))}else h=Jo({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var g=s.options.keySeparator||".",m;return h.keyPrefix&&Array.isArray(u)?m=u.map(function(_){return"".concat(h.keyPrefix).concat(g).concat(_)}):m=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(u):u,s.t(m,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(d,p){var v=a.services.backendConnector.state["".concat(d,"|").concat(p)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=L0();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=L0();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new q5(rj());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t_,s=Jo(Jo(Jo({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=Jo({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new Y5(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Cu);Va(ox,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new ox(t,e)});var $i=ox.createInstance();$i.createInstance=ox.createInstance;$i.createInstance;$i.dir;$i.init;$i.loadResources;$i.reloadResources;$i.use;$i.changeLanguage;$i.getFixedT;$i.t;$i.exists;$i.setDefaultNamespace;$i.hasLoadedNamespace;$i.loadNamespaces;$i.loadLanguages;$i.use(TUe).init({resources:vde||{},lng:wd[gde]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Uc.render(M.jsx(ti.StrictMode,{children:M.jsx(OUe,{children:M.jsx(_Ee,{store:ae,children:M.jsx(G9e,{})})})}),document.getElementById("root"));export{Vn as C,Ic as S,gt as T,W,La as a,AGe as r,_u as u};
