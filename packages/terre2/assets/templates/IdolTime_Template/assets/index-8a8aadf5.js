var Hte=Object.defineProperty;var zte=(t,e,r)=>e in t?Hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ut=(t,e,r)=>(zte(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xte(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var jj={exports:{}},Jv={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var RN=Object.getOwnPropertySymbols,Wte=Object.prototype.hasOwnProperty,Yte=Object.prototype.propertyIsEnumerable;function qte(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Kte(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var FR=Kte()?Object.assign:function(t,e){for(var r,n=qte(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)Wte.call(r,o)&&(n[o]=r[o]);if(RN){i=RN(r);for(var s=0;s<i.length;s++)Yte.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};const Zte=Yi(FR);var $j={exports:{}},Or={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR=FR,Ad=60103,Gj=60106;Or.Fragment=60107;Or.StrictMode=60108;Or.Profiler=60114;var Vj=60109,Hj=60110,zj=60112;Or.Suspense=60113;var Xj=60115,Wj=60116;if(typeof Symbol=="function"&&Symbol.for){var No=Symbol.for;Ad=No("react.element"),Gj=No("react.portal"),Or.Fragment=No("react.fragment"),Or.StrictMode=No("react.strict_mode"),Or.Profiler=No("react.profiler"),Vj=No("react.provider"),Hj=No("react.context"),zj=No("react.forward_ref"),Or.Suspense=No("react.suspense"),Xj=No("react.memo"),Wj=No("react.lazy")}var PN=typeof Symbol=="function"&&Symbol.iterator;function Jte(t){return t===null||typeof t!="object"?null:(t=PN&&t[PN]||t["@@iterator"],typeof t=="function"?t:null)}function Qv(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qj={};function Id(t,e,r){this.props=t,this.context=e,this.refs=qj,this.updater=r||Yj}Id.prototype.isReactComponent={};Id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Qv(85));this.updater.enqueueSetState(this,t,e,"setState")};Id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kj(){}Kj.prototype=Id.prototype;function MR(t,e,r){this.props=t,this.context=e,this.refs=qj,this.updater=r||Yj}var LR=MR.prototype=new Kj;LR.constructor=MR;NR(LR,Id.prototype);LR.isPureReactComponent=!0;var BR={current:null},Zj=Object.prototype.hasOwnProperty,Jj={key:!0,ref:!0,__self:!0,__source:!0};function Qj(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Zj.call(e,n)&&!Jj.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ad,type:t,key:a,ref:o,props:i,_owner:BR.current}}function Qte(t,e){return{$$typeof:Ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DR(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ad}function ere(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ON=/\/+/g;function oE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ere(""+t.key):e.toString(36)}function R_(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ad:case Gj:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+oE(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(ON,"$&/")+"/"),R_(i,e,r,"",function(l){return l})):i!=null&&(DR(i)&&(i=Qte(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ON,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){a=t[s];var c=n+oE(a,s);o+=R_(a,e,r,c,i)}else if(c=Jte(t),typeof c=="function")for(t=c.call(t),s=0;!(a=t.next()).done;)a=a.value,c=n+oE(a,s++),o+=R_(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(Qv(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function bm(t,e,r){if(t==null)return t;var n=[],i=0;return R_(t,n,"","",function(a){return e.call(r,a,i++)}),n}function tre(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var e9={current:null};function El(){var t=e9.current;if(t===null)throw Error(Qv(321));return t}var rre={ReactCurrentDispatcher:e9,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:BR,IsSomeRendererActing:{current:!1},assign:NR};Or.Children={map:bm,forEach:function(t,e,r){bm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bm(t,function(){e++}),e},toArray:function(t){return bm(t,function(e){return e})||[]},only:function(t){if(!DR(t))throw Error(Qv(143));return t}};Or.Component=Id;Or.PureComponent=MR;Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rre;Or.cloneElement=function(t,e,r){if(t==null)throw Error(Qv(267,t));var n=NR({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=BR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)Zj.call(e,c)&&!Jj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Ad,type:t.type,key:i,ref:a,props:n,_owner:o}};Or.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Hj,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Vj,_context:t},t.Consumer=t};Or.createElement=Qj;Or.createFactory=function(t){var e=Qj.bind(null,t);return e.type=t,e};Or.createRef=function(){return{current:null}};Or.forwardRef=function(t){return{$$typeof:zj,render:t}};Or.isValidElement=DR;Or.lazy=function(t){return{$$typeof:Wj,_payload:{_status:-1,_result:t},_init:tre}};Or.memo=function(t,e){return{$$typeof:Xj,type:t,compare:e===void 0?null:e}};Or.useCallback=function(t,e){return El().useCallback(t,e)};Or.useContext=function(t,e){return El().useContext(t,e)};Or.useDebugValue=function(){};Or.useEffect=function(t,e){return El().useEffect(t,e)};Or.useImperativeHandle=function(t,e,r){return El().useImperativeHandle(t,e,r)};Or.useLayoutEffect=function(t,e){return El().useLayoutEffect(t,e)};Or.useMemo=function(t,e){return El().useMemo(t,e)};Or.useReducer=function(t,e,r){return El().useReducer(t,e,r)};Or.useRef=function(t){return El().useRef(t)};Or.useState=function(t){return El().useState(t)};Or.version="17.0.2";$j.exports=Or;var de=$j.exports;const Gr=Yi(de);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nre=de,t9=60103;Jv.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var kN=Symbol.for;t9=kN("react.element"),Jv.Fragment=kN("react.fragment")}var ire=nre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,are=Object.prototype.hasOwnProperty,ore={key:!0,ref:!0,__self:!0,__source:!0};function r9(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)are.call(e,n)&&!ore.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:t9,type:t,key:a,ref:o,props:i,_owner:ire.current}}Jv.jsx=r9;Jv.jsxs=r9;jj.exports=Jv;var F=jj.exports,n9={exports:{}},Ao={},i9={exports:{}},a9={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var U=t.unstable_now();c(!0,U),c=null}catch(X){throw setTimeout(u,0),X}};e=function(U){c!==null?setTimeout(e,0,U):(c=U,setTimeout(u,0))},r=function(U,X){l=setTimeout(U,X)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var d=!1,g=null,m=-1,v=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<U?Math.floor(1e3/U):5};var y=new MessageChannel,b=y.port2;y.port1.onmessage=function(){if(g!==null){var U=t.unstable_now();_=U+v;try{g(!0,U)?b.postMessage(null):(d=!1,g=null)}catch(X){throw b.postMessage(null),X}}else d=!1},e=function(U){g=U,d||(d=!0,b.postMessage(null))},r=function(U,X){m=f(function(){U(t.unstable_now())},X)},n=function(){h(m),m=-1}}function w(U,X){var V=U.length;U.push(X);e:for(;;){var G=V-1>>>1,te=U[G];if(te!==void 0&&0<T(te,X))U[G]=X,U[V]=te,V=G;else break e}}function E(U){return U=U[0],U===void 0?null:U}function C(U){var X=U[0];if(X!==void 0){var V=U.pop();if(V!==X){U[0]=V;e:for(var G=0,te=U.length;G<te;){var oe=2*(G+1)-1,ge=U[oe],le=oe+1,ye=U[le];if(ge!==void 0&&0>T(ge,V))ye!==void 0&&0>T(ye,ge)?(U[G]=ye,U[le]=V,G=le):(U[G]=ge,U[oe]=V,G=oe);else if(ye!==void 0&&0>T(ye,V))U[G]=ye,U[le]=V,G=le;else break e}}return X}return null}function T(U,X){var V=U.sortIndex-X.sortIndex;return V!==0?V:U.id-X.id}var A=[],R=[],O=1,P=null,k=3,M=!1,B=!1,D=!1;function H(U){for(var X=E(R);X!==null;){if(X.callback===null)C(R);else if(X.startTime<=U)C(R),X.sortIndex=X.expirationTime,w(A,X);else break;X=E(R)}}function ee(U){if(D=!1,H(U),!B)if(E(A)!==null)B=!0,e(ne);else{var X=E(R);X!==null&&r(ee,X.startTime-U)}}function ne(U,X){B=!1,D&&(D=!1,n()),M=!0;var V=k;try{for(H(X),P=E(A);P!==null&&(!(P.expirationTime>X)||U&&!t.unstable_shouldYield());){var G=P.callback;if(typeof G=="function"){P.callback=null,k=P.priorityLevel;var te=G(P.expirationTime<=X);X=t.unstable_now(),typeof te=="function"?P.callback=te:P===E(A)&&C(A),H(X)}else C(A);P=E(A)}if(P!==null)var oe=!0;else{var ge=E(R);ge!==null&&r(ee,ge.startTime-X),oe=!1}return oe}finally{P=null,k=V,M=!1}}var Y=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){B||M||(B=!0,e(ne))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return E(A)},t.unstable_next=function(U){switch(k){case 1:case 2:case 3:var X=3;break;default:X=k}var V=k;k=X;try{return U()}finally{k=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Y,t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=k;k=U;try{return X()}finally{k=V}},t.unstable_scheduleCallback=function(U,X,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,U={id:O++,callback:X,priorityLevel:U,startTime:V,expirationTime:te,sortIndex:-1},V>G?(U.sortIndex=V,w(R,U),E(A)===null&&U===E(R)&&(D?n():D=!0,r(ee,V-G))):(U.sortIndex=te,w(A,U),B||M||(B=!0,e(ne))),U},t.unstable_wrapCallback=function(U){var X=k;return function(){var V=k;k=X;try{return U.apply(this,arguments)}finally{k=V}}}})(a9);i9.exports=a9;var sre=i9.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=de,xn=FR,Pi=sre;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Lx)throw Error(et(227));var o9=new Set,qp={};function vf(t,e){od(t,e),od(t+"Capture",e)}function od(t,e){for(qp[t]=e,t=0;t<e.length;t++)o9.add(e[t])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN=Object.prototype.hasOwnProperty,NN={},MN={};function ure(t){return FN.call(MN,t)?!0:FN.call(NN,t)?!1:lre.test(t)?MN[t]=!0:(NN[t]=!0,!1)}function cre(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fre(t,e,r,n){if(e===null||typeof e>"u"||cre(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wa(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wi[t]=new wa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wi[e]=new wa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wi[t]=new wa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wi[t]=new wa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wi[t]=new wa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wi[t]=new wa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wi[t]=new wa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wi[t]=new wa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wi[t]=new wa(t,5,!1,t.toLowerCase(),null,!1,!1)});var UR=/[\-:]([a-z])/g;function jR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(UR,jR);Wi[e]=new wa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(UR,jR);Wi[e]=new wa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(UR,jR);Wi[e]=new wa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wi[t]=new wa(t,1,!1,t.toLowerCase(),null,!1,!1)});Wi.xlinkHref=new wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wi[t]=new wa(t,1,!1,t.toLowerCase(),null,!0,!0)});function $R(t,e,r,n){var i=Wi.hasOwnProperty(e)?Wi[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(fre(e,r,i,n)&&(r=null),n||i===null?ure(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gf=Lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lp=60103,Ic=60106,ql=60107,GR=60108,xp=60114,VR=60109,HR=60110,Bx=60112,bp=60113,my=60120,Dx=60115,zR=60116,XR=60121,WR=60128,s9=60129,YR=60130,HC=60131;if(typeof Symbol=="function"&&Symbol.for){var wi=Symbol.for;lp=wi("react.element"),Ic=wi("react.portal"),ql=wi("react.fragment"),GR=wi("react.strict_mode"),xp=wi("react.profiler"),VR=wi("react.provider"),HR=wi("react.context"),Bx=wi("react.forward_ref"),bp=wi("react.suspense"),my=wi("react.suspense_list"),Dx=wi("react.memo"),zR=wi("react.lazy"),XR=wi("react.block"),wi("react.scope"),WR=wi("react.opaque.id"),s9=wi("react.debug_trace_mode"),YR=wi("react.offscreen"),HC=wi("react.legacy_hidden")}var LN=typeof Symbol=="function"&&Symbol.iterator;function A0(t){return t===null||typeof t!="object"?null:(t=LN&&t[LN]||t["@@iterator"],typeof t=="function"?t:null)}var sE;function up(t){if(sE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sE=e&&e[1]||""}return`
`+sE+t}var lE=!1;function wm(t,e){if(!t||lE)return"";lE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{lE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?up(t):""}function hre(t){switch(t.tag){case 5:return up(t.type);case 16:return up("Lazy");case 13:return up("Suspense");case 19:return up("SuspenseList");case 0:case 2:case 15:return t=wm(t.type,!1),t;case 11:return t=wm(t.type.render,!1),t;case 22:return t=wm(t.type._render,!1),t;case 1:return t=wm(t.type,!0),t;default:return""}}function Nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ql:return"Fragment";case Ic:return"Portal";case xp:return"Profiler";case GR:return"StrictMode";case bp:return"Suspense";case my:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HR:return(t.displayName||"Context")+".Consumer";case VR:return(t._context.displayName||"Context")+".Provider";case Bx:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Dx:return Nh(t.type);case XR:return Nh(t._render);case zR:e=t._payload,t=t._init;try{return Nh(t(e))}catch{}}return null}function Cu(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function l9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dre(t){var e=l9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Em(t){t._valueTracker||(t._valueTracker=dre(t))}function u9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=l9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _y(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zC(t,e){var r=e.checked;return xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function BN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Cu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c9(t,e){e=e.checked,e!=null&&$R(t,"checked",e,!1)}function XC(t,e){c9(t,e);var r=Cu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?WC(t,e.type,r):e.hasOwnProperty("defaultValue")&&WC(t,e.type,Cu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function WC(t,e,r){(e!=="number"||_y(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function pre(t){var e="";return Lx.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function YC(t,e){return t=xn({children:void 0},e),(e=pre(e.children))&&(t.children=e),t}function Mh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Cu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return xn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(et(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Cu(r)}}function f9(t,e){var r=Cu(e.value),n=Cu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var KC={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function h9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sm,d9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==KC.svg||"innerHTML"in t)t.innerHTML=e;else{for(Sm=Sm||document.createElement("div"),Sm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vre=["Webkit","ms","Moz","O"];Object.keys(wp).forEach(function(t){vre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wp[e]=wp[t]})});function p9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wp.hasOwnProperty(t)&&wp[t]?(""+e).trim():e+"px"}function v9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var gre=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JC(t,e){if(e){if(gre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function QC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function qR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eT=null,Lh=null,Bh=null;function $N(t){if(t=tg(t)){if(typeof eT!="function")throw Error(et(280));var e=t.stateNode;e&&(e=Hx(e),eT(t.stateNode,t.type,e))}}function g9(t){Lh?Bh?Bh.push(t):Bh=[t]:Lh=t}function m9(){if(Lh){var t=Lh,e=Bh;if(Bh=Lh=null,$N(t),e)for(t=0;t<e.length;t++)$N(e[t])}}function KR(t,e){return t(e)}function _9(t,e,r,n,i){return t(e,r,n,i)}function ZR(){}var y9=KR,Rc=!1,uE=!1;function JR(){(Lh!==null||Bh!==null)&&(ZR(),m9())}function mre(t,e,r){if(uE)return t(e,r);uE=!0;try{return y9(t,e,r)}finally{uE=!1,JR()}}function Zp(t,e){var r=t.stateNode;if(r===null)return null;var n=Hx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(et(231,e,typeof r));return r}var tT=!1;if(_l)try{var I0={};Object.defineProperty(I0,"passive",{get:function(){tT=!0}}),window.addEventListener("test",I0,I0),window.removeEventListener("test",I0,I0)}catch{tT=!1}function _re(t,e,r,n,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Ep=!1,yy=null,xy=!1,rT=null,yre={onError:function(t){Ep=!0,yy=t}};function xre(t,e,r,n,i,a,o,s,c){Ep=!1,yy=null,_re.apply(yre,arguments)}function bre(t,e,r,n,i,a,o,s,c){if(xre.apply(this,arguments),Ep){if(Ep){var l=yy;Ep=!1,yy=null}else throw Error(et(198));xy||(xy=!0,rT=l)}}function mf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function x9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GN(t){if(mf(t)!==t)throw Error(et(188))}function wre(t){var e=t.alternate;if(!e){if(e=mf(t),e===null)throw Error(et(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return GN(i),t;if(a===n)return GN(i),e;a=a.sibling}throw Error(et(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?t:e}function b9(t){if(t=wre(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function VN(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var w9,QR,E9,S9,nT=!1,bs=[],uu=null,cu=null,fu=null,Jp=new Map,Qp=new Map,R0=[],HN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iT(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function zN(t,e){switch(t){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":cu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":Jp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qp.delete(e.pointerId)}}function P0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=iT(e,r,n,i,a),e!==null&&(e=tg(e),e!==null&&QR(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ere(t,e,r,n,i){switch(e){case"focusin":return uu=P0(uu,t,e,r,n,i),!0;case"dragenter":return cu=P0(cu,t,e,r,n,i),!0;case"mouseover":return fu=P0(fu,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Jp.set(a,P0(Jp.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Qp.set(a,P0(Qp.get(a)||null,t,e,r,n,i)),!0}return!1}function Sre(t){var e=Pc(t.target);if(e!==null){var r=mf(e);if(r!==null){if(e=r.tag,e===13){if(e=x9(r),e!==null){t.blockedOn=e,S9(t.lanePriority,function(){Pi.unstable_runWithPriority(t.priority,function(){E9(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function P_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=tg(r),e!==null&&QR(e),t.blockedOn=r,!1;e.shift()}return!0}function XN(t,e,r){P_(t)&&r.delete(e)}function Cre(){for(nT=!1;0<bs.length;){var t=bs[0];if(t.blockedOn!==null){t=tg(t.blockedOn),t!==null&&w9(t);break}for(var e=t.targetContainers;0<e.length;){var r=nP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&bs.shift()}uu!==null&&P_(uu)&&(uu=null),cu!==null&&P_(cu)&&(cu=null),fu!==null&&P_(fu)&&(fu=null),Jp.forEach(XN),Qp.forEach(XN)}function O0(t,e){t.blockedOn===e&&(t.blockedOn=null,nT||(nT=!0,Pi.unstable_scheduleCallback(Pi.unstable_NormalPriority,Cre)))}function C9(t){function e(i){return O0(i,t)}if(0<bs.length){O0(bs[0],t);for(var r=1;r<bs.length;r++){var n=bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(uu!==null&&O0(uu,t),cu!==null&&O0(cu,t),fu!==null&&O0(fu,t),Jp.forEach(e),Qp.forEach(e),r=0;r<R0.length;r++)n=R0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<R0.length&&(r=R0[0],r.blockedOn===null);)Sre(r),r.blockedOn===null&&R0.shift()}function Cm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var gh={animationend:Cm("Animation","AnimationEnd"),animationiteration:Cm("Animation","AnimationIteration"),animationstart:Cm("Animation","AnimationStart"),transitionend:Cm("Transition","TransitionEnd")},cE={},T9={};_l&&(T9=document.createElement("div").style,"AnimationEvent"in window||(delete gh.animationend.animation,delete gh.animationiteration.animation,delete gh.animationstart.animation),"TransitionEvent"in window||delete gh.transitionend.transition);function Ux(t){if(cE[t])return cE[t];if(!gh[t])return t;var e=gh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in T9)return cE[t]=e[r];return t}var A9=Ux("animationend"),I9=Ux("animationiteration"),R9=Ux("animationstart"),P9=Ux("transitionend"),O9=new Map,eP=new Map,Tre=["abort","abort",A9,"animationEnd",I9,"animationIteration",R9,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",P9,"transitionEnd","waiting","waiting"];function tP(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),eP.set(n,e),O9.set(n,i),vf(i,[n])}}var Are=Pi.unstable_now;Are();var Qr=8;function hh(t){if(1&t)return Qr=15,1;if(2&t)return Qr=14,2;if(4&t)return Qr=13,4;var e=24&t;return e!==0?(Qr=12,e):t&32?(Qr=11,32):(e=192&t,e!==0?(Qr=10,e):t&256?(Qr=9,256):(e=3584&t,e!==0?(Qr=8,e):t&4096?(Qr=7,4096):(e=4186112&t,e!==0?(Qr=6,e):(e=62914560&t,e!==0?(Qr=5,e):t&67108864?(Qr=4,67108864):t&134217728?(Qr=3,134217728):(e=805306368&t,e!==0?(Qr=2,e):1073741824&t?(Qr=1,1073741824):(Qr=8,t))))))}function Ire(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Rre(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(et(358,t))}}function ev(t,e){var r=t.pendingLanes;if(r===0)return Qr=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(a!==0)n=a,i=Qr=15;else if(a=r&134217727,a!==0){var c=a&~o;c!==0?(n=hh(c),i=Qr):(s&=a,s!==0&&(n=hh(s),i=Qr))}else a=r&~o,a!==0?(n=hh(a),i=Qr):s!==0&&(n=hh(s),i=Qr);if(n===0)return 0;if(n=31-Tu(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(hh(e),i<=Qr)return e;Qr=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Tu(e),i=1<<r,n|=t[r],e&=~i;return n}function k9(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function by(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=dh(24&~e),t===0?by(10,e):t;case 10:return t=dh(192&~e),t===0?by(8,e):t;case 8:return t=dh(3584&~e),t===0&&(t=dh(4186112&~e),t===0&&(t=512)),t;case 2:return e=dh(805306368&~e),e===0&&(e=268435456),e}throw Error(et(358,t))}function dh(t){return t&-t}function fE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jx(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Tu(e),t[e]=r}var Tu=Math.clz32?Math.clz32:kre,Pre=Math.log,Ore=Math.LN2;function kre(t){return t===0?32:31-(Pre(t)/Ore|0)|0}var Fre=Pi.unstable_UserBlockingPriority,Nre=Pi.unstable_runWithPriority,O_=!0;function Mre(t,e,r,n){Rc||ZR();var i=rP,a=Rc;Rc=!0;try{_9(i,t,e,r,n)}finally{(Rc=a)||JR()}}function Lre(t,e,r,n){Nre(Fre,rP.bind(null,t,e,r,n))}function rP(t,e,r,n){if(O_){var i;if((i=(e&4)===0)&&0<bs.length&&-1<HN.indexOf(t))t=iT(null,t,e,r,n),bs.push(t);else{var a=nP(t,e,r,n);if(a===null)i&&zN(t,n);else{if(i){if(-1<HN.indexOf(t)){t=iT(a,t,e,r,n),bs.push(t);return}if(Ere(a,t,e,r,n))return;zN(t,n)}z9(t,e,n,null,r)}}}}function nP(t,e,r,n){var i=qR(n);if(i=Pc(i),i!==null){var a=mf(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=x9(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return z9(t,e,n,i,r),null}var tu=null,iP=null,k_=null;function F9(){if(k_)return k_;var t,e=iP,r=e.length,n,i="value"in tu?tu.value:tu.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return k_=i.slice(t,1<n?1-n:void 0)}function F_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tm(){return!0}function WN(){return!1}function ro(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tm:WN,this.isPropagationStopped=WN,this}return xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),e}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aP=ro(Rd),eg=xn({},Rd,{view:0,detail:0}),Bre=ro(eg),hE,dE,k0,$x=xn({},eg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==k0&&(k0&&t.type==="mousemove"?(hE=t.screenX-k0.screenX,dE=t.screenY-k0.screenY):dE=hE=0,k0=t),hE)},movementY:function(t){return"movementY"in t?t.movementY:dE}}),YN=ro($x),Dre=xn({},$x,{dataTransfer:0}),Ure=ro(Dre),jre=xn({},eg,{relatedTarget:0}),pE=ro(jre),$re=xn({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),Gre=ro($re),Vre=xn({},Rd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hre=ro(Vre),zre=xn({},Rd,{data:0}),qN=ro(zre),Xre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qre(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yre[t])?!!e[t]:!1}function oP(){return qre}var Kre=xn({},eg,{key:function(t){if(t.key){var e=Xre[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=F_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wre[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oP,charCode:function(t){return t.type==="keypress"?F_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?F_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zre=ro(Kre),Jre=xn({},$x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KN=ro(Jre),Qre=xn({},eg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oP}),ene=ro(Qre),tne=xn({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),rne=ro(tne),nne=xn({},$x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ine=ro(nne),ane=[9,13,27,32],sP=_l&&"CompositionEvent"in window,Sp=null;_l&&"documentMode"in document&&(Sp=document.documentMode);var one=_l&&"TextEvent"in window&&!Sp,N9=_l&&(!sP||Sp&&8<Sp&&11>=Sp),ZN=String.fromCharCode(32),JN=!1;function M9(t,e){switch(t){case"keyup":return ane.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mh=!1;function sne(t,e){switch(t){case"compositionend":return L9(e);case"keypress":return e.which!==32?null:(JN=!0,ZN);case"textInput":return t=e.data,t===ZN&&JN?null:t;default:return null}}function lne(t,e){if(mh)return t==="compositionend"||!sP&&M9(t,e)?(t=F9(),k_=iP=tu=null,mh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N9&&e.locale!=="ko"?null:e.data;default:return null}}var une={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!une[t.type]:e==="textarea"}function B9(t,e,r,n){g9(n),e=wy(e,"onChange"),0<e.length&&(r=new aP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cp=null,tv=null;function cne(t){G9(t,0)}function Gx(t){var e=yh(t);if(u9(e))return t}function fne(t,e){if(t==="change")return e}var D9=!1;if(_l){var vE;if(_l){var gE="oninput"in document;if(!gE){var eM=document.createElement("div");eM.setAttribute("oninput","return;"),gE=typeof eM.oninput=="function"}vE=gE}else vE=!1;D9=vE&&(!document.documentMode||9<document.documentMode)}function tM(){Cp&&(Cp.detachEvent("onpropertychange",U9),tv=Cp=null)}function U9(t){if(t.propertyName==="value"&&Gx(tv)){var e=[];if(B9(e,tv,t,qR(t)),t=cne,Rc)t(e);else{Rc=!0;try{KR(t,e)}finally{Rc=!1,JR()}}}}function hne(t,e,r){t==="focusin"?(tM(),Cp=e,tv=r,Cp.attachEvent("onpropertychange",U9)):t==="focusout"&&tM()}function dne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gx(tv)}function pne(t,e){if(t==="click")return Gx(e)}function vne(t,e){if(t==="input"||t==="change")return Gx(e)}function gne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yo=typeof Object.is=="function"?Object.is:gne,mne=Object.prototype.hasOwnProperty;function rv(t,e){if(yo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!mne.call(e,r[n])||!yo(t[r[n]],e[r[n]]))return!1;return!0}function rM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nM(t,e){var r=rM(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rM(r)}}function j9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iM(){for(var t=window,e=_y();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_y(t.document)}return e}function aT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var _ne=_l&&"documentMode"in document&&11>=document.documentMode,_h=null,oT=null,Tp=null,sT=!1;function aM(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sT||_h==null||_h!==_y(n)||(n=_h,"selectionStart"in n&&aT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tp&&rv(Tp,n)||(Tp=n,n=wy(oT,"onSelect"),0<n.length&&(e=new aP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_h)))}tP("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);tP("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);tP(Tre,2);for(var oM="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),mE=0;mE<oM.length;mE++)eP.set(oM[mE],0);od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);vf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vf("onBeforeInput",["compositionend","keypress","textInput","paste"]);vf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$9=new Set("cancel close invalid load scroll toggle".split(" ").concat(cp));function sM(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bre(n,e,void 0,t),t.currentTarget=null}function G9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;sM(i,s,l),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;sM(i,s,l),a=c}}}if(xy)throw t=rT,xy=!1,rT=null,t}function nn(t,e){var r=W9(e),n=t+"__bubble";r.has(n)||(H9(e,t,2,!1),r.add(n))}var lM="_reactListening"+Math.random().toString(36).slice(2);function V9(t){t[lM]||(t[lM]=!0,o9.forEach(function(e){$9.has(e)||uM(e,!1,t,null),uM(e,!0,t,null)}))}function uM(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&$9.has(t)){if(t!=="scroll")return;i|=2,a=n}var o=W9(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),H9(a,t,i,e),o.add(s))}function H9(t,e,r,n){var i=eP.get(e);switch(i===void 0?2:i){case 0:i=Mre;break;case 1:i=Lre;break;default:i=rP}r=i.bind(null,e,r,t),i=void 0,!tT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function z9(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Pc(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}mre(function(){var l=a,u=qR(r),f=[];e:{var h=O9.get(t);if(h!==void 0){var p=aP,d=t;switch(t){case"keypress":if(F_(r)===0)break e;case"keydown":case"keyup":p=Zre;break;case"focusin":d="focus",p=pE;break;case"focusout":d="blur",p=pE;break;case"beforeblur":case"afterblur":p=pE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=YN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ure;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ene;break;case A9:case I9:case R9:p=Gre;break;case P9:p=rne;break;case"scroll":p=Bre;break;case"wheel":p=ine;break;case"copy":case"cut":case"paste":p=Hre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=KN}var g=(e&4)!==0,m=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var _=l,y;_!==null;){y=_;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=Zp(_,v),b!=null&&g.push(nv(_,b,y)))),m)break;_=_.return}0<g.length&&(h=new p(h,d,null,r,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&!(e&16)&&(d=r.relatedTarget||r.fromElement)&&(Pc(d)||d[Pd]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=l,d=d?Pc(d):null,d!==null&&(m=mf(d),d!==m||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=l),p!==d)){if(g=YN,b="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=KN,b="onPointerLeave",v="onPointerEnter",_="pointer"),m=p==null?h:yh(p),y=d==null?h:yh(d),h=new g(b,_+"leave",p,r,u),h.target=m,h.relatedTarget=y,b=null,Pc(u)===l&&(g=new g(v,_+"enter",d,r,u),g.target=y,g.relatedTarget=m,b=g),m=b,p&&d)t:{for(g=p,v=d,_=0,y=g;y;y=zf(y))_++;for(y=0,b=v;b;b=zf(b))y++;for(;0<_-y;)g=zf(g),_--;for(;0<y-_;)v=zf(v),y--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=zf(g),v=zf(v)}g=null}else g=null;p!==null&&cM(f,h,p,g,!1),d!==null&&m!==null&&cM(f,m,d,g,!0)}}e:{if(h=l?yh(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=fne;else if(QN(h))if(D9)w=vne;else{w=dne;var E=hne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=pne);if(w&&(w=w(t,l))){B9(f,w,r,u);break e}E&&E(t,h,l),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&WC(h,"number",h.value)}switch(E=l?yh(l):window,t){case"focusin":(QN(E)||E.contentEditable==="true")&&(_h=E,oT=l,Tp=null);break;case"focusout":Tp=oT=_h=null;break;case"mousedown":sT=!0;break;case"contextmenu":case"mouseup":case"dragend":sT=!1,aM(f,r,u);break;case"selectionchange":if(_ne)break;case"keydown":case"keyup":aM(f,r,u)}var C;if(sP)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else mh?M9(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(N9&&r.locale!=="ko"&&(mh||T!=="onCompositionStart"?T==="onCompositionEnd"&&mh&&(C=F9()):(tu=u,iP="value"in tu?tu.value:tu.textContent,mh=!0)),E=wy(l,T),0<E.length&&(T=new qN(T,t,null,r,u),f.push({event:T,listeners:E}),C?T.data=C:(C=L9(r),C!==null&&(T.data=C)))),(C=one?sne(t,r):lne(t,r))&&(l=wy(l,"onBeforeInput"),0<l.length&&(u=new qN("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}G9(f,e)})}function nv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wy(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Zp(t,r),a!=null&&n.unshift(nv(t,a,i)),a=Zp(t,e),a!=null&&n.push(nv(t,a,i))),t=t.return}return n}function zf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cM(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=Zp(r,a),c!=null&&o.unshift(nv(r,c,s))):i||(c=Zp(r,a),c!=null&&o.push(nv(r,c,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function Ey(){}var _E=null,yE=null;function X9(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function lT(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fM=typeof setTimeout=="function"?setTimeout:void 0,yne=typeof clearTimeout=="function"?clearTimeout:void 0;function lP(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Dh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function hM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var xE=0;function xne(t){return{$$typeof:WR,toString:t,valueOf:t}}var Vx=Math.random().toString(36).slice(2),ru="__reactFiber$"+Vx,Sy="__reactProps$"+Vx,Pd="__reactContainer$"+Vx,dM="__reactEvents$"+Vx;function Pc(t){var e=t[ru];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pd]||r[ru]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hM(t);t!==null;){if(r=t[ru])return r;t=hM(t)}return e}t=r,r=t.parentNode}return null}function tg(t){return t=t[ru]||t[Pd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function Hx(t){return t[Sy]||null}function W9(t){var e=t[dM];return e===void 0&&(e=t[dM]=new Set),e}var uT=[],xh=-1;function Gu(t){return{current:t}}function sn(t){0>xh||(t.current=uT[xh],uT[xh]=null,xh--)}function Dn(t,e){xh++,uT[xh]=t.current,t.current=e}var Au={},oa=Gu(Au),Na=Gu(!1),ef=Au;function sd(t,e){var r=t.type.contextTypes;if(!r)return Au;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ma(t){return t=t.childContextTypes,t!=null}function Cy(){sn(Na),sn(oa)}function pM(t,e,r){if(oa.current!==Au)throw Error(et(168));Dn(oa,e),Dn(Na,r)}function Y9(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(et(108,Nh(e)||"Unknown",i));return xn({},r,n)}function N_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Au,ef=oa.current,Dn(oa,t),Dn(Na,Na.current),!0}function vM(t,e,r){var n=t.stateNode;if(!n)throw Error(et(169));r?(t=Y9(t,e,ef),n.__reactInternalMemoizedMergedChildContext=t,sn(Na),sn(oa),Dn(oa,t)):sn(Na),Dn(Na,r)}var uP=null,Vc=null,bne=Pi.unstable_runWithPriority,cP=Pi.unstable_scheduleCallback,cT=Pi.unstable_cancelCallback,wne=Pi.unstable_shouldYield,gM=Pi.unstable_requestPaint,fT=Pi.unstable_now,Ene=Pi.unstable_getCurrentPriorityLevel,zx=Pi.unstable_ImmediatePriority,q9=Pi.unstable_UserBlockingPriority,K9=Pi.unstable_NormalPriority,Z9=Pi.unstable_LowPriority,J9=Pi.unstable_IdlePriority,bE={},Sne=gM!==void 0?gM:function(){},ol=null,M_=null,wE=!1,mM=fT(),na=1e4>mM?fT:function(){return fT()-mM};function ld(){switch(Ene()){case zx:return 99;case q9:return 98;case K9:return 97;case Z9:return 96;case J9:return 95;default:throw Error(et(332))}}function Q9(t){switch(t){case 99:return zx;case 98:return q9;case 97:return K9;case 96:return Z9;case 95:return J9;default:throw Error(et(332))}}function tf(t,e){return t=Q9(t),bne(t,e)}function iv(t,e,r){return t=Q9(t),cP(t,e,r)}function Bs(){if(M_!==null){var t=M_;M_=null,cT(t)}e$()}function e$(){if(!wE&&ol!==null){wE=!0;var t=0;try{var e=ol;tf(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),ol=null}catch(r){throw ol!==null&&(ol=ol.slice(t+1)),cP(zx,Bs),r}finally{wE=!1}}}var Cne=gf.ReactCurrentBatchConfig;function Go(t,e){if(t&&t.defaultProps){e=xn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ty=Gu(null),Ay=null,bh=null,Iy=null;function fP(){Iy=bh=Ay=null}function hP(t){var e=Ty.current;sn(Ty),t.type._context._currentValue=e}function t$(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Uh(t,e){Ay=t,Iy=bh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wo=!0),t.firstContext=null)}function Co(t,e){if(Iy!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Iy=t,e=1073741823),e={context:t,observedBits:e,next:null},bh===null){if(Ay===null)throw Error(et(308));bh=e,Ay.dependencies={lanes:0,firstContext:e,responders:null}}else bh=bh.next=e;return t._currentValue}var Wl=!1;function dP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function r$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function du(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function _M(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function av(t,e,r,n){var i=t.updateQueue;Wl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==o&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,o=0,u=l=c=null;do{s=a.lane;var h=a.eventTime;if((n&s)===s){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,d=a;switch(s=e,h=r,d.tag){case 1:if(p=d.payload,typeof p=="function"){f=p.call(h,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=d.payload,s=typeof p=="function"?p.call(h,f,s):p,s==null)break e;f=xn({},f,s);break e;case 2:Wl=!0}}a.callback!==null&&(t.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,ng|=o,t.lanes=o,t.memoizedState=f}}function yM(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(et(191,i));i.call(n)}}}var n$=new Lx.Component().refs;function Ry(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xx={isMounted:function(t){return(t=t._reactInternals)?mf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Za(),i=pu(t),a=hu(n,i);a.payload=e,r!=null&&(a.callback=r),du(t,a),vu(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Za(),i=pu(t),a=hu(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),du(t,a),vu(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Za(),n=pu(t),i=hu(r,n);i.tag=2,e!=null&&(i.callback=e),du(t,i),vu(t,n,r)}};function xM(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!rv(r,n)||!rv(i,a):!0}function i$(t,e,r){var n=!1,i=Au,a=e.contextType;return typeof a=="object"&&a!==null?a=Co(a):(i=Ma(e)?ef:oa.current,n=e.contextTypes,a=(n=n!=null)?sd(t,i):Au),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function bM(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xx.enqueueReplaceState(e,e.state,null)}function hT(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=n$,dP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Co(a):(a=Ma(e)?ef:oa.current,i.context=sd(t,a)),av(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ry(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xx.enqueueReplaceState(i,i.state,null),av(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Am=Array.isArray;function F0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(et(309));var n=r.stateNode}if(!n)throw Error(et(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=n.refs;o===n$&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(et(284));if(!r._owner)throw Error(et(290,t))}return t}function Im(t,e){if(t.type!=="textarea")throw Error(et(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function a$(t){function e(m,v){if(t){var _=m.lastEffect;_!==null?(_.nextEffect=v,m.lastEffect=v):m.firstEffect=m.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Ru(m,v),m.index=0,m.sibling=null,m}function a(m,v,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags=2,v):_):(m.flags=2,v)):v}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function s(m,v,_,y){return v===null||v.tag!==6?(v=AE(_,m.mode,y),v.return=m,v):(v=i(v,_),v.return=m,v)}function c(m,v,_,y){return v!==null&&v.elementType===_.type?(y=i(v,_.props),y.ref=F0(m,v,_),y.return=m,y):(y=U_(_.type,_.key,_.props,null,m.mode,y),y.ref=F0(m,v,_),y.return=m,y)}function l(m,v,_,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=IE(_,m.mode,y),v.return=m,v):(v=i(v,_.children||[]),v.return=m,v)}function u(m,v,_,y,b){return v===null||v.tag!==7?(v=Vh(_,m.mode,y,b),v.return=m,v):(v=i(v,_),v.return=m,v)}function f(m,v,_){if(typeof v=="string"||typeof v=="number")return v=AE(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lp:return _=U_(v.type,v.key,v.props,null,m.mode,_),_.ref=F0(m,null,v),_.return=m,_;case Ic:return v=IE(v,m.mode,_),v.return=m,v}if(Am(v)||A0(v))return v=Vh(v,m.mode,_,null),v.return=m,v;Im(m,v)}return null}function h(m,v,_,y){var b=v!==null?v.key:null;if(typeof _=="string"||typeof _=="number")return b!==null?null:s(m,v,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lp:return _.key===b?_.type===ql?u(m,v,_.props.children,y,b):c(m,v,_,y):null;case Ic:return _.key===b?l(m,v,_,y):null}if(Am(_)||A0(_))return b!==null?null:u(m,v,_,y,null);Im(m,_)}return null}function p(m,v,_,y,b){if(typeof y=="string"||typeof y=="number")return m=m.get(_)||null,s(v,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lp:return m=m.get(y.key===null?_:y.key)||null,y.type===ql?u(v,m,y.props.children,b,y.key):c(v,m,y,b);case Ic:return m=m.get(y.key===null?_:y.key)||null,l(v,m,y,b)}if(Am(y)||A0(y))return m=m.get(_)||null,u(v,m,y,b,null);Im(v,y)}return null}function d(m,v,_,y){for(var b=null,w=null,E=v,C=v=0,T=null;E!==null&&C<_.length;C++){E.index>C?(T=E,E=null):T=E.sibling;var A=h(m,E,_[C],y);if(A===null){E===null&&(E=T);break}t&&E&&A.alternate===null&&e(m,E),v=a(A,v,C),w===null?b=A:w.sibling=A,w=A,E=T}if(C===_.length)return r(m,E),b;if(E===null){for(;C<_.length;C++)E=f(m,_[C],y),E!==null&&(v=a(E,v,C),w===null?b=E:w.sibling=E,w=E);return b}for(E=n(m,E);C<_.length;C++)T=p(E,m,C,_[C],y),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?C:T.key),v=a(T,v,C),w===null?b=T:w.sibling=T,w=T);return t&&E.forEach(function(R){return e(m,R)}),b}function g(m,v,_,y){var b=A0(_);if(typeof b!="function")throw Error(et(150));if(_=b.call(_),_==null)throw Error(et(151));for(var w=b=null,E=v,C=v=0,T=null,A=_.next();E!==null&&!A.done;C++,A=_.next()){E.index>C?(T=E,E=null):T=E.sibling;var R=h(m,E,A.value,y);if(R===null){E===null&&(E=T);break}t&&E&&R.alternate===null&&e(m,E),v=a(R,v,C),w===null?b=R:w.sibling=R,w=R,E=T}if(A.done)return r(m,E),b;if(E===null){for(;!A.done;C++,A=_.next())A=f(m,A.value,y),A!==null&&(v=a(A,v,C),w===null?b=A:w.sibling=A,w=A);return b}for(E=n(m,E);!A.done;C++,A=_.next())A=p(E,m,C,A.value,y),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?C:A.key),v=a(A,v,C),w===null?b=A:w.sibling=A,w=A);return t&&E.forEach(function(O){return e(m,O)}),b}return function(m,v,_,y){var b=typeof _=="object"&&_!==null&&_.type===ql&&_.key===null;b&&(_=_.props.children);var w=typeof _=="object"&&_!==null;if(w)switch(_.$$typeof){case lp:e:{for(w=_.key,b=v;b!==null;){if(b.key===w){switch(b.tag){case 7:if(_.type===ql){r(m,b.sibling),v=i(b,_.props.children),v.return=m,m=v;break e}break;default:if(b.elementType===_.type){r(m,b.sibling),v=i(b,_.props),v.ref=F0(m,b,_),v.return=m,m=v;break e}}r(m,b);break}else e(m,b);b=b.sibling}_.type===ql?(v=Vh(_.props.children,m.mode,y,_.key),v.return=m,m=v):(y=U_(_.type,_.key,_.props,null,m.mode,y),y.ref=F0(m,v,_),y.return=m,m=y)}return o(m);case Ic:e:{for(b=_.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(m,v.sibling),v=i(v,_.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=IE(_,m.mode,y),v.return=m,m=v}return o(m)}if(typeof _=="string"||typeof _=="number")return _=""+_,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,_),v.return=m,m=v):(r(m,v),v=AE(_,m.mode,y),v.return=m,m=v),o(m);if(Am(_))return d(m,v,_,y);if(A0(_))return g(m,v,_,y);if(w&&Im(m,_),typeof _>"u"&&!b)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(et(152,Nh(m.type)||"Component"))}return r(m,v)}}var Py=a$(!0),o$=a$(!1),rg={},Cs=Gu(rg),ov=Gu(rg),sv=Gu(rg);function Oc(t){if(t===rg)throw Error(et(174));return t}function dT(t,e){switch(Dn(sv,e),Dn(ov,t),Dn(Cs,rg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ZC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ZC(e,t)}sn(Cs),Dn(Cs,e)}function ud(){sn(Cs),sn(ov),sn(sv)}function wM(t){Oc(sv.current);var e=Oc(Cs.current),r=ZC(e,t.type);e!==r&&(Dn(ov,t),Dn(Cs,r))}function pP(t){ov.current===t&&(sn(Cs),sn(ov))}var Bn=Gu(0);function Oy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cl=null,nu=null,Ts=!1;function s$(t,e){var r=xo(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function EM(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function pT(t){if(Ts){var e=nu;if(e){var r=e;if(!EM(t,e)){if(e=Dh(r.nextSibling),!e||!EM(t,e)){t.flags=t.flags&-1025|2,Ts=!1,cl=t;return}s$(cl,r)}cl=t,nu=Dh(e.firstChild)}else t.flags=t.flags&-1025|2,Ts=!1,cl=t}}function SM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cl=t}function Rm(t){if(t!==cl)return!1;if(!Ts)return SM(t),Ts=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!lT(e,t.memoizedProps))for(e=nu;e;)s$(t,e),e=Dh(e.nextSibling);if(SM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nu=Dh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nu=null}}else nu=cl?Dh(t.stateNode.nextSibling):null;return!0}function EE(){nu=cl=null,Ts=!1}var jh=[];function vP(){for(var t=0;t<jh.length;t++)jh[t]._workInProgressVersionPrimary=null;jh.length=0}var Ap=gf.ReactCurrentDispatcher,Eo=gf.ReactCurrentBatchConfig,lv=0,Qn=null,ra=null,Ui=null,ky=!1,Ip=!1;function Aa(){throw Error(et(321))}function gP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yo(t[r],e[r]))return!1;return!0}function mP(t,e,r,n,i,a){if(lv=a,Qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ap.current=t===null||t.memoizedState===null?Ane:Ine,t=r(n,i),Ip){a=0;do{if(Ip=!1,!(25>a))throw Error(et(301));a+=1,Ui=ra=null,e.updateQueue=null,Ap.current=Rne,t=r(n,i)}while(Ip)}if(Ap.current=Ly,e=ra!==null&&ra.next!==null,lv=0,Ui=ra=Qn=null,ky=!1,e)throw Error(et(300));return t}function kc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ui===null?Qn.memoizedState=Ui=t:Ui=Ui.next=t,Ui}function _f(){if(ra===null){var t=Qn.alternate;t=t!==null?t.memoizedState:null}else t=ra.next;var e=Ui===null?Qn.memoizedState:Ui.next;if(e!==null)Ui=e,ra=t;else{if(t===null)throw Error(et(310));ra=t,t={memoizedState:ra.memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},Ui===null?Qn.memoizedState=Ui=t:Ui=Ui.next=t}return Ui}function ws(t,e){return typeof e=="function"?e(t):e}function N0(t){var e=_f(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=ra,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,c=i;do{var l=c.lane;if((lv&l)===l)s!==null&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};s===null?(o=s=u,a=n):s=s.next=u,Qn.lanes|=l,ng|=l}c=c.next}while(c!==null&&c!==i);s===null?a=n:s.next=o,yo(n,e.memoizedState)||(Wo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=s,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function M0(t){var e=_f(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);yo(a,e.memoizedState)||(Wo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function CM(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(lv&t)===t)&&(e._workInProgressVersionPrimary=n,jh.push(e))),t)return r(e._source);throw jh.push(e),Error(et(350))}function l$(t,e,r,n){var i=ya;if(i===null)throw Error(et(349));var a=e._getVersion,o=a(e._source),s=Ap.current,c=s.useState(function(){return CM(i,e,r)}),l=c[1],u=c[0];c=Ui;var f=t.memoizedState,h=f.refs,p=h.getSnapshot,d=f.source;f=f.subscribe;var g=Qn;return t.memoizedState={refs:h,source:e,subscribe:n},s.useEffect(function(){h.getSnapshot=r,h.setSnapshot=l;var m=a(e._source);if(!yo(o,m)){m=r(e._source),yo(u,m)||(l(m),m=pu(g),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var v=i.entanglements,_=m;0<_;){var y=31-Tu(_),b=1<<y;v[y]|=m,_&=~b}}},[r,e,n]),s.useEffect(function(){return n(e._source,function(){var m=h.getSnapshot,v=h.setSnapshot;try{v(m(e._source));var _=pu(g);i.mutableReadLanes|=_&i.pendingLanes}catch(y){v(function(){throw y})}})},[e,n]),yo(p,r)&&yo(d,e)&&yo(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:ws,lastRenderedState:u},t.dispatch=l=xP.bind(null,Qn,t),c.queue=t,c.baseQueue=null,u=CM(i,e,r),c.memoizedState=c.baseState=u),u}function u$(t,e,r){var n=_f();return l$(n,t,e,r)}function L0(t){var e=kc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},t=t.dispatch=xP.bind(null,Qn,t),[e.memoizedState,t]}function Fy(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qn.updateQueue,e===null?(e={lastEffect:null},Qn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function TM(t){var e=kc();return t={current:t},e.memoizedState=t}function Ny(){return _f().memoizedState}function vT(t,e,r,n){var i=kc();Qn.flags|=t,i.memoizedState=Fy(1|e,r,void 0,n===void 0?null:n)}function _P(t,e,r,n){var i=_f();n=n===void 0?null:n;var a=void 0;if(ra!==null){var o=ra.memoizedState;if(a=o.destroy,n!==null&&gP(n,o.deps)){Fy(e,r,a,n);return}}Qn.flags|=t,i.memoizedState=Fy(1|e,r,a,n)}function AM(t,e){return vT(516,4,t,e)}function My(t,e){return _P(516,4,t,e)}function c$(t,e){return _P(4,2,t,e)}function f$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h$(t,e,r){return r=r!=null?r.concat([t]):null,_P(4,2,f$.bind(null,e,t),r)}function yP(){}function d$(t,e){var r=_f();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function p$(t,e){var r=_f();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Tne(t,e){var r=ld();tf(98>r?98:r,function(){t(!0)}),tf(97<r?97:r,function(){var n=Eo.transition;Eo.transition=1;try{t(!1),e()}finally{Eo.transition=n}})}function xP(t,e,r){var n=Za(),i=pu(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Qn||o!==null&&o===Qn)Ip=ky=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,r);if(a.eagerReducer=o,a.eagerState=c,yo(c,s))return}catch{}finally{}vu(t,i,n)}}var Ly={readContext:Co,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useMutableSource:Aa,useOpaqueIdentifier:Aa,unstable_isNewReconciler:!1},Ane={readContext:Co,useCallback:function(t,e){return kc().memoizedState=[t,e===void 0?null:e],t},useContext:Co,useEffect:AM,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vT(4,2,f$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vT(4,2,t,e)},useMemo:function(t,e){var r=kc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=kc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=xP.bind(null,Qn,t),[n.memoizedState,t]},useRef:TM,useState:L0,useDebugValue:yP,useDeferredValue:function(t){var e=L0(t),r=e[0],n=e[1];return AM(function(){var i=Eo.transition;Eo.transition=1;try{n(t)}finally{Eo.transition=i}},[t]),r},useTransition:function(){var t=L0(!1),e=t[0];return t=Tne.bind(null,t[1]),TM(t),[t,e]},useMutableSource:function(t,e,r){var n=kc();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},l$(n,t,e,r)},useOpaqueIdentifier:function(){if(Ts){var t=!1,e=xne(function(){throw t||(t=!0,r("r:"+(xE++).toString(36))),Error(et(355))}),r=L0(e)[1];return!(Qn.mode&2)&&(Qn.flags|=516,Fy(5,function(){r("r:"+(xE++).toString(36))},void 0,null)),e}return e="r:"+(xE++).toString(36),L0(e),e},unstable_isNewReconciler:!1},Ine={readContext:Co,useCallback:d$,useContext:Co,useEffect:My,useImperativeHandle:h$,useLayoutEffect:c$,useMemo:p$,useReducer:N0,useRef:Ny,useState:function(){return N0(ws)},useDebugValue:yP,useDeferredValue:function(t){var e=N0(ws),r=e[0],n=e[1];return My(function(){var i=Eo.transition;Eo.transition=1;try{n(t)}finally{Eo.transition=i}},[t]),r},useTransition:function(){var t=N0(ws)[0];return[Ny().current,t]},useMutableSource:u$,useOpaqueIdentifier:function(){return N0(ws)[0]},unstable_isNewReconciler:!1},Rne={readContext:Co,useCallback:d$,useContext:Co,useEffect:My,useImperativeHandle:h$,useLayoutEffect:c$,useMemo:p$,useReducer:M0,useRef:Ny,useState:function(){return M0(ws)},useDebugValue:yP,useDeferredValue:function(t){var e=M0(ws),r=e[0],n=e[1];return My(function(){var i=Eo.transition;Eo.transition=1;try{n(t)}finally{Eo.transition=i}},[t]),r},useTransition:function(){var t=M0(ws)[0];return[Ny().current,t]},useMutableSource:u$,useOpaqueIdentifier:function(){return M0(ws)[0]},unstable_isNewReconciler:!1},Pne=gf.ReactCurrentOwner,Wo=!1;function Ra(t,e,r,n){e.child=t===null?o$(e,null,r,n):Py(e,t.child,r,n)}function IM(t,e,r,n,i){r=r.render;var a=e.ref;return Uh(e,i),n=mP(t,e,r,n,a,i),t!==null&&!Wo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,fl(t,e,i)):(e.flags|=1,Ra(t,e,n,i),e.child)}function RM(t,e,r,n,i,a){if(t===null){var o=r.type;return typeof o=="function"&&!TP(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,v$(t,e,o,n,i,a)):(t=U_(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:rv,r(i,n)&&t.ref===e.ref)?fl(t,e,a):(e.flags|=1,t=Ru(o,n),t.ref=e.ref,t.return=e,e.child=t)}function v$(t,e,r,n,i,a){if(t!==null&&rv(t.memoizedProps,n)&&t.ref===e.ref)if(Wo=!1,(a&i)!==0)t.flags&16384&&(Wo=!0);else return e.lanes=t.lanes,fl(t,e,a);return gT(t,e,r,n,a)}function SE(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Om(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},Om(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Om(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Om(e,n);return Ra(t,e,i,r),e.child}function g$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function gT(t,e,r,n,i){var a=Ma(r)?ef:oa.current;return a=sd(e,a),Uh(e,i),r=mP(t,e,r,n,a,i),t!==null&&!Wo?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,fl(t,e,i)):(e.flags|=1,Ra(t,e,r,i),e.child)}function PM(t,e,r,n,i){if(Ma(r)){var a=!0;N_(e)}else a=!1;if(Uh(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),i$(e,r,n),hT(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Co(l):(l=Ma(r)?ef:oa.current,l=sd(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==l)&&bM(e,o,n,l),Wl=!1;var h=e.memoizedState;o.state=h,av(e,n,o,i),c=e.memoizedState,s!==n||h!==c||Na.current||Wl?(typeof u=="function"&&(Ry(e,r,u,n),c=e.memoizedState),(s=Wl||xM(e,r,s,n,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,r$(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Go(e.type,s),o.props=l,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Co(c):(c=Ma(r)?ef:oa.current,c=sd(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&bM(e,o,n,c),Wl=!1,h=e.memoizedState,o.state=h,av(e,n,o,i);var d=e.memoizedState;s!==f||h!==d||Na.current||Wl?(typeof p=="function"&&(Ry(e,r,p,n),d=e.memoizedState),(l=Wl||xM(e,r,l,n,h,d,c))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),n=!1)}return mT(t,e,r,n,a,i)}function mT(t,e,r,n,i,a){g$(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&vM(e,r,!1),fl(t,e,a);n=e.stateNode,Pne.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Py(e,t.child,null,a),e.child=Py(e,null,s,a)):Ra(t,e,s,a),e.memoizedState=n.state,i&&vM(e,r,!0),e.child}function OM(t){var e=t.stateNode;e.pendingContext?pM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pM(t,e.context,!1),dT(t,e.containerInfo)}var Pm={dehydrated:null,retryLane:0};function kM(t,e,r){var n=e.pendingProps,i=Bn.current,a=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Dn(Bn,i&1),t===null?(n.fallback!==void 0&&pT(e),t=n.children,i=n.fallback,a?(t=FM(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Pm,t):typeof n.unstable_expectedLoadTime=="number"?(t=FM(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Pm,e.lanes=33554432,t):(r=AP({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=MM(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Pm,n):(r=NM(t,e,n.children,r),e.memoizedState=null,r):a?(n=MM(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Pm,n):(r=NM(t,e,n.children,r),e.memoizedState=null,r)}function FM(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=AP(e,i,0,null),r=Vh(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function NM(t,e,r,n){var i=t.child;return t=i.sibling,r=Ru(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function MM(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Ru(o,s),t!==null?n=Ru(t,n):(n=Vh(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function LM(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),t$(t.return,e)}function CE(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function BM(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ra(t,e,n.children,r),n=Bn.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LM(t,r);else if(t.tag===19)LM(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Dn(Bn,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Oy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),CE(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}CE(e,!0,r,null,a,e.lastEffect);break;case"together":CE(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function fl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ng|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,r=Ru(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ru(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var m$,_T,_$,y$;m$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_T=function(){};_$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Oc(Cs.current);var a=null;switch(r){case"input":i=zC(t,i),n=zC(t,n),a=[];break;case"option":i=YC(t,i),n=YC(t,n),a=[];break;case"select":i=xn({},i,{value:void 0}),n=xn({},n,{value:void 0}),a=[];break;case"textarea":i=qC(t,i),n=qC(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ey)}JC(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(qp.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(qp.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&nn("scroll",t),a||s===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===WR?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};y$=function(t,e,r,n){r!==n&&(e.flags|=4)};function B0(t,e){if(!Ts)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function One(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ma(e.type)&&Cy(),null;case 3:return ud(),sn(Na),sn(oa),vP(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rm(e)?e.flags|=4:n.hydrate||(e.flags|=256)),_T(e),null;case 5:pP(e);var i=Oc(sv.current);if(r=e.type,t!==null&&e.stateNode!=null)_$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(et(166));return null}if(t=Oc(Cs.current),Rm(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ru]=e,n[Sy]=a,r){case"dialog":nn("cancel",n),nn("close",n);break;case"iframe":case"object":case"embed":nn("load",n);break;case"video":case"audio":for(t=0;t<cp.length;t++)nn(cp[t],n);break;case"source":nn("error",n);break;case"img":case"image":case"link":nn("error",n),nn("load",n);break;case"details":nn("toggle",n);break;case"input":BN(n,a),nn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nn("invalid",n);break;case"textarea":UN(n,a),nn("invalid",n)}JC(r,a),t=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):qp.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&nn("scroll",n));switch(r){case"input":Em(n),DN(n,a,!0);break;case"textarea":Em(n),jN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ey)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===KC.html&&(t=h9(r)),t===KC.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ru]=e,t[Sy]=n,m$(t,e,!1,!1),e.stateNode=t,o=QC(r,n),r){case"dialog":nn("cancel",t),nn("close",t),i=n;break;case"iframe":case"object":case"embed":nn("load",t),i=n;break;case"video":case"audio":for(i=0;i<cp.length;i++)nn(cp[i],t);i=n;break;case"source":nn("error",t),i=n;break;case"img":case"image":case"link":nn("error",t),nn("load",t),i=n;break;case"details":nn("toggle",t),i=n;break;case"input":BN(t,n),i=zC(t,n),nn("invalid",t);break;case"option":i=YC(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=xn({},n,{value:void 0}),nn("invalid",t);break;case"textarea":UN(t,n),i=qC(t,n),nn("invalid",t);break;default:i=n}JC(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?v9(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d9(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kp(t,c):typeof c=="number"&&Kp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&nn("scroll",t):c!=null&&$R(t,a,c,o))}switch(r){case"input":Em(t),DN(t,n,!1);break;case"textarea":Em(t),jN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Cu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Mh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Mh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ey)}X9(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)y$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(et(166));r=Oc(sv.current),Oc(Cs.current),Rm(e)?(n=e.stateNode,r=e.memoizedProps,n[ru]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ru]=e,e.stateNode=n)}return null;case 13:return sn(Bn),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Rm(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Bn.current&1?Vi===0&&(Vi=3):((Vi===0||Vi===3)&&(Vi=4),ya===null||!(ng&134217727)&&!(kd&134217727)||$h(ya,ia))),(n||r)&&(e.flags|=4),null);case 4:return ud(),_T(e),t===null&&V9(e.stateNode.containerInfo),null;case 10:return hP(e),null;case 17:return Ma(e.type)&&Cy(),null;case 19:if(sn(Bn),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,o=n.rendering,o===null)if(a)B0(n,!1);else{if(Vi!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Oy(t),o!==null){for(e.flags|=64,B0(n,!1),a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Dn(Bn,Bn.current&1|2),e.child}t=t.sibling}n.tail!==null&&na()>ST&&(e.flags|=64,a=!0,B0(n,!1),e.lanes=33554432)}else{if(!a)if(t=Oy(o),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),B0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Ts)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*na()-n.renderingStartTime>ST&&r!==1073741824&&(e.flags|=64,a=!0,B0(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=na(),r.sibling=null,e=Bn.current,Dn(Bn,a?e&1|2:e&1),r):null;case 23:case 24:return CP(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(et(156,e.tag))}function kne(t){switch(t.tag){case 1:Ma(t.type)&&Cy();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ud(),sn(Na),sn(oa),vP(),e=t.flags,e&64)throw Error(et(285));return t.flags=e&-4097|64,t;case 5:return pP(t),null;case 13:return sn(Bn),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return sn(Bn),null;case 4:return ud(),null;case 10:return hP(t),null;case 23:case 24:return CP(),null;default:return null}}function bP(t,e){try{var r="",n=e;do r+=hre(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function yT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Fne=typeof WeakMap=="function"?WeakMap:Map;function x$(t,e,r){r=hu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Dy||(Dy=!0,CT=n),yT(t,e)},r}function b$(t,e,r){r=hu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return yT(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Es===null?Es=new Set([this]):Es.add(this),yT(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var Nne=typeof WeakSet=="function"?WeakSet:Set;function DM(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){gu(t,r)}else e.current=null}function Mne(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Go(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&lP(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(et(163))}function Lne(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(P$(r,t),Hne(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Go(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&yM(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}yM(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&X9(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&C9(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(et(163))}function UM(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=p9("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function jM(t,e){if(Vc&&typeof Vc.onCommitFiberUnmount=="function")try{Vc.onCommitFiberUnmount(uP,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)P$(e,r);else{n=e;try{i()}catch(a){gu(n,a)}}r=r.next}while(r!==t)}break;case 1:if(DM(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){gu(e,a)}break;case 5:DM(e);break;case 4:w$(t,e)}}function $M(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function GM(t){return t.tag===5||t.tag===3||t.tag===4}function VM(t){e:{for(var e=t.return;e!==null;){if(GM(e))break e;e=e.return}throw Error(et(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(et(161))}r.flags&16&&(Kp(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||GM(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?xT(t,r,e):bT(t,r,e)}function xT(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ey));else if(n!==4&&(t=t.child,t!==null))for(xT(t,e,r),t=t.sibling;t!==null;)xT(t,e,r),t=t.sibling}function bT(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bT(t,e,r),t=t.sibling;t!==null;)bT(t,e,r),t=t.sibling}function w$(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(et(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,s=r,c=s;;)if(jM(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(jM(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function TE(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[Sy]=n,t==="input"&&n.type==="radio"&&n.name!=null&&c9(r,n),QC(t,i),e=QC(t,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?v9(r,s):o==="dangerouslySetInnerHTML"?d9(r,s):o==="children"?Kp(r,s):$R(r,o,s,e)}switch(t){case"input":XC(r,n);break;case"textarea":f9(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Mh(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Mh(r,!!n.multiple,n.defaultValue,!0):Mh(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(et(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,C9(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(SP=na(),UM(e.child,!0)),HM(e);return;case 19:HM(e);return;case 17:return;case 23:case 24:UM(e,e.memoizedState!==null);return}throw Error(et(163))}function HM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Nne),e.forEach(function(n){var i=Wne.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bne(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Dne=Math.ceil,By=gf.ReactCurrentDispatcher,wP=gf.ReactCurrentOwner,$t=0,ya=null,mi=null,ia=0,rf=0,wT=Gu(0),Vi=0,Wx=null,Od=0,ng=0,kd=0,EP=0,ET=null,SP=0,ST=1/0;function Fd(){ST=na()+500}var mt=null,Dy=!1,CT=null,Es=null,Iu=!1,Rp=null,fp=90,TT=[],AT=[],gl=null,Pp=0,IT=null,L_=-1,ll=0,B_=0,Op=null,D_=!1;function Za(){return $t&48?na():L_!==-1?L_:L_=na()}function pu(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return ld()===99?1:2;if(ll===0&&(ll=Od),Cne.transition!==0){B_!==0&&(B_=ET!==null?ET.pendingLanes:0),t=ll;var e=4186112&~B_;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=ld(),$t&4&&t===98?t=by(12,ll):(t=Ire(t),t=by(t,ll)),t}function vu(t,e,r){if(50<Pp)throw Pp=0,IT=null,Error(et(185));if(t=Yx(t,e),t===null)return null;jx(t,e,r),t===ya&&(kd|=e,Vi===4&&$h(t,ia));var n=ld();e===1?$t&8&&!($t&48)?RT(t):(To(t,r),$t===0&&(Fd(),Bs())):(!($t&4)||n!==98&&n!==99||(gl===null?gl=new Set([t]):gl.add(t)),To(t,r)),ET=t}function Yx(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function To(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Tu(o),c=1<<s,l=a[s];if(l===-1){if(!(c&n)||c&i){l=e,hh(c);var u=Qr;a[s]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);o&=~c}if(n=ev(t,t===ya?ia:0),e=Qr,n===0)r!==null&&(r!==bE&&cT(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==bE&&cT(r)}e===15?(r=RT.bind(null,t),ol===null?(ol=[r],M_=cP(zx,e$)):ol.push(r),r=bE):e===14?r=iv(99,RT.bind(null,t)):(r=Rre(e),r=iv(r,E$.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function E$(t){if(L_=-1,B_=ll=0,$t&48)throw Error(et(327));var e=t.callbackNode;if(Vu()&&t.callbackNode!==e)return null;var r=ev(t,t===ya?ia:0);if(r===0)return null;var n=r,i=$t;$t|=16;var a=A$();(ya!==t||ia!==n)&&(Fd(),Gh(t,n));do try{$ne();break}catch(s){T$(t,s)}while(1);if(fP(),By.current=a,$t=i,mi!==null?n=0:(ya=null,ia=0,n=Vi),Od&kd)Gh(t,0);else if(n!==0){if(n===2&&($t|=64,t.hydrate&&(t.hydrate=!1,lP(t.containerInfo)),r=k9(t),r!==0&&(n=hp(t,r))),n===1)throw e=Wx,Gh(t,0),$h(t,r),To(t,na()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(et(345));case 2:vc(t);break;case 3:if($h(t,r),(r&62914560)===r&&(n=SP+500-na(),10<n)){if(ev(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Za(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fM(vc.bind(null,t),n);break}vc(t);break;case 4:if($h(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Tu(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=na()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dne(r/1960))-r,10<r){t.timeoutHandle=fM(vc.bind(null,t),r);break}vc(t);break;case 5:vc(t);break;default:throw Error(et(329))}}return To(t,na()),t.callbackNode===e?E$.bind(null,t):null}function $h(t,e){for(e&=~EP,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Tu(e),n=1<<r;t[r]=-1,e&=~n}}function RT(t){if($t&48)throw Error(et(327));if(Vu(),t===ya&&t.expiredLanes&ia){var e=ia,r=hp(t,e);Od&kd&&(e=ev(t,e),r=hp(t,e))}else e=ev(t,0),r=hp(t,e);if(t.tag!==0&&r===2&&($t|=64,t.hydrate&&(t.hydrate=!1,lP(t.containerInfo)),e=k9(t),e!==0&&(r=hp(t,e))),r===1)throw r=Wx,Gh(t,0),$h(t,e),To(t,na()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,vc(t),To(t,na()),null}function Une(){if(gl!==null){var t=gl;gl=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,To(e,na())})}Bs()}function S$(t,e){var r=$t;$t|=1;try{return t(e)}finally{$t=r,$t===0&&(Fd(),Bs())}}function C$(t,e){var r=$t;$t&=-2,$t|=8;try{return t(e)}finally{$t=r,$t===0&&(Fd(),Bs())}}function Om(t,e){Dn(wT,rf),rf|=e,Od|=e}function CP(){rf=wT.current,sn(wT)}function Gh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yne(r)),mi!==null)for(r=mi.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cy();break;case 3:ud(),sn(Na),sn(oa),vP();break;case 5:pP(n);break;case 4:ud();break;case 13:sn(Bn);break;case 19:sn(Bn);break;case 10:hP(n);break;case 23:case 24:CP()}r=r.return}ya=t,mi=Ru(t.current,null),ia=rf=Od=e,Vi=0,Wx=null,EP=kd=ng=0}function T$(t,e){do{var r=mi;try{if(fP(),Ap.current=Ly,ky){for(var n=Qn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ky=!1}if(lv=0,Ui=ra=Qn=null,Ip=!1,wP.current=null,r===null||r.return===null){Vi=1,Wx=e,mi=null;break}e:{var a=t,o=r.return,s=r,c=e;if(e=ia,s.flags|=2048,s.firstEffect=s.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=(Bn.current&1)!==0,h=o;do{var p;if(p=h.tag===13){var d=h.memoizedState;if(d!==null)p=d.dehydrated!==null;else{var g=h.memoizedProps;p=g.fallback===void 0?!1:g.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var m=h.updateQueue;if(m===null){var v=new Set;v.add(l),h.updateQueue=v}else m.add(l);if(!(h.mode&2)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var _=hu(-1,1);_.tag=2,du(s,_)}s.lanes|=1;break e}c=void 0,s=e;var y=a.pingCache;if(y===null?(y=a.pingCache=new Fne,c=new Set,y.set(l,c)):(c=y.get(l),c===void 0&&(c=new Set,y.set(l,c))),!c.has(s)){c.add(s);var b=Xne.bind(null,a,l,s);l.then(b,b)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Nh(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Vi!==5&&(Vi=2),c=bP(c,s),h=o;do{switch(h.tag){case 3:a=c,h.flags|=4096,e&=-e,h.lanes|=e;var w=x$(h,a,e);_M(h,w);break e;case 1:a=c;var E=h.type,C=h.stateNode;if(!(h.flags&64)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Es===null||!Es.has(C)))){h.flags|=4096,e&=-e,h.lanes|=e;var T=b$(h,a,e);_M(h,T);break e}}h=h.return}while(h!==null)}R$(r)}catch(A){e=A,mi===r&&r!==null&&(mi=r=r.return);continue}break}while(1)}function A$(){var t=By.current;return By.current=Ly,t===null?Ly:t}function hp(t,e){var r=$t;$t|=16;var n=A$();ya===t&&ia===e||Gh(t,e);do try{jne();break}catch(i){T$(t,i)}while(1);if(fP(),$t=r,By.current=n,mi!==null)throw Error(et(261));return ya=null,ia=0,Vi}function jne(){for(;mi!==null;)I$(mi)}function $ne(){for(;mi!==null&&!wne();)I$(mi)}function I$(t){var e=O$(t.alternate,t,rf);t.memoizedProps=t.pendingProps,e===null?R$(t):mi=e,wP.current=null}function R$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=kne(e),r!==null){r.flags&=2047,mi=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=One(r,e,rf),r!==null){mi=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||rf&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){mi=e;return}mi=e=t}while(e!==null);Vi===0&&(Vi=5)}function vc(t){var e=ld();return tf(99,Gne.bind(null,t,e)),null}function Gne(t,e){do Vu();while(Rp!==null);if($t&48)throw Error(et(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(et(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-Tu(a),l=1<<c;i[c]=0,o[c]=-1,s[c]=-1,a&=~l}if(gl!==null&&!(n&24)&&gl.has(t)&&gl.delete(t),t===ya&&(mi=ya=null,ia=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=$t,$t|=32,wP.current=null,_E=O_,o=iM(),aT(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&l.rangeCount!==0){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var u=0,f=-1,h=-1,p=0,d=0,g=o,m=null;t:for(;;){for(var v;g!==s||a!==0&&g.nodeType!==3||(f=u+a),g!==c||l!==0&&g.nodeType!==3||(h=u+l),g.nodeType===3&&(u+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===o)break t;if(m===s&&++p===a&&(f=u),m===c&&++d===l&&(h=u),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}s=f===-1||h===-1?null:{start:f,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;yE={focusedElem:o,selectionRange:s},O_=!1,Op=null,D_=!1,mt=n;do try{Vne()}catch(A){if(mt===null)throw Error(et(330));gu(mt,A),mt=mt.nextEffect}while(mt!==null);Op=null,mt=n;do try{for(o=t;mt!==null;){var _=mt.flags;if(_&16&&Kp(mt.stateNode,""),_&128){var y=mt.alternate;if(y!==null){var b=y.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(_&1038){case 2:VM(mt),mt.flags&=-3;break;case 6:VM(mt),mt.flags&=-3,TE(mt.alternate,mt);break;case 1024:mt.flags&=-1025;break;case 1028:mt.flags&=-1025,TE(mt.alternate,mt);break;case 4:TE(mt.alternate,mt);break;case 8:s=mt,w$(o,s);var w=s.alternate;$M(s),w!==null&&$M(w)}mt=mt.nextEffect}}catch(A){if(mt===null)throw Error(et(330));gu(mt,A),mt=mt.nextEffect}while(mt!==null);if(b=yE,y=iM(),_=b.focusedElem,o=b.selectionRange,y!==_&&_&&_.ownerDocument&&j9(_.ownerDocument.documentElement,_)){for(o!==null&&aT(_)&&(y=o.start,b=o.end,b===void 0&&(b=y),"selectionStart"in _?(_.selectionStart=y,_.selectionEnd=Math.min(b,_.value.length)):(b=(y=_.ownerDocument||document)&&y.defaultView||window,b.getSelection&&(b=b.getSelection(),s=_.textContent.length,w=Math.min(o.start,s),o=o.end===void 0?w:Math.min(o.end,s),!b.extend&&w>o&&(s=o,o=w,w=s),s=nM(_,w),a=nM(_,o),s&&a&&(b.rangeCount!==1||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&(y=y.createRange(),y.setStart(s.node,s.offset),b.removeAllRanges(),w>o?(b.addRange(y),b.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),b.addRange(y)))))),y=[],b=_;b=b.parentNode;)b.nodeType===1&&y.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<y.length;_++)b=y[_],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}O_=!!_E,yE=_E=null,t.current=r,mt=n;do try{for(_=t;mt!==null;){var E=mt.flags;if(E&36&&Lne(_,mt.alternate,mt),E&128){y=void 0;var C=mt.ref;if(C!==null){var T=mt.stateNode;switch(mt.tag){case 5:y=T;break;default:y=T}typeof C=="function"?C(y):C.current=y}}mt=mt.nextEffect}}catch(A){if(mt===null)throw Error(et(330));gu(mt,A),mt=mt.nextEffect}while(mt!==null);mt=null,Sne(),$t=i}else t.current=r;if(Iu)Iu=!1,Rp=t,fp=e;else for(mt=n;mt!==null;)e=mt.nextEffect,mt.nextEffect=null,mt.flags&8&&(E=mt,E.sibling=null,E.stateNode=null),mt=e;if(n=t.pendingLanes,n===0&&(Es=null),n===1?t===IT?Pp++:(Pp=0,IT=t):Pp=0,r=r.stateNode,Vc&&typeof Vc.onCommitFiberRoot=="function")try{Vc.onCommitFiberRoot(uP,r,void 0,(r.current.flags&64)===64)}catch{}if(To(t,na()),Dy)throw Dy=!1,t=CT,CT=null,t;return $t&8||Bs(),null}function Vne(){for(;mt!==null;){var t=mt.alternate;D_||Op===null||(mt.flags&8?VN(mt,Op)&&(D_=!0):mt.tag===13&&Bne(t,mt)&&VN(mt,Op)&&(D_=!0));var e=mt.flags;e&256&&Mne(t,mt),!(e&512)||Iu||(Iu=!0,iv(97,function(){return Vu(),null})),mt=mt.nextEffect}}function Vu(){if(fp!==90){var t=97<fp?97:fp;return fp=90,tf(t,zne)}return!1}function Hne(t,e){TT.push(e,t),Iu||(Iu=!0,iv(97,function(){return Vu(),null}))}function P$(t,e){AT.push(e,t),Iu||(Iu=!0,iv(97,function(){return Vu(),null}))}function zne(){if(Rp===null)return!1;var t=Rp;if(Rp=null,$t&48)throw Error(et(331));var e=$t;$t|=32;var r=AT;AT=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(a===null)throw Error(et(330));gu(a,c)}}for(r=TT,TT=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(c){if(a===null)throw Error(et(330));gu(a,c)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return $t=e,Bs(),!0}function zM(t,e,r){e=bP(r,e),e=x$(t,e,1),du(t,e),e=Za(),t=Yx(t,1),t!==null&&(jx(t,1,e),To(t,e))}function gu(t,e){if(t.tag===3)zM(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){zM(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n))){t=bP(e,t);var i=b$(r,t,1);if(du(r,i),i=Za(),r=Yx(r,1),r!==null)jx(r,1,i),To(r,i);else if(typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Xne(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Za(),t.pingedLanes|=t.suspendedLanes&r,ya===t&&(ia&r)===r&&(Vi===4||Vi===3&&(ia&62914560)===ia&&500>na()-SP?Gh(t,0):EP|=r),To(t,e)}function Wne(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(ll===0&&(ll=Od),e=dh(62914560&~ll),e===0&&(e=4194304)):e=ld()===99?1:2:e=1),r=Za(),t=Yx(t,e),t!==null&&(jx(t,e,r),To(t,r))}var O$;O$=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Na.current)Wo=!0;else if(r&n)Wo=!!(t.flags&16384);else{switch(Wo=!1,e.tag){case 3:OM(e),EE();break;case 5:wM(e);break;case 1:Ma(e.type)&&N_(e);break;case 4:dT(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Dn(Ty,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?kM(t,e,r):(Dn(Bn,Bn.current&1),e=fl(t,e,r),e!==null?e.sibling:null);Dn(Bn,Bn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return BM(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(Bn,Bn.current),n)break;return null;case 23:case 24:return e.lanes=0,SE(t,e,r)}return fl(t,e,r)}else Wo=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=sd(e,oa.current),Uh(e,r),i=mP(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ma(n)){var a=!0;N_(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dP(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&Ry(e,n,o,t),i.updater=Xx,e.stateNode=i,i._reactInternals=e,hT(e,n,t,r),e=mT(null,e,n,!0,a,r)}else e.tag=0,Ra(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=qne(i),t=Go(i,t),a){case 0:e=gT(null,e,i,t,r);break e;case 1:e=PM(null,e,i,t,r);break e;case 11:e=IM(null,e,i,t,r);break e;case 14:e=RM(null,e,i,Go(i.type,t),n,r);break e}throw Error(et(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Go(n,i),gT(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Go(n,i),PM(t,e,n,i,r);case 3:if(OM(e),n=e.updateQueue,t===null||n===null)throw Error(et(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,r$(t,e),av(e,n,null,r),n=e.memoizedState.element,n===i)EE(),e=fl(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(nu=Dh(e.stateNode.containerInfo.firstChild),cl=e,a=Ts=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],jh.push(a);for(r=o$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Ra(t,e,n,r),EE();e=e.child}return e;case 5:return wM(e),t===null&&pT(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,lT(n,i)?o=null:a!==null&&lT(n,a)&&(e.flags|=16),g$(t,e),Ra(t,e,o,r),e.child;case 6:return t===null&&pT(e),null;case 13:return kM(t,e,r);case 4:return dT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Py(e,null,n,r):Ra(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Go(n,i),IM(t,e,n,i,r);case 7:return Ra(t,e,e.pendingProps,r),e.child;case 8:return Ra(t,e,e.pendingProps.children,r),e.child;case 12:return Ra(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value;var s=e.type._context;if(Dn(Ty,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=yo(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!Na.current){e=fl(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){s.tag===1&&(l=hu(-1,r&-r),l.tag=2,du(s,l)),s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),t$(s.return,r),c.lanes|=r;break}l=l.next}}else o=s.tag===10&&s.type===e.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ra(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Uh(e,r),i=Co(i,a.unstable_observedBits),n=n(i),e.flags|=1,Ra(t,e,n,r),e.child;case 14:return i=e.type,a=Go(i,e.pendingProps),a=Go(i.type,a),RM(t,e,i,a,n,r);case 15:return v$(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Go(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ma(n)?(t=!0,N_(e)):t=!1,Uh(e,r),i$(e,n,i),hT(e,n,i,r),mT(null,e,n,!0,t,r);case 19:return BM(t,e,r);case 23:return SE(t,e,r);case 24:return SE(t,e,r)}throw Error(et(156,e.tag))};function Yne(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(t,e,r,n){return new Yne(t,e,r,n)}function TP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qne(t){if(typeof t=="function")return TP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bx)return 11;if(t===Dx)return 14}return 2}function Ru(t,e){var r=t.alternate;return r===null?(r=xo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function U_(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")TP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ql:return Vh(r.children,i,a,e);case s9:o=8,i|=16;break;case GR:o=8,i|=1;break;case xp:return t=xo(12,r,e,i|8),t.elementType=xp,t.type=xp,t.lanes=a,t;case bp:return t=xo(13,r,e,i),t.type=bp,t.elementType=bp,t.lanes=a,t;case my:return t=xo(19,r,e,i),t.elementType=my,t.lanes=a,t;case YR:return AP(r,i,a,e);case HC:return t=xo(24,r,e,i),t.elementType=HC,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VR:o=10;break e;case HR:o=9;break e;case Bx:o=11;break e;case Dx:o=14;break e;case zR:o=16,n=null;break e;case XR:o=22;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=xo(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Vh(t,e,r,n){return t=xo(7,t,n,e),t.lanes=r,t}function AP(t,e,r,n){return t=xo(23,t,n,e),t.elementType=YR,t.lanes=r,t}function AE(t,e,r){return t=xo(6,t,null,e),t.lanes=r,t}function IE(t,e,r){return e=xo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kne(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=fE(0),this.expirationTimes=fE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fE(0),this.mutableSourceEagerHydrationData=null}function Zne(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ic,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Uy(t,e,r,n){var i=e.current,a=Za(),o=pu(i);e:if(r){r=r._reactInternals;t:{if(mf(r)!==r||r.tag!==1)throw Error(et(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ma(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(et(171))}if(r.tag===1){var c=r.type;if(Ma(c)){r=Y9(r,c,s);break e}}r=s}else r=Au;return e.context===null?e.context=r:e.pendingContext=r,e=hu(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),du(i,e),vu(i,o,a),o}function RE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function IP(t,e){XM(t,e),(t=t.alternate)&&XM(t,e)}function Jne(){return null}function RP(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Kne(t,e,r!=null&&r.hydrate===!0),e=xo(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,dP(e),t[Pd]=r.current,V9(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}RP.prototype.render=function(t){Uy(t,this._internalRoot,null,null)};RP.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Uy(null,t,null,function(){e[Pd]=null})};function ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qne(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new RP(t,0,e?{hydrate:!0}:void 0)}function qx(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var l=RE(o);s.call(l)}}Uy(e,o,t,i)}else{if(a=r._reactRootContainer=Qne(r,n),o=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=RE(o);c.call(l)}}C$(function(){Uy(e,o,t,i)})}return RE(o)}w9=function(t){if(t.tag===13){var e=Za();vu(t,4,e),IP(t,4)}};QR=function(t){if(t.tag===13){var e=Za();vu(t,67108864,e),IP(t,67108864)}};E9=function(t){if(t.tag===13){var e=Za(),r=pu(t);vu(t,r,e),IP(t,r)}};S9=function(t,e){return e()};eT=function(t,e,r){switch(e){case"input":if(XC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Hx(n);if(!i)throw Error(et(90));u9(n),XC(n,i)}}}break;case"textarea":f9(t,r);break;case"select":e=r.value,e!=null&&Mh(t,!!r.multiple,e,!1)}};KR=S$;_9=function(t,e,r,n,i){var a=$t;$t|=4;try{return tf(98,t.bind(null,e,r,n,i))}finally{$t=a,$t===0&&(Fd(),Bs())}};ZR=function(){!($t&49)&&(Une(),Vu())};y9=function(t,e){var r=$t;$t|=2;try{return t(e)}finally{$t=r,$t===0&&(Fd(),Bs())}};function k$(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(e))throw Error(et(200));return Zne(t,e,null,r)}var eie={Events:[tg,yh,Hx,g9,m9,Vu,{current:!1}]},D0={findFiberByHostInstance:Pc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},tie={bundleType:D0.bundleType,version:D0.version,rendererPackageName:D0.rendererPackageName,rendererConfig:D0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b9(t),t===null?null:t.stateNode},findFiberByHostInstance:D0.findFiberByHostInstance||Jne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!km.isDisabled&&km.supportsFiber)try{uP=km.inject(tie),Vc=km}catch{}}Ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eie;Ao.createPortal=k$;Ao.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):Error(et(268,Object.keys(t)));return t=b9(e),t=t===null?null:t.stateNode,t};Ao.flushSync=function(t,e){var r=$t;if(r&48)return t(e);$t|=1;try{if(t)return tf(99,t.bind(null,e))}finally{$t=r,Bs()}};Ao.hydrate=function(t,e,r){if(!ig(e))throw Error(et(200));return qx(null,t,e,!0,r)};Ao.render=function(t,e,r){if(!ig(e))throw Error(et(200));return qx(null,t,e,!1,r)};Ao.unmountComponentAtNode=function(t){if(!ig(t))throw Error(et(40));return t._reactRootContainer?(C$(function(){qx(null,null,t,!1,function(){t._reactRootContainer=null,t[Pd]=null})}),!0):!1};Ao.unstable_batchedUpdates=S$;Ao.unstable_createPortal=function(t,e){return k$(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ao.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ig(r))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return qx(t,e,r,!1,n)};Ao.version="17.0.2";function F$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F$)}catch(t){console.error(t)}}F$(),n9.exports=Ao;var N$=n9.exports;const Pu=Yi(N$);const rie="_Title_main_1g26k_1",nie="_Title_buttonList_1g26k_8",iie="_Title_button_1g26k_8",aie="_Title_button_text_1g26k_38",oie="_Title_button_custom_1g26k_45",sie="_Title_backup_background_1g26k_64",U0={Title_main:rie,Title_buttonList:nie,Title_button:iie,Title_button_text:aie,Title_button_custom:oie,Title_backup_background:sie};function zo(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ou(t){return!!t&&!!t[vn]}function yl(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===gie}(t)||Array.isArray(t)||!!t[QM]||!!(!((e=t.constructor)===null||e===void 0)&&e[QM])||PP(t)||OP(t))}function nf(t,e,r){r===void 0&&(r=!1),Nd(t)===0?(r?Object.keys:zh)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Nd(t){var e=t[vn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:PP(t)?2:OP(t)?3:0}function Hh(t,e){return Nd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lie(t,e){return Nd(t)===2?t.get(e):t[e]}function M$(t,e,r){var n=Nd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function L$(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function PP(t){return pie&&t instanceof Map}function OP(t){return vie&&t instanceof Set}function gc(t){return t.o||t.t}function kP(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=D$(t);delete e[vn];for(var r=zh(e),n=0;n<r.length;n++){var i=r[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function FP(t,e){return e===void 0&&(e=!1),NP(t)||Ou(t)||!yl(t)||(Nd(t)>1&&(t.set=t.add=t.clear=t.delete=uie),Object.freeze(t),e&&nf(t,function(r,n){return FP(n,!0)},!0)),t}function uie(){zo(2)}function NP(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function As(t){var e=FT[t];return e||zo(18,t),e}function cie(t,e){FT[t]||(FT[t]=e)}function PT(){return uv}function PE(t,e){e&&(As("Patches"),t.u=[],t.s=[],t.v=e)}function jy(t){OT(t),t.p.forEach(fie),t.p=null}function OT(t){t===uv&&(uv=t.l)}function WM(t){return uv={p:[],l:uv,h:t,m:!0,_:0}}function fie(t){var e=t[vn];e.i===0||e.i===1?e.j():e.g=!0}function OE(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||As("ES5").S(e,t,n),n?(r[vn].P&&(jy(e),zo(4)),yl(t)&&(t=$y(e,t),e.l||Gy(e,t)),e.u&&As("Patches").M(r[vn].t,t,e.u,e.s)):t=$y(e,r,[]),jy(e),e.u&&e.v(e.u,e.s),t!==B$?t:void 0}function $y(t,e,r){if(NP(e))return e;var n=e[vn];if(!n)return nf(e,function(s,c){return YM(t,n,e,s,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return Gy(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=kP(n.k):n.o,a=i,o=!1;n.i===3&&(a=new Set(i),i.clear(),o=!0),nf(a,function(s,c){return YM(t,n,i,s,c,r,o)}),Gy(t,i,!1),r&&t.u&&As("Patches").N(n,r,t.u,t.s)}return n.o}function YM(t,e,r,n,i,a,o){if(Ou(i)){var s=$y(t,i,a&&e&&e.i!==3&&!Hh(e.R,n)?a.concat(n):void 0);if(M$(r,n,s),!Ou(s))return;t.m=!1}else o&&r.add(i);if(yl(i)&&!NP(i)){if(!t.h.D&&t._<1)return;$y(t,i),e&&e.A.l||Gy(t,i)}}function Gy(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&FP(e,r)}function kE(t,e){var r=t[vn];return(r?gc(r):t)[e]}function qM(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Kl(t){t.P||(t.P=!0,t.l&&Kl(t.l))}function FE(t){t.o||(t.o=kP(t.t))}function kT(t,e,r){var n=PP(e)?As("MapSet").F(e,r):OP(e)?As("MapSet").T(e,r):t.O?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:PT(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=s,l=cv;o&&(c=[s],l=dp);var u=Proxy.revocable(c,l),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,r):As("ES5").J(e,r);return(r?r.A:PT()).p.push(n),n}function hie(t){return Ou(t)||zo(22,t),function e(r){if(!yl(r))return r;var n,i=r[vn],a=Nd(r);if(i){if(!i.P&&(i.i<4||!As("ES5").K(i)))return i.t;i.I=!0,n=KM(r,a),i.I=!1}else n=KM(r,a);return nf(n,function(o,s){i&&lie(i.t,o)===s||M$(n,o,e(s))}),a===3?new Set(n):n}(t)}function KM(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return kP(t)}function die(){function t(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var c=this[vn];return cv.get(c,a)},set:function(c){var l=this[vn];cv.set(l,a,c)}},s}function e(a){for(var o=a.length-1;o>=0;o--){var s=a[o][vn];if(!s.P)switch(s.i){case 5:n(s)&&Kl(s);break;case 4:r(s)&&Kl(s)}}}function r(a){for(var o=a.t,s=a.k,c=zh(s),l=c.length-1;l>=0;l--){var u=c[l];if(u!==vn){var f=o[u];if(f===void 0&&!Hh(o,u))return!0;var h=s[u],p=h&&h[vn];if(p?p.t!==f:!L$(h,f))return!0}}var d=!!o[vn];return c.length!==zh(o).length+(d?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};cie("ES5",{J:function(a,o){var s=Array.isArray(a),c=function(u,f){if(u){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var d=D$(f);delete d[vn];for(var g=zh(d),m=0;m<g.length;m++){var v=g[m];d[v]=t(v,u||!!d[v].enumerable)}return Object.create(Object.getPrototypeOf(f),d)}(s,a),l={i:s?5:4,A:o?o.A:PT(),P:!1,I:!1,R:{},l:o,t:a,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,vn,{value:l,writable:!0}),c},S:function(a,o,s){s?Ou(o)&&o[vn].A===a&&e(a.p):(a.u&&function c(l){if(l&&typeof l=="object"){var u=l[vn];if(u){var f=u.t,h=u.k,p=u.R,d=u.i;if(d===4)nf(h,function(y){y!==vn&&(f[y]!==void 0||Hh(f,y)?p[y]||c(h[y]):(p[y]=!0,Kl(u)))}),nf(f,function(y){h[y]!==void 0||Hh(h,y)||(p[y]=!1,Kl(u))});else if(d===5){if(n(u)&&(Kl(u),p.length=!0),h.length<f.length)for(var g=h.length;g<f.length;g++)p[g]=!1;else for(var m=f.length;m<h.length;m++)p[m]=!0;for(var v=Math.min(h.length,f.length),_=0;_<v;_++)h.hasOwnProperty(_)||(p[_]=!0),p[_]===void 0&&c(h[_])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var ZM,uv,MP=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",pie=typeof Map<"u",vie=typeof Set<"u",JM=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",B$=MP?Symbol.for("immer-nothing"):((ZM={})["immer-nothing"]=!0,ZM),QM=MP?Symbol.for("immer-draftable"):"__$immer_draftable",vn=MP?Symbol.for("immer-state"):"__$immer_state",gie=""+Object.prototype.constructor,zh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,D$=Object.getOwnPropertyDescriptors||function(t){var e={};return zh(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},FT={},cv={get:function(t,e){if(e===vn)return t;var r=gc(t);if(!Hh(r,e))return function(i,a,o){var s,c=qM(a,o);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!yl(n)?n:n===kE(t.t,e)?(FE(t),t.o[e]=kT(t.A.h,n,t)):n},has:function(t,e){return e in gc(t)},ownKeys:function(t){return Reflect.ownKeys(gc(t))},set:function(t,e,r){var n=qM(gc(t),e);if(n!=null&&n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=kE(gc(t),e),a=i==null?void 0:i[vn];if(a&&a.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(L$(r,i)&&(r!==void 0||Hh(t.t,e)))return!0;FE(t),Kl(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return kE(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,FE(t),Kl(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=gc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){zo(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){zo(12)}},dp={};nf(cv,function(t,e){dp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),dp.deleteProperty=function(t,e){return dp.set.call(this,t,e,void 0)},dp.set=function(t,e,r){return cv.set.call(this,t[0],e,r,t[0])};var mie=function(){function t(r){var n=this;this.O=JM,this.D=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var c=n;return function(g){var m=this;g===void 0&&(g=s);for(var v=arguments.length,_=Array(v>1?v-1:0),y=1;y<v;y++)_[y-1]=arguments[y];return c.produce(g,function(b){var w;return(w=a).call.apply(w,[m,b].concat(_))})}}var l;if(typeof a!="function"&&zo(6),o!==void 0&&typeof o!="function"&&zo(7),yl(i)){var u=WM(n),f=kT(n,i,void 0),h=!0;try{l=a(f),h=!1}finally{h?jy(u):OT(u)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return PE(u,o),OE(g,u)},function(g){throw jy(u),g}):(PE(u,o),OE(l,u))}if(!i||typeof i!="object"){if((l=a(i))===void 0&&(l=i),l===B$&&(l=void 0),n.D&&FP(l,!0),o){var p=[],d=[];As("Patches").M(i,l,p,d),o(p,d)}return l}zo(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(l){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(f))})};var o,s,c=n.produce(i,a,function(l,u){o=l,s=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(l){return[l,o,s]}):[c,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){yl(r)||zo(8),Ou(r)&&(r=hie(r));var n=WM(this),i=kT(this,r,void 0);return i[vn].C=!0,OT(n),i},e.finishDraft=function(r,n){var i=r&&r[vn],a=i.A;return PE(a,n),OE(void 0,a)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!JM&&zo(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=As("Patches").$;return Ou(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},t}(),to=new mie,U$=to.produce;to.produceWithPatches.bind(to);to.setAutoFreeze.bind(to);to.setUseProxies.bind(to);to.applyPatches.bind(to);to.createDraft.bind(to);to.finishDraft.bind(to);function Ai(t){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(t)}function _ie(t,e){if(Ai(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j$(t){var e=_ie(t,"string");return Ai(e)=="symbol"?e:e+""}function no(t,e,r){return e=j$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ta(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var rL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),NE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vy={INIT:"@@redux/INIT"+NE(),REPLACE:"@@redux/REPLACE"+NE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+NE()}};function yie(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function $$(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ta(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ta(1));return r($$)(t,e)}if(typeof t!="function")throw new Error(ta(2));var i=t,a=e,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(ta(3));return a}function f(g){if(typeof g!="function")throw new Error(ta(4));if(c)throw new Error(ta(5));var m=!0;return l(),s.push(g),function(){if(m){if(c)throw new Error(ta(6));m=!1,l();var _=s.indexOf(g);s.splice(_,1),o=null}}}function h(g){if(!yie(g))throw new Error(ta(7));if(typeof g.type>"u")throw new Error(ta(8));if(c)throw new Error(ta(9));try{c=!0,a=i(a,g)}finally{c=!1}for(var m=o=s,v=0;v<m.length;v++){var _=m[v];_()}return g}function p(g){if(typeof g!="function")throw new Error(ta(10));i=g,h({type:Vy.REPLACE})}function d(){var g,m=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(ta(11));function y(){_.next&&_.next(u())}y();var b=m(y);return{unsubscribe:b}}},g[rL]=function(){return this},g}return h({type:Vy.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:p},n[rL]=d,n}function xie(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Vy.INIT});if(typeof n>"u")throw new Error(ta(12));if(typeof r(void 0,{type:Vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ta(13))})}function bie(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var a=Object.keys(r),o;try{xie(r)}catch(s){o=s}return function(c,l){if(c===void 0&&(c={}),o)throw o;for(var u=!1,f={},h=0;h<a.length;h++){var p=a[h],d=r[p],g=c[p],m=d(g,l);if(typeof m>"u")throw l&&l.type,new Error(ta(14));f[p]=m,u=u||m!==g}return u=u||a.length!==Object.keys(c).length,u?f:c}}function Hy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function wie(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(ta(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(c){return c(o)});return a=Hy.apply(void 0,s)(i.dispatch),tL(tL({},i),{},{dispatch:a})}}}function G$(t){var e=function(n){var i=n.dispatch,a=n.getState;return function(o){return function(s){return typeof s=="function"?s(i,a,t):o(s)}}};return e}var V$=G$();V$.withExtraArgument=G$;const nL=V$;var H$=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eie=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},cd=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},Sie=Object.defineProperty,Cie=Object.defineProperties,Tie=Object.getOwnPropertyDescriptors,iL=Object.getOwnPropertySymbols,Aie=Object.prototype.hasOwnProperty,Iie=Object.prototype.propertyIsEnumerable,aL=function(t,e,r){return e in t?Sie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},mu=function(t,e){for(var r in e||(e={}))Aie.call(e,r)&&aL(t,r,e[r]);if(iL)for(var n=0,i=iL(e);n<i.length;n++){var r=i[n];Iie.call(e,r)&&aL(t,r,e[r])}return t},ME=function(t,e){return Cie(t,Tie(e))},Rie=function(t,e,r){return new Promise(function(n,i){var a=function(c){try{s(r.next(c))}catch(l){i(l)}},o=function(c){try{s(r.throw(c))}catch(l){i(l)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(a,o)};s((r=r.apply(t,e)).next())})},Pie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hy:Hy.apply(null,arguments)};function Oie(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function _u(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var a=e.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return mu(mu({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var kie=function(t){H$(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,cd([void 0],r[0].concat(this)))):new(e.bind.apply(e,cd([void 0],r.concat(this))))},e}(Array),Fie=function(t){H$(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,cd([void 0],r[0].concat(this)))):new(e.bind.apply(e,cd([void 0],r.concat(this))))},e}(Array);function NT(t){return yl(t)?U$(t,function(){}):t}function Nie(t){return typeof t=="boolean"}function Mie(){return function(e){return z$(e)}}function z$(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new kie;return r&&(Nie(r)?n.push(nL):n.push(nL.withExtraArgument(r.extraArgument))),n}var Lie=!0;function Bie(t){var e=Mie(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?e():a,s=r.devTools,c=s===void 0?!0:s,l=r.preloadedState,u=l===void 0?void 0:l,f=r.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(Oie(i))p=bie(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var d=o;typeof d=="function"&&(d=d(e));var g=wie.apply(void 0,d),m=Hy;c&&(m=Pie(mu({trace:!Lie},typeof c=="object"&&c)));var v=new Fie(g),_=v;Array.isArray(h)?_=cd([g],h):typeof h=="function"&&(_=h(v));var y=m.apply(void 0,_);return $$(p,u,y)}function X$(t){var e={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return t(i),[e,r,n]}function Die(t){return typeof t=="function"}function Uie(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?X$(e):[e,r,n],a=i[0],o=i[1],s=i[2],c;if(Die(t))c=function(){return NT(t())};else{var l=NT(t);c=function(){return l}}function u(f,h){f===void 0&&(f=c());var p=cd([a[h.type]],o.filter(function(d){var g=d.matcher;return g(h)}).map(function(d){var g=d.reducer;return g}));return p.filter(function(d){return!!d}).length===0&&(p=[s]),p.reduce(function(d,g){if(g)if(Ou(d)){var m=d,v=g(m,h);return v===void 0?d:v}else{if(yl(d))return U$(d,function(_){return g(_,h)});var v=g(d,h);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return d},f)}return u.getInitialState=c,u}function jie(t,e){return t+"/"+e}function ag(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:NT(t.initialState),n=t.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(u){var f=n[u],h=jie(e,u),p,d;"reducer"in f?(p=f.reducer,d=f.prepare):p=f,a[u]=p,o[h]=p,s[u]=d?_u(h,d):_u(h)});function c(){var u=typeof t.extraReducers=="function"?X$(t.extraReducers):[t.extraReducers],f=u[0],h=f===void 0?{}:f,p=u[1],d=p===void 0?[]:p,g=u[2],m=g===void 0?void 0:g,v=mu(mu({},h),o);return Uie(r,function(_){for(var y in v)_.addCase(y,v[y]);for(var b=0,w=d;b<w.length;b++){var E=w[b];_.addMatcher(E.matcher,E.reducer)}m&&_.addDefaultCase(m)})}var l;return{name:e,reducer:function(u,f){return l||(l=c()),l(u,f)},actions:s,caseReducers:a,getInitialState:function(){return l||(l=c()),l.getInitialState()}}}var $ie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gie=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=$ie[Math.random()*64|0];return e},Vie=["name","message","stack","code"],LE=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),oL=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Hie=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=Vie;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=_u(e+"/fulfilled",function(l,u,f,h){return{payload:l,meta:ME(mu({},h||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=_u(e+"/pending",function(l,u,f){return{payload:void 0,meta:ME(mu({},f||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),o=_u(e+"/rejected",function(l,u,f,h,p){return{payload:h,error:(n&&n.serializeError||Hie)(l||"Rejected"),meta:ME(mu({},p||{}),{arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function c(l){return function(u,f,h){var p=n!=null&&n.idGenerator?n.idGenerator(l):Gie(),d=new s,g;function m(_){g=_,d.abort()}var v=function(){return Rie(this,null,function(){var _,y,b,w,E,C,T;return Eie(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),w=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,l,{getState:f,extra:h}),Xie(w)?[4,w]:[3,2];case 1:w=A.sent(),A.label=2;case 2:if(w===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(R,O){return d.signal.addEventListener("abort",function(){return O({name:"AbortError",message:g||"Aborted"})})}),u(a(p,l,(y=n==null?void 0:n.getPendingMeta)==null?void 0:y.call(n,{requestId:p,arg:l},{getState:f,extra:h}))),[4,Promise.race([E,Promise.resolve(r(l,{dispatch:u,getState:f,extra:h,requestId:p,signal:d.signal,abort:m,rejectWithValue:function(R,O){return new LE(R,O)},fulfillWithValue:function(R,O){return new oL(R,O)}})).then(function(R){if(R instanceof LE)throw R;return R instanceof oL?i(R.payload,p,l,R.meta):i(R,p,l)})])];case 3:return b=A.sent(),[3,5];case 4:return C=A.sent(),b=C instanceof LE?o(null,p,l,C.payload,C.meta):o(C,p,l),[3,5];case 5:return T=n&&!n.dispatchConditionRejection&&o.match(b)&&b.meta.condition,T||u(b),[2,b]}})})}();return Object.assign(v,{abort:m,requestId:p,arg:l,unwrap:function(){return v.then(zie)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function zie(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Xie(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var LP="listenerMiddleware";_u(LP+"/add");_u(LP+"/removeAll");_u(LP+"/remove");var sL;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);die();function Wie(){this.__data__=[],this.size=0}var Yie=Wie;function qie(t,e){return t===e||t!==t&&e!==e}var BP=qie,Kie=BP;function Zie(t,e){for(var r=t.length;r--;)if(Kie(t[r][0],e))return r;return-1}var Kx=Zie,Jie=Kx,Qie=Array.prototype,eae=Qie.splice;function tae(t){var e=this.__data__,r=Jie(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():eae.call(e,r,1),--this.size,!0}var rae=tae,nae=Kx;function iae(t){var e=this.__data__,r=nae(e,t);return r<0?void 0:e[r][1]}var aae=iae,oae=Kx;function sae(t){return oae(this.__data__,t)>-1}var lae=sae,uae=Kx;function cae(t,e){var r=this.__data__,n=uae(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var fae=cae,hae=Yie,dae=rae,pae=aae,vae=lae,gae=fae;function Md(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Md.prototype.clear=hae;Md.prototype.delete=dae;Md.prototype.get=pae;Md.prototype.has=vae;Md.prototype.set=gae;var Zx=Md,mae=Zx;function _ae(){this.__data__=new mae,this.size=0}var yae=_ae;function xae(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var bae=xae;function wae(t){return this.__data__.get(t)}var Eae=wae;function Sae(t){return this.__data__.has(t)}var Cae=Sae,Tae=typeof At=="object"&&At&&At.Object===Object&&At,W$=Tae,Aae=W$,Iae=typeof self=="object"&&self&&self.Object===Object&&self,Rae=Aae||Iae||Function("return this")(),rs=Rae,Pae=rs,Oae=Pae.Symbol,og=Oae,lL=og,Y$=Object.prototype,kae=Y$.hasOwnProperty,Fae=Y$.toString,j0=lL?lL.toStringTag:void 0;function Nae(t){var e=kae.call(t,j0),r=t[j0];try{t[j0]=void 0;var n=!0}catch{}var i=Fae.call(t);return n&&(e?t[j0]=r:delete t[j0]),i}var Mae=Nae,Lae=Object.prototype,Bae=Lae.toString;function Dae(t){return Bae.call(t)}var Uae=Dae,uL=og,jae=Mae,$ae=Uae,Gae="[object Null]",Vae="[object Undefined]",cL=uL?uL.toStringTag:void 0;function Hae(t){return t==null?t===void 0?Vae:Gae:cL&&cL in Object(t)?jae(t):$ae(t)}var sg=Hae;function zae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ds=zae,Xae=sg,Wae=Ds,Yae="[object AsyncFunction]",qae="[object Function]",Kae="[object GeneratorFunction]",Zae="[object Proxy]";function Jae(t){if(!Wae(t))return!1;var e=Xae(t);return e==qae||e==Kae||e==Yae||e==Zae}var q$=Jae,Qae=rs,eoe=Qae["__core-js_shared__"],toe=eoe,BE=toe,fL=function(){var t=/[^.]+$/.exec(BE&&BE.keys&&BE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function roe(t){return!!fL&&fL in t}var noe=roe,ioe=Function.prototype,aoe=ioe.toString;function ooe(t){if(t!=null){try{return aoe.call(t)}catch{}try{return t+""}catch{}}return""}var K$=ooe,soe=q$,loe=noe,uoe=Ds,coe=K$,foe=/[\\^$.*+?()[\]{}|]/g,hoe=/^\[object .+?Constructor\]$/,doe=Function.prototype,poe=Object.prototype,voe=doe.toString,goe=poe.hasOwnProperty,moe=RegExp("^"+voe.call(goe).replace(foe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _oe(t){if(!uoe(t)||loe(t))return!1;var e=soe(t)?moe:hoe;return e.test(coe(t))}var yoe=_oe;function xoe(t,e){return t==null?void 0:t[e]}var boe=xoe,woe=yoe,Eoe=boe;function Soe(t,e){var r=Eoe(t,e);return woe(r)?r:void 0}var yf=Soe,Coe=yf,Toe=rs,Aoe=Coe(Toe,"Map"),DP=Aoe,Ioe=yf,Roe=Ioe(Object,"create"),Jx=Roe,hL=Jx;function Poe(){this.__data__=hL?hL(null):{},this.size=0}var Ooe=Poe;function koe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Foe=koe,Noe=Jx,Moe="__lodash_hash_undefined__",Loe=Object.prototype,Boe=Loe.hasOwnProperty;function Doe(t){var e=this.__data__;if(Noe){var r=e[t];return r===Moe?void 0:r}return Boe.call(e,t)?e[t]:void 0}var Uoe=Doe,joe=Jx,$oe=Object.prototype,Goe=$oe.hasOwnProperty;function Voe(t){var e=this.__data__;return joe?e[t]!==void 0:Goe.call(e,t)}var Hoe=Voe,zoe=Jx,Xoe="__lodash_hash_undefined__";function Woe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zoe&&e===void 0?Xoe:e,this}var Yoe=Woe,qoe=Ooe,Koe=Foe,Zoe=Uoe,Joe=Hoe,Qoe=Yoe;function Ld(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ld.prototype.clear=qoe;Ld.prototype.delete=Koe;Ld.prototype.get=Zoe;Ld.prototype.has=Joe;Ld.prototype.set=Qoe;var ese=Ld,dL=ese,tse=Zx,rse=DP;function nse(){this.size=0,this.__data__={hash:new dL,map:new(rse||tse),string:new dL}}var ise=nse;function ase(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ose=ase,sse=ose;function lse(t,e){var r=t.__data__;return sse(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Qx=lse,use=Qx;function cse(t){var e=use(this,t).delete(t);return this.size-=e?1:0,e}var fse=cse,hse=Qx;function dse(t){return hse(this,t).get(t)}var pse=dse,vse=Qx;function gse(t){return vse(this,t).has(t)}var mse=gse,_se=Qx;function yse(t,e){var r=_se(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var xse=yse,bse=ise,wse=fse,Ese=pse,Sse=mse,Cse=xse;function Bd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bd.prototype.clear=bse;Bd.prototype.delete=wse;Bd.prototype.get=Ese;Bd.prototype.has=Sse;Bd.prototype.set=Cse;var UP=Bd,Tse=Zx,Ase=DP,Ise=UP,Rse=200;function Pse(t,e){var r=this.__data__;if(r instanceof Tse){var n=r.__data__;if(!Ase||n.length<Rse-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ise(n)}return r.set(t,e),this.size=r.size,this}var Ose=Pse,kse=Zx,Fse=yae,Nse=bae,Mse=Eae,Lse=Cae,Bse=Ose;function Dd(t){var e=this.__data__=new kse(t);this.size=e.size}Dd.prototype.clear=Fse;Dd.prototype.delete=Nse;Dd.prototype.get=Mse;Dd.prototype.has=Lse;Dd.prototype.set=Bse;var jP=Dd;function Dse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Use=Dse,jse=yf,$se=function(){try{var t=jse(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Gse=$se,pL=Gse;function Vse(t,e,r){e=="__proto__"&&pL?pL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Z$=Vse,Hse=Z$,zse=BP,Xse=Object.prototype,Wse=Xse.hasOwnProperty;function Yse(t,e,r){var n=t[e];(!(Wse.call(t,e)&&zse(n,r))||r===void 0&&!(e in t))&&Hse(t,e,r)}var $P=Yse,qse=$P,Kse=Z$;function Zse(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],c=n?n(r[s],t[s],s,r,t):void 0;c===void 0&&(c=t[s]),i?Kse(r,s,c):qse(r,s,c)}return r}var e1=Zse;function Jse(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Qse=Jse;function ele(t){return t!=null&&typeof t=="object"}var xf=ele,tle=sg,rle=xf,nle="[object Arguments]";function ile(t){return rle(t)&&tle(t)==nle}var ale=ile,vL=ale,ole=xf,J$=Object.prototype,sle=J$.hasOwnProperty,lle=J$.propertyIsEnumerable,ule=vL(function(){return arguments}())?vL:function(t){return ole(t)&&sle.call(t,"callee")&&!lle.call(t,"callee")},Q$=ule,cle=Array.isArray,Sl=cle,zy={exports:{}};function fle(){return!1}var hle=fle;zy.exports;(function(t,e){var r=rs,n=hle,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;t.exports=l})(zy,zy.exports);var GP=zy.exports,dle=9007199254740991,ple=/^(?:0|[1-9]\d*)$/;function vle(t,e){var r=typeof t;return e=e??dle,!!e&&(r=="number"||r!="symbol"&&ple.test(t))&&t>-1&&t%1==0&&t<e}var VP=vle,gle=9007199254740991;function mle(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gle}var HP=mle,_le=sg,yle=HP,xle=xf,ble="[object Arguments]",wle="[object Array]",Ele="[object Boolean]",Sle="[object Date]",Cle="[object Error]",Tle="[object Function]",Ale="[object Map]",Ile="[object Number]",Rle="[object Object]",Ple="[object RegExp]",Ole="[object Set]",kle="[object String]",Fle="[object WeakMap]",Nle="[object ArrayBuffer]",Mle="[object DataView]",Lle="[object Float32Array]",Ble="[object Float64Array]",Dle="[object Int8Array]",Ule="[object Int16Array]",jle="[object Int32Array]",$le="[object Uint8Array]",Gle="[object Uint8ClampedArray]",Vle="[object Uint16Array]",Hle="[object Uint32Array]",an={};an[Lle]=an[Ble]=an[Dle]=an[Ule]=an[jle]=an[$le]=an[Gle]=an[Vle]=an[Hle]=!0;an[ble]=an[wle]=an[Nle]=an[Ele]=an[Mle]=an[Sle]=an[Cle]=an[Tle]=an[Ale]=an[Ile]=an[Rle]=an[Ple]=an[Ole]=an[kle]=an[Fle]=!1;function zle(t){return xle(t)&&yle(t.length)&&!!an[_le(t)]}var Xle=zle;function Wle(t){return function(e){return t(e)}}var zP=Wle,Xy={exports:{}};Xy.exports;(function(t,e){var r=W$,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Xy,Xy.exports);var XP=Xy.exports,Yle=Xle,qle=zP,gL=XP,mL=gL&&gL.isTypedArray,Kle=mL?qle(mL):Yle,eG=Kle,Zle=Qse,Jle=Q$,Qle=Sl,eue=GP,tue=VP,rue=eG,nue=Object.prototype,iue=nue.hasOwnProperty;function aue(t,e){var r=Qle(t),n=!r&&Jle(t),i=!r&&!n&&eue(t),a=!r&&!n&&!i&&rue(t),o=r||n||i||a,s=o?Zle(t.length,String):[],c=s.length;for(var l in t)(e||iue.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||tue(l,c)))&&s.push(l);return s}var tG=aue,oue=Object.prototype;function sue(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||oue;return t===r}var WP=sue;function lue(t,e){return function(r){return t(e(r))}}var rG=lue,uue=rG,cue=uue(Object.keys,Object),fue=cue,hue=WP,due=fue,pue=Object.prototype,vue=pue.hasOwnProperty;function gue(t){if(!hue(t))return due(t);var e=[];for(var r in Object(t))vue.call(t,r)&&r!="constructor"&&e.push(r);return e}var mue=gue,_ue=q$,yue=HP;function xue(t){return t!=null&&yue(t.length)&&!_ue(t)}var nG=xue,bue=tG,wue=mue,Eue=nG;function Sue(t){return Eue(t)?bue(t):wue(t)}var t1=Sue,Cue=e1,Tue=t1;function Aue(t,e){return t&&Cue(e,Tue(e),t)}var Iue=Aue;function Rue(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Pue=Rue,Oue=Ds,kue=WP,Fue=Pue,Nue=Object.prototype,Mue=Nue.hasOwnProperty;function Lue(t){if(!Oue(t))return Fue(t);var e=kue(t),r=[];for(var n in t)n=="constructor"&&(e||!Mue.call(t,n))||r.push(n);return r}var Bue=Lue,Due=tG,Uue=Bue,jue=nG;function $ue(t){return jue(t)?Due(t,!0):Uue(t)}var YP=$ue,Gue=e1,Vue=YP;function Hue(t,e){return t&&Gue(e,Vue(e),t)}var zue=Hue,Wy={exports:{}};Wy.exports;(function(t,e){var r=rs,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,h=s?s(f):new l.constructor(f);return l.copy(h),h}t.exports=c})(Wy,Wy.exports);var Xue=Wy.exports;function Wue(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Yue=Wue;function que(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var Kue=que;function Zue(){return[]}var iG=Zue,Jue=Kue,Que=iG,ece=Object.prototype,tce=ece.propertyIsEnumerable,_L=Object.getOwnPropertySymbols,rce=_L?function(t){return t==null?[]:(t=Object(t),Jue(_L(t),function(e){return tce.call(t,e)}))}:Que,qP=rce,nce=e1,ice=qP;function ace(t,e){return nce(t,ice(t),e)}var oce=ace;function sce(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var aG=sce,lce=rG,uce=lce(Object.getPrototypeOf,Object),oG=uce,cce=aG,fce=oG,hce=qP,dce=iG,pce=Object.getOwnPropertySymbols,vce=pce?function(t){for(var e=[];t;)cce(e,hce(t)),t=fce(t);return e}:dce,sG=vce,gce=e1,mce=sG;function _ce(t,e){return gce(t,mce(t),e)}var yce=_ce,xce=aG,bce=Sl;function wce(t,e,r){var n=e(t);return bce(t)?n:xce(n,r(t))}var lG=wce,Ece=lG,Sce=qP,Cce=t1;function Tce(t){return Ece(t,Cce,Sce)}var uG=Tce,Ace=lG,Ice=sG,Rce=YP;function Pce(t){return Ace(t,Rce,Ice)}var cG=Pce,Oce=yf,kce=rs,Fce=Oce(kce,"DataView"),Nce=Fce,Mce=yf,Lce=rs,Bce=Mce(Lce,"Promise"),Dce=Bce,Uce=yf,jce=rs,$ce=Uce(jce,"Set"),fG=$ce,Gce=yf,Vce=rs,Hce=Gce(Vce,"WeakMap"),zce=Hce,MT=Nce,LT=DP,BT=Dce,DT=fG,UT=zce,hG=sg,Ud=K$,yL="[object Map]",Xce="[object Object]",xL="[object Promise]",bL="[object Set]",wL="[object WeakMap]",EL="[object DataView]",Wce=Ud(MT),Yce=Ud(LT),qce=Ud(BT),Kce=Ud(DT),Zce=Ud(UT),mc=hG;(MT&&mc(new MT(new ArrayBuffer(1)))!=EL||LT&&mc(new LT)!=yL||BT&&mc(BT.resolve())!=xL||DT&&mc(new DT)!=bL||UT&&mc(new UT)!=wL)&&(mc=function(t){var e=hG(t),r=e==Xce?t.constructor:void 0,n=r?Ud(r):"";if(n)switch(n){case Wce:return EL;case Yce:return yL;case qce:return xL;case Kce:return bL;case Zce:return wL}return e});var r1=mc,Jce=Object.prototype,Qce=Jce.hasOwnProperty;function efe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Qce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var tfe=efe,rfe=rs,nfe=rfe.Uint8Array,dG=nfe,SL=dG;function ife(t){var e=new t.constructor(t.byteLength);return new SL(e).set(new SL(t)),e}var KP=ife,afe=KP;function ofe(t,e){var r=e?afe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var sfe=ofe,lfe=/\w*$/;function ufe(t){var e=new t.constructor(t.source,lfe.exec(t));return e.lastIndex=t.lastIndex,e}var cfe=ufe,CL=og,TL=CL?CL.prototype:void 0,AL=TL?TL.valueOf:void 0;function ffe(t){return AL?Object(AL.call(t)):{}}var hfe=ffe,dfe=KP;function pfe(t,e){var r=e?dfe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var vfe=pfe,gfe=KP,mfe=sfe,_fe=cfe,yfe=hfe,xfe=vfe,bfe="[object Boolean]",wfe="[object Date]",Efe="[object Map]",Sfe="[object Number]",Cfe="[object RegExp]",Tfe="[object Set]",Afe="[object String]",Ife="[object Symbol]",Rfe="[object ArrayBuffer]",Pfe="[object DataView]",Ofe="[object Float32Array]",kfe="[object Float64Array]",Ffe="[object Int8Array]",Nfe="[object Int16Array]",Mfe="[object Int32Array]",Lfe="[object Uint8Array]",Bfe="[object Uint8ClampedArray]",Dfe="[object Uint16Array]",Ufe="[object Uint32Array]";function jfe(t,e,r){var n=t.constructor;switch(e){case Rfe:return gfe(t);case bfe:case wfe:return new n(+t);case Pfe:return mfe(t,r);case Ofe:case kfe:case Ffe:case Nfe:case Mfe:case Lfe:case Bfe:case Dfe:case Ufe:return xfe(t,r);case Efe:return new n;case Sfe:case Afe:return new n(t);case Cfe:return _fe(t);case Tfe:return new n;case Ife:return yfe(t)}}var $fe=jfe,Gfe=Ds,IL=Object.create,Vfe=function(){function t(){}return function(e){if(!Gfe(e))return{};if(IL)return IL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Hfe=Vfe,zfe=Hfe,Xfe=oG,Wfe=WP;function Yfe(t){return typeof t.constructor=="function"&&!Wfe(t)?zfe(Xfe(t)):{}}var qfe=Yfe,Kfe=r1,Zfe=xf,Jfe="[object Map]";function Qfe(t){return Zfe(t)&&Kfe(t)==Jfe}var ehe=Qfe,the=ehe,rhe=zP,RL=XP,PL=RL&&RL.isMap,nhe=PL?rhe(PL):the,ihe=nhe,ahe=r1,ohe=xf,she="[object Set]";function lhe(t){return ohe(t)&&ahe(t)==she}var uhe=lhe,che=uhe,fhe=zP,OL=XP,kL=OL&&OL.isSet,hhe=kL?fhe(kL):che,dhe=hhe,phe=jP,vhe=Use,ghe=$P,mhe=Iue,_he=zue,yhe=Xue,xhe=Yue,bhe=oce,whe=yce,Ehe=uG,She=cG,Che=r1,The=tfe,Ahe=$fe,Ihe=qfe,Rhe=Sl,Phe=GP,Ohe=ihe,khe=Ds,Fhe=dhe,Nhe=t1,Mhe=YP,Lhe=1,Bhe=2,Dhe=4,pG="[object Arguments]",Uhe="[object Array]",jhe="[object Boolean]",$he="[object Date]",Ghe="[object Error]",vG="[object Function]",Vhe="[object GeneratorFunction]",Hhe="[object Map]",zhe="[object Number]",gG="[object Object]",Xhe="[object RegExp]",Whe="[object Set]",Yhe="[object String]",qhe="[object Symbol]",Khe="[object WeakMap]",Zhe="[object ArrayBuffer]",Jhe="[object DataView]",Qhe="[object Float32Array]",ede="[object Float64Array]",tde="[object Int8Array]",rde="[object Int16Array]",nde="[object Int32Array]",ide="[object Uint8Array]",ade="[object Uint8ClampedArray]",ode="[object Uint16Array]",sde="[object Uint32Array]",Jr={};Jr[pG]=Jr[Uhe]=Jr[Zhe]=Jr[Jhe]=Jr[jhe]=Jr[$he]=Jr[Qhe]=Jr[ede]=Jr[tde]=Jr[rde]=Jr[nde]=Jr[Hhe]=Jr[zhe]=Jr[gG]=Jr[Xhe]=Jr[Whe]=Jr[Yhe]=Jr[qhe]=Jr[ide]=Jr[ade]=Jr[ode]=Jr[sde]=!0;Jr[Ghe]=Jr[vG]=Jr[Khe]=!1;function j_(t,e,r,n,i,a){var o,s=e&Lhe,c=e&Bhe,l=e&Dhe;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!khe(t))return t;var u=Rhe(t);if(u){if(o=The(t),!s)return xhe(t,o)}else{var f=Che(t),h=f==vG||f==Vhe;if(Phe(t))return yhe(t,s);if(f==gG||f==pG||h&&!i){if(o=c||h?{}:Ihe(t),!s)return c?whe(t,_he(o,t)):bhe(t,mhe(o,t))}else{if(!Jr[f])return i?t:{};o=Ahe(t,f,s)}}a||(a=new phe);var p=a.get(t);if(p)return p;a.set(t,o),Fhe(t)?t.forEach(function(m){o.add(j_(m,e,r,m,t,a))}):Ohe(t)&&t.forEach(function(m,v){o.set(v,j_(m,e,r,v,t,a))});var d=l?c?She:Ehe:c?Mhe:Nhe,g=u?void 0:d(t);return vhe(g||t,function(m,v){g&&(v=m,m=t[v]),ghe(o,v,j_(m,e,r,v,t,a))}),o}var lde=j_,ude=lde,cde=1,fde=4;function hde(t){return ude(t,cde|fde)}var dde=hde;const yn=Yi(dde);var Lt=(t=>(t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t[t.clearScreen=42]="clearScreen",t))(Lt||{});function Fm(){let t=1280,e=720;const r=window.localStorage.getItem("game-screen-size"),n=(r==null?void 0:r.split("x"))??[];return(n==null?void 0:n.length)>0&&(t=Number(n[0]),e=Number(n[1])),{defaultWidth:t,defaultHeight:e}}const mG={oldBgName:"",bgName:"",bgX:0,bgY:0,figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],figureAssociatedAnimation:[],popUpImageName:"",popUpImageNameLeft:"",popUpImageNameRight:"",freePopUpImage:[],popUpImageAssociatedAnimation:[],popImgLive2dMotion:[],popImgLive2dExpression:[],showText:"",showTextSize:-1,showName:"",command:"",choose:[],vocal:"",playVocal:"",vocalVolume:100,bgm:{src:"",enter:0,volume:100},currentPlayAudio:null,uiSe:"",gameSe:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",dialogueMode:"role",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1,replacedUIlable:{},storyLineBg:"",storyLineBgX:Fm().defaultWidth,storyLineBgY:Fm().defaultHeight,achieveBg:"",unlockAchieve:{unlockname:"",saveTime:"",url:"",x:0,y:0},achieveBgX:Fm().defaultWidth,achieveBgY:Fm().defaultHeight,unlockAchieves:[],totalAchievements:0,unlockedAchievements:0,isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showValues:[],showValueList:[],showAffinityChangeList:[]},ZP=ag({name:"stage",initialState:yn(mG),reducers:{resetStageState:(t,e)=>{Object.assign(t,e.payload)},setStage:(t,e)=>{t[e.payload.key]=e.payload.value},setStageVar:(t,e)=>{t.GameVar[e.payload.key]=e.payload.value},updateEffect:(t,e)=>{const{target:r,transform:n}=e.payload,i=t.effects.findIndex(a=>a.target===r);i>=0?t.effects[i].transform=n:t.effects.push({target:r,transform:n})},removeEffectByTargetId:(t,e)=>{const r=t.effects.findIndex(n=>n.target===e.payload);r>=0&&t.effects.splice(r,1)},addPerform:(t,e)=>{t.PerformList.push(e.payload)},removePerformByName:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].id===e.payload&&(t.PerformList.splice(r,1),r--)},removeAllPixiPerforms:(t,e)=>{for(let r=0;r<t.PerformList.length;r++)t.PerformList[r].script.command===Lt.pixi&&(t.PerformList.splice(r,1),r--)},setFreeFigureByKey:(t,e)=>{const r=t.freeFigure,n=e.payload,i=r.findIndex(a=>a.key===n.key);i>=0?(r[i].basePosition=n.basePosition,r[i].name=n.name):n.name!==""&&r.push(n)},setLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.live2dMotion.findIndex(a=>a.target===r);i<0?t.live2dMotion.push({target:r,motion:n}):t.live2dMotion[i].motion=n},setLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.live2dExpression.findIndex(a=>a.target===r);i<0?t.live2dExpression.push({target:r,expression:n}):t.live2dExpression[i].expression=n},setPopUpImageLive2dMotion:(t,e)=>{const{target:r,motion:n}=e.payload,i=t.popImgLive2dMotion.findIndex(a=>a.target===r);i<0?t.popImgLive2dMotion.push({target:r,motion:n}):t.popImgLive2dMotion[i].motion=n},setPopUpImageLive2dExpression:(t,e)=>{const{target:r,expression:n}=e.payload,i=t.popImgLive2dExpression.findIndex(a=>a.target===r);i<0?t.popImgLive2dExpression.push({target:r,expression:n}):t.popImgLive2dExpression[i].expression=n},replaceUIlable:(t,e)=>{t.replacedUIlable[e.payload[0]]=e.payload[1]},setStoryLineBg:(t,e)=>{t.storyLineBg=e.payload},setAchieveBg:(t,e)=>{t.achieveBg=e.payload},setUnlockAchieve:(t,e)=>{t.unlockAchieves.push(e.payload)},addShowValues:(t,e)=>{t.showValues.push(e.payload)},addShowValueList:(t,e)=>{const r=t.showValueList.findIndex(n=>n.showValueName===e.payload.showValueName);if(r>-1){const n=[...t.showValueList];n[r]=e.payload,t.showValueList=n}else t.showValueList=[...t.showValueList,e.payload]},updateShowValueList:(t,e)=>{t.showValueList=e.payload},addShowAffinityChangeList:(t,e)=>{t.showAffinityChangeList=[...t.showAffinityChangeList,e.payload]},updateShowAffinityChangeList:(t,e)=>{t.showAffinityChangeList=e.payload}}}),{resetStageState:lg,setStage:Bt,setStageVar:_G,setAchieveBg:pde,setUnlockAchieve:EHe,setStoryLineBg:SHe,addShowValues:Xf,addShowValueList:vde,updateShowValueList:gde,addShowAffinityChangeList:mde,updateShowAffinityChangeList:_de}=ZP.actions,qn=ZP.actions,yde=ZP.reducer;function wh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yG={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,u){if(!i[l]){if(!n[l]){var f=typeof wh=="function"&&wh;if(!u&&f)return f(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(d){var g=n[l][1][d];return o(g||d)},p,p.exports,r,n,i,a)}return i[l].exports}for(var s=typeof wh=="function"&&wh,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var c=0,l=new o(d),u=a.document.createTextNode("");l.observe(u,{characterData:!0}),s=function(){u.data=c=++c%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=d,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var m=a.document.createElement("script");m.onreadystatechange=function(){d(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:s=function(){setTimeout(d,0)};var h,p=[];function d(){h=!0;for(var m,v,_=p.length;_;){for(v=p,p=[],m=-1;++m<_;)v[m]();_=p.length}h=!1}n.exports=g;function g(m){p.push(m)===1&&!h&&s()}}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];n.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,w!==o&&g(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,E){if(typeof w!="function"&&this.state===l||typeof E!="function"&&this.state===c)return this;var C=new this.constructor(o);if(this.state!==u){var T=this.state===l?w:E;p(C,T,this.outcome)}else this.queue.push(new h(C,w,E));return C};function h(w,E,C){this.promise=w,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(w){s.resolve(this.promise,w)},h.prototype.otherCallFulfilled=function(w){p(this.promise,this.onFulfilled,w)},h.prototype.callRejected=function(w){s.reject(this.promise,w)},h.prototype.otherCallRejected=function(w){p(this.promise,this.onRejected,w)};function p(w,E,C){a(function(){var T;try{T=E(C)}catch(A){return s.reject(w,A)}T===w?s.reject(w,new TypeError("Cannot resolve promise with itself")):s.resolve(w,T)})}s.resolve=function(w,E){var C=m(d,E);if(C.status==="error")return s.reject(w,C.value);var T=C.value;if(T)g(w,T);else{w.state=l,w.outcome=E;for(var A=-1,R=w.queue.length;++A<R;)w.queue[A].callFulfilled(E)}return w},s.reject=function(w,E){w.state=c,w.outcome=E;for(var C=-1,T=w.queue.length;++C<T;)w.queue[C].callRejected(E);return w};function d(w){var E=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof E=="function")return function(){E.apply(w,arguments)}}function g(w,E){var C=!1;function T(P){C||(C=!0,s.reject(w,P))}function A(P){C||(C=!0,s.resolve(w,P))}function R(){E(A,T)}var O=m(R);O.status==="error"&&T(O.value)}function m(w,E){var C={};try{C.value=w(E),C.status="success"}catch(T){C.status="error",C.value=T}return C}f.resolve=v;function v(w){return w instanceof this?w:s.resolve(new this(o),w)}f.reject=_;function _(w){var E=new this(o);return s.reject(E,w)}f.all=y;function y(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,T=!1;if(!C)return this.resolve([]);for(var A=new Array(C),R=0,O=-1,P=new this(o);++O<C;)k(w[O],O);return P;function k(M,B){E.resolve(M).then(D,function(H){T||(T=!0,s.reject(P,H))});function D(H){A[B]=H,++R===C&&!T&&(T=!0,s.resolve(P,A))}}}f.race=b;function b(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,T=!1;if(!C)return this.resolve([]);for(var A=-1,R=new this(o);++A<C;)O(w[A]);return R;function O(P){E.resolve(P).then(function(k){T||(T=!0,s.resolve(R,k))},function(k){T||(T=!0,s.reject(R,k))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J};function o(J,fe){if(!(J instanceof fe))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=s();function l(){try{if(!c||!c.open)return!1;var J=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),fe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!J||fe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(J,fe){J=J||[],fe=fe||{};try{return new Blob(J,fe)}catch(ve){if(ve.name!=="TypeError")throw ve;for(var ie=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,me=new ie,we=0;we<J.length;we+=1)me.append(J[we]);return me.getBlob(fe.type)}}typeof Promise>"u"&&r(3);var f=Promise;function h(J,fe){fe&&J.then(function(ie){fe(null,ie)},function(ie){fe(ie)})}function p(J,fe,ie){typeof fe=="function"&&J.then(fe),typeof ie=="function"&&J.catch(ie)}function d(J){return typeof J!="string"&&(console.warn(J+" used as a key, but it is not a string."),J=String(J)),J}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",v=void 0,_={},y=Object.prototype.toString,b="readonly",w="readwrite";function E(J){for(var fe=J.length,ie=new ArrayBuffer(fe),me=new Uint8Array(ie),we=0;we<fe;we++)me[we]=J.charCodeAt(we);return ie}function C(J){return new f(function(fe){var ie=J.transaction(m,w),me=u([""]);ie.objectStore(m).put(me,"key"),ie.onabort=function(we){we.preventDefault(),we.stopPropagation(),fe(!1)},ie.oncomplete=function(){var we=navigator.userAgent.match(/Chrome\/(\d+)/),ve=navigator.userAgent.match(/Edge\//);fe(ve||!we||parseInt(we[1],10)>=43)}}).catch(function(){return!1})}function T(J){return typeof v=="boolean"?f.resolve(v):C(J).then(function(fe){return v=fe,v})}function A(J){var fe=_[J.name],ie={};ie.promise=new f(function(me,we){ie.resolve=me,ie.reject=we}),fe.deferredOperations.push(ie),fe.dbReady?fe.dbReady=fe.dbReady.then(function(){return ie.promise}):fe.dbReady=ie.promise}function R(J){var fe=_[J.name],ie=fe.deferredOperations.pop();if(ie)return ie.resolve(),ie.promise}function O(J,fe){var ie=_[J.name],me=ie.deferredOperations.pop();if(me)return me.reject(fe),me.promise}function P(J,fe){return new f(function(ie,me){if(_[J.name]=_[J.name]||X(),J.db)if(fe)A(J),J.db.close();else return ie(J.db);var we=[J.name];fe&&we.push(J.version);var ve=c.open.apply(c,we);fe&&(ve.onupgradeneeded=function(Ue){var Xe=ve.result;try{Xe.createObjectStore(J.storeName),Ue.oldVersion<=1&&Xe.createObjectStore(m)}catch(Ke){if(Ke.name==="ConstraintError")console.warn('The database "'+J.name+'" has been upgraded from version '+Ue.oldVersion+" to version "+Ue.newVersion+', but the storage "'+J.storeName+'" already exists.');else throw Ke}}),ve.onerror=function(Ue){Ue.preventDefault(),me(ve.error)},ve.onsuccess=function(){var Ue=ve.result;Ue.onversionchange=function(Xe){Xe.target.close()},ie(Ue),R(J)}})}function k(J){return P(J,!1)}function M(J){return P(J,!0)}function B(J,fe){if(!J.db)return!0;var ie=!J.db.objectStoreNames.contains(J.storeName),me=J.version<J.db.version,we=J.version>J.db.version;if(me&&(J.version!==fe&&console.warn('The database "'+J.name+`" can't be downgraded from version `+J.db.version+" to version "+J.version+"."),J.version=J.db.version),we||ie){if(ie){var ve=J.db.version+1;ve>J.version&&(J.version=ve)}return!0}return!1}function D(J){return new f(function(fe,ie){var me=new FileReader;me.onerror=ie,me.onloadend=function(we){var ve=btoa(we.target.result||"");fe({__local_forage_encoded_blob:!0,data:ve,type:J.type})},me.readAsBinaryString(J)})}function H(J){var fe=E(atob(J.data));return u([fe],{type:J.type})}function ee(J){return J&&J.__local_forage_encoded_blob}function ne(J){var fe=this,ie=fe._initReady().then(function(){var me=_[fe._dbInfo.name];if(me&&me.dbReady)return me.dbReady});return p(ie,J,J),ie}function Y(J){A(J);for(var fe=_[J.name],ie=fe.forages,me=0;me<ie.length;me++){var we=ie[me];we._dbInfo.db&&(we._dbInfo.db.close(),we._dbInfo.db=null)}return J.db=null,k(J).then(function(ve){return J.db=ve,B(J)?M(J):ve}).then(function(ve){J.db=fe.db=ve;for(var Ue=0;Ue<ie.length;Ue++)ie[Ue]._dbInfo.db=ve}).catch(function(ve){throw O(J,ve),ve})}function U(J,fe,ie,me){me===void 0&&(me=1);try{var we=J.db.transaction(J.storeName,fe);ie(null,we)}catch(ve){if(me>0&&(!J.db||ve.name==="InvalidStateError"||ve.name==="NotFoundError"))return f.resolve().then(function(){if(!J.db||ve.name==="NotFoundError"&&!J.db.objectStoreNames.contains(J.storeName)&&J.version<=J.db.version)return J.db&&(J.version=J.db.version+1),M(J)}).then(function(){return Y(J).then(function(){U(J,fe,ie,me-1)})}).catch(ie);ie(ve)}}function X(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function V(J){var fe=this,ie={db:null};if(J)for(var me in J)ie[me]=J[me];var we=_[ie.name];we||(we=X(),_[ie.name]=we),we.forages.push(fe),fe._initReady||(fe._initReady=fe.ready,fe.ready=ne);var ve=[];function Ue(){return f.resolve()}for(var Xe=0;Xe<we.forages.length;Xe++){var Ke=we.forages[Xe];Ke!==fe&&ve.push(Ke._initReady().catch(Ue))}var Ze=we.forages.slice(0);return f.all(ve).then(function(){return ie.db=we.db,k(ie)}).then(function(tt){return ie.db=tt,B(ie,fe._defaultConfig.version)?M(ie):tt}).then(function(tt){ie.db=we.db=tt,fe._dbInfo=ie;for(var _t=0;_t<Ze.length;_t++){var ar=Ze[_t];ar!==fe&&(ar._dbInfo.db=ie.db,ar._dbInfo.version=ie.version)}})}function G(J,fe){var ie=this;J=d(J);var me=new f(function(we,ve){ie.ready().then(function(){U(ie._dbInfo,b,function(Ue,Xe){if(Ue)return ve(Ue);try{var Ke=Xe.objectStore(ie._dbInfo.storeName),Ze=Ke.get(J);Ze.onsuccess=function(){var tt=Ze.result;tt===void 0&&(tt=null),ee(tt)&&(tt=H(tt)),we(tt)},Ze.onerror=function(){ve(Ze.error)}}catch(tt){ve(tt)}})}).catch(ve)});return h(me,fe),me}function te(J,fe){var ie=this,me=new f(function(we,ve){ie.ready().then(function(){U(ie._dbInfo,b,function(Ue,Xe){if(Ue)return ve(Ue);try{var Ke=Xe.objectStore(ie._dbInfo.storeName),Ze=Ke.openCursor(),tt=1;Ze.onsuccess=function(){var _t=Ze.result;if(_t){var ar=_t.value;ee(ar)&&(ar=H(ar));var Ir=J(ar,_t.key,tt++);Ir!==void 0?we(Ir):_t.continue()}else we()},Ze.onerror=function(){ve(Ze.error)}}catch(_t){ve(_t)}})}).catch(ve)});return h(me,fe),me}function oe(J,fe,ie){var me=this;J=d(J);var we=new f(function(ve,Ue){var Xe;me.ready().then(function(){return Xe=me._dbInfo,y.call(fe)==="[object Blob]"?T(Xe.db).then(function(Ke){return Ke?fe:D(fe)}):fe}).then(function(Ke){U(me._dbInfo,w,function(Ze,tt){if(Ze)return Ue(Ze);try{var _t=tt.objectStore(me._dbInfo.storeName);Ke===null&&(Ke=void 0);var ar=_t.put(Ke,J);tt.oncomplete=function(){Ke===void 0&&(Ke=null),ve(Ke)},tt.onabort=tt.onerror=function(){var Ir=ar.error?ar.error:ar.transaction.error;Ue(Ir)}}catch(Ir){Ue(Ir)}})}).catch(Ue)});return h(we,ie),we}function ge(J,fe){var ie=this;J=d(J);var me=new f(function(we,ve){ie.ready().then(function(){U(ie._dbInfo,w,function(Ue,Xe){if(Ue)return ve(Ue);try{var Ke=Xe.objectStore(ie._dbInfo.storeName),Ze=Ke.delete(J);Xe.oncomplete=function(){we()},Xe.onerror=function(){ve(Ze.error)},Xe.onabort=function(){var tt=Ze.error?Ze.error:Ze.transaction.error;ve(tt)}}catch(tt){ve(tt)}})}).catch(ve)});return h(me,fe),me}function le(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){U(fe._dbInfo,w,function(ve,Ue){if(ve)return we(ve);try{var Xe=Ue.objectStore(fe._dbInfo.storeName),Ke=Xe.clear();Ue.oncomplete=function(){me()},Ue.onabort=Ue.onerror=function(){var Ze=Ke.error?Ke.error:Ke.transaction.error;we(Ze)}}catch(Ze){we(Ze)}})}).catch(we)});return h(ie,J),ie}function ye(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){U(fe._dbInfo,b,function(ve,Ue){if(ve)return we(ve);try{var Xe=Ue.objectStore(fe._dbInfo.storeName),Ke=Xe.count();Ke.onsuccess=function(){me(Ke.result)},Ke.onerror=function(){we(Ke.error)}}catch(Ze){we(Ze)}})}).catch(we)});return h(ie,J),ie}function Le(J,fe){var ie=this,me=new f(function(we,ve){if(J<0){we(null);return}ie.ready().then(function(){U(ie._dbInfo,b,function(Ue,Xe){if(Ue)return ve(Ue);try{var Ke=Xe.objectStore(ie._dbInfo.storeName),Ze=!1,tt=Ke.openKeyCursor();tt.onsuccess=function(){var _t=tt.result;if(!_t){we(null);return}J===0||Ze?we(_t.key):(Ze=!0,_t.advance(J))},tt.onerror=function(){ve(tt.error)}}catch(_t){ve(_t)}})}).catch(ve)});return h(me,fe),me}function ke(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){U(fe._dbInfo,b,function(ve,Ue){if(ve)return we(ve);try{var Xe=Ue.objectStore(fe._dbInfo.storeName),Ke=Xe.openKeyCursor(),Ze=[];Ke.onsuccess=function(){var tt=Ke.result;if(!tt){me(Ze);return}Ze.push(tt.key),tt.continue()},Ke.onerror=function(){we(Ke.error)}}catch(tt){we(tt)}})}).catch(we)});return h(ie,J),ie}function Ee(J,fe){fe=g.apply(this,arguments);var ie=this.config();J=typeof J!="function"&&J||{},J.name||(J.name=J.name||ie.name,J.storeName=J.storeName||ie.storeName);var me=this,we;if(!J.name)we=f.reject("Invalid arguments");else{var ve=J.name===ie.name&&me._dbInfo.db,Ue=ve?f.resolve(me._dbInfo.db):k(J).then(function(Xe){var Ke=_[J.name],Ze=Ke.forages;Ke.db=Xe;for(var tt=0;tt<Ze.length;tt++)Ze[tt]._dbInfo.db=Xe;return Xe});J.storeName?we=Ue.then(function(Xe){if(Xe.objectStoreNames.contains(J.storeName)){var Ke=Xe.version+1;A(J);var Ze=_[J.name],tt=Ze.forages;Xe.close();for(var _t=0;_t<tt.length;_t++){var ar=tt[_t];ar._dbInfo.db=null,ar._dbInfo.version=Ke}var Ir=new f(function(Rr,fn){var Hr=c.open(J.name,Ke);Hr.onerror=function(ca){var Pl=Hr.result;Pl.close(),fn(ca)},Hr.onupgradeneeded=function(){var ca=Hr.result;ca.deleteObjectStore(J.storeName)},Hr.onsuccess=function(){var ca=Hr.result;ca.close(),Rr(ca)}});return Ir.then(function(Rr){Ze.db=Rr;for(var fn=0;fn<tt.length;fn++){var Hr=tt[fn];Hr._dbInfo.db=Rr,R(Hr._dbInfo)}}).catch(function(Rr){throw(O(J,Rr)||f.resolve()).catch(function(){}),Rr})}}):we=Ue.then(function(Xe){A(J);var Ke=_[J.name],Ze=Ke.forages;Xe.close();for(var tt=0;tt<Ze.length;tt++){var _t=Ze[tt];_t._dbInfo.db=null}var ar=new f(function(Ir,Rr){var fn=c.deleteDatabase(J.name);fn.onerror=function(){var Hr=fn.result;Hr&&Hr.close(),Rr(fn.error)},fn.onblocked=function(){console.warn('dropInstance blocked for database "'+J.name+'" until all open connections are closed')},fn.onsuccess=function(){var Hr=fn.result;Hr&&Hr.close(),Ir(Hr)}});return ar.then(function(Ir){Ke.db=Ir;for(var Rr=0;Rr<Ze.length;Rr++){var fn=Ze[Rr];R(fn._dbInfo)}}).catch(function(Ir){throw(O(J,Ir)||f.resolve()).catch(function(){}),Ir})})}return h(we,fe),we}var Se={_driver:"asyncStorage",_initStorage:V,_support:l(),iterate:te,getItem:G,setItem:oe,removeItem:ge,clear:le,length:ye,key:Le,keys:ke,dropInstance:Ee};function De(){return typeof openDatabase=="function"}var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",He=/^~~local_forage_type~([^~]+)~/,qe="__lfsc__:",Et=qe.length,Rt="arbf",ht="blob",dt="si08",St="ui08",nr="uic8",Xt="si16",ir="si32",Vt="ur16",bt="ui32",Zt="fl32",Oe="fl64",j=Et+Rt.length,pe=Object.prototype.toString;function Ce(J){var fe=J.length*.75,ie=J.length,me,we=0,ve,Ue,Xe,Ke;J[J.length-1]==="="&&(fe--,J[J.length-2]==="="&&fe--);var Ze=new ArrayBuffer(fe),tt=new Uint8Array(Ze);for(me=0;me<ie;me+=4)ve=We.indexOf(J[me]),Ue=We.indexOf(J[me+1]),Xe=We.indexOf(J[me+2]),Ke=We.indexOf(J[me+3]),tt[we++]=ve<<2|Ue>>4,tt[we++]=(Ue&15)<<4|Xe>>2,tt[we++]=(Xe&3)<<6|Ke&63;return Ze}function Fe(J){var fe=new Uint8Array(J),ie="",me;for(me=0;me<fe.length;me+=3)ie+=We[fe[me]>>2],ie+=We[(fe[me]&3)<<4|fe[me+1]>>4],ie+=We[(fe[me+1]&15)<<2|fe[me+2]>>6],ie+=We[fe[me+2]&63];return fe.length%3===2?ie=ie.substring(0,ie.length-1)+"=":fe.length%3===1&&(ie=ie.substring(0,ie.length-2)+"=="),ie}function ae(J,fe){var ie="";if(J&&(ie=pe.call(J)),J&&(ie==="[object ArrayBuffer]"||J.buffer&&pe.call(J.buffer)==="[object ArrayBuffer]")){var me,we=qe;J instanceof ArrayBuffer?(me=J,we+=Rt):(me=J.buffer,ie==="[object Int8Array]"?we+=dt:ie==="[object Uint8Array]"?we+=St:ie==="[object Uint8ClampedArray]"?we+=nr:ie==="[object Int16Array]"?we+=Xt:ie==="[object Uint16Array]"?we+=Vt:ie==="[object Int32Array]"?we+=ir:ie==="[object Uint32Array]"?we+=bt:ie==="[object Float32Array]"?we+=Zt:ie==="[object Float64Array]"?we+=Oe:fe(new Error("Failed to get type for BinaryArray"))),fe(we+Fe(me))}else if(ie==="[object Blob]"){var ve=new FileReader;ve.onload=function(){var Ue=Ve+J.type+"~"+Fe(this.result);fe(qe+ht+Ue)},ve.readAsArrayBuffer(J)}else try{fe(JSON.stringify(J))}catch(Ue){console.error("Couldn't convert value into a JSON string: ",J),fe(null,Ue)}}function Ae(J){if(J.substring(0,Et)!==qe)return JSON.parse(J);var fe=J.substring(j),ie=J.substring(Et,j),me;if(ie===ht&&He.test(fe)){var we=fe.match(He);me=we[1],fe=fe.substring(we[0].length)}var ve=Ce(fe);switch(ie){case Rt:return ve;case ht:return u([ve],{type:me});case dt:return new Int8Array(ve);case St:return new Uint8Array(ve);case nr:return new Uint8ClampedArray(ve);case Xt:return new Int16Array(ve);case Vt:return new Uint16Array(ve);case ir:return new Int32Array(ve);case bt:return new Uint32Array(ve);case Zt:return new Float32Array(ve);case Oe:return new Float64Array(ve);default:throw new Error("Unkown type: "+ie)}}var z={serialize:ae,deserialize:Ae,stringToBuffer:Ce,bufferToString:Fe};function je(J,fe,ie,me){J.executeSql("CREATE TABLE IF NOT EXISTS "+fe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ie,me)}function vt(J){var fe=this,ie={db:null};if(J)for(var me in J)ie[me]=typeof J[me]!="string"?J[me].toString():J[me];var we=new f(function(ve,Ue){try{ie.db=openDatabase(ie.name,String(ie.version),ie.description,ie.size)}catch(Xe){return Ue(Xe)}ie.db.transaction(function(Xe){je(Xe,ie,function(){fe._dbInfo=ie,ve()},function(Ke,Ze){Ue(Ze)})},Ue)});return ie.serializer=z,we}function N(J,fe,ie,me,we,ve){J.executeSql(ie,me,we,function(Ue,Xe){Xe.code===Xe.SYNTAX_ERR?Ue.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[fe.storeName],function(Ke,Ze){Ze.rows.length?ve(Ke,Xe):je(Ke,fe,function(){Ke.executeSql(ie,me,we,ve)},ve)},ve):ve(Ue,Xe)},ve)}function Re(J,fe){var ie=this;J=d(J);var me=new f(function(we,ve){ie.ready().then(function(){var Ue=ie._dbInfo;Ue.db.transaction(function(Xe){N(Xe,Ue,"SELECT * FROM "+Ue.storeName+" WHERE key = ? LIMIT 1",[J],function(Ke,Ze){var tt=Ze.rows.length?Ze.rows.item(0).value:null;tt&&(tt=Ue.serializer.deserialize(tt)),we(tt)},function(Ke,Ze){ve(Ze)})})}).catch(ve)});return h(me,fe),me}function Pe(J,fe){var ie=this,me=new f(function(we,ve){ie.ready().then(function(){var Ue=ie._dbInfo;Ue.db.transaction(function(Xe){N(Xe,Ue,"SELECT * FROM "+Ue.storeName,[],function(Ke,Ze){for(var tt=Ze.rows,_t=tt.length,ar=0;ar<_t;ar++){var Ir=tt.item(ar),Rr=Ir.value;if(Rr&&(Rr=Ue.serializer.deserialize(Rr)),Rr=J(Rr,Ir.key,ar+1),Rr!==void 0){we(Rr);return}}we()},function(Ke,Ze){ve(Ze)})})}).catch(ve)});return h(me,fe),me}function q(J,fe,ie,me){var we=this;J=d(J);var ve=new f(function(Ue,Xe){we.ready().then(function(){fe===void 0&&(fe=null);var Ke=fe,Ze=we._dbInfo;Ze.serializer.serialize(fe,function(tt,_t){_t?Xe(_t):Ze.db.transaction(function(ar){N(ar,Ze,"INSERT OR REPLACE INTO "+Ze.storeName+" (key, value) VALUES (?, ?)",[J,tt],function(){Ue(Ke)},function(Ir,Rr){Xe(Rr)})},function(ar){if(ar.code===ar.QUOTA_ERR){if(me>0){Ue(q.apply(we,[J,Ke,ie,me-1]));return}Xe(ar)}})})}).catch(Xe)});return h(ve,ie),ve}function ue(J,fe,ie){return q.apply(this,[J,fe,ie,1])}function Te(J,fe){var ie=this;J=d(J);var me=new f(function(we,ve){ie.ready().then(function(){var Ue=ie._dbInfo;Ue.db.transaction(function(Xe){N(Xe,Ue,"DELETE FROM "+Ue.storeName+" WHERE key = ?",[J],function(){we()},function(Ke,Ze){ve(Ze)})})}).catch(ve)});return h(me,fe),me}function pt(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){var ve=fe._dbInfo;ve.db.transaction(function(Ue){N(Ue,ve,"DELETE FROM "+ve.storeName,[],function(){me()},function(Xe,Ke){we(Ke)})})}).catch(we)});return h(ie,J),ie}function Qe(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){var ve=fe._dbInfo;ve.db.transaction(function(Ue){N(Ue,ve,"SELECT COUNT(key) as c FROM "+ve.storeName,[],function(Xe,Ke){var Ze=Ke.rows.item(0).c;me(Ze)},function(Xe,Ke){we(Ke)})})}).catch(we)});return h(ie,J),ie}function st(J,fe){var ie=this,me=new f(function(we,ve){ie.ready().then(function(){var Ue=ie._dbInfo;Ue.db.transaction(function(Xe){N(Xe,Ue,"SELECT key FROM "+Ue.storeName+" WHERE id = ? LIMIT 1",[J+1],function(Ke,Ze){var tt=Ze.rows.length?Ze.rows.item(0).key:null;we(tt)},function(Ke,Ze){ve(Ze)})})}).catch(ve)});return h(me,fe),me}function kt(J){var fe=this,ie=new f(function(me,we){fe.ready().then(function(){var ve=fe._dbInfo;ve.db.transaction(function(Ue){N(Ue,ve,"SELECT key FROM "+ve.storeName,[],function(Xe,Ke){for(var Ze=[],tt=0;tt<Ke.rows.length;tt++)Ze.push(Ke.rows.item(tt).key);me(Ze)},function(Xe,Ke){we(Ke)})})}).catch(we)});return h(ie,J),ie}function Gn(J){return new f(function(fe,ie){J.transaction(function(me){me.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(we,ve){for(var Ue=[],Xe=0;Xe<ve.rows.length;Xe++)Ue.push(ve.rows.item(Xe).name);fe({db:J,storeNames:Ue})},function(we,ve){ie(ve)})},function(me){ie(me)})})}function lr(J,fe){fe=g.apply(this,arguments);var ie=this.config();J=typeof J!="function"&&J||{},J.name||(J.name=J.name||ie.name,J.storeName=J.storeName||ie.storeName);var me=this,we;return J.name?we=new f(function(ve){var Ue;J.name===ie.name?Ue=me._dbInfo.db:Ue=openDatabase(J.name,"","",0),J.storeName?ve({db:Ue,storeNames:[J.storeName]}):ve(Gn(Ue))}).then(function(ve){return new f(function(Ue,Xe){ve.db.transaction(function(Ke){function Ze(Ir){return new f(function(Rr,fn){Ke.executeSql("DROP TABLE IF EXISTS "+Ir,[],function(){Rr()},function(Hr,ca){fn(ca)})})}for(var tt=[],_t=0,ar=ve.storeNames.length;_t<ar;_t++)tt.push(Ze(ve.storeNames[_t]));f.all(tt).then(function(){Ue()}).catch(function(Ir){Xe(Ir)})},function(Ke){Xe(Ke)})})}):we=f.reject("Invalid arguments"),h(we,fe),we}var Ct={_driver:"webSQLStorage",_initStorage:vt,_support:De(),iterate:Pe,getItem:Re,setItem:ue,removeItem:Te,clear:pt,length:Qe,key:st,keys:kt,dropInstance:lr};function Ar(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function un(J,fe){var ie=J.name+"/";return J.storeName!==fe.storeName&&(ie+=J.storeName+"/"),ie}function ni(){var J="_localforage_support_test";try{return localStorage.setItem(J,!0),localStorage.removeItem(J),!1}catch{return!0}}function Al(){return!ni()||localStorage.length>0}function Il(J){var fe=this,ie={};if(J)for(var me in J)ie[me]=J[me];return ie.keyPrefix=un(J,fe._defaultConfig),Al()?(fe._dbInfo=ie,ie.serializer=z,f.resolve()):f.reject()}function cn(J){var fe=this,ie=fe.ready().then(function(){for(var me=fe._dbInfo.keyPrefix,we=localStorage.length-1;we>=0;we--){var ve=localStorage.key(we);ve.indexOf(me)===0&&localStorage.removeItem(ve)}});return h(ie,J),ie}function qi(J,fe){var ie=this;J=d(J);var me=ie.ready().then(function(){var we=ie._dbInfo,ve=localStorage.getItem(we.keyPrefix+J);return ve&&(ve=we.serializer.deserialize(ve)),ve});return h(me,fe),me}function Vn(J,fe){var ie=this,me=ie.ready().then(function(){for(var we=ie._dbInfo,ve=we.keyPrefix,Ue=ve.length,Xe=localStorage.length,Ke=1,Ze=0;Ze<Xe;Ze++){var tt=localStorage.key(Ze);if(tt.indexOf(ve)===0){var _t=localStorage.getItem(tt);if(_t&&(_t=we.serializer.deserialize(_t)),_t=J(_t,tt.substring(Ue),Ke++),_t!==void 0)return _t}}});return h(me,fe),me}function ja(J,fe){var ie=this,me=ie.ready().then(function(){var we=ie._dbInfo,ve;try{ve=localStorage.key(J)}catch{ve=null}return ve&&(ve=ve.substring(we.keyPrefix.length)),ve});return h(me,fe),me}function ua(J){var fe=this,ie=fe.ready().then(function(){for(var me=fe._dbInfo,we=localStorage.length,ve=[],Ue=0;Ue<we;Ue++){var Xe=localStorage.key(Ue);Xe.indexOf(me.keyPrefix)===0&&ve.push(Xe.substring(me.keyPrefix.length))}return ve});return h(ie,J),ie}function If(J){var fe=this,ie=fe.keys().then(function(me){return me.length});return h(ie,J),ie}function Vb(J,fe){var ie=this;J=d(J);var me=ie.ready().then(function(){var we=ie._dbInfo;localStorage.removeItem(we.keyPrefix+J)});return h(me,fe),me}function Hb(J,fe,ie){var me=this;J=d(J);var we=me.ready().then(function(){fe===void 0&&(fe=null);var ve=fe;return new f(function(Ue,Xe){var Ke=me._dbInfo;Ke.serializer.serialize(fe,function(Ze,tt){if(tt)Xe(tt);else try{localStorage.setItem(Ke.keyPrefix+J,Ze),Ue(ve)}catch(_t){(_t.name==="QuotaExceededError"||_t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Xe(_t),Xe(_t)}})})});return h(we,ie),we}function zb(J,fe){if(fe=g.apply(this,arguments),J=typeof J!="function"&&J||{},!J.name){var ie=this.config();J.name=J.name||ie.name,J.storeName=J.storeName||ie.storeName}var me=this,we;return J.name?we=new f(function(ve){J.storeName?ve(un(J,me._defaultConfig)):ve(J.name+"/")}).then(function(ve){for(var Ue=localStorage.length-1;Ue>=0;Ue--){var Xe=localStorage.key(Ue);Xe.indexOf(ve)===0&&localStorage.removeItem(Xe)}}):we=f.reject("Invalid arguments"),h(we,fe),we}var Xb={_driver:"localStorageWrapper",_initStorage:Il,_support:Ar(),iterate:Vn,getItem:qi,setItem:Hb,removeItem:Vb,clear:cn,length:If,key:ja,keys:ua,dropInstance:zb},Wb=function(fe,ie){return fe===ie||typeof fe=="number"&&typeof ie=="number"&&isNaN(fe)&&isNaN(ie)},Rf=function(fe,ie){for(var me=fe.length,we=0;we<me;){if(Wb(fe[we],ie))return!0;we++}return!1},Pg=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"},us={},Og={},Rl={INDEXEDDB:Se,WEBSQL:Ct,LOCALSTORAGE:Xb},Yb=[Rl.INDEXEDDB._driver,Rl.WEBSQL._driver,Rl.LOCALSTORAGE._driver],Ku=["dropInstance"],Pf=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ku),kg={description:"",driver:Yb.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function qb(J,fe){J[fe]=function(){var ie=arguments;return J.ready().then(function(){return J[fe].apply(J,ie)})}}function c0(){for(var J=1;J<arguments.length;J++){var fe=arguments[J];if(fe)for(var ie in fe)fe.hasOwnProperty(ie)&&(Pg(fe[ie])?arguments[0][ie]=fe[ie].slice():arguments[0][ie]=fe[ie])}return arguments[0]}var Kb=function(){function J(fe){o(this,J);for(var ie in Rl)if(Rl.hasOwnProperty(ie)){var me=Rl[ie],we=me._driver;this[ie]=we,us[we]||this.defineDriver(me)}this._defaultConfig=c0({},kg),this._config=c0({},this._defaultConfig,fe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return J.prototype.config=function(ie){if((typeof ie>"u"?"undefined":a(ie))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var me in ie){if(me==="storeName"&&(ie[me]=ie[me].replace(/\W/g,"_")),me==="version"&&typeof ie[me]!="number")return new Error("Database version must be a number.");this._config[me]=ie[me]}return"driver"in ie&&ie.driver?this.setDriver(this._config.driver):!0}else return typeof ie=="string"?this._config[ie]:this._config},J.prototype.defineDriver=function(ie,me,we){var ve=new f(function(Ue,Xe){try{var Ke=ie._driver,Ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ie._driver){Xe(Ze);return}for(var tt=Pf.concat("_initStorage"),_t=0,ar=tt.length;_t<ar;_t++){var Ir=tt[_t],Rr=!Rf(Ku,Ir);if((Rr||ie[Ir])&&typeof ie[Ir]!="function"){Xe(Ze);return}}var fn=function(){for(var Pl=function(Ng){return function(){var Qb=new Error("Method "+Ng+" is not implemented by the current driver"),Mg=f.reject(Qb);return h(Mg,arguments[arguments.length-1]),Mg}},f0=0,Fg=Ku.length;f0<Fg;f0++){var Of=Ku[f0];ie[Of]||(ie[Of]=Pl(Of))}};fn();var Hr=function(Pl){us[Ke]&&console.info("Redefining LocalForage driver: "+Ke),us[Ke]=ie,Og[Ke]=Pl,Ue()};"_support"in ie?ie._support&&typeof ie._support=="function"?ie._support().then(Hr,Xe):Hr(!!ie._support):Hr(!0)}catch(ca){Xe(ca)}});return p(ve,me,we),ve},J.prototype.driver=function(){return this._driver||null},J.prototype.getDriver=function(ie,me,we){var ve=us[ie]?f.resolve(us[ie]):f.reject(new Error("Driver not found."));return p(ve,me,we),ve},J.prototype.getSerializer=function(ie){var me=f.resolve(z);return p(me,ie),me},J.prototype.ready=function(ie){var me=this,we=me._driverSet.then(function(){return me._ready===null&&(me._ready=me._initDriver()),me._ready});return p(we,ie,ie),we},J.prototype.setDriver=function(ie,me,we){var ve=this;Pg(ie)||(ie=[ie]);var Ue=this._getSupportedDrivers(ie);function Xe(){ve._config.driver=ve.driver()}function Ke(_t){return ve._extend(_t),Xe(),ve._ready=ve._initStorage(ve._config),ve._ready}function Ze(_t){return function(){var ar=0;function Ir(){for(;ar<_t.length;){var Rr=_t[ar];return ar++,ve._dbInfo=null,ve._ready=null,ve.getDriver(Rr).then(Ke).catch(Ir)}Xe();var fn=new Error("No available storage method found.");return ve._driverSet=f.reject(fn),ve._driverSet}return Ir()}}var tt=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=tt.then(function(){var _t=Ue[0];return ve._dbInfo=null,ve._ready=null,ve.getDriver(_t).then(function(ar){ve._driver=ar._driver,Xe(),ve._wrapLibraryMethodsWithReady(),ve._initDriver=Ze(Ue)})}).catch(function(){Xe();var _t=new Error("No available storage method found.");return ve._driverSet=f.reject(_t),ve._driverSet}),p(this._driverSet,me,we),this._driverSet},J.prototype.supports=function(ie){return!!Og[ie]},J.prototype._extend=function(ie){c0(this,ie)},J.prototype._getSupportedDrivers=function(ie){for(var me=[],we=0,ve=ie.length;we<ve;we++){var Ue=ie[we];this.supports(Ue)&&me.push(Ue)}return me},J.prototype._wrapLibraryMethodsWithReady=function(){for(var ie=0,me=Pf.length;ie<me;ie++)qb(this,Pf[ie])},J.prototype.createInstance=function(ie){return new J(ie)},J}(),Zb=new Kb;n.exports=Zb},{3:3}]},{},[4])(4)})})(yG);var af=yG.exports;const Io=Yi(af);var JP={exports:{}},xG=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}},xde=xG,bf=Object.prototype.toString;function QP(t){return bf.call(t)==="[object Array]"}function jT(t){return typeof t>"u"}function bde(t){return t!==null&&!jT(t)&&t.constructor!==null&&!jT(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function wde(t){return bf.call(t)==="[object ArrayBuffer]"}function Ede(t){return typeof FormData<"u"&&t instanceof FormData}function Sde(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Cde(t){return typeof t=="string"}function Tde(t){return typeof t=="number"}function bG(t){return t!==null&&typeof t=="object"}function $_(t){if(bf.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Ade(t){return bf.call(t)==="[object Date]"}function Ide(t){return bf.call(t)==="[object File]"}function Rde(t){return bf.call(t)==="[object Blob]"}function wG(t){return bf.call(t)==="[object Function]"}function Pde(t){return bG(t)&&wG(t.pipe)}function Ode(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function kde(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Fde(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function eO(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),QP(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function $T(){var t={};function e(i,a){$_(t[a])&&$_(i)?t[a]=$T(t[a],i):$_(i)?t[a]=$T({},i):QP(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)eO(arguments[r],e);return t}function Nde(t,e,r){return eO(e,function(i,a){r&&typeof i=="function"?t[a]=xde(i,r):t[a]=i}),t}function Mde(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var io={isArray:QP,isArrayBuffer:wde,isBuffer:bde,isFormData:Ede,isArrayBufferView:Sde,isString:Cde,isNumber:Tde,isObject:bG,isPlainObject:$_,isUndefined:jT,isDate:Ade,isFile:Ide,isBlob:Rde,isFunction:wG,isStream:Pde,isURLSearchParams:Ode,isStandardBrowserEnv:Fde,forEach:eO,merge:$T,extend:Nde,trim:kde,stripBOM:Mde},Wf=io;function FL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var EG=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Wf.isURLSearchParams(r))i=r.toString();else{var a=[];Wf.forEach(r,function(c,l){c===null||typeof c>"u"||(Wf.isArray(c)?l=l+"[]":c=[c],Wf.forEach(c,function(f){Wf.isDate(f)?f=f.toISOString():Wf.isObject(f)&&(f=JSON.stringify(f)),a.push(FL(l)+"="+FL(f))}))}),i=a.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Lde=io;function n1(){this.handlers=[]}n1.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};n1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};n1.prototype.forEach=function(e){Lde.forEach(this.handlers,function(n){n!==null&&e(n)})};var Bde=n1,Dde=io,Ude=function(e,r){Dde.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})},SG=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},DE,NL;function CG(){if(NL)return DE;NL=1;var t=SG;return DE=function(r,n,i,a,o){var s=new Error(r);return t(s,n,i,a,o)},DE}var UE,ML;function jde(){if(ML)return UE;ML=1;var t=CG();return UE=function(r,n,i){var a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):n(t("Request failed with status code "+i.status,i.config,null,i.request,i))},UE}var jE,LL;function $de(){if(LL)return jE;LL=1;var t=io;return jE=t.isStandardBrowserEnv()?function(){return{write:function(n,i,a,o,s,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(s)&&l.push("domain="+s),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),jE}var $E,BL;function Gde(){return BL||(BL=1,$E=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),$E}var GE,DL;function Vde(){return DL||(DL=1,GE=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}),GE}var VE,UL;function Hde(){if(UL)return VE;UL=1;var t=Gde(),e=Vde();return VE=function(n,i){return n&&!t(i)?e(n,i):i},VE}var HE,jL;function zde(){if(jL)return HE;jL=1;var t=io,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return HE=function(n){var i={},a,o,s;return n&&t.forEach(n.split(`
`),function(l){if(s=l.indexOf(":"),a=t.trim(l.substr(0,s)).toLowerCase(),o=t.trim(l.substr(s+1)),a){if(i[a]&&e.indexOf(a)>=0)return;a==="set-cookie"?i[a]=(i[a]?i[a]:[]).concat([o]):i[a]=i[a]?i[a]+", "+o:o}}),i},HE}var zE,$L;function Xde(){if($L)return zE;$L=1;var t=io;return zE=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function a(o){var s=o;return r&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=a(window.location.href),function(s){var c=t.isString(s)?a(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),zE}var XE,GL;function i1(){if(GL)return XE;GL=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,XE=t,XE}var WE,VL;function HL(){if(VL)return WE;VL=1;var t=io,e=jde(),r=$de(),n=EG,i=Hde(),a=zde(),o=Xde(),s=CG(),c=a1(),l=i1();return WE=function(f){return new Promise(function(p,d){var g=f.data,m=f.headers,v=f.responseType,_;function y(){f.cancelToken&&f.cancelToken.unsubscribe(_),f.signal&&f.signal.removeEventListener("abort",_)}t.isFormData(g)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(f.auth){var w=f.auth.username||"",E=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+E)}var C=i(f.baseURL,f.url);b.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),b.timeout=f.timeout;function T(){if(b){var R="getAllResponseHeaders"in b?a(b.getAllResponseHeaders()):null,O=!v||v==="text"||v==="json"?b.responseText:b.response,P={data:O,status:b.status,statusText:b.statusText,headers:R,config:f,request:b};e(function(M){p(M),y()},function(M){d(M),y()},P),b=null}}if("onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(T)},b.onabort=function(){b&&(d(s("Request aborted",f,"ECONNABORTED",b)),b=null)},b.onerror=function(){d(s("Network Error",f,null,b)),b=null},b.ontimeout=function(){var O=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",P=f.transitional||c.transitional;f.timeoutErrorMessage&&(O=f.timeoutErrorMessage),d(s(O,f,P.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},t.isStandardBrowserEnv()){var A=(f.withCredentials||o(C))&&f.xsrfCookieName?r.read(f.xsrfCookieName):void 0;A&&(m[f.xsrfHeaderName]=A)}"setRequestHeader"in b&&t.forEach(m,function(O,P){typeof g>"u"&&P.toLowerCase()==="content-type"?delete m[P]:b.setRequestHeader(P,O)}),t.isUndefined(f.withCredentials)||(b.withCredentials=!!f.withCredentials),v&&v!=="json"&&(b.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&b.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(_=function(R){b&&(d(!R||R&&R.type?new l("canceled"):R),b.abort(),b=null)},f.cancelToken&&f.cancelToken.subscribe(_),f.signal&&(f.signal.aborted?_():f.signal.addEventListener("abort",_))),g||(g=null),b.send(g)})},WE}var YE,zL;function a1(){if(zL)return YE;zL=1;var t=io,e=Ude,r=SG,n={"Content-Type":"application/x-www-form-urlencoded"};function i(c,l){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=l)}function a(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=HL()),c}function o(c,l,u){if(t.isString(c))try{return(l||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(u||JSON.stringify)(c)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:a(),transformRequest:[function(l,u){return e(u,"Accept"),e(u,"Content-Type"),t.isFormData(l)||t.isArrayBuffer(l)||t.isBuffer(l)||t.isStream(l)||t.isFile(l)||t.isBlob(l)?l:t.isArrayBufferView(l)?l.buffer:t.isURLSearchParams(l)?(i(u,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):t.isObject(l)||u&&u["Content-Type"]==="application/json"?(i(u,"application/json"),o(l)):l}],transformResponse:[function(l){var u=this.transitional||s.transitional,f=u&&u.silentJSONParsing,h=u&&u.forcedJSONParsing,p=!f&&this.responseType==="json";if(p||h&&t.isString(l)&&l.length)try{return JSON.parse(l)}catch(d){if(p)throw d.name==="SyntaxError"?r(d,this,"E_JSON_PARSE"):d}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return t.forEach(["delete","get","head"],function(l){s.headers[l]={}}),t.forEach(["post","put","patch"],function(l){s.headers[l]=t.merge(n)}),YE=s,YE}var Wde=io,Yde=a1(),qde=function(e,r,n){var i=this||Yde;return Wde.forEach(n,function(o){e=o.call(i,e,r)}),e},qE,XL;function TG(){return XL||(XL=1,qE=function(e){return!!(e&&e.__CANCEL__)}),qE}var WL=io,KE=qde,Kde=TG(),Zde=a1(),Jde=i1();function ZE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jde("canceled")}var Qde=function(e){ZE(e),e.headers=e.headers||{},e.data=KE.call(e,e.data,e.headers,e.transformRequest),e.headers=WL.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),WL.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Zde.adapter;return r(e).then(function(i){return ZE(e),i.data=KE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Kde(i)||(ZE(e),i&&i.response&&(i.response.data=KE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Wa=io,AG=function(e,r){r=r||{};var n={};function i(u,f){return Wa.isPlainObject(u)&&Wa.isPlainObject(f)?Wa.merge(u,f):Wa.isPlainObject(f)?Wa.merge({},f):Wa.isArray(f)?f.slice():f}function a(u){if(Wa.isUndefined(r[u])){if(!Wa.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function o(u){if(!Wa.isUndefined(r[u]))return i(void 0,r[u])}function s(u){if(Wa.isUndefined(r[u])){if(!Wa.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Wa.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var h=l[f]||a,p=h(f);Wa.isUndefined(p)&&h!==c||(n[f]=p)}),n},JE,YL;function IG(){return YL||(YL=1,JE={version:"0.24.0"}),JE}var e0e=IG().version,tO={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){tO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var qL={};tO.transitional=function(e,r,n){function i(a,o){return"[Axios v"+e0e+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!qL[o]&&(qL[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function t0e(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],o=e[a];if(o){var s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new TypeError("option "+a+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+a)}}var r0e={assertOptions:t0e,validators:tO},RG=io,n0e=EG,KL=Bde,ZL=Qde,o1=AG,PG=r0e,Yf=PG.validators;function ug(t){this.defaults=t,this.interceptors={request:new KL,response:new KL}}ug.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=o1(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&PG.assertOptions(r,{silentJSONParsing:Yf.transitional(Yf.boolean),forcedJSONParsing:Yf.transitional(Yf.boolean),clarifyTimeoutError:Yf.transitional(Yf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(e)===!1||(i=i&&h.synchronous,n.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!i){var s=[ZL,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{o=ZL(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};ug.prototype.getUri=function(e){return e=o1(this.defaults,e),n0e(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};RG.forEach(["delete","get","head","options"],function(e){ug.prototype[e]=function(r,n){return this.request(o1(n||{},{method:e,url:r,data:(n||{}).data}))}});RG.forEach(["post","put","patch"],function(e){ug.prototype[e]=function(r,n,i){return this.request(o1(i||{},{method:e,url:r,data:n}))}});var i0e=ug,QE,JL;function a0e(){if(JL)return QE;JL=1;var t=i1();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(a){if(i._listeners){var o,s=i._listeners.length;for(o=0;o<s;o++)i._listeners[o](a);i._listeners=null}}),this.promise.then=function(a){var o,s=new Promise(function(c){i.subscribe(c),o=c}).then(a);return s.cancel=function(){i.unsubscribe(o)},s},r(function(o){i.reason||(i.reason=new t(o),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(o){n=o});return{token:i,cancel:n}},QE=e,QE}var eS,QL;function o0e(){return QL||(QL=1,eS=function(e){return function(n){return e.apply(null,n)}}),eS}var tS,eB;function s0e(){return eB||(eB=1,tS=function(e){return typeof e=="object"&&e.isAxiosError===!0}),tS}var tB=io,l0e=xG,G_=i0e,u0e=AG,c0e=a1();function OG(t){var e=new G_(t),r=l0e(G_.prototype.request,e);return tB.extend(r,G_.prototype,e),tB.extend(r,e),r.create=function(i){return OG(u0e(t,i))},r}var Us=OG(c0e);Us.Axios=G_;Us.Cancel=i1();Us.CancelToken=a0e();Us.isCancel=TG();Us.VERSION=IG().version;Us.all=function(e){return Promise.all(e)};Us.spread=o0e();Us.isAxiosError=s0e();JP.exports=Us;JP.exports.default=Us;var f0e=JP.exports,h0e=f0e;const d0e=h0e;class p0e{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(e,r){this.url=e,r&&(this.mongoUrl=r)}setUpload(e){this.isUpload=e}setCollection(e){this.collection=e}setLevel(e){this.level=e.toUpperCase()}upload(e,r,n,i){typeof e!="string"&&this.error("log",void 0,!1);let a={log:{info:e,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const o=this;this.url!==""&&this.isUpload&&d0e.post(this.url+"/log",a).then(s=>{o.trace("Logged to cloud.",void 0,!1)}).catch(s=>{o.error("Logging to cloud failed!",void 0,!1)})}clog(e,r,n,i,a,o){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",e),r&&(console.log(r),console.log("------------------------"))),o===void 0&&this.upload(e,r,n,a),o!==void 0&&o&&this.upload(e,r,n,a)}trace(e,r,n){const i=new Date,a="TRACE",o="#005CAF";this.clog(e,r,a,o,i,n)}debug(e,r,n){const i=new Date,a="DEBUG",o="#0089A7";this.clog(e,r,a,o,i,n)}info(e,r,n){const i=new Date,a="INFO",o="#00896C";this.clog(e,r,a,o,i,n)}warn(e,r,n){const i=new Date,a="WARN",o="#DDA52D";this.clog(e,r,a,o,i,n)}error(e,r,n){const i=new Date,a="ERROR",o="#AB3B3A";this.clog(e,r,a,o,i,n)}fatal(e,r,n){const i=new Date,a="FATAL",o="#E16B8C";this.clog(e,r,a,o,i,n)}}var v0e=p0e;const g0e=Yi(v0e),Je=new g0e,m0e={common:{yes:"OK",no:"Cancel"},menu:{options:{title:"OPTIONS",pages:{system:{title:"System",options:{autoSpeed:{title:"Autoplay Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},language:{title:"Language"},resetData:{title:"Clear or Reset Data",options:{clearGameSave:"Clear game saving",resetSettings:"Reset settings",clearAll:"Clear all data"},dialogs:{clearGameSave:"Are you sure you want to clear game saving",resetSettings:"Are you sure you want to reset all settings",clearAll:"Are you sure you want to clear all data"}},gameSave:{title:"Import or Export Game Saving and Options",options:{export:"Export game saving and options",import:"Import game saving and options"},dialogs:{import:{title:"Are you sure you want to import game saving and options",tip:"Import game saving",error:"Parse game saving failed"}}},about:{title:"About WebGAL",subTitle:"WebGAL: An Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Display",options:{fullScreen:{title:"Full Screen",options:{on:"ON",off:"OFF"}},textSpeed:{title:"Text Speed",options:{slow:"Slow",medium:"Medium",fast:"Fast"}},textSize:{title:"Text Size",options:{small:"Small",medium:"Medium",large:"Large"}},textFont:{title:"Text Font",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Preview Text Showing",text:"You are previewing the text's font, size and playback speed, now. You can adjust the above options according to your perception."}}},sound:{title:"Sound",options:{volumeMain:{title:"Main Volume"},vocalVolume:{title:"Vocal Volume"},bgmVolume:{title:"BGM Volume"},seVolume:{title:"Sound Effects Volume"},uiSeVolume:{title:"UI Sound Effects Volume"}}}}},saving:{title:"SAVE",isOverwrite:"Are you sure you want to overwrite this save?"},loadSaving:{title:"LOAD"},title:{title:"TITLE"},exit:{title:"BACK"}},title:{start:{title:"START",subtitle:""},continue:{title:"CONTINUE",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"LOAD",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"No saving",buttons:{hide:"Hide",show:"Show",backlog:"Backlog",replay:"Replay",auto:"Auto",forward:"Forward",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Save",load:"Load",options:"Options",title:"Title",titleTips:"Confirm return to the title screen"}},extra:{title:"EXTRA"},r18:{title:"Welcome!",desction:"Please verify that you are 18 years of age or older to enter this site.",agree:"Agree",disagree:"Disagree"}},_0e={common:{yes:"",no:""},menu:{options:{title:"CONFIG",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:"WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:"MAIN "},vocalVolume:{title:"VOICE "},bgmVolume:{title:"BGM "},seVolume:{title:"SE "},uiSeVolume:{title:"UI "}}}}},saving:{title:"SAVE",isOverwrite:""},loadSaving:{title:"LOAD"},title:{title:"HOME"},exit:{title:"BACK"}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"CONFIG"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"CLOSE",show:"SHOW",backlog:"LOG",replay:"REPLAY",auto:"AUTO",forward:"SKIP",quicklySave:"QUICK SAVE",quicklyLoad:"QUICK LOAD",save:"SAVE",load:"LOAD",options:"CONFIG",title:"HOME",titleTips:""}},extra:{title:""}},y0e={common:{yes:"",no:"",cancel:"",confirm:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{fullScreen:{title:"",options:{on:"",off:""}},textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:"",lxgw:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""},voiceOption:{title:""},voiceStop:{title:""},voiceContinue:{title:""}}}}},saving:{title:"",isOverwrite:""},extra:{title:""},loadSaving:{title:""},title:{title:"",options:{load:"",extra:""}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"",subtitle:"EXTRA"},quit:{title:"",subtitle:"QUIT"},storyLine:{title:"",subtitle:"STORYLINE"},achievement:{title:"",subtitle:"ACHIEVEMENT"},beautyGuide:{title:"",subtitle:"BEAUTYGUIDE"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:"",quitTips:`
`,backToGame:"",preserve:"",read:"",setting:"",backToTitle:"",collection:"",collected:"",continue:"",backToLevel:"",backToHome:""}},extra:{title:""},r18:{title:"",desction:" 18 ",agree:"",disagree:""}},x0e={common:{yes:"OK",no:"Annuler"},menu:{options:{title:"OPTIONS",pages:{system:{title:"Systme",options:{autoSpeed:{title:"Vitesse de lecture automatique",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},language:{title:"Langue"},resetData:{title:"Effacer ou rinitialiser les donnes",options:{clearGameSave:"Effacer la sauvegarde du jeu",resetSettings:"Rinitialiser les paramtres",clearAll:"Tout effacer"},dialogs:{clearGameSave:"tes-vous sr de vouloir effacer la sauvegarde du jeu",resetSettings:"tes-vous sr de vouloir rinitialiser tous les paramtres",clearAll:"tes-vous sr de vouloir tout effacer"}},gameSave:{title:"Importer ou exporter la sauvegarde du jeu et les options",options:{export:"Exporter la sauvegarde du jeu et les options",import:"Importer la sauvegarde du jeu et les options"},dialogs:{import:{title:"tes-vous sr de vouloir importer la sauvegarde du jeu et les options",tip:"Importer la sauvegarde du jeu",error:"Impossible d'analyser la sauvegarde du jeu"}}},about:{title:" propos de WebGAL",subTitle:"WebGAL: Un moteur de visual novel bas sur le web en open-source",version:"Version",source:"Dpt de code source",contributors:"Contributeurs",website:"Site web"}}},display:{title:"Affichage",options:{textSpeed:{title:"Vitesse d'affichage du texte",options:{slow:"Lente",medium:"Moyenne",fast:"Rapide"}},textSize:{title:"Taille du texte",options:{small:"Petite",medium:"Moyenne",large:"Grande"}},textFont:{title:"Police du texte",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Aperu de l'affichage du texte",text:"Vous prvisualisez la police, la taille et la vitesse de lecture du texte, maintenant. Vous pouvez ajuster les options ci-dessus selon votre perception."}}},sound:{title:"Son",options:{volumeMain:{title:"Volume principal"},vocalVolume:{title:"Volume des voix"},bgmVolume:{title:"Volume de la musique de fond"},seVolume:{title:"Volume des effets sonores"},uiSeVolume:{title:"Volume de linterface utilisateur"}}}}},saving:{title:"SAUVEGARDER",isOverwrite:"tes-vous sr de vouloir craser cette sauvegarde ?"},loadSaving:{title:"CHARGER"},title:{title:"TITRE"},exit:{title:"RETOUR"}},title:{start:{title:"COMMENCER",subtitle:""},continue:{title:"CONTINUER",subtitle:""},options:{title:"OPTIONS",subtitle:""},load:{title:"CHARGER",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Aucune sauvegarde",buttons:{hide:"Masquer",show:"Afficher",backlog:"Journal",replay:"Rejouer",auto:"Automatique",forward:"Avancer",quicklySave:"Sauvegarde rapide",quicklyLoad:"Chargement rapide",save:"Sauvegarder",load:"Charger",options:"Options",title:"Titre",titleTips:"Confirmer le retour  l'cran titre"}},extra:{title:"EXTRA"}},b0e={common:{yes:"Ja",no:"Nein"},menu:{options:{title:"OPTIONEN",pages:{system:{title:"System",options:{autoSpeed:{title:"Auto-Geschwindigkeit",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},language:{title:"Sprache"},resetData:{title:"Daten lschen oder zurcksetzen",options:{clearGameSave:"Alle Spielstnde lschen",resetSettings:"Alle Einstellungen zurcksetzen",clearAll:"Alle Daten lschen"},dialogs:{clearGameSave:"Sind Sie sicher, dass Sie den Spielstand lschen mchten?",resetSettings:"Sind Sie sicher, dass Sie alle Einstellungen zurcksetzen mchten?",clearAll:"Sind Sie sicher, dass Sie alle Daten lschen mchten?"}},gameSave:{title:"Spielstand und Optionen importieren oder exportieren",options:{export:"Spielstand und Optionen exportieren",import:"Spielstand und Optionen importieren"},dialogs:{import:{title:"Sind Sie sicher, dass Sie den Spielstand und die Optionen importieren mchten?",tip:"Spielstand importieren",error:"Ein Fehler ist beim Analysieren des Spielstands aufgetreten"}}},about:{title:"ber WebGAL",subTitle:"WebGAL: Eine Open-Source Web-Based Visual Novel Engine",version:"Version",source:"Source Code Repository",contributors:"Contributors",website:"Website"}}},display:{title:"Darstellung",options:{textSpeed:{title:"Geschwindigkeit der Textanzeige",options:{slow:"Langsam",medium:"Normal",fast:"Schnell"}},textSize:{title:"Textgre",options:{small:"Klein",medium:"Normal",large:"Gro"}},textFont:{title:"Schriftart",options:{siYuanSimSun:"Source Han Serif",SimHei:"Sans",lxgw:"LXGW WenKai"}},textboxOpacity:{title:"Textbox Opacity"},textPreview:{title:"Vorschautext wird angezeigt",text:"Sie knnen jederzeit die Schriftart, Gre und Wiedergabegeschwindigkeit des Textes nach Ihrer Vorliebe anpassen."}}},sound:{title:"Ton",options:{volumeMain:{title:"Hauptlautstrke"},vocalVolume:{title:"Stimmlautstrke"},bgmVolume:{title:"Musiklautstrke"},seVolume:{title:"Soundeffektlautstrke"},uiSeVolume:{title:"UI Soundeffektlautstrke"}}}}},saving:{title:"SPEICHERN",isOverwrite:"Sind Sie sicher, dass Sie diesen Spielstand berschreiben mchten?"},loadSaving:{title:"LADEN"},title:{title:"TITEL"},exit:{title:"ZURCK"}},title:{start:{title:"STARTEN",subtitle:""},continue:{title:"WEITERLESEN",subtitle:""},options:{title:"OPTIONEN",subtitle:""},load:{title:"LADEN",subtitle:""},extra:{title:"EXTRA",subtitle:""}},gaming:{noSaving:"Keine Speicherung",buttons:{hide:"Verstecken",show:"Anzeigen",backlog:"Verlauf",replay:"Wiedergabe",auto:"Auto",forward:"berspringen",quicklySave:"Quickly Save",quicklyLoad:"Quickly Load",save:"Speichern",load:"Laden",options:"Optionen",title:"Titel"}},extra:{title:"EXTRA"}},w0e={common:{yes:"",no:""},menu:{options:{title:"",pages:{system:{title:"",options:{autoSpeed:{title:"",options:{slow:"",medium:"",fast:""}},language:{title:""},resetData:{title:"",options:{clearGameSave:"",resetSettings:"",clearAll:""},dialogs:{clearGameSave:"",resetSettings:"",clearAll:""}},gameSave:{title:"",options:{export:"",import:""},dialogs:{import:{title:"",tip:"",error:""}}},about:{title:" WebGAL",subTitle:"WebGAL",version:"",source:"",contributors:"",website:""}}},display:{title:"",options:{textSpeed:{title:"",options:{slow:"",medium:"",fast:""}},textSize:{title:"",options:{small:"",medium:"",large:""}},textFont:{title:"",options:{siYuanSimSun:"",SimHei:""}},textboxOpacity:{title:""},textPreview:{title:"",text:""}}},sound:{title:"",options:{volumeMain:{title:""},vocalVolume:{title:""},bgmVolume:{title:""},seVolume:{title:""},uiSeVolume:{title:""}}}}},saving:{title:"",isOverwrite:"?"},loadSaving:{title:""},title:{title:"",options:{load:"",extra:"CG"}},exit:{title:""}},title:{start:{title:"",subtitle:"START"},continue:{title:"",subtitle:"CONTINUE"},options:{title:"",subtitle:"OPTIONS"},load:{title:"",subtitle:"LOAD"},extra:{title:"CG",subtitle:"EXTRA"}},gaming:{noSaving:"",buttons:{hide:"",show:"",backlog:"",replay:"",auto:"",forward:"",quicklySave:"",quicklyLoad:"",save:"",load:"",options:"",title:"",titleTips:""}},extra:{title:"CG"}};var jd=(t=>(t[t.zhCn=0]="zhCn",t[t.en=1]="en",t[t.jp=2]="jp",t[t.fr=3]="fr",t[t.de=4]="de",t[t.zhTw=5]="zhTw",t))(jd||{});const rB={zhCn:"",en:"English",jp:"",fr:"Franais",de:"Deutsch",zhTw:""},E0e={en:{translation:m0e},zhCn:{translation:y0e},jp:{translation:_0e},fr:{translation:x0e},de:{translation:b0e},zhTw:{translation:w0e}},S0e=0;var kG=(t=>(t[t.slow=0]="slow",t[t.normal=1]="normal",t[t.fast=2]="fast",t))(kG||{}),yu=(t=>(t[t.small=0]="small",t[t.medium=1]="medium",t[t.large=2]="large",t))(yu||{}),Hc=(t=>(t[t.song=0]="song",t[t.hei=1]="hei",t[t.lxgw=2]="lxgw",t))(Hc||{}),rO=(t=>(t[t.yes=0]="yes",t[t.no=1]="no",t))(rO||{}),Is=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Is||{}),FG=(t=>(t.Size1080P="1920x1080",t.Size720P="1280x720",t))(FG||{});const NG={slPage:1,volumeMain:100,textSpeed:50,autoSpeed:kG.normal,textSize:yu.medium,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:Hc.song,textboxOpacity:75,language:jd.zhCn,voiceInterruption:rO.yes,fullScreen:Is.off,uiLight:100,videoSize:FG.Size720P},GT={optionData:NG,globalGameVar:{},appreciationData:{bgm:[],cg:[]},token:""},MG=ag({name:"userData",initialState:yn(GT),reducers:{setUserData:(t,e)=>{const{key:r,value:n}=e.payload;t[r]=n},unlockCgInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.cg.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.cg.push(e.payload)},unlockBgmInUserData:(t,e)=>{const{name:r,url:n,series:i}=e.payload;let a=!1;t.appreciationData.bgm.forEach(o=>{n===o.url&&(a=!0,o.url=n,o.series=i,o.name=r||n)}),a||t.appreciationData.bgm.push(e.payload)},resetUserData:(t,e)=>{Object.assign(t,e.payload)},setOptionData:(t,e)=>{const{key:r,value:n}=e.payload;t.optionData[r]=n},setGlobalVar:(t,e)=>{t.globalGameVar[e.payload.key]=e.payload.value},setSlPage:(t,e)=>{t.optionData.slPage=e.payload},resetOptionSet(t){Object.assign(t.optionData,NG)},resetAllData(t){Object.assign(t,yn(GT))},setToken(t,e){t.token=e.payload}}}),{setUserData:CHe,resetUserData:nO,setOptionData:Vo,setGlobalVar:C0e,setSlPage:Yy,unlockCgInUserData:LG,unlockBgmInUserData:BG,resetOptionSet:THe,resetAllData:AHe,setToken:T0e}=MG.actions,A0e=MG.reducer,DG={backlog_size:200,fast_timeout:50},I0e={textInitialDelay:80};class R0e{constructor(e){ut(this,"isSaveBacklogNext",!1);ut(this,"backlog",[]);ut(this,"sceneManager");this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){this.backlog[this.backlog.length-1].currentStageState.effects=e}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){const e=ce.getState().stage,r=yn(e);r.PerformList.forEach(i=>{i.script.args.forEach(a=>{a.key==="concat"&&(a.value=!1,i.script.content=r.showText)})});const n={currentStageState:r,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:yn(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(n);this.getBacklog().length>DG.backlog_size;)this.getBacklog().shift()}}var Ut=(t=>(t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font",t))(Ut||{});const jt=(t,e)=>{if(t.match("http://")||t.match("https://"))return t;{let r;switch(e){case 0:r=`./game/background/${t}`;break;case 3:r=`./game/scene/${t}`;break;case 5:r=`./game/vocal/${t}`;break;case 2:r=`./game/figure/${t}`;break;case 1:r=`./game/bgm/${t}`;break;case 6:r=`./game/video/${t}`;break;case 7:r=`./game/ui/${t}`;break;case 8:r=`./game/image/${t}`;break;case 9:r=`./game/font/${t}`;break;default:r="";break}return r}},P0e=(t,e)=>{(!W.sceneManager.sceneAssetsList[e]||!Object.values(W.sceneManager.sceneAssetsList[e]).length)&&(W.sceneManager.sceneAssetsList[e]=t.reduce((r,n)=>(r[n.url]="",r),{}));for(const r of t){const n=W.sceneManager.sceneAssetsList[e];n[r.url]==="success"||n[r.url]==="loading"?($0(e),Je.warn("")):(console.log("",r.url),r.url.endsWith(".mp4")||r.url.endsWith(".flv")?(n[r.url]="success",$0(e),W.videoManager.preloadVideo(r.url)):(n[r.url]="loading",O0e(r.url,3,1e3,()=>{n[r.url]="success",$0(e)},()=>{n[r.url]="error",$0(e);const i=W.sceneManager.settledAssets.findIndex(a=>a===r.url);i>-1&&W.sceneManager.settledAssets.splice(i,1)}),W.sceneManager.settledAssets.push(r.url)))}t.length===0&&$0(e)},$0=t=>{const e=W.sceneManager.sceneAssetsList[t],r=Object.values(e).every(n=>n==="error"||n==="success");W.sceneManager.sceneAssetsLoadedList[t]=Object.values(e).every(n=>n==="success"),r&&window.pubsub.publish("sceneAssetsLoaded",{sceneName:t})},O0e=(t,e,r,n,i)=>{const a=(o,s)=>{const c=()=>{n()},l=()=>{o>0?(console.log(`${t}${o}${s}ms`),setTimeout(()=>{a(o-1,s*2)},s)):i()};if(document.createElement("link"),window.isSafari)fetch(t).then(u=>{if(!u.ok)throw new Error("Error!");const f=t.split(".").pop()||"",h=["jpg","jpeg","png","gif","bmp","svg","webp"],p=["mp4","webm","ogg","flv"],d=["wav","mp3","ogg"];return h.includes(f)?u.blob():d.includes(f)||p.includes(f)?u.arrayBuffer():u.blob()}).then(c).catch(l);else{const u=document.createElement("link");u.setAttribute("rel","prefetch"),u.setAttribute("href",t);const f=document.getElementsByTagName("head");u.onload=c,u.onerror=l,f.length&&f[0].appendChild(u)}};a(e,r)};var ot;(function(t){t[t.say=0]="say",t[t.changeBg=1]="changeBg",t[t.changeFigure=2]="changeFigure",t[t.bgm=3]="bgm",t[t.video=4]="video",t[t.pixi=5]="pixi",t[t.pixiInit=6]="pixiInit",t[t.intro=7]="intro",t[t.miniAvatar=8]="miniAvatar",t[t.changeScene=9]="changeScene",t[t.choose=10]="choose",t[t.end=11]="end",t[t.setComplexAnimation=12]="setComplexAnimation",t[t.setFilter=13]="setFilter",t[t.label=14]="label",t[t.jumpLabel=15]="jumpLabel",t[t.chooseLabel=16]="chooseLabel",t[t.setVar=17]="setVar",t[t.if=18]="if",t[t.callScene=19]="callScene",t[t.showVars=20]="showVars",t[t.unlockCg=21]="unlockCg",t[t.unlockBgm=22]="unlockBgm",t[t.filmMode=23]="filmMode",t[t.setTextbox=24]="setTextbox",t[t.setAnimation=25]="setAnimation",t[t.playEffect=26]="playEffect",t[t.setTempAnimation=27]="setTempAnimation",t[t.comment=28]="comment",t[t.setTransform=29]="setTransform",t[t.setTransition=30]="setTransition",t[t.getUserInput=31]="getUserInput",t[t.applyStyle=32]="applyStyle",t[t.unlockAchieve=33]="unlockAchieve",t[t.unlockStoryline=34]="unlockStoryline",t[t.showValue=35]="showValue",t[t.payProduct=36]="payProduct",t[t.finishTrial=37]="finishTrial",t[t.moveCamera=38]="moveCamera",t[t.changeAffinity=39]="changeAffinity",t[t.unlockAffinity=40]="unlockAffinity",t[t.popUpImage=41]="popUpImage",t[t.clearScreen=42]="clearScreen"})(ot||(ot={}));ot.intro,ot.changeBg,ot.changeFigure,ot.miniAvatar,ot.changeScene,ot.choose,ot.end,ot.bgm,ot.video,ot.setComplexAnimation,ot.setFilter,ot.pixiInit,ot.pixi,ot.label,ot.jumpLabel,ot.setVar,ot.callScene,ot.showVars,ot.unlockCg,ot.unlockBgm,ot.say,ot.filmMode,ot.callScene,ot.setTextbox,ot.setAnimation,ot.playEffect,ot.applyStyle,ot.unlockAchieve,ot.unlockStoryline,ot.showValue,ot.payProduct,ot.finishTrial,ot.moveCamera,ot.changeAffinity,ot.unlockAffinity,ot.popUpImage,ot.clearScreen;ot.bgm,ot.pixi,ot.pixiInit,ot.label,ot.if,ot.miniAvatar,ot.setVar,ot.unlockBgm,ot.unlockCg,ot.filmMode,ot.playEffect,ot.showValue;var Mn;(function(t){t[t.background=0]="background",t[t.bgm=1]="bgm",t[t.figure=2]="figure",t[t.scene=3]="scene",t[t.tex=4]="tex",t[t.vocal=5]="vocal",t[t.video=6]="video",t[t.ui=7]="ui",t[t.image=8]="image",t[t.font=9]="font"})(Mn||(Mn={}));function UG(t,e){const r=[];let i=t.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const o=a.indexOf("=");let s=a.slice(0,o),c=a.slice(o+1);o<0&&(s=a,c=void 0),s.toLowerCase().match(/.ogg|.mp3|.wav/)?r.push({key:"vocal",value:e(a,Mn.vocal)}):c===void 0?r.push({key:s,value:!0}):c==="true"||c==="false"?r.push({key:s,value:c==="true"}):isNaN(Number(c))?r.push({key:s,value:c}):r.push({key:s,value:Number(c)})}),r}function k0e(t){const e=[];let r,n=t.split(";")[0];if(n==="")return{command:"",args:[],options:[]};const i=/:/.exec(n);i===null?r="":(r=n.substring(0,i.index),n=n.substring(i.index+1,n.length));const a=/ -/.exec(n);if(a){const o=n.substring(a.index,n.length);n=n.substring(0,a.index);for(const s of UG(o,(c,l)=>c))e.push(s)}return{command:r,args:n.split("|").map(o=>o.trim()).filter(o=>o!==""),options:e}}function F0e(t){return t.replaceAll("\r","").split(`
`).map(r=>k0e(r)).filter(r=>r.command!=="")}const nB=(t,e,r)=>{let n={type:ot.say,additionalArgs:[]};const i=N0e(t,e,r);return n.type=i,i===ot.say&&t!=="say"&&n.additionalArgs.push({key:"speaker",value:t}),n=M0e(n,i,e),n};function N0e(t,e,r){var n;return((n=r.get(t))==null?void 0:n.scriptType)??ot.say}function M0e(t,e,r){return r.includes(e)&&t.additionalArgs.push({key:"next",value:!0}),t}const L0e=(t,e,r)=>{if(t==="none"||t==="")return"";switch(e){case ot.playEffect:return r(t,Mn.vocal);case ot.changeBg:return r(t,Mn.background);case ot.changeFigure:return r(t,Mn.figure);case ot.popUpImage:return r(t,Mn.image);case ot.bgm:return r(t,Mn.bgm);case ot.callScene:return r(t,Mn.scene);case ot.changeScene:return r(t,Mn.scene);case ot.miniAvatar:return r(t,Mn.figure);case ot.video:return r(t,Mn.video);case ot.choose:return B0e(t,r);case ot.unlockBgm:return r(t,Mn.bgm);case ot.unlockCg:return r(t,Mn.background);default:return t}};function B0e(t,e){const r=t.split("|"),n=[],i=[];for(const s of r)n.push(s.split(":")[0]??""),i.push(s.split(":")[1]??"");const a=i.map(s=>s.match(/\./)?e(s,Mn.scene):s);let o="";for(let s=0;s<n.length;s++)s!==0&&(o=o+"|"),o=o+`${n[s]}:${a[s]}`;return o}const D0e=(t,e,r)=>{const n=[];return t===ot.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Mn.vocal})}),e==="none"||e===""||(t===ot.changeBg&&n.push({name:e,url:e,lineNumber:0,type:Mn.background}),t===ot.changeFigure&&n.push({name:e,url:e,lineNumber:0,type:Mn.figure}),t===ot.popUpImage&&n.push({name:e,url:e,lineNumber:0,type:Mn.image}),t===ot.miniAvatar&&n.push({name:e,url:e,lineNumber:0,type:Mn.figure}),t===ot.video&&n.push({name:e,url:e,lineNumber:0,type:Mn.video}),t===ot.bgm&&n.push({name:e,url:e,lineNumber:0,type:Mn.bgm})),n},U0e=(t,e)=>{const r=[];return(t===ot.changeScene||t===ot.callScene)&&r.push(e),(t===ot.choose||t===ot.video)&&e.split("|").map(a=>a.split(":")[1]??"").forEach(a=>{a.match(/\./)&&r.push(a)}),r},j0e=(t,e,r,n)=>{let i,a,o;const s=[];let c,l,u,f=t.split(";")[0];if(f==="")return{command:ot.comment,commandRaw:"comment",content:t.split(";")[1]??"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const h=/:/.exec(f);if(h===null){u=f,l=nB(u,r,n),i=l.type;for(const d of l.additionalArgs)i===ot.say&&d.key==="speaker"||s.push(d)}else{u=f.substring(0,h.index),f=f.substring(h.index+1,f.length),l=nB(u,r,n),i=l.type;for(const d of l.additionalArgs)s.push(d)}const p=/ -/.exec(f);if(p){const d=f.substring(p.index,t.length);f=f.substring(0,p.index);for(const g of UG(d,e))s.push(g)}return a=L0e(f,i,e),c=D0e(i,a,s),o=U0e(i,a),{command:i,commandRaw:u,content:a,args:s,sentenceAssets:c,subScene:o}};var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$0e=typeof Nm=="object"&&Nm&&Nm.Object===Object&&Nm,G0e=$0e,V0e=G0e,H0e=typeof self=="object"&&self&&self.Object===Object&&self,z0e=V0e||H0e||Function("return this")(),s1=z0e,X0e=s1,W0e=X0e.Symbol,jG=W0e,iB=jG,$G=Object.prototype,Y0e=$G.hasOwnProperty,q0e=$G.toString,G0=iB?iB.toStringTag:void 0;function K0e(t){var e=Y0e.call(t,G0),r=t[G0];try{t[G0]=void 0;var n=!0}catch{}var i=q0e.call(t);return n&&(e?t[G0]=r:delete t[G0]),i}var Z0e=K0e,J0e=Object.prototype,Q0e=J0e.toString;function epe(t){return Q0e.call(t)}var tpe=epe,aB=jG,rpe=Z0e,npe=tpe,ipe="[object Null]",ape="[object Undefined]",oB=aB?aB.toStringTag:void 0;function ope(t){return t==null?t===void 0?ape:ipe:oB&&oB in Object(t)?rpe(t):npe(t)}var spe=ope;function lpe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var GG=lpe,upe=spe,cpe=GG,fpe="[object AsyncFunction]",hpe="[object Function]",dpe="[object GeneratorFunction]",ppe="[object Proxy]";function vpe(t){if(!cpe(t))return!1;var e=upe(t);return e==hpe||e==dpe||e==fpe||e==ppe}var gpe=vpe,mpe=s1,_pe=mpe["__core-js_shared__"],ype=_pe,rS=ype,sB=function(){var t=/[^.]+$/.exec(rS&&rS.keys&&rS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xpe(t){return!!sB&&sB in t}var bpe=xpe,wpe=Function.prototype,Epe=wpe.toString;function Spe(t){if(t!=null){try{return Epe.call(t)}catch{}try{return t+""}catch{}}return""}var Cpe=Spe,Tpe=gpe,Ape=bpe,Ipe=GG,Rpe=Cpe,Ppe=/[\\^$.*+?()[\]{}|]/g,Ope=/^\[object .+?Constructor\]$/,kpe=Function.prototype,Fpe=Object.prototype,Npe=kpe.toString,Mpe=Fpe.hasOwnProperty,Lpe=RegExp("^"+Npe.call(Mpe).replace(Ppe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bpe(t){if(!Ipe(t)||Ape(t))return!1;var e=Tpe(t)?Lpe:Ope;return e.test(Rpe(t))}var Dpe=Bpe;function Upe(t,e){return t==null?void 0:t[e]}var jpe=Upe,$pe=Dpe,Gpe=jpe;function Vpe(t,e){var r=Gpe(t,e);return $pe(r)?r:void 0}var iO=Vpe,Hpe=iO,zpe=Hpe(Object,"create"),l1=zpe,lB=l1;function Xpe(){this.__data__=lB?lB(null):{},this.size=0}var Wpe=Xpe;function Ype(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qpe=Ype,Kpe=l1,Zpe="__lodash_hash_undefined__",Jpe=Object.prototype,Qpe=Jpe.hasOwnProperty;function eve(t){var e=this.__data__;if(Kpe){var r=e[t];return r===Zpe?void 0:r}return Qpe.call(e,t)?e[t]:void 0}var tve=eve,rve=l1,nve=Object.prototype,ive=nve.hasOwnProperty;function ave(t){var e=this.__data__;return rve?e[t]!==void 0:ive.call(e,t)}var ove=ave,sve=l1,lve="__lodash_hash_undefined__";function uve(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=sve&&e===void 0?lve:e,this}var cve=uve,fve=Wpe,hve=qpe,dve=tve,pve=ove,vve=cve;function $d(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$d.prototype.clear=fve;$d.prototype.delete=hve;$d.prototype.get=dve;$d.prototype.has=pve;$d.prototype.set=vve;var gve=$d;function mve(){this.__data__=[],this.size=0}var _ve=mve;function yve(t,e){return t===e||t!==t&&e!==e}var xve=yve,bve=xve;function wve(t,e){for(var r=t.length;r--;)if(bve(t[r][0],e))return r;return-1}var u1=wve,Eve=u1,Sve=Array.prototype,Cve=Sve.splice;function Tve(t){var e=this.__data__,r=Eve(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Cve.call(e,r,1),--this.size,!0}var Ave=Tve,Ive=u1;function Rve(t){var e=this.__data__,r=Ive(e,t);return r<0?void 0:e[r][1]}var Pve=Rve,Ove=u1;function kve(t){return Ove(this.__data__,t)>-1}var Fve=kve,Nve=u1;function Mve(t,e){var r=this.__data__,n=Nve(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Lve=Mve,Bve=_ve,Dve=Ave,Uve=Pve,jve=Fve,$ve=Lve;function Gd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Gd.prototype.clear=Bve;Gd.prototype.delete=Dve;Gd.prototype.get=Uve;Gd.prototype.has=jve;Gd.prototype.set=$ve;var Gve=Gd,Vve=iO,Hve=s1,zve=Vve(Hve,"Map"),Xve=zve,uB=gve,Wve=Gve,Yve=Xve;function qve(){this.size=0,this.__data__={hash:new uB,map:new(Yve||Wve),string:new uB}}var Kve=qve;function Zve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Jve=Zve,Qve=Jve;function ege(t,e){var r=t.__data__;return Qve(e)?r[typeof e=="string"?"string":"hash"]:r.map}var c1=ege,tge=c1;function rge(t){var e=tge(this,t).delete(t);return this.size-=e?1:0,e}var nge=rge,ige=c1;function age(t){return ige(this,t).get(t)}var oge=age,sge=c1;function lge(t){return sge(this,t).has(t)}var uge=lge,cge=c1;function fge(t,e){var r=cge(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var hge=fge,dge=Kve,pge=nge,vge=oge,gge=uge,mge=hge;function Vd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vd.prototype.clear=dge;Vd.prototype.delete=pge;Vd.prototype.get=vge;Vd.prototype.has=gge;Vd.prototype.set=mge;var _ge=Vd,yge="__lodash_hash_undefined__";function xge(t){return this.__data__.set(t,yge),this}var bge=xge;function wge(t){return this.__data__.has(t)}var Ege=wge,Sge=_ge,Cge=bge,Tge=Ege;function qy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Sge;++e<r;)this.add(t[e])}qy.prototype.add=qy.prototype.push=Cge;qy.prototype.has=Tge;var Age=qy;function Ige(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Rge=Ige;function Pge(t){return t!==t}var Oge=Pge;function kge(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Fge=kge,Nge=Rge,Mge=Oge,Lge=Fge;function Bge(t,e,r){return e===e?Lge(t,e,r):Nge(t,Mge,r)}var Dge=Bge,Uge=Dge;function jge(t,e){var r=t==null?0:t.length;return!!r&&Uge(t,e,0)>-1}var $ge=jge;function Gge(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Vge=Gge;function Hge(t,e){return t.has(e)}var zge=Hge,Xge=iO,Wge=s1,Yge=Xge(Wge,"Set"),qge=Yge;function Kge(){}var Zge=Kge;function Jge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var VG=Jge,nS=qge,Qge=Zge,eme=VG,tme=1/0,rme=nS&&1/eme(new nS([,-0]))[1]==tme?function(t){return new nS(t)}:Qge,nme=rme,ime=Age,ame=$ge,ome=Vge,sme=zge,lme=nme,ume=VG,cme=200;function fme(t,e,r){var n=-1,i=ame,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=ome;else if(a>=cme){var l=e?null:lme(t);if(l)return ume(l);o=!1,i=sme,c=new ime}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var hme=fme,dme=hme;function pme(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?dme(t,void 0,e):[]}var vme=pme;const gme=(t,e,r,n,i,a,o)=>{const c=t.split(`
`);let l=[],u=[];const f=c.map(p=>{const d=j0e(p,i,a,o);return l=[...l,...d.sentenceAssets],u=[...u,...d.subScene],d});l=vme(l);const h=["jpg","jpeg","png","gif","bmp","svg","webp","mp4","webm","ogg","flv","wav","mp3","ogg"];return l=l.filter(p=>h.includes(p.url.split(".").pop())),n(l,e),{sceneName:e,sceneUrl:r,sentenceList:f,assetsList:l,subSceneList:u}};function mme(t){const[e,r]=_me(t);return{classNameStyles:e,others:r}}function _me(t){const e={};let r="",n;const i=/\.([^{\s]+)\s*{((?:[^{}]*|{[^}]*})*)}/g,a=/(@[^{]+{\s*(?:[^{}]*{[^}]*}[^{}]*)+\s*})/g;for(;(n=i.exec(t))!==null;){const o=n[1],s=n[2].trim().replace(/\s*;\s*/g,`;
`);e[o]=s}for(;(n=a.exec(t))!==null;)r+=n[1].trim()+`
`;return[e,r.trim()]}class yme{constructor(e,r,n,i){ut(this,"assetsPrefetcher");ut(this,"assetSetter");ut(this,"ADD_NEXT_ARG_LIST");ut(this,"SCRIPT_CONFIG_MAP");this.assetsPrefetcher=e,this.assetSetter=r,this.ADD_NEXT_ARG_LIST=n,Array.isArray(i)?(this.SCRIPT_CONFIG_MAP=new Map,i.forEach(a=>{this.SCRIPT_CONFIG_MAP.set(a.scriptString,a)})):this.SCRIPT_CONFIG_MAP=i}parse(e,r,n){return gme(e,r,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return F0e(e)}stringifyConfig(e){return e.reduce((r,n)=>r+`${n.command}:${n.args.join("|")}${n.options.length<=0?"":n.options.reduce((i,a)=>i+" -"+a.key+"="+a.value,"")};
`,"")}parseScssToWebgalStyleObj(e){return mme(e)}}function qt(t,e){const n=t.args.find(i=>i.key===e);return n?n.value:null}const xme=t=>{let e=t.content,r="",n="default";t.args.forEach(o=>{o.key==="unlockname"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())});const i=qt(t,"enter"),a=qt(t,"volume");return r!==""&&ce.dispatch(BG({name:r,url:e,series:n})),dk(e,typeof i=="number"&&i>=0?i:0,typeof a=="number"&&a>=0&&a<=100?a:100),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function HG(t,e){return function(){return t.apply(e,arguments)}}const{toString:bme}=Object.prototype,{getPrototypeOf:aO}=Object,f1=(t=>e=>{const r=bme.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ns=t=>(t=t.toLowerCase(),e=>f1(e)===t),h1=t=>e=>typeof e===t,{isArray:Hd}=Array,fv=h1("undefined");function wme(t){return t!==null&&!fv(t)&&t.constructor!==null&&!fv(t.constructor)&&Ja(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zG=ns("ArrayBuffer");function Eme(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zG(t.buffer),e}const Sme=h1("string"),Ja=h1("function"),XG=h1("number"),d1=t=>t!==null&&typeof t=="object",Cme=t=>t===!0||t===!1,V_=t=>{if(f1(t)!=="object")return!1;const e=aO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tme=ns("Date"),Ame=ns("File"),Ime=ns("Blob"),Rme=ns("FileList"),Pme=t=>d1(t)&&Ja(t.pipe),Ome=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ja(t.append)&&((e=f1(t))==="formdata"||e==="object"&&Ja(t.toString)&&t.toString()==="[object FormData]"))},kme=ns("URLSearchParams"),[Fme,Nme,Mme,Lme]=["ReadableStream","Request","Response","Headers"].map(ns),Bme=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Hd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function WG(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Fc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),YG=t=>!fv(t)&&t!==Fc;function VT(){const{caseless:t}=YG(this)&&this||{},e={},r=(n,i)=>{const a=t&&WG(e,i)||i;V_(e[a])&&V_(n)?e[a]=VT(e[a],n):V_(n)?e[a]=VT({},n):Hd(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&cg(arguments[n],r);return e}const Dme=(t,e,r,{allOwnKeys:n}={})=>(cg(e,(i,a)=>{r&&Ja(i)?t[a]=HG(i,r):t[a]=i},{allOwnKeys:n}),t),Ume=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jme=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},$me=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&aO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Gme=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Vme=t=>{if(!t)return null;if(Hd(t))return t;let e=t.length;if(!XG(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Hme=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&aO(Uint8Array)),zme=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Xme=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Wme=ns("HTMLFormElement"),Yme=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cB=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),qme=ns("RegExp"),qG=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};cg(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},Kme=t=>{qG(t,(e,r)=>{if(Ja(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ja(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zme=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Hd(t)?n(t):n(String(t).split(e)),r},Jme=()=>{},Qme=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,iS="abcdefghijklmnopqrstuvwxyz",fB="0123456789",KG={DIGIT:fB,ALPHA:iS,ALPHA_DIGIT:iS+iS.toUpperCase()+fB},e_e=(t=16,e=KG.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function t_e(t){return!!(t&&Ja(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const r_e=t=>{const e=new Array(10),r=(n,i)=>{if(d1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=Hd(n)?[]:{};return cg(n,(o,s)=>{const c=r(o,i+1);!fv(c)&&(a[s]=c)}),e[i]=void 0,a}}return n};return r(t,0)},n_e=ns("AsyncFunction"),i_e=t=>t&&(d1(t)||Ja(t))&&Ja(t.then)&&Ja(t.catch),ZG=((t,e)=>t?setImmediate:e?((r,n)=>(Fc.addEventListener("message",({source:i,data:a})=>{i===Fc&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Fc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ja(Fc.postMessage)),a_e=typeof queueMicrotask<"u"?queueMicrotask.bind(Fc):typeof process<"u"&&process.nextTick||ZG,Me={isArray:Hd,isArrayBuffer:zG,isBuffer:wme,isFormData:Ome,isArrayBufferView:Eme,isString:Sme,isNumber:XG,isBoolean:Cme,isObject:d1,isPlainObject:V_,isReadableStream:Fme,isRequest:Nme,isResponse:Mme,isHeaders:Lme,isUndefined:fv,isDate:Tme,isFile:Ame,isBlob:Ime,isRegExp:qme,isFunction:Ja,isStream:Pme,isURLSearchParams:kme,isTypedArray:Hme,isFileList:Rme,forEach:cg,merge:VT,extend:Dme,trim:Bme,stripBOM:Ume,inherits:jme,toFlatObject:$me,kindOf:f1,kindOfTest:ns,endsWith:Gme,toArray:Vme,forEachEntry:zme,matchAll:Xme,isHTMLForm:Wme,hasOwnProperty:cB,hasOwnProp:cB,reduceDescriptors:qG,freezeMethods:Kme,toObjectSet:Zme,toCamelCase:Yme,noop:Jme,toFiniteNumber:Qme,findKey:WG,global:Fc,isContextDefined:YG,ALPHABET:KG,generateString:e_e,isSpecCompliantForm:t_e,toJSONObject:r_e,isAsyncFn:n_e,isThenable:i_e,setImmediate:ZG,asap:a_e};function Yt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Me.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const JG=Yt.prototype,QG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QG[t]={value:t}});Object.defineProperties(Yt,QG);Object.defineProperty(JG,"isAxiosError",{value:!0});Yt.from=(t,e,r,n,i,a)=>{const o=Object.create(JG);return Me.toFlatObject(t,o,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),Yt.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const o_e=null;function HT(t){return Me.isPlainObject(t)||Me.isArray(t)}function e7(t){return Me.endsWith(t,"[]")?t.slice(0,-2):t}function hB(t,e,r){return t?t.concat(e).map(function(i,a){return i=e7(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function s_e(t){return Me.isArray(t)&&!t.some(HT)}const l_e=Me.toFlatObject(Me,{},null,function(e){return/^is[A-Z]/.test(e)});function p1(t,e,r){if(!Me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!Me.isUndefined(m[g])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(e);if(!Me.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(Me.isDate(d))return d.toISOString();if(!c&&Me.isBlob(d))throw new Yt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(d)||Me.isTypedArray(d)?c&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,g,m){let v=d;if(d&&!m&&typeof d=="object"){if(Me.endsWith(g,"{}"))g=n?g:g.slice(0,-2),d=JSON.stringify(d);else if(Me.isArray(d)&&s_e(d)||(Me.isFileList(d)||Me.endsWith(g,"[]"))&&(v=Me.toArray(d)))return g=e7(g),v.forEach(function(y,b){!(Me.isUndefined(y)||y===null)&&e.append(o===!0?hB([g],b,a):o===null?g:g+"[]",l(y))}),!1}return HT(d)?!0:(e.append(hB(m,g,a),l(d)),!1)}const f=[],h=Object.assign(l_e,{defaultVisitor:u,convertValue:l,isVisitable:HT});function p(d,g){if(!Me.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(d),Me.forEach(d,function(v,_){(!(Me.isUndefined(v)||v===null)&&i.call(e,v,Me.isString(_)?_.trim():_,g,h))===!0&&p(v,g?g.concat(_):[_])}),f.pop()}}if(!Me.isObject(t))throw new TypeError("data must be an object");return p(t),e}function dB(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function oO(t,e){this._pairs=[],t&&p1(t,this,e)}const t7=oO.prototype;t7.append=function(e,r){this._pairs.push([e,r])};t7.toString=function(e){const r=e?function(n){return e.call(this,n,dB)}:dB;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function u_e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r7(t,e,r){if(!e)return t;const n=r&&r.encode||u_e,i=r&&r.serialize;let a;if(i?a=i(e,r):a=Me.isURLSearchParams(e)?e.toString():new oO(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class c_e{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Me.forEach(this.handlers,function(n){n!==null&&e(n)})}}const pB=c_e,n7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f_e=typeof URLSearchParams<"u"?URLSearchParams:oO,h_e=typeof FormData<"u"?FormData:null,d_e=typeof Blob<"u"?Blob:null,p_e={isBrowser:!0,classes:{URLSearchParams:f_e,FormData:h_e,Blob:d_e},protocols:["http","https","file","blob","url","data"]},sO=typeof window<"u"&&typeof document<"u",v_e=(t=>sO&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),g_e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),m_e=sO&&window.location.href||"http://localhost",__e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sO,hasStandardBrowserEnv:v_e,hasStandardBrowserWebWorkerEnv:g_e,origin:m_e},Symbol.toStringTag,{value:"Module"})),Ko={...__e,...p_e};function y_e(t,e){return p1(t,new Ko.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Ko.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function x_e(t){return Me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function b_e(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function i7(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),c=a>=r.length;return o=!o&&Me.isArray(i)?i.length:o,c?(Me.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Me.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&Me.isArray(i[o])&&(i[o]=b_e(i[o])),!s)}if(Me.isFormData(t)&&Me.isFunction(t.entries)){const r={};return Me.forEachEntry(t,(n,i)=>{e(x_e(n),i,r,0)}),r}return null}function w_e(t,e,r){if(Me.isString(t))try{return(e||JSON.parse)(t),Me.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const lO={transitional:n7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Me.isObject(e);if(a&&Me.isHTMLForm(e)&&(e=new FormData(e)),Me.isFormData(e))return i?JSON.stringify(i7(e)):e;if(Me.isArrayBuffer(e)||Me.isBuffer(e)||Me.isStream(e)||Me.isFile(e)||Me.isBlob(e)||Me.isReadableStream(e))return e;if(Me.isArrayBufferView(e))return e.buffer;if(Me.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return y_e(e,this.formSerializer).toString();if((s=Me.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return p1(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),w_e(e)):e}],transformResponse:[function(e){const r=this.transitional||lO.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Me.isResponse(e)||Me.isReadableStream(e))return e;if(e&&Me.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?Yt.from(s,Yt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ko.classes.FormData,Blob:Ko.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],t=>{lO.headers[t]={}});const uO=lO,E_e=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S_e=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&E_e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},vB=Symbol("internals");function V0(t){return t&&String(t).trim().toLowerCase()}function H_(t){return t===!1||t==null?t:Me.isArray(t)?t.map(H_):String(t)}function C_e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const T_e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function aS(t,e,r,n,i){if(Me.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Me.isString(e)){if(Me.isString(n))return e.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(e)}}function A_e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function I_e(t,e){const r=Me.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class v1{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,c,l){const u=V0(c);if(!u)throw new Error("header name must be a non-empty string");const f=Me.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=H_(s))}const o=(s,c)=>Me.forEach(s,(l,u)=>a(l,u,c));if(Me.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Me.isString(e)&&(e=e.trim())&&!T_e(e))o(S_e(e),r);else if(Me.isHeaders(e))for(const[s,c]of e.entries())a(c,s,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=V0(e),e){const n=Me.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return C_e(i);if(Me.isFunction(r))return r.call(this,i,n);if(Me.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=V0(e),e){const n=Me.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||aS(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=V0(o),o){const s=Me.findKey(n,o);s&&(!r||aS(n,n[s],s,r))&&(delete n[s],i=!0)}}return Me.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||aS(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return Me.forEach(this,(i,a)=>{const o=Me.findKey(n,a);if(o){r[o]=H_(i),delete r[a];return}const s=e?A_e(a):String(a).trim();s!==a&&delete r[a],r[s]=H_(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Me.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[vB]=this[vB]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=V0(o);n[s]||(I_e(i,o),n[s]=!0)}return Me.isArray(e)?e.forEach(a):a(e),this}}v1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(v1.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Me.freezeMethods(v1);const Zo=v1;function oS(t,e){const r=this||uO,n=e||r,i=Zo.from(n.headers);let a=n.data;return Me.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function a7(t){return!!(t&&t.__CANCEL__)}function zd(t,e,r){Yt.call(this,t??"canceled",Yt.ERR_CANCELED,e,r),this.name="CanceledError"}Me.inherits(zd,Yt,{__CANCEL__:!0});function o7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Yt("Request failed with status code "+r.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function R_e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function P_e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[a];o||(o=l),r[i]=c,n[i]=l;let f=a,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),l-o<e)return;const p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}function O_e(t,e){let r=0,n=1e3/e,i,a;const o=(l,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?o(l,u):(i=l,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const Ky=(t,e,r=3)=>{let n=0;const i=P_e(50,250);return O_e(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,c=o-n,l=i(c),u=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&u?(s-o)/l:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(f)},r)},gB=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},mB=t=>(...e)=>Me.asap(()=>t(...e)),k_e=Ko.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=Me.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),F_e=Ko.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];Me.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Me.isString(n)&&o.push("path="+n),Me.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N_e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M_e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function s7(t,e){return t&&!N_e(e)?M_e(t,e):e}const _B=t=>t instanceof Zo?{...t}:t;function of(t,e){e=e||{};const r={};function n(l,u,f){return Me.isPlainObject(l)&&Me.isPlainObject(u)?Me.merge.call({caseless:f},l,u):Me.isPlainObject(u)?Me.merge({},u):Me.isArray(u)?u.slice():u}function i(l,u,f){if(Me.isUndefined(u)){if(!Me.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function a(l,u){if(!Me.isUndefined(u))return n(void 0,u)}function o(l,u){if(Me.isUndefined(u)){if(!Me.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function s(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,u)=>i(_B(l),_B(u),!0)};return Me.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||i,h=f(t[u],e[u],u);Me.isUndefined(h)&&f!==s||(r[u]=h)}),r}const l7=t=>{const e=of({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=Zo.from(o),e.url=r7(s7(e.baseURL,e.url),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let c;if(Me.isFormData(r)){if(Ko.hasStandardBrowserEnv||Ko.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Ko.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(e)),n||n!==!1&&k_e(e.url))){const l=i&&a&&F_e.read(a);l&&o.set(i,l)}return e},L_e=typeof XMLHttpRequest<"u",B_e=L_e&&function(t){return new Promise(function(r,n){const i=l7(t);let a=i.data;const o=Zo.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:l}=i,u,f,h,p,d;function g(){p&&p(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function v(){if(!m)return;const y=Zo.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:t,request:m};o7(function(C){r(C),g()},function(C){n(C),g()},w),m=null}"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(n(new Yt("Request aborted",Yt.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new Yt("Network Error",Yt.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||n7;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Yt(b,w.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,t,m)),m=null},a===void 0&&o.setContentType(null),"setRequestHeader"in m&&Me.forEach(o.toJSON(),function(b,w){m.setRequestHeader(w,b)}),Me.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),s&&s!=="json"&&(m.responseType=i.responseType),l&&([h,d]=Ky(l,!0),m.addEventListener("progress",h)),c&&m.upload&&([f,p]=Ky(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=y=>{m&&(n(!y||y.type?new zd(null,t,m):y),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const _=R_e(i.url);if(_&&Ko.protocols.indexOf(_)===-1){n(new Yt("Unsupported protocol "+_+":",Yt.ERR_BAD_REQUEST,t));return}m.send(a||null)})},D_e=(t,e)=>{let r=new AbortController,n;const i=function(c){if(!n){n=!0,o();const l=c instanceof Error?c:this.reason;r.abort(l instanceof Yt?l:new zd(l instanceof Error?l.message:l))}};let a=e&&setTimeout(()=>{i(new Yt(`timeout ${e} of ms exceeded`,Yt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=o,[s,()=>{a&&clearTimeout(a),a=null}]},U_e=D_e,j_e=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},$_e=async function*(t,e,r){for await(const n of t)yield*j_e(ArrayBuffer.isView(n)?n:await r(String(n)),e)},yB=(t,e,r,n,i)=>{const a=$_e(t,e,i);let o=0,s,c=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await a.next();if(u){c(),l.close();return}let h=f.byteLength;if(r){let p=o+=h;r(p)}l.enqueue(new Uint8Array(f))}catch(u){throw c(u),u}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},g1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u7=g1&&typeof ReadableStream=="function",zT=g1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),c7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},G_e=u7&&c7(()=>{let t=!1;const e=new Request(Ko.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xB=64*1024,XT=u7&&c7(()=>Me.isReadableStream(new Response("").body)),Zy={stream:XT&&(t=>t.body)};g1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zy[e]&&(Zy[e]=Me.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Yt(`Response type '${e}' is not supported`,Yt.ERR_NOT_SUPPORT,n)})})})(new Response);const V_e=async t=>{if(t==null)return 0;if(Me.isBlob(t))return t.size;if(Me.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Me.isArrayBufferView(t)||Me.isArrayBuffer(t))return t.byteLength;if(Me.isURLSearchParams(t)&&(t=t+""),Me.isString(t))return(await zT(t)).byteLength},H_e=async(t,e)=>{const r=Me.toFiniteNumber(t.getContentLength());return r??V_e(e)},z_e=g1&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:h}=l7(t);l=l?(l+"").toLowerCase():"text";let[p,d]=i||a||o?U_e([i,a],o):[],g,m;const v=()=>{!g&&setTimeout(()=>{p&&p.unsubscribe()}),g=!0};let _;try{if(c&&G_e&&r!=="get"&&r!=="head"&&(_=await H_e(u,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),C;if(Me.isFormData(n)&&(C=E.headers.get("content-type"))&&u.setContentType(C),E.body){const[T,A]=gB(_,Ky(mB(c)));n=yB(E.body,xB,T,A,zT)}}Me.isString(f)||(f=f?"include":"omit"),m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f});let y=await fetch(m);const b=XT&&(l==="stream"||l==="response");if(XT&&(s||b)){const E={};["status","statusText","headers"].forEach(R=>{E[R]=y[R]});const C=Me.toFiniteNumber(y.headers.get("content-length")),[T,A]=s&&gB(C,Ky(mB(s),!0))||[];y=new Response(yB(y.body,xB,T,()=>{A&&A(),b&&v()},zT),E)}l=l||"text";let w=await Zy[Me.findKey(Zy,l)||"text"](y,t);return!b&&v(),d&&d(),await new Promise((E,C)=>{o7(E,C,{data:w,headers:Zo.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:m})})}catch(y){throw v(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,t,m),{cause:y.cause||y}):Yt.from(y,y&&y.code,t,m)}}),WT={http:o_e,xhr:B_e,fetch:z_e};Me.forEach(WT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const bB=t=>`- ${t}`,X_e=t=>Me.isFunction(t)||t===null||t===!1,f7={getAdapter:t=>{t=Me.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!X_e(r)&&(n=WT[(o=String(r)).toLowerCase()],n===void 0))throw new Yt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(bB).join(`
`):" "+bB(a[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:WT};function sS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zd(null,t)}function wB(t){return sS(t),t.headers=Zo.from(t.headers),t.data=oS.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),f7.getAdapter(t.adapter||uO.adapter)(t).then(function(n){return sS(t),n.data=oS.call(t,t.transformResponse,n),n.headers=Zo.from(n.headers),n},function(n){return a7(n)||(sS(t),n&&n.response&&(n.response.data=oS.call(t,t.transformResponse,n.response),n.response.headers=Zo.from(n.response.headers))),Promise.reject(n)})}const h7="1.7.3",cO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const EB={};cO.transitional=function(e,r,n){function i(a,o){return"[Axios v"+h7+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new Yt(i(o," has been removed"+(r?" in "+r:"")),Yt.ERR_DEPRECATED);return r&&!EB[o]&&(EB[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function W_e(t,e,r){if(typeof t!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],c=s===void 0||o(s,a,t);if(c!==!0)throw new Yt("option "+a+" must be "+c,Yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Yt("Unknown option "+a,Yt.ERR_BAD_OPTION)}}const YT={assertOptions:W_e,validators:cO},jl=YT.validators;class Jy{constructor(e){this.defaults=e,this.interceptors={request:new pB,response:new pB}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=of(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&YT.assertOptions(n,{silentJSONParsing:jl.transitional(jl.boolean),forcedJSONParsing:jl.transitional(jl.boolean),clarifyTimeoutError:jl.transitional(jl.boolean)},!1),i!=null&&(Me.isFunction(i)?r.paramsSerializer={serialize:i}:YT.assertOptions(i,{encode:jl.function,serialize:jl.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Me.merge(a.common,a[r.method]);a&&Me.forEach(["delete","get","head","post","put","patch","common"],d=>{delete a[d]}),r.headers=Zo.concat(o,a);const s=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!c){const d=[wB.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),h=d.length,u=Promise.resolve(r);f<h;)u=u.then(d[f++],d[f++]);return u}h=s.length;let p=r;for(f=0;f<h;){const d=s[f++],g=s[f++];try{p=d(p)}catch(m){g.call(this,m);break}}try{u=wB.call(this,p)}catch(d){return Promise.reject(d)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=of(this.defaults,e);const r=s7(e.baseURL,e.url);return r7(r,e.params,e.paramsSerializer)}}Me.forEach(["delete","get","head","options"],function(e){Jy.prototype[e]=function(r,n){return this.request(of(n||{},{method:e,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(of(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Jy.prototype[e]=r(),Jy.prototype[e+"Form"]=r(!0)});const z_=Jy;class fO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new zd(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new fO(function(i){e=i}),cancel:e}}}const Y_e=fO;function q_e(t){return function(r){return t.apply(null,r)}}function K_e(t){return Me.isObject(t)&&t.isAxiosError===!0}const qT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qT).forEach(([t,e])=>{qT[e]=t});const Z_e=qT;function d7(t){const e=new z_(t),r=HG(z_.prototype.request,e);return Me.extend(r,z_.prototype,e,{allOwnKeys:!0}),Me.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return d7(of(t,i))},r}const fi=d7(uO);fi.Axios=z_;fi.CanceledError=zd;fi.CancelToken=Y_e;fi.isCancel=a7;fi.VERSION=h7;fi.toFormData=p1;fi.AxiosError=Yt;fi.Cancel=fi.CanceledError;fi.all=function(e){return Promise.all(e)};fi.spread=q_e;fi.isAxiosError=K_e;fi.mergeConfig=of;fi.AxiosHeaders=Zo;fi.formToJSON=t=>i7(Me.isHTMLForm(t)?new FormData(t):t);fi.getAdapter=f7.getAdapter;fi.HttpStatusCode=Z_e;fi.default=fi;const fd=fi,Ua=t=>new Promise(e=>{fd.get(t).then(r=>{const n=r.data.toString();e(n)})}),J_e={performName:"",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},m1=t=>{var n;let e=J_e;e=(((n=BV[t.command])==null?void 0:n.scriptFunction)??xH.say.scriptFunction)(t),e.arrangePerformPromise?e.arrangePerformPromise.then(i=>W.gameplay.performController.arrangeNewPerform(i,t)):W.gameplay.performController.arrangeNewPerform(e,t)},Q_e=t=>{Ua(t.sceneUrl).then(async e=>{await W.sceneManager.setCurrentScene(e,t.sceneName,t.sceneUrl,!0)&&(W.sceneManager.sceneData.currentSentenceId=t.continueLine+1,Je.debug("",W.sceneManager.sceneData.currentScene),ti())})};var hO={},hv={document:{}},p7=Object.prototype.hasOwnProperty,v7=function(t){return _1(t)?t.toLowerCase():t},kp=Array.isArray,eye=function(t){return _1(t)?t.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):t};"I".toLowerCase()!=="i"&&(v7=eye);var tye,dO=Object.prototype.toString,g7=Object.getPrototypeOf,lS=b7("ng");hv.angular||(hv.angular={});hv.document.documentMode;function rye(t){if(t==null||gO(t))return!1;if(kp(t)||_1(t)||tye)return!0;var e="length"in Object(t)&&t.length;return vO(e)&&(e>=0&&(e-1 in t||t instanceof Array)||typeof t.item=="function")}function Tn(t,e,r){var n,i;if(t)if(y7(t))for(n in t)n!=="prototype"&&n!=="length"&&n!=="name"&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(kp(t)||rye(t)){var a=typeof t!="object";for(n=0,i=t.length;n<i;n++)(a||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==Tn)t.forEach(e,r,t);else if(_7(t))for(n in t)e.call(r,t[n],n,t);else if(typeof t.hasOwnProperty=="function")for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)p7.call(t,n)&&e.call(r,t[n],n,t);return t}function nye(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function pO(){}pO.$inject=[];function iye(t){return typeof t>"u"}function Eh(t){return typeof t<"u"}function m7(t){return t!==null&&typeof t=="object"}function _7(t){return t!==null&&typeof t=="object"&&!g7(t)}function _1(t){return typeof t=="string"}function vO(t){return typeof t=="number"}function y7(t){return typeof t=="function"}function gO(t){return t&&t.window===t}function x7(t){return t&&t.$evalAsync&&t.$watch}var aye=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function oye(t){return t&&vO(t.length)&&aye.test(dO.call(t))}function sye(t){return dO.call(t)==="[object ArrayBuffer]"}function lye(t,e){var r=[],n=[];if(e){if(oye(e)||sye(e))throw lS("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw lS("cpi","Can't copy! Source and destination are identical.");return kp(e)?e.length=0:Tn(e,function(s,c){c!=="$$hashKey"&&delete e[c]}),r.push(t),n.push(e),i(t,e)}return a(t);function i(s,c){var l=c.$$hashKey,u;if(kp(s))for(var f=0,h=s.length;f<h;f++)c.push(a(s[f]));else if(_7(s))for(u in s)c[u]=a(s[u]);else if(s&&typeof s.hasOwnProperty=="function")for(u in s)s.hasOwnProperty(u)&&(c[u]=a(s[u]));else for(u in s)p7.call(s,u)&&(c[u]=a(s[u]));return nye(c,l),c}function a(s){if(!m7(s))return s;var c=r.indexOf(s);if(c!==-1)return n[c];if(gO(s)||x7(s))throw lS("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var l=!1,u=o(s);return u===void 0&&(u=kp(s)?[]:Object.create(g7(s)),l=!0),r.push(s),n.push(u),l?i(s,u):u}function o(s){switch(dO.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(a(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var c=new ArrayBuffer(s.byteLength);return new Uint8Array(c).set(new Uint8Array(s)),c}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var l=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return l.lastIndex=s.lastIndex,l;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(y7(s.cloneNode))return s.cloneNode(!0)}}function uye(t,e){var r=e;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=void 0:gO(e)?r="$WINDOW":e&&hv.document===e?r="$DOCUMENT":x7(e)&&(r="$SCOPE"),r}function cye(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),r=t.createElement("a");r.href=e;var n=r.protocol,i=t.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}cye(hv.document);function fye(){return Object.create(null)}function hye(t){var e=[];return JSON.stringify(t,function(r,n){if(n=uye(r,n),m7(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function SB(t){return typeof t=="function"?t.toString().replace(/ \{[\s\S]*$/,""):iye(t)?"undefined":typeof t!="string"?hye(t):t}function b7(t,e){return e=e||Error,function(){var r=2,n=arguments,i=n[0],a="["+(t?t+":":"")+i+"] ",o=n[1],s,c;for(a+=o.replace(/\{\d+\}/g,function(l){var u=+l.slice(1,-1),f=u+r;return f<n.length?SB(n[f]):l}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(t?t+"/":"")+i,c=r,s="?";c<n.length;c++,s="&")a+=s+"p"+(c-r)+"="+encodeURIComponent(SB(n[c]));return new e(a)}}var Sh=b7("$parse");({}).constructor.prototype.valueOf;function w7(t){return t+""}var X_=fye();Tn("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){X_[t]=!0});var dye={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},KT=function(e){this.options=e};KT.prototype={constructor:KT,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if(e==='"'||e==="'")this.readString(e);else if(this.isNumber(e)||e==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=X_[e],a=X_[r],o=X_[n];if(i||a||o){var s=o?n:a?r:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return"0"<=t&&t<="9"&&typeof t=="string"},isWhitespace:function(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===""},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||t==="_"||t==="$"},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return t.length===1?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return t==="-"||t==="+"||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=Eh(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw Sh("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=v7(this.text.charAt(this.index));if(r==="."||this.isNumber(r))t+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&t.charAt(t.length-1)==="e")t+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&t.charAt(t.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(n+=a,i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,r+=String.fromCharCode(parseInt(o,16))}else{var s=dye[a];r=r+(s||a)}i=!1}else if(a==="\\")i=!0;else if(a===t){this.index++,this.tokens.push({index:e,text:n,constant:!0,value:r});return}else r+=a;this.index++}this.throwError("Unterminated quote",e)}};var Ye=function(e,r){this.lexer=e,this.options=r};Ye.Program="Program";Ye.ExpressionStatement="ExpressionStatement";Ye.AssignmentExpression="AssignmentExpression";Ye.ConditionalExpression="ConditionalExpression";Ye.LogicalExpression="LogicalExpression";Ye.BinaryExpression="BinaryExpression";Ye.UnaryExpression="UnaryExpression";Ye.CallExpression="CallExpression";Ye.MemberExpression="MemberExpression";Ye.Identifier="Identifier";Ye.Literal="Literal";Ye.ArrayExpression="ArrayExpression";Ye.Property="Property";Ye.ObjectExpression="ObjectExpression";Ye.ThisExpression="ThisExpression";Ye.LocalsExpression="LocalsExpression";Ye.NGValueParameter="NGValueParameter";Ye.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Ye.Program,body:t}},expressionStatement:function(){return{type:Ye.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!C7(t))throw Sh("lval","Trying to assign a value to a non l-value");t={type:Ye.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t=this.logicalOR(),e,r;return this.expect("?")&&(e=this.expression(),this.consume(":"))?(r=this.expression(),{type:Ye.ConditionalExpression,test:t,alternate:e,consequent:r}):t},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Ye.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Ye.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t={type:Ye.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Ye.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=lye(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Ye.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)e.text==="("?(t={type:Ye.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):e.text==="["?(t={type:Ye.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):e.text==="."?t={type:Ye.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:Ye.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(this.peekToken().text!==")")do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Ye.Identifier,name:t.text}},constant:function(){return{type:Ye.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ye.ArrayExpression,elements:t}},object:function(){var t=[],e;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;e={type:Ye.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ye.ObjectExpression,properties:t}},throwError:function(t,e){throw Sh("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(this.tokens.length===0)throw Sh("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(this.tokens.length===0)throw Sh("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===r||o===n||o===i||!e&&!r&&!n&&!i)return a}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:Ye.ThisExpression},$locals:{type:Ye.LocalsExpression}}};function pye(t,e){return typeof t<"u"?t:e}function E7(t,e){return typeof t>"u"?e:typeof e>"u"?t:t+e}function vye(t,e){var r=t(e);if(!r)throw new Error("Filter '"+e+"' is not defined");return!r.$stateful}function Si(t,e){var r,n,i;switch(t.type){case Ye.Program:r=!0,Tn(t.body,function(a){Si(a.expression,e),r=r&&a.expression.constant}),t.constant=r;break;case Ye.Literal:t.constant=!0,t.toWatch=[];break;case Ye.UnaryExpression:Si(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Ye.BinaryExpression:Si(t.left,e),Si(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Ye.LogicalExpression:Si(t.left,e),Si(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Ye.ConditionalExpression:Si(t.test,e),Si(t.alternate,e),Si(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Ye.Identifier:t.constant=!1,t.toWatch=[t];break;case Ye.MemberExpression:Si(t.object,e),t.computed&&Si(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Ye.CallExpression:i=t.filter?vye(e,t.callee.name):!1,r=i,n=[],Tn(t.arguments,function(a){Si(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=i?n:[t];break;case Ye.AssignmentExpression:Si(t.left,e),Si(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Ye.ArrayExpression:r=!0,n=[],Tn(t.elements,function(a){Si(a,e),r=r&&a.constant,a.constant||n.push.apply(n,a.toWatch)}),t.constant=r,t.toWatch=n;break;case Ye.ObjectExpression:r=!0,n=[],Tn(t.properties,function(a){Si(a.value,e),r=r&&a.value.constant&&!a.computed,a.value.constant||n.push.apply(n,a.value.toWatch)}),t.constant=r,t.toWatch=n;break;case Ye.ThisExpression:t.constant=!1,t.toWatch=[];break;case Ye.LocalsExpression:t.constant=!1,t.toWatch=[];break}}function S7(t){if(t.length===1){var e=t[0].expression,r=e.toWatch;return r.length!==1||r[0]!==e?r:void 0}}function C7(t){return t.type===Ye.Identifier||t.type===Ye.MemberExpression}function T7(t){if(t.body.length===1&&C7(t.body[0].expression))return{type:Ye.AssignmentExpression,left:t.body[0].expression,right:{type:Ye.NGValueParameter},operator:"="}}function A7(t){return t.body.length===0||t.body.length===1&&(t.body[0].expression.type===Ye.Literal||t.body[0].expression.type===Ye.ArrayExpression||t.body[0].expression.type===Ye.ObjectExpression)}function I7(t){return t.constant}function R7(t,e){this.astBuilder=t,this.$filter=e}R7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Si(r,e.$filter);var n="",i;if(this.stage="assign",i=T7(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=S7(r.body);e.stage="inputs",Tn(o,function(l,u){var f="fn"+u;e.state[f]={vars:[],body:[],own:{}},e.state.computing=f;var h=e.nextId();e.recurse(l,h),e.return_(h),e.state.inputs.push(f),l.watchId=u}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,w7,pye,E7);return this.state=this.stage=void 0,c.ast=r,c.literal=A7(r),c.constant=I7(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return Tn(e,function(n){t.push("var "+n+"="+r.generateFunction(n,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return Tn(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,a){var o,s,c=this,l,u,f;if(n=n||pO,!a&&Eh(t.watchId)){e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));return}switch(t.type){case Ye.Program:Tn(t.body,function(p,d){c.recurse(p.expression,void 0,void 0,function(g){s=g}),d!==t.body.length-1?c.current().body.push(s,";"):c.return_(s)});break;case Ye.Literal:u=this.escape(t.value),this.assign(e,u),n(e||u);break;case Ye.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(p){s=p}),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),n(u);break;case Ye.BinaryExpression:this.recurse(t.left,void 0,void 0,function(p){o=p}),this.recurse(t.right,void 0,void 0,function(p){s=p}),t.operator==="+"?u=this.plus(o,s):t.operator==="-"?u=this.ifDefined(o,0)+t.operator+this.ifDefined(s,0):u="("+o+")"+t.operator+"("+s+")",this.assign(e,u),n(u);break;case Ye.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_(t.operator==="&&"?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case Ye.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case Ye.Identifier:e=e||this.nextId();var h=c.current().inAssignment;r&&(h?r.context=this.assign(this.nextId(),"s"):r.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_(c.stage==="inputs"||c.and_("s",c.or_(c.isNull(c.nonComputedMember("s",t.name)),c.hasOwnProperty_("s",t.name))),function(){i&&i!==1&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case Ye.MemberExpression:o=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,o,void 0,function(){var p=null,d=c.current().inAssignment;t.computed?(s=c.nextId(),d||c.state.computing==="assign"?p=c.unsafeComputedMember(o,s):p=c.computedMember(o,s)):(d||c.state.computing==="assign"?p=c.unsafeNonComputedMember(o,t.property.name):p=c.nonComputedMember(o,t.property.name),s=t.property.name),t.computed&&t.property.type===Ye.Literal&&c.recurse(t.property,s),c.if_(c.and_(c.notNull(o),c.or_(c.isNull(p),c.hasOwnProperty_(o,s,t.computed))),function(){t.computed?(t.property.type!==Ye.Literal&&c.recurse(t.property,s),i&&i!==1&&c.if_(c.not(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&c.if_(c.isNull(p),c.lazyAssign(p,"{}")),c.assign(e,p),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case Ye.CallExpression:e=e||this.nextId(),t.filter?(s=c.filter(t.callee.name),l=[],Tn(t.arguments,function(p){var d=c.nextId();c.recurse(p,d),l.push(d)}),u=s+".call("+s+","+l.join(",")+")",c.assign(e,u),n(e)):(s=c.nextId(),o={},l=[],c.recurse(t.callee,s,o,function(){c.if_(c.notNull(s),function(){if(Tn(t.arguments,function(d){c.recurse(d,t.constant?void 0:c.nextId(),void 0,function(g){l.push(g)})}),o.name){var p=c.member(o.context,o.name,o.computed);u="("+p+" === null ? null : "+c.unsafeMember(o.context,o.name,o.computed)+".call("+[o.context].concat(l).join(",")+"))"}else u=s+"("+l.join(",")+")";c.assign(e,u)},function(){c.assign(e,"undefined")}),n(e)}));break;case Ye.AssignmentExpression:s=this.nextId(),o={},c.current().inAssignment=!0,this.recurse(t.left,void 0,o,function(){c.if_(c.and_(c.notNull(o.context),c.or_(c.hasOwnProperty_(o.context,o.name),c.isNull(c.member(o.context,o.name,o.computed)))),function(){c.recurse(t.right,s),u=c.member(o.context,o.name,o.computed)+t.operator+s,c.assign(e,u),n(e||u)}),c.current().inAssignment=!1,c.recurse(t.right,s),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case Ye.ArrayExpression:l=[],Tn(t.elements,function(p){c.recurse(p,t.constant?void 0:c.nextId(),void 0,function(d){l.push(d)})}),u="["+l.join(",")+"]",this.assign(e,u),n(e||u);break;case Ye.ObjectExpression:l=[],f=!1,Tn(t.properties,function(p){p.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),Tn(t.properties,function(p){p.computed?(o=c.nextId(),c.recurse(p.key,o)):o=p.key.type===Ye.Identifier?p.key.name:""+p.key.value,s=c.nextId(),c.recurse(p.value,s),c.assign(c.unsafeMember(e,o,p.computed),s)})):(Tn(t.properties,function(p){c.recurse(p.value,t.constant?void 0:c.nextId(),void 0,function(d){l.push(c.escape(p.key.type===Ye.Identifier?p.key.name:""+p.key.value)+":"+d)})}),u="{"+l.join(",")+"}",this.assign(e,u)),n(e||u);break;case Ye.ThisExpression:this.assign(e,"s"),n(e||"s");break;case Ye.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case Ye.NGValueParameter:this.assign(e,"v"),n(e||"v");break}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(t===!0)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasOwnProperty_:function(t,e,r){return r?"(Object.prototype.hasOwnProperty.call("+t+","+e+"))":"(Object.prototype.hasOwnProperty.call("+t+",'"+e+"'))"},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(e)?i=t+"."+e:(e=e.replace(n,this.stringEscapeFn),i=t+'["'+e+'"]'),i},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return this.state.computing==="assign"?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,r){return r?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,a){var o=this;return function(){o.recurse(t,e,r,n,i,a)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(_1(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(vO(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(t===null)return"null";if(typeof t>"u")return"undefined";throw Sh("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}};function P7(t,e){this.astBuilder=t,this.$filter=e}P7.prototype={compile:function(t){var e=this,r=this.astBuilder.ast(t);Si(r,e.$filter);var n,i;(n=T7(r))&&(i=this.recurse(n));var a=S7(r.body),o;a&&(o=[],Tn(a,function(l,u){var f=e.recurse(l);l.input=f,o.push(f),l.watchId=u}));var s=[];Tn(r.body,function(l){s.push(e.recurse(l.expression))});var c=r.body.length===0?pO:r.body.length===1?s[0]:function(l,u){var f;return Tn(s,function(h){f=h(l,u)}),f};return i&&(c.assign=function(l,u,f){return i(l,f,u)}),o&&(c.inputs=o),c.ast=r,c.literal=A7(r),c.constant=I7(r),c},recurse:function(t,e,r){var n,i,a=this,o;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Ye.Literal:return this.value(t.value,e);case Ye.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Ye.BinaryExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Ye.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case Ye.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Ye.Identifier:return a.identifier(t.name,e,r);case Ye.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case Ye.CallExpression:return o=[],Tn(t.arguments,function(s){o.push(a.recurse(s))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));var p=i.apply(void 0,f,u);return e?{context:void 0,name:void 0,value:p}:p}:function(s,c,l,u){var f=i(s,c,l,u),h;if(f.value!=null){for(var p=[],d=0;d<o.length;++d)p.push(o[d](s,c,l,u));h=f.value.apply(f.context,p)}return e?{value:h}:h};case Ye.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(s,c,l,u){var f=n(s,!1,l,u),h=i(s,c,l,u);return f.context[f.name]=h,e?{value:h}:h};case Ye.ArrayExpression:return o=[],Tn(t.elements,function(s){o.push(a.recurse(s))}),function(s,c,l,u){for(var f=[],h=0;h<o.length;++h)f.push(o[h](s,c,l,u));return e?{value:f}:f};case Ye.ObjectExpression:return o=[],Tn(t.properties,function(s){s.computed?o.push({key:a.recurse(s.key),computed:!0,value:a.recurse(s.value)}):o.push({key:s.key.type===Ye.Identifier?s.key.name:""+s.key.value,computed:!1,value:a.recurse(s.value)})}),function(s,c,l,u){for(var f={},h=0;h<o.length;++h)o[h].computed?f[o[h].key(s,c,l,u)]=o[h].value(s,c,l,u):f[o[h].key]=o[h].value(s,c,l,u);return e?{value:f}:f};case Ye.ThisExpression:return function(s){return e?{value:s}:s};case Ye.LocalsExpression:return function(s,c){return e?{value:c}:c};case Ye.NGValueParameter:return function(s,c,l){return e?{value:l}:l}}},"unary+":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Eh(o)?o=+o:o=0,e?{value:o}:o}},"unary-":function(t,e){return function(r,n,i,a){var o=t(r,n,i,a);return Eh(o)?o=-o:o=-0,e?{value:o}:o}},"unary!":function(t,e){return function(r,n,i,a){var o=!t(r,n,i,a);return e?{value:o}:o}},"binary+":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=E7(s,c);return r?{value:l}:l}},"binary-":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o),c=e(n,i,a,o),l=(Eh(s)?s:0)-(Eh(c)?c:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)*e(n,i,a,o);return r?{value:s}:s}},"binary/":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)/e(n,i,a,o);return r?{value:s}:s}},"binary%":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)%e(n,i,a,o);return r?{value:s}:s}},"binary===":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)===e(n,i,a,o);return r?{value:s}:s}},"binary!==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!==e(n,i,a,o);return r?{value:s}:s}},"binary==":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)==e(n,i,a,o);return r?{value:s}:s}},"binary!=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)!=e(n,i,a,o);return r?{value:s}:s}},"binary<":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<e(n,i,a,o);return r?{value:s}:s}},"binary>":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>e(n,i,a,o);return r?{value:s}:s}},"binary<=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)<=e(n,i,a,o);return r?{value:s}:s}},"binary>=":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)>=e(n,i,a,o);return r?{value:s}:s}},"binary&&":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)&&e(n,i,a,o);return r?{value:s}:s}},"binary||":function(t,e,r){return function(n,i,a,o){var s=t(n,i,a,o)||e(n,i,a,o);return r?{value:s}:s}},"ternary?:":function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s)?e(i,a,o,s):r(i,a,o,s);return n?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,a,o){var s=i&&t in i?i:n;r&&r!==1&&s&&s[t]==null&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s),l,u;return c!=null&&(l=e(i,a,o,s),l=w7(l),n&&n!==1&&c&&!c[l]&&(c[l]={}),Object.prototype.hasOwnProperty.call(c,l)&&(u=c[l])),r?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,r,n){return function(i,a,o,s){var c=t(i,a,o,s);n&&n!==1&&c&&c[e]==null&&(c[e]={});var l=void 0;return c!=null&&Object.prototype.hasOwnProperty.call(c,e)&&(l=c[e]),r?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,a){return a?a[e]:t(r,n,i)}}};var ZT=function(e,r,n){this.lexer=e,this.$filter=r,this.options=n,this.ast=new Ye(e,n),this.astCompiler=n.csp?new P7(this.ast,r):new R7(this.ast,r)};ZT.prototype={constructor:ZT,parse:function(t){return this.astCompiler.compile(t)}};hO.Lexer=KT;hO.Parser=ZT;var O7=hO,gye={},mye=O7.Lexer,_ye=O7.Parser;function mO(t,e){e=e||{};var r=e.filters||gye,n=e.filters?e.cache||{}:mO.cache,i=e,a;if(typeof t!="string")throw new TypeError("src must be a string, instead saw '"+typeof t+"'");var o={csp:e.csp!=null?e.csp:!1,literals:e.literals!=null?e.literals:{true:!0,false:!1,null:null,undefined:void 0}},s=new mye(i),c=new _ye(s,function(u){return r[u]},o);return n?(a=n[t],a||(a=n[t]=c.parse(t)),a):c.parse(t)}mO.cache=Object.create(null);var k7=mO;function yye(t,e){return typeof t!="number"&&(t=0),typeof e!="number"&&(t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t-1))+t+1}const xye=t=>{let e=!1,r=null,n=null,i=!1,a=0;t.args.forEach(s=>{s.key==="global"?e=!0:s.key==="minValue"?r=s.value:s.key==="maxValue"?n=s.value:s.key==="random"&&(i=s.value)}),i&&r!==null&&n!==null&&(a=yye(r,n));let o;if(e?o=C0e:o=_G,t.content.match(/=/)){const s=t.content.split(/=/)[0],c=t.content.split(/=/)[1];if(c==="random()"){const l=i?a:Math.random();ce.dispatch(o({key:s,value:l})),ce.dispatch(Xf({key:s,value:l}))}else if(c.match(/[+\-*\/()]/)&&!i){const u=c.split(/([+\-*\/()])/g).map(p=>p.match(/[a-zA-Z]/)?_O(p).toString():p).reduce((p,d)=>p+d,"");let h=k7(u)();typeof h=="number"&&(typeof r=="number"&&h<r&&(h=r),typeof n=="number"&&h>n&&(h=n)),ce.dispatch(o({key:s,value:h})),ce.dispatch(Xf({key:s,value:h}))}else c.match(/true|false/)&&!i?(c.match(/true/)&&(ce.dispatch(o({key:s,value:!0})),ce.dispatch(Xf({key:s,value:!0}))),c.match(/false/)&&(ce.dispatch(o({key:s,value:!1})),ce.dispatch(Xf({key:s,value:!1})))):isNaN(Number(c))?(ce.dispatch(o({key:s,value:i?a:c})),ce.dispatch(Xf({key:s,value:i?a:c}))):(ce.dispatch(o({key:s,value:i?a:Number(c)})),ce.dispatch(Xf({key:s,value:i?a:Number(c)})));e?(Je.debug("",{key:s,value:ce.getState().userData.globalGameVar[s]}),RH()):Je.debug("",{key:s,value:ce.getState().stage.GameVar[s]})}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function _O(t){let e=0;return ce.getState().stage.GameVar.hasOwnProperty(t)?e=ce.getState().stage.GameVar[t]:ce.getState().userData.globalGameVar.hasOwnProperty(t)&&(e=ce.getState().userData.globalGameVar[t]),e}function bye(t){return k7(t)()}const JT=t=>{if(t===void 0)return!0;const e=t.split(/([+\-*\/()><!]|>=|<=|==|&&|\|\||!=)/g);if(e.every(n=>n.length)){const n=e.map(i=>i.match(/[a-zA-Z]/)?i.match(/true/)||i.match(/false/)?i:_O(i).toString():i).reduce((i,a)=>i+a,"");return!!bye(n)}return!0},F7=()=>{if(W.sceneManager.sceneData.currentScene.sceneName,W.sceneManager.sceneData.currentSentenceId>W.sceneManager.sceneData.currentScene.sentenceList.length-1){if(W.sceneManager.sceneData.sceneStack.length!==0){const l=W.sceneManager.sceneData.sceneStack.pop();l!==void 0&&Q_e(l)}return}const t=W.sceneManager.sceneData.currentScene.sentenceList[W.sceneManager.sceneData.currentSentenceId],e=l=>{let u=l,f;if(window.isSafari){const h=u.match(/\{.*?\}/g);h?f=h.filter((p,d)=>{const g=u.indexOf(p,d?u.indexOf(h[d-1])+h[d-1].length:0);return g===0||u[g-1]!=="\\"}):f=null}else f=u.match(new RegExp("(?<!\\\\)\\{(.*?)\\}","g"));return f!==null&&f.forEach(h=>{const p=_O(window.isSafari?h.slice(1,-1):h.replace(new RegExp("(?<!\\\\)\\{(.*)\\}"),"$1"));u=u.replace(h,p?p.toString():h)}),u=u.replace(/\\{/g,"{").replace(/\\}/g,"}"),u};(()=>{t.content=e((t==null?void 0:t.content)??""),t.args.forEach(l=>{l.value&&typeof l.value=="string"&&(l.value=e(l.value))})})();let n=!0,i=!1,a="";if(t.args.forEach(l=>{l.key==="when"&&(i=!0,a=l.value.toString())}),i&&(n=JT(a)),!n){Je.warn(""),W.sceneManager.sceneData.currentSentenceId++,ti();return}m1(t);let o=!1;t.args.forEach(l=>{l.key==="next"&&l.value&&(o=!0)});let s=t.command===Lt.say;t.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(s=!1)});let c;if(o){W.sceneManager.sceneData.currentSentenceId++,F7();return}setTimeout(()=>{c=ce.getState().stage,ce.getState().userData.globalGameVar,Je.debug("",W.sceneManager.sceneData.currentSentenceId),s&&W.backlogManager.saveCurrentStateToBacklog()},0),W.sceneManager.sceneData.currentSentenceId++},ti=()=>{if(W.events.userInteractNext.emit(),ce.getState().GUI.showTitle)return;let e=!1;if(W.gameplay.performController.performList.forEach(i=>{i.blockingNext()&&!W.gameplay.isFast&&!W.gameplay.isSyncingWithOrigine&&(e=!0)}),e){Je.warn("next ");return}let r=!0;if(W.gameplay.performController.performList.forEach(i=>{!i.isHoldOn&&!i.skipNextCollect&&(r=!1)}),r){const i=ce.getState().stage,a=yn(i);for(let o=0;o<a.PerformList.length;o++)a.PerformList[o].isHoldOn||(a.PerformList.splice(o,1),o--);ce.dispatch(lg(a)),F7();return}Je.warn("");let n=!1;for(let i=0;i<W.gameplay.performController.performList.length;i++){const a=W.gameplay.performController.performList[i];a.isHoldOn||(a.goNextWhenOver&&(n=!0),a.skipNextCollect||(a.stopFunction(),clearTimeout(a.stopTimeout),W.gameplay.performController.performList.splice(i,1),i--))}n&&ti()};var wye="__lodash_hash_undefined__";function Eye(t){return this.__data__.set(t,wye),this}var Sye=Eye;function Cye(t){return this.__data__.has(t)}var Tye=Cye,Aye=UP,Iye=Sye,Rye=Tye;function Qy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Aye;++e<r;)this.add(t[e])}Qy.prototype.add=Qy.prototype.push=Iye;Qy.prototype.has=Rye;var N7=Qy;function Pye(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Oye=Pye;function kye(t){return t!==t}var Fye=kye;function Nye(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Mye=Nye,Lye=Oye,Bye=Fye,Dye=Mye;function Uye(t,e,r){return e===e?Dye(t,e,r):Lye(t,Bye,r)}var jye=Uye,$ye=jye;function Gye(t,e){var r=t==null?0:t.length;return!!r&&$ye(t,e,0)>-1}var Vye=Gye;function Hye(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var zye=Hye;function Xye(t,e){return t.has(e)}var M7=Xye;function Wye(){}var Yye=Wye;function qye(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var yO=qye,uS=fG,Kye=Yye,Zye=yO,Jye=1/0,Qye=uS&&1/Zye(new uS([,-0]))[1]==Jye?function(t){return new uS(t)}:Kye,exe=Qye,txe=N7,rxe=Vye,nxe=zye,ixe=M7,axe=exe,oxe=yO,sxe=200;function lxe(t,e,r){var n=-1,i=rxe,a=t.length,o=!0,s=[],c=s;if(r)o=!1,i=nxe;else if(a>=sxe){var l=e?null:axe(t);if(l)return oxe(l);o=!1,i=ixe,c=new txe}else c=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(u)}else i(c,f,r)||(c!==s&&c.push(f),s.push(u))}return s}var uxe=lxe,cxe=uxe;function fxe(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?cxe(t,void 0,e):[]}var hxe=fxe;const fg=Yi(hxe),Xd=t=>{for(const e of t)W.sceneManager.settledScenes.includes(e)?Je.warn(`${e}`):(Je.info(`${e}`),Ua(e).then(r=>{const n=e.split("./game/scene/")[1];yv(r,n||"",e)}))},dxe=(t,e)=>{W.sceneManager.sceneData.sceneStack.push({sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl,continueLine:W.sceneManager.sceneData.currentSentenceId}),Ua(t).then(async r=>{if(await W.sceneManager.setCurrentScene(r,e,t,!0)){W.sceneManager.sceneData.currentSentenceId=0;const i=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const a=fg(i);Xd(a),Je.debug("",W.sceneManager.sceneData),ti()}})},pxe=t=>{const e=t.content.split("/"),r=e[e.length-1];return dxe(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function sf(t,e,r){let n;const a=ce.getState().stage.effects.find(o=>o.target===t);if(e.duration=500,r&&typeof r=="number"&&(e.duration=r),n=[e],a){const o={...a.transform,duration:0};n.unshift(o)}else{const o={...e,alpha:0,duration:0};n.unshift(o)}return n}function L7(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0)}function i(){r&&(r.pixiContainer.alpha=1)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha<1&&(s.alpha+=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}function B7(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){}function i(){r&&(r.pixiContainer.alpha=0)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,u=1/(e/c*o);s.alpha>0&&(s.alpha-=u)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const xO={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0};var _c=(t=>(t.Click="click",t.Move="move",t.Error="error",t.Alert="alert",t))(_c||{});function D7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var vxe=function(){},CB=function(){};const QT=(t,e,r)=>Math.min(Math.max(r,t),e),cS=.001,gxe=.01,TB=10,mxe=.05,_xe=1;function yxe({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;vxe(t<=TB*1e3);let o=1-e;o=QT(mxe,_xe,o),t=QT(gxe,TB,t/1e3),o<1?(i=l=>{const u=l*o,f=u*t,h=u-r,p=eA(l,o),d=Math.exp(-f);return cS-h/p*d},a=l=>{const f=l*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,d=Math.exp(-f),g=eA(Math.pow(l,2),o);return(-i(l)+cS>0?-1:1)*((h-p)*d)/g}):(i=l=>{const u=Math.exp(-l*t),f=(l-r)*t+1;return-cS+u*f},a=l=>{const u=Math.exp(-l*t),f=(r-l)*(t*t);return u*f});const s=5/t,c=bxe(i,a,s);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const xxe=12;function bxe(t,e,r){let n=r;for(let i=1;i<xxe;i++)n=n-t(n)/e(n);return n}function eA(t,e){return t*Math.sqrt(1-e*e)}const wxe=["duration","bounce"],Exe=["stiffness","damping","mass"];function AB(t,e){return e.some(r=>t[r]!==void 0)}function Sxe(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!AB(t,Exe)&&AB(t,wxe)){const r=yxe(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function bO(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:i}=t,a=D7(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:s,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=Sxe(a),p=IB,d=IB;function g(){const m=u?-(u/1e3):0,v=r-e,_=c/(2*Math.sqrt(s*l)),y=Math.sqrt(s/l)/1e3;if(i===void 0&&(i=Math.min(Math.abs(r-e)/100,.4)),_<1){const b=eA(y,_);p=w=>{const E=Math.exp(-_*y*w);return r-E*((m+_*y*v)/b*Math.sin(b*w)+v*Math.cos(b*w))},d=w=>{const E=Math.exp(-_*y*w);return _*y*E*(Math.sin(b*w)*(m+_*y*v)/b+v*Math.cos(b*w))-E*(Math.cos(b*w)*(m+_*y*v)-b*v*Math.sin(b*w))}}else if(_===1)p=b=>r-Math.exp(-y*b)*(v+(m+y*v)*b);else{const b=y*Math.sqrt(_*_-1);p=w=>{const E=Math.exp(-_*y*w),C=Math.min(b*w,300);return r-E*((m+_*y*v)*Math.sinh(C)+b*v*Math.cosh(C))/b}}}return g(),{next:m=>{const v=p(m);if(h)o.done=m>=f;else{const _=d(m)*1e3,y=Math.abs(_)<=n,b=Math.abs(r-v)<=i;o.done=y&&b}return o.value=o.done?r:v,o},flipTarget:()=>{u=-u,[e,r]=[r,e],g()}}}bO.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const IB=t=>0,U7=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},wO=(t,e,r)=>-r*t+r*e+t,j7=(t,e)=>r=>Math.max(Math.min(r,e),t),Fp=t=>t%1?Number(t.toFixed(5)):t,ex=/(-)?([\d]*\.?[\d])+/g,tA=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Cxe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hg(t){return typeof t=="string"}const y1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$7=Object.assign(Object.assign({},y1),{transform:j7(0,1)});Object.assign(Object.assign({},y1),{default:1});const Txe=t=>({test:e=>hg(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Np=Txe("%");Object.assign(Object.assign({},Np),{parse:t=>Np.parse(t)/100,transform:t=>Np.transform(t*100)});const EO=(t,e)=>r=>!!(hg(r)&&Cxe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),G7=(t,e,r)=>n=>{if(!hg(n))return n;const[i,a,o,s]=n.match(ex);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Nc={test:EO("hsl","hue"),parse:G7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Np.transform(Fp(e))+", "+Np.transform(Fp(r))+", "+Fp($7.transform(n))+")"},Axe=j7(0,255),fS=Object.assign(Object.assign({},y1),{transform:t=>Math.round(Axe(t))}),iu={test:EO("rgb","red"),parse:G7("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+fS.transform(t)+", "+fS.transform(e)+", "+fS.transform(r)+", "+Fp($7.transform(n))+")"};function Ixe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),i=t.substr(4,1),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const rA={test:EO("#"),parse:Ixe,transform:iu.transform},x1={test:t=>iu.test(t)||rA.test(t)||Nc.test(t),parse:t=>iu.test(t)?iu.parse(t):Nc.test(t)?Nc.parse(t):rA.parse(t),transform:t=>hg(t)?t:t.hasOwnProperty("red")?iu.transform(t):Nc.transform(t)},V7="${c}",H7="${n}";function Rxe(t){var e,r,n,i;return isNaN(t)&&hg(t)&&((r=(e=t.match(ex))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((i=(n=t.match(tA))===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0}function z7(t){typeof t=="number"&&(t=`${t}`);const e=[];let r=0;const n=t.match(tA);n&&(r=n.length,t=t.replace(tA,V7),e.push(...n.map(x1.parse)));const i=t.match(ex);return i&&(t=t.replace(ex,H7),e.push(...i.map(y1.parse))),{values:e,numColors:r,tokenised:t}}function X7(t){return z7(t).values}function W7(t){const{values:e,numColors:r,tokenised:n}=z7(t),i=e.length;return a=>{let o=n;for(let s=0;s<i;s++)o=o.replace(s<r?V7:H7,s<r?x1.transform(a[s]):Fp(a[s]));return o}}const Pxe=t=>typeof t=="number"?0:t;function Oxe(t){const e=X7(t);return W7(t)(e.map(Pxe))}const Y7={test:Rxe,parse:X7,createTransformer:W7,getAnimatableNone:Oxe};function hS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function RB({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i=hS(c,s,t+1/3),a=hS(c,s,t),o=hS(c,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const kxe=(t,e,r)=>{const n=t*t,i=e*e;return Math.sqrt(Math.max(0,r*(i-n)+n))},Fxe=[rA,iu,Nc],PB=t=>Fxe.find(e=>e.test(t)),q7=(t,e)=>{let r=PB(t),n=PB(e),i=r.parse(t),a=n.parse(e);r===Nc&&(i=RB(i),r=iu),n===Nc&&(a=RB(a),n=iu);const o=Object.assign({},i);return s=>{for(const c in o)c!=="alpha"&&(o[c]=kxe(i[c],a[c],s));return o.alpha=wO(i.alpha,a.alpha,s),r.transform(o)}},Nxe=t=>typeof t=="number",Mxe=(t,e)=>r=>e(t(r)),K7=(...t)=>t.reduce(Mxe);function Z7(t,e){return Nxe(t)?r=>wO(t,e,r):x1.test(t)?q7(t,e):Q7(t,e)}const J7=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>Z7(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},Lxe=(t,e)=>{const r=Object.assign(Object.assign({},t),e),n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Z7(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}};function OB(t){const e=Y7.parse(t),r=e.length;let n=0,i=0,a=0;for(let o=0;o<r;o++)n||typeof e[o]=="number"?n++:e[o].hue!==void 0?a++:i++;return{parsed:e,numNumbers:n,numRGB:i,numHSL:a}}const Q7=(t,e)=>{const r=Y7.createTransformer(e),n=OB(t),i=OB(e);return n.numHSL===i.numHSL&&n.numRGB===i.numRGB&&n.numNumbers>=i.numNumbers?K7(J7(n.parsed,i.parsed),r):o=>`${o>0?e:t}`},Bxe=(t,e)=>r=>wO(t,e,r);function Dxe(t){if(typeof t=="number")return Bxe;if(typeof t=="string")return x1.test(t)?q7:Q7;if(Array.isArray(t))return J7;if(typeof t=="object")return Lxe}function Uxe(t,e,r){const n=[],i=r||Dxe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;s=K7(c,s)}n.push(s)}return n}function jxe([t,e],[r]){return n=>r(U7(t,e,n))}function $xe(t,e){const r=t.length,n=r-1;return i=>{let a=0,o=!1;if(i<=t[0]?o=!0:i>=t[n]&&(a=n-1,o=!0),!o){let c=1;for(;c<r&&!(t[c]>i||c===n);c++);a=c-1}const s=U7(t[a],t[a+1],i);return e[a](s)}}function eV(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;CB(a===e.length),CB(!n||!Array.isArray(n)||n.length===a-1),t[0]>t[a-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Uxe(e,n,i),s=a===2?jxe(t,o):$xe(t,o);return r?c=>s(QT(t[0],t[a-1],c)):s}const Gxe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Vxe=t=>e=>Math.pow(e,t),Hxe=t=>e=>e*e*((t+1)*e-t),zxe=t=>{const e=Hxe(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))},Xxe=1.525,Wxe=Vxe(2),Yxe=Gxe(Wxe);zxe(Xxe);function qxe(t,e){return t.map(()=>e||Yxe).splice(0,t.length-1)}function Kxe(t){const e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function Zxe(t,e){return t.map(r=>r*e)}function W_({from:t=0,to:e=1,ease:r,offset:n,duration:i=300}){const a={done:!1,value:t},o=Array.isArray(e)?e:[t,e],s=Zxe(n&&n.length===o.length?n:Kxe(o),i);function c(){return eV(s,o,{ease:Array.isArray(r)?r:qxe(o,r)})}let l=c();return{next:u=>(a.value=l(u),a.done=u>=i,a),flipTarget:()=>{o.reverse(),l=c()}}}function Jxe({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:e};let s=r*t;const c=e+s,l=a===void 0?c:a(c);return l!==c&&(s=l-e),{next:u=>{const f=-s*Math.exp(-u/n);return o.done=!(f>i||f<-i),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}const kB={keyframes:W_,spring:bO,decay:Jxe};function Qxe(t){if(Array.isArray(t.to))return W_;if(kB[t.type])return kB[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?W_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?bO:W_}const tV=1/60*1e3,e1e=typeof performance<"u"?()=>performance.now():()=>Date.now(),rV=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(e1e()),tV);function t1e(t){let e=[],r=[],n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:r;return l&&o.add(c),h.indexOf(c)===-1&&(h.push(c),f&&i&&(n=e.length)),c},cancel:c=>{const l=r.indexOf(c);l!==-1&&r.splice(l,1),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){const u=e[l];u(c),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(c))}};return s}const r1e=40;let nA=!0,dv=!1,iA=!1;const Mp={delta:0,timestamp:0},dg=["read","update","preRender","render","postRender"],b1=dg.reduce((t,e)=>(t[e]=t1e(()=>dv=!0),t),{}),n1e=dg.reduce((t,e)=>{const r=b1[e];return t[e]=(n,i=!1,a=!1)=>(dv||o1e(),r.schedule(n,i,a)),t},{}),i1e=dg.reduce((t,e)=>(t[e]=b1[e].cancel,t),{});dg.reduce((t,e)=>(t[e]=()=>b1[e].process(Mp),t),{});const a1e=t=>b1[t].process(Mp),nV=t=>{dv=!1,Mp.delta=nA?tV:Math.max(Math.min(t-Mp.timestamp,r1e),1),Mp.timestamp=t,iA=!0,dg.forEach(a1e),iA=!1,dv&&(nA=!1,rV(nV))},o1e=()=>{dv=!0,nA=!0,iA||rV(nV)},s1e=n1e;function iV(t,e,r=0){return t-e-r}function l1e(t,e,r=0,n=!0){return n?iV(e+-t,e,r):e-(t-e)+r}function u1e(t,e,r,n){return n?t>=e+r:t<=-r}const c1e=t=>{const e=({delta:r})=>t(r);return{start:()=>s1e.update(e,!0),stop:()=>i1e.update(e)}};function f1e(t){var e,r,{from:n,autoplay:i=!0,driver:a=c1e,elapsed:o=0,repeat:s=0,repeatType:c="loop",repeatDelay:l=0,onPlay:u,onStop:f,onComplete:h,onRepeat:p,onUpdate:d}=t,g=D7(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:m}=g,v,_=0,y=g.duration,b,w=!1,E=!0,C;const T=Qxe(g);!((r=(e=T).needsInterpolation)===null||r===void 0)&&r.call(e,n,m)&&(C=eV([0,100],[n,m],{clamp:!1}),n=0,m=100);const A=T(Object.assign(Object.assign({},g),{from:n,to:m}));function R(){_++,c==="reverse"?(E=_%2===0,o=l1e(o,y,l,E)):(o=iV(o,y,l),c==="mirror"&&A.flipTarget()),w=!1,p&&p()}function O(){v.stop(),h&&h()}function P(M){if(E||(M=-M),o+=M,!w){const B=A.next(Math.max(0,o));b=B.value,C&&(b=C(b)),w=E?B.done:o<=0}d==null||d(b),w&&(_===0&&(y??(y=o)),_<s?u1e(o,y,l,E)&&R():O())}function k(){u==null||u(),v=a(P),v.start()}return i&&k(),{stop:()=>{f==null||f(),v.stop()}}}function h1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var d1e=h1e,p1e=N7,v1e=d1e,g1e=M7,m1e=1,_1e=2;function y1e(t,e,r,n,i,a){var o=r&m1e,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(t),u=a.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,p=r&_1e?new p1e:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],g=e[f];if(n)var m=o?n(g,d,f,e,t,a):n(d,g,f,t,e,a);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!v1e(e,function(v,_){if(!g1e(p,_)&&(d===v||i(d,v,r,n,a)))return p.push(_)})){h=!1;break}}else if(!(d===g||i(d,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var aV=y1e;function x1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var b1e=x1e,FB=og,NB=dG,w1e=BP,E1e=aV,S1e=b1e,C1e=yO,T1e=1,A1e=2,I1e="[object Boolean]",R1e="[object Date]",P1e="[object Error]",O1e="[object Map]",k1e="[object Number]",F1e="[object RegExp]",N1e="[object Set]",M1e="[object String]",L1e="[object Symbol]",B1e="[object ArrayBuffer]",D1e="[object DataView]",MB=FB?FB.prototype:void 0,dS=MB?MB.valueOf:void 0;function U1e(t,e,r,n,i,a,o){switch(r){case D1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B1e:return!(t.byteLength!=e.byteLength||!a(new NB(t),new NB(e)));case I1e:case R1e:case k1e:return w1e(+t,+e);case P1e:return t.name==e.name&&t.message==e.message;case F1e:case M1e:return t==e+"";case O1e:var s=S1e;case N1e:var c=n&T1e;if(s||(s=C1e),t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=A1e,o.set(t,e);var u=E1e(s(t),s(e),n,i,a,o);return o.delete(t),u;case L1e:if(dS)return dS.call(t)==dS.call(e)}return!1}var j1e=U1e,LB=uG,$1e=1,G1e=Object.prototype,V1e=G1e.hasOwnProperty;function H1e(t,e,r,n,i,a){var o=r&$1e,s=LB(t),c=s.length,l=LB(e),u=l.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:V1e.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<c;){h=s[f];var v=t[h],_=e[h];if(n)var y=o?n(_,v,h,e,t,a):n(v,_,h,t,e,a);if(!(y===void 0?v===_||i(v,_,r,n,a):y)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var z1e=H1e,pS=jP,X1e=aV,W1e=j1e,Y1e=z1e,BB=r1,DB=Sl,UB=GP,q1e=eG,K1e=1,jB="[object Arguments]",$B="[object Array]",Mm="[object Object]",Z1e=Object.prototype,GB=Z1e.hasOwnProperty;function J1e(t,e,r,n,i,a){var o=DB(t),s=DB(e),c=o?$B:BB(t),l=s?$B:BB(e);c=c==jB?Mm:c,l=l==jB?Mm:l;var u=c==Mm,f=l==Mm,h=c==l;if(h&&UB(t)){if(!UB(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new pS),o||q1e(t)?X1e(t,e,r,n,i,a):W1e(t,e,c,r,n,i,a);if(!(r&K1e)){var p=u&&GB.call(t,"__wrapped__"),d=f&&GB.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,m=d?e.value():e;return a||(a=new pS),i(g,m,r,n,a)}}return h?(a||(a=new pS),Y1e(t,e,r,n,i,a)):!1}var Q1e=J1e,ebe=Q1e,VB=xf;function oV(t,e,r,n,i){return t===e?!0:t==null||e==null||!VB(t)&&!VB(e)?t!==t&&e!==e:ebe(t,e,r,n,oV,i)}var sV=oV,tbe=jP,rbe=sV,nbe=1,ibe=2;function abe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var c=s[0],l=t[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in t))return!1}else{var f=new tbe;if(n)var h=n(l,u,c,t,e,f);if(!(h===void 0?rbe(u,l,nbe|ibe,n,f):h))return!1}}return!0}var obe=abe,sbe=Ds;function lbe(t){return t===t&&!sbe(t)}var lV=lbe,ube=lV,cbe=t1;function fbe(t){for(var e=cbe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ube(i)]}return e}var hbe=fbe;function dbe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var uV=dbe,pbe=obe,vbe=hbe,gbe=uV;function mbe(t){var e=vbe(t);return e.length==1&&e[0][2]?gbe(e[0][0],e[0][1]):function(r){return r===t||pbe(r,t,e)}}var _be=mbe,ybe=sg,xbe=xf,bbe="[object Symbol]";function wbe(t){return typeof t=="symbol"||xbe(t)&&ybe(t)==bbe}var w1=wbe,Ebe=Sl,Sbe=w1,Cbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tbe=/^\w*$/;function Abe(t,e){if(Ebe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Sbe(t)?!0:Tbe.test(t)||!Cbe.test(t)||e!=null&&t in Object(e)}var SO=Abe,cV=UP,Ibe="Expected a function";function CO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ibe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(CO.Cache||cV),r}CO.Cache=cV;var Rbe=CO,Pbe=Rbe,Obe=500;function kbe(t){var e=Pbe(t,function(n){return r.size===Obe&&r.clear(),n}),r=e.cache;return e}var Fbe=kbe,Nbe=Fbe,Mbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lbe=/\\(\\)?/g,Bbe=Nbe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mbe,function(r,n,i,a){e.push(i?a.replace(Lbe,"$1"):n||r)}),e}),Dbe=Bbe;function Ube(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var fV=Ube,HB=og,jbe=fV,$be=Sl,Gbe=w1,Vbe=1/0,zB=HB?HB.prototype:void 0,XB=zB?zB.toString:void 0;function hV(t){if(typeof t=="string")return t;if($be(t))return jbe(t,hV)+"";if(Gbe(t))return XB?XB.call(t):"";var e=t+"";return e=="0"&&1/t==-Vbe?"-0":e}var Hbe=hV,zbe=Hbe;function Xbe(t){return t==null?"":zbe(t)}var Wbe=Xbe,Ybe=Sl,qbe=SO,Kbe=Dbe,Zbe=Wbe;function Jbe(t,e){return Ybe(t)?t:qbe(t,e)?[t]:Kbe(Zbe(t))}var E1=Jbe,Qbe=w1,ewe=1/0;function twe(t){if(typeof t=="string"||Qbe(t))return t;var e=t+"";return e=="0"&&1/t==-ewe?"-0":e}var pg=twe,rwe=E1,nwe=pg;function iwe(t,e){e=rwe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[nwe(e[r++])];return r&&r==n?t:void 0}var TO=iwe,awe=TO;function owe(t,e,r){var n=t==null?void 0:awe(t,e);return n===void 0?r:n}var swe=owe;function lwe(t,e){return t!=null&&e in Object(t)}var uwe=lwe,cwe=E1,fwe=Q$,hwe=Sl,dwe=VP,pwe=HP,vwe=pg;function gwe(t,e,r){e=cwe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=vwe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&pwe(i)&&dwe(o,i)&&(hwe(t)||fwe(t)))}var mwe=gwe,_we=uwe,ywe=mwe;function xwe(t,e){return t!=null&&ywe(t,e,_we)}var bwe=xwe,wwe=sV,Ewe=swe,Swe=bwe,Cwe=SO,Twe=lV,Awe=uV,Iwe=pg,Rwe=1,Pwe=2;function Owe(t,e){return Cwe(t)&&Twe(e)?Awe(Iwe(t),e):function(r){var n=Ewe(r,t);return n===void 0&&n===e?Swe(r,t):wwe(e,n,Rwe|Pwe)}}var kwe=Owe;function Fwe(t){return t}var Nwe=Fwe;function Mwe(t){return function(e){return e==null?void 0:e[t]}}var Lwe=Mwe,Bwe=TO;function Dwe(t){return function(e){return Bwe(e,t)}}var Uwe=Dwe,jwe=Lwe,$we=Uwe,Gwe=SO,Vwe=pg;function Hwe(t){return Gwe(t)?jwe(Vwe(t)):$we(t)}var zwe=Hwe,Xwe=_be,Wwe=kwe,Ywe=Nwe,qwe=Sl,Kwe=zwe;function Zwe(t){return typeof t=="function"?t:t==null?Ywe:typeof t=="object"?qwe(t)?Wwe(t[0],t[1]):Xwe(t):Kwe(t)}var dV=Zwe,Jwe="Expected a function";function Qwe(t){if(typeof t!="function")throw new TypeError(Jwe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var eEe=Qwe,tEe=$P,rEe=E1,nEe=VP,WB=Ds,iEe=pg;function aEe(t,e,r,n){if(!WB(t))return t;e=rEe(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var c=iEe(e[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=o){var u=s[c];l=n?n(u,c,s):void 0,l===void 0&&(l=WB(u)?u:nEe(e[i+1])?[]:{})}tEe(s,c,l),s=s[c]}return t}var oEe=aEe,sEe=TO,lEe=oEe,uEe=E1;function cEe(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=sEe(t,o);r(s,o)&&lEe(a,uEe(o,t),s)}return a}var fEe=cEe,hEe=fV,dEe=dV,pEe=fEe,vEe=cG;function gEe(t,e){if(t==null)return{};var r=hEe(vEe(t),function(n){return[n]});return e=dEe(e),pEe(t,r,function(n,i){return e(n,i[0])})}var mEe=gEe,_Ee=dV,yEe=eEe,xEe=mEe;function bEe(t,e){return xEe(t,yEe(_Ee(e)))}var wEe=bEe;const vS=Yi(wEe);function EEe(t){return t===void 0}var SEe=EEe;const Zs=Yi(SEe);function pV(t,e,r){const n=W.gameplay.pixiStage.getStageObjByKey(e);let i=0;const a=[],o=[];for(const v of t){const _=v.duration;i+=_;const{position:y,scale:b,...w}=v;a.push({x:y.x,y:y.y,scaleX:b.x,scaleY:b.y,...w}),r!==0?o.push(i/r):o.push(0)}const s=n==null?void 0:n.pixiContainer;let c=null;r>0&&(c=f1e({to:a,offset:o,duration:r,onUpdate:v=>{if(s){const{scaleX:_,scaleY:y,...b}=v;Object.assign(s,vS(b,Zs)),Zs(_)||(s.scale.x=_),Zs(y)||(s.scale.y=y)}}}));const{duration:l,...u}=g();ce.dispatch(qn.updateEffect({target:e,transform:u}));function f(){if(n!=null&&n.pixiContainer){const{position:v,scale:_,...y}=d(),b=vS({x:v.x,y:v.y,...y},Zs);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Zs(_.x)||(n.pixiContainer.scale.x=_.x),Zs(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function h(){if(c&&c.stop(),c=null,n!=null&&n.pixiContainer){const{position:v,scale:_,...y}=g(),b=vS({x:v.x,y:v.y,...y},Zs);Object.assign(n==null?void 0:n.pixiContainer,b),n!=null&&n.pixiContainer&&(Zs(_.x)||(n.pixiContainer.scale.x=_.x),Zs(_==null?void 0:_.y)||(n.pixiContainer.scale.y=_.y))}}function p(v){}function d(){return t[0]}function g(){return t[t.length-1]}function m(){const v=t[t.length-1],{alpha:_,rotation:y,blur:b,duration:w,scale:E,position:C,...T}=v;return T}return{setStartState:f,setEndState:h,tickerFunc:p,getEndFilterEffect:m}}function tx(t,e,r){const n=W.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=ce.getState().stage.effects.find(c=>c.target===e),s=yn({...(o==null?void 0:o.transform)??xO,duration:0});return Object.assign(s,a),s.duration=a.duration,s});return Je.debug("",i),pV(i,e,r)}return null}function Ii(t){const e=W.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}function Oa(t,e,r=!1){if(e==="enter"){let n=500;r&&(n=1500);let i=L7(t,n);const a=W.animationManager.nextEnterAnimationName.get(t);return a&&(Je.debug("",t),i=tx(a,t,Ii(a)),n=Ii(a),W.animationManager.nextEnterAnimationName.delete(t)),{duration:n,animation:i}}else{let n=750;r&&(n=1500);let i=B7(t,n);const a=W.animationManager.nextExitAnimationName.get(t);return a&&(Je.debug("",t),i=tx(a,t,Ii(a)),n=Ii(a),W.animationManager.nextExitAnimationName.delete(t)),{duration:n,animation:i}}}const Qa=()=>Math.random().toString().substring(0,10);class CEe{constructor(){ut(this,"performList",[]);ut(this,"timeoutList",[])}arrangeNewPerform(e,r,n=!0){if(e.performName!=="none"){if(n){const i={id:e.performName,isHoldOn:e.isHoldOn,script:r};ce.dispatch(qn.addPerform(i))}e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e)}}unmountPerform(e,r=!1){if(r)for(let n=0;n<this.performList.length;n++){const i=this.performList[n];i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--,this.erasePerformFromState(e))}else for(let n=0;n<this.performList.length;n++){const i=this.performList[n];!i.isHoldOn&&i.performName===e&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(n,1),n--)}}erasePerformFromState(e){ce.dispatch(qn.removePerformByName(e))}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const e of this.timeoutList)clearTimeout(e)}goNextWhenOver(){let e=!1;this.performList.forEach(r=>{r.blockingAuto()&&(e=!0)}),e?setTimeout(this.goNextWhenOver,100):ti()}}const TEe=t=>{const e=t.content,r=ce.dispatch;if(ce.getState().GUI.showStoryLine)return r(Bt({key:"storyLineBg",value:e})),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Bt({key:"storyLineBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Bt({key:"storyLineBgY",value:f.value}))}),{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};if(ce.getState().GUI.showAchievement)return r(pde(e)),t.args.forEach(f=>{f.key==="x"&&f.value!==""&&r(Bt({key:"achieveBgX",value:f.value})),f.key==="y"&&f.value!==""&&r(Bt({key:"achieveBgY",value:f.value}))}),{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let n="",i="default",a=0,o=0;t.args.forEach(f=>{switch(f.key){case"unlockname":n=f.value.toString();break;case"series":i=f.value.toString();break;case"x":a=Number((f==null?void 0:f.value)??0);break;case"y":o=Number((f==null?void 0:f.value)??0);break}}),n!==""&&r(LG({name:n,url:e,series:i})),r(qn.removeEffectByTargetId("bg-main"));const s=qt(t,"transform");let c=qt(t,"duration");(!c||typeof c!="number")&&(c=1e3);let l;if(s)try{const f=JSON.parse(s.toString());l=sf("bg-main",f,c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};W.animationManager.addAnimation(p),c=Ii(h),W.animationManager.nextEnterAnimationName.set("bg-main",h)}catch{u()}else u();function u(){l=sf("bg-main",{},c),l[0].alpha=0;const h=(Math.random()*10).toString(16),p={name:h,effects:l};W.animationManager.addAnimation(p),c=Ii(h),W.animationManager.nextEnterAnimationName.set("bg-main",h)}return qt(t,"enter")&&(W.animationManager.nextEnterAnimationName.set("bg-main",qt(t,"enter").toString()),c=Ii(qt(t,"enter").toString())),qt(t,"exit")&&(W.animationManager.nextExitAnimationName.set("bg-main-off",qt(t,"exit").toString()),c=Ii(qt(t,"exit").toString())),a&&r(Bt({key:"bgX",value:a})),o&&r(Bt({key:"bgY",value:o})),r(Bt({key:"bgName",value:t.content})),{performName:"none",duration:c,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function AEe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=ce.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"expression":a=w.value.toString();break;case"mouthOpen":c=w.value.toString(),c=jt(c,Ut.figure);break;case"mouthClose":l=w.value.toString(),l=jt(l,Ut.figure);break;case"mouthHalfOpen":u=w.value.toString(),u=jt(u,Ut.figure);break;case"eyesOpen":f=w.value.toString(),f=jt(f,Ut.figure);break;case"eyesClose":h=w.value.toString(),h=jt(h,Ut.figure);break;case"animationFlag":p=w.value.toString();break;case"none":r="";break}const g=o||`fig-${e}`,v=ce.getState().stage.figureAssociatedAnimation.filter(w=>w.targetId!==g),_={targetId:g,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};v.push(_),d(Bt({key:"figureAssociatedAnimation",value:v}));let y=!0;if(o!==""){const w=ce.getState().stage.freeFigure.find(E=>E.key===o);w&&w.name===t.content&&(y=!1)}else e==="center"&&ce.getState().stage.figName===t.content&&(y=!1),e==="left"&&ce.getState().stage.figNameLeft===t.content&&(y=!1),e==="right"&&ce.getState().stage.figNameRight===t.content&&(y=!1);if(y){const w=`fig-${e}`,E=`${o}`;ce.dispatch(qn.removeEffectByTargetId(w)),ce.dispatch(qn.removeEffectByTargetId(E))}const b=(w,E)=>{const C=qt(E,"transform"),T=qt(E,"duration");T&&typeof T=="number"&&(s=T);let A;if(C){console.log(C);try{const k=JSON.parse(C.toString());A=sf(w,k,s),A[0].alpha=0;const M=(Math.random()*10).toString(16),B={name:M,effects:A};W.animationManager.addAnimation(B),s=Ii(M),W.animationManager.nextEnterAnimationName.set(w,M)}catch{R()}}else R();function R(){A=sf(w,{},s),A[0].alpha=0;const M=(Math.random()*10).toString(16),B={name:M,effects:A};W.animationManager.addAnimation(B),s=Ii(M),W.animationManager.nextEnterAnimationName.set(w,M)}const O=qt(E,"enter"),P=qt(E,"exit");O&&(W.animationManager.nextEnterAnimationName.set(w,O.toString()),s=Ii(O.toString())),P&&(W.animationManager.nextExitAnimationName.set(w+"-off",P.toString()),s=Ii(P.toString()))};if(n){ce.getState().stage.freeFigure;const w={key:o,name:r,basePosition:e};b(o,t),i&&d(qn.setLive2dMotion({target:o,motion:i})),a&&d(qn.setLive2dExpression({target:o,expression:a})),d(qn.setFreeFigureByKey(w))}else{const w={center:"fig-center",left:"fig-left",right:"fig-right"},E={center:"figName",left:"figNameLeft",right:"figNameRight"};o=w[e],b(o,t),i&&d(qn.setLive2dMotion({target:o,motion:i})),a&&d(qn.setLive2dExpression({target:o,expression:a})),d(Bt({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const vV=(t,e)=>{Ua(t).then(async r=>{if(await W.sceneManager.setCurrentScene(r,e,t,!0)){W.sceneManager.sceneData.currentSentenceId=0;const i=[];W.sceneManager.sceneData.currentScene.assetsList.forEach(s=>{(s.url.endsWith(".mp4")||s.url.endsWith(".flv"))&&i.push(s.url)}),W.videoManager.destroyExcept(i);const a=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const o=fg(a);Xd(o),Je.debug("",W.sceneManager.sceneData),ti()}})},IEe=t=>{const e=t.content.split("/"),r=e[e.length-1];return vV(t.content,r),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},gV=t=>{const e=W.sceneManager.sceneData.currentSentenceId;let r=e;W.sceneManager.sceneData.currentScene.sentenceList.forEach((n,i)=>{n.command===Lt.label&&n.content===t&&i!==e&&(r=i)}),W.sceneManager.sceneData.currentSentenceId=r,setTimeout(ti,1)},REe="_Choose_Main_wn0n1_1",PEe="_Choose_item_wn0n1_15",OEe="_Choose_item_image_wn0n1_37",kEe="_Choose_item_countdown_wn0n1_52",FEe="_Choose_item_countdown_disabled_wn0n1_59",NEe="_Choose_item_progress_bar_wn0n1_66",MEe="_Choose_item_disabled_wn0n1_75",qf={Choose_Main:REe,Choose_item:PEe,Choose_item_image:OEe,Choose_item_countdown:kEe,Choose_item_countdown_disabled:FEe,Choose_item_progress_bar:NEe,Choose_item_disabled:MEe};var mV={exports:{}},_V={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=de;function LEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BEe=typeof Object.is=="function"?Object.is:LEe,DEe=hd.useState,UEe=hd.useEffect,jEe=hd.useLayoutEffect,$Ee=hd.useDebugValue;function GEe(t,e){var r=e(),n=DEe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return jEe(function(){i.value=r,i.getSnapshot=e,gS(i)&&a({inst:i})},[t,r,e]),UEe(function(){return gS(i)&&a({inst:i}),t(function(){gS(i)&&a({inst:i})})},[t]),$Ee(r),r}function gS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!BEe(t,r)}catch{return!0}}function VEe(t,e){return e()}var HEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VEe:GEe;_V.useSyncExternalStore=hd.useSyncExternalStore!==void 0?hd.useSyncExternalStore:HEe;mV.exports=_V;var zEe=mV.exports,yV={exports:{}},xV={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=de,XEe=zEe;function WEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YEe=typeof Object.is=="function"?Object.is:WEe,qEe=XEe.useSyncExternalStore,KEe=S1.useRef,ZEe=S1.useEffect,JEe=S1.useMemo,QEe=S1.useDebugValue;xV.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=KEe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=JEe(function(){function c(p){if(!l){if(l=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var d=o.value;if(i(d,p))return f=d}return f=p}if(d=f,YEe(u,p))return d;var g=n(p);return i!==void 0&&i(d,g)?d:(u=p,f=g)}var l=!1,u,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var s=qEe(t,a[0],a[1]);return ZEe(function(){o.hasValue=!0,o.value=s},[s]),QEe(s),s};yV.exports=xV;var eSe=yV.exports;function tSe(t){t()}let bV=tSe;const rSe=t=>bV=t,nSe=()=>bV,YB=Symbol.for("react-redux-context"),qB=typeof globalThis<"u"?globalThis:{};function iSe(){var t;if(!de.createContext)return{};const e=(t=qB[YB])!=null?t:qB[YB]=new Map;let r=e.get(de.createContext);return r||(r=de.createContext(null),e.set(de.createContext,r)),r}const ku=iSe();function AO(t=ku){return function(){return de.useContext(t)}}const wV=AO(),aSe=()=>{throw new Error("uSES not initialized!")};let EV=aSe;const oSe=t=>{EV=t},sSe=(t,e)=>t===e;function lSe(t=ku){const e=t===ku?wV:AO(t);return function(n,i={}){const{equalityFn:a=sSe,stabilityCheck:o=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:l,getServerState:u,stabilityCheck:f,noopCheck:h}=e();de.useRef(!0);const p=de.useCallback({[n.name](g){return n(g)}}[n.name],[n,f,o]),d=EV(l.addNestedSub,c.getState,u||c.getState,p,a);return de.useDebugValue(d),d}}const ft=lSe();function uSe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var SV={exports:{}},Vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi=typeof Symbol=="function"&&Symbol.for,IO=Fi?Symbol.for("react.element"):60103,RO=Fi?Symbol.for("react.portal"):60106,C1=Fi?Symbol.for("react.fragment"):60107,T1=Fi?Symbol.for("react.strict_mode"):60108,A1=Fi?Symbol.for("react.profiler"):60114,I1=Fi?Symbol.for("react.provider"):60109,R1=Fi?Symbol.for("react.context"):60110,PO=Fi?Symbol.for("react.async_mode"):60111,P1=Fi?Symbol.for("react.concurrent_mode"):60111,O1=Fi?Symbol.for("react.forward_ref"):60112,k1=Fi?Symbol.for("react.suspense"):60113,cSe=Fi?Symbol.for("react.suspense_list"):60120,F1=Fi?Symbol.for("react.memo"):60115,N1=Fi?Symbol.for("react.lazy"):60116,fSe=Fi?Symbol.for("react.block"):60121,hSe=Fi?Symbol.for("react.fundamental"):60117,dSe=Fi?Symbol.for("react.responder"):60118,pSe=Fi?Symbol.for("react.scope"):60119;function ao(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case IO:switch(t=t.type,t){case PO:case P1:case C1:case A1:case T1:case k1:return t;default:switch(t=t&&t.$$typeof,t){case R1:case O1:case N1:case F1:case I1:return t;default:return e}}case RO:return e}}}function CV(t){return ao(t)===P1}Vr.AsyncMode=PO;Vr.ConcurrentMode=P1;Vr.ContextConsumer=R1;Vr.ContextProvider=I1;Vr.Element=IO;Vr.ForwardRef=O1;Vr.Fragment=C1;Vr.Lazy=N1;Vr.Memo=F1;Vr.Portal=RO;Vr.Profiler=A1;Vr.StrictMode=T1;Vr.Suspense=k1;Vr.isAsyncMode=function(t){return CV(t)||ao(t)===PO};Vr.isConcurrentMode=CV;Vr.isContextConsumer=function(t){return ao(t)===R1};Vr.isContextProvider=function(t){return ao(t)===I1};Vr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===IO};Vr.isForwardRef=function(t){return ao(t)===O1};Vr.isFragment=function(t){return ao(t)===C1};Vr.isLazy=function(t){return ao(t)===N1};Vr.isMemo=function(t){return ao(t)===F1};Vr.isPortal=function(t){return ao(t)===RO};Vr.isProfiler=function(t){return ao(t)===A1};Vr.isStrictMode=function(t){return ao(t)===T1};Vr.isSuspense=function(t){return ao(t)===k1};Vr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C1||t===P1||t===A1||t===T1||t===k1||t===cSe||typeof t=="object"&&t!==null&&(t.$$typeof===N1||t.$$typeof===F1||t.$$typeof===I1||t.$$typeof===R1||t.$$typeof===O1||t.$$typeof===hSe||t.$$typeof===dSe||t.$$typeof===pSe||t.$$typeof===fSe)};Vr.typeOf=ao;SV.exports=Vr;var vSe=SV.exports,TV=vSe,gSe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mSe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AV={};AV[TV.ForwardRef]=gSe;AV[TV.Memo]=mSe;var Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO=Symbol.for("react.element"),kO=Symbol.for("react.portal"),M1=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),B1=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),U1=Symbol.for("react.context"),_Se=Symbol.for("react.server_context"),j1=Symbol.for("react.forward_ref"),$1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),V1=Symbol.for("react.memo"),H1=Symbol.for("react.lazy"),ySe=Symbol.for("react.offscreen"),IV;IV=Symbol.for("react.module.reference");function Ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OO:switch(t=t.type,t){case M1:case B1:case L1:case $1:case G1:return t;default:switch(t=t&&t.$$typeof,t){case _Se:case U1:case j1:case H1:case V1:case D1:return t;default:return e}}case kO:return e}}}Wr.ContextConsumer=U1;Wr.ContextProvider=D1;Wr.Element=OO;Wr.ForwardRef=j1;Wr.Fragment=M1;Wr.Lazy=H1;Wr.Memo=V1;Wr.Portal=kO;Wr.Profiler=B1;Wr.StrictMode=L1;Wr.Suspense=$1;Wr.SuspenseList=G1;Wr.isAsyncMode=function(){return!1};Wr.isConcurrentMode=function(){return!1};Wr.isContextConsumer=function(t){return Ro(t)===U1};Wr.isContextProvider=function(t){return Ro(t)===D1};Wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OO};Wr.isForwardRef=function(t){return Ro(t)===j1};Wr.isFragment=function(t){return Ro(t)===M1};Wr.isLazy=function(t){return Ro(t)===H1};Wr.isMemo=function(t){return Ro(t)===V1};Wr.isPortal=function(t){return Ro(t)===kO};Wr.isProfiler=function(t){return Ro(t)===B1};Wr.isStrictMode=function(t){return Ro(t)===L1};Wr.isSuspense=function(t){return Ro(t)===$1};Wr.isSuspenseList=function(t){return Ro(t)===G1};Wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===M1||t===B1||t===L1||t===$1||t===G1||t===ySe||typeof t=="object"&&t!==null&&(t.$$typeof===H1||t.$$typeof===V1||t.$$typeof===D1||t.$$typeof===U1||t.$$typeof===j1||t.$$typeof===IV||t.getModuleId!==void 0)};Wr.typeOf=Ro;function xSe(){const t=nSe();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,a=r={callback:n,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!i||e===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const KB={notify(){},get:()=>[]};function bSe(t,e){let r,n=KB,i=0,a=!1;function o(g){u();const m=n.subscribe(g);let v=!1;return()=>{v||(v=!0,m(),f())}}function s(){n.notify()}function c(){d.onStateChange&&d.onStateChange()}function l(){return a}function u(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=xSe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=KB)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const d={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return d}const wSe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ESe=wSe?de.useLayoutEffect:de.useEffect;function SSe({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:a="once"}){const o=de.useMemo(()=>{const l=bSe(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:a}},[t,n,i,a]),s=de.useMemo(()=>t.getState(),[t]);ESe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const c=e||ku;return de.createElement(c.Provider,{value:o},r)}function RV(t=ku){const e=t===ku?wV:AO(t);return function(){const{store:n}=e();return n}}const CSe=RV();function TSe(t=ku){const e=t===ku?CSe:RV(t);return function(){return e().dispatch}}const en=TSe();oSe(eSe.useSyncExternalStoreWithSelector);rSe(N$.unstable_batchedUpdates);const ASe={saveData:[],quickSaveData:null,unlockStorylineList:[],saveVideoData:null,unlockAchieveData:[],isShowUnlock:!1,unlockAchieveAllTotal:0,unlockAchieveListAll:[],isLoadVideo:!1,isUnlockStoryline:!1,allUnlockAchieveList:[],allStorylineData:[],unlockAffinityData:[],gameScounds:{},menuScounds:{},uiSeAudioElement:null},PV=ag({name:"saveData",initialState:yn(ASe),reducers:{setFastSave:(t,e)=>{t.quickSaveData=e.payload},resetFastSave:t=>{t.quickSaveData=null},resetSaves:t=>{t.quickSaveData=null,t.saveData=[]},saveGame:(t,e)=>{t.saveData[e.payload.index]=e.payload.saveData},replaceSaveGame:(t,e)=>{t.saveData=e.payload},setStorylineListFromStorage:(t,e)=>{t.unlockStorylineList=e.payload},addStorylineList:(t,e)=>{t.unlockStorylineList.push(e.payload)},replaceStorylineList:(t,e)=>{t.unlockStorylineList[e.payload.index]={...t.unlockStorylineList[e.payload.index],storyLine:e.payload.data.storyLine,videoData:e.payload.data.videoData}},setSaveVideoData:(t,e)=>{t.saveVideoData=e.payload},setUnlockAchieveData:(t,e)=>{t.unlockAchieveData=[...e.payload]},resetStorylineList:t=>{t.unlockStorylineList=[]},resetUnlockAchieveData:t=>{t.unlockAchieveData=[]},addUnlockAchieveData:(t,e)=>{const r=[...t.unlockAchieveData,e.payload];t.unlockAchieveData=r},replaceUnlockAchieveData:(t,e)=>{t.unlockAchieveData[e.payload.index]=e.payload.data},setIsShowUnlock:(t,e)=>{t.isShowUnlock=e.payload},setShowStoryline:(t,e)=>{t.isUnlockStoryline=e.payload},setUnlockAchieveAllTotal:(t,e)=>{t.unlockAchieveAllTotal=e.payload},setUnlockAchieveAll:(t,e)=>{t.unlockAchieveListAll=e.payload},setLoadVideo:(t,e)=>{t.isLoadVideo=e.payload},saveAllUnlockAchieveList:(t,e)=>{t.allUnlockAchieveList=e.payload},saveAllStorylineData:(t,e)=>{t.allStorylineData=e.payload},updateAffinityData:(t,e)=>{t.unlockAffinityData=e.payload},setSaveStatus:(t,e)=>{t[e.payload.key]=e.payload.value}}}),Er=PV.actions,ISe=PV.reducer,RSe=""+new URL("page-flip-1.mp3",import.meta.url).href,PSe=""+new URL("switch-1.mp3",import.meta.url).href,OV=""+new URL("mouse-enter.mp3",import.meta.url).href,OSe=""+new URL("dialog.mp3",import.meta.url).href,kV=""+new URL("click.mp3",import.meta.url).href,On=()=>{const t=en();let e=!1;const r=(c,l,u)=>{var h,p;const f=ce.getState().saveData.uiSeAudioElement;c&&typeof c=="boolean"||(f&&!u&&((h=f==null?void 0:f.pause)==null||h.call(f),f.volume=0,(p=f==null?void 0:f.remove)==null||p.call(f),ce.dispatch(Er.setSaveStatus({key:"uiSeAudioElement",value:null}))),u&&t(Bt({key:"uiSe",value:u})),t(Bt({key:"uiSe",value:c||l})),e=!1)};return{playSeEnter:()=>{var u,f;if(e)return;e=!0;const c=ce.getState().saveData,l=ce.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[_c.Move]:(f=c.menuScounds)==null?void 0:f[_c.Move];r(l,OV)},playSeClick:c=>{var f,h;const l=ce.getState().saveData,u=ce.getState().GUI.isInGaming?(f=l.gameScounds)==null?void 0:f[_c.Click]:(h=l.menuScounds)==null?void 0:h[_c.Click];r(u,kV,c)},playSePageChange:()=>{t(Bt({key:"uiSe",value:RSe}))},playSeDialogOpen:()=>{var u,f;const c=ce.getState().saveData,l=ce.getState().GUI.isInGaming?(u=c.gameScounds)==null?void 0:u[_c.Alert]:(f=c.menuScounds)==null?void 0:f[_c.Alert];r(l,OSe)},playSeSwitch:()=>{t(Bt({key:"uiSe",value:PSe}))}}},Wd=()=>({playSeEnter:()=>{ce.dispatch(Bt({key:"uiSe",value:OV}))},playSeClick:()=>{ce.dispatch(Bt({key:"uiSe",value:kV}))}}),kSe=""+new URL("progress-bar-bg.png",import.meta.url).href,FSe=""+new URL("progress-bar.png",import.meta.url).href,NSe="_GlobalDialog_main_awvoa_2",MSe="_showGlobalDialog_awvoa_1",LSe="_glabalDialog_container_inner_awvoa_18",BSe="_GlobalDialog_pay_container_awvoa_31",DSe="_GlobalDialog_pay_tip_awvoa_41",USe="_GlobalDialog_pay_close_awvoa_54",jSe="_GlobalDialog_pay_title_awvoa_67",$Se="_GlobalDialog_pay_content_awvoa_79",GSe="_GlobalDialog_star_stone_awvoa_90",VSe="_GlobalDialog_pay_btns_awvoa_100",HSe="_GlobalDialog_pay_btn_awvoa_100",zSe="_GlobalDialog_pay_cancel_awvoa_120",XSe="_GlobalDialog_pay_confirm_awvoa_126",WSe="_glabalDialog_container_awvoa_18",YSe="_title_awvoa_140",qSe="_button_list_awvoa_152",KSe="_button_awvoa_152",Pr={GlobalDialog_main:NSe,showGlobalDialog:MSe,glabalDialog_container_inner:LSe,GlobalDialog_pay_container:BSe,GlobalDialog_pay_tip:DSe,GlobalDialog_pay_close:USe,GlobalDialog_pay_title:jSe,GlobalDialog_pay_content:$Se,GlobalDialog_star_stone:GSe,GlobalDialog_pay_btns:VSe,GlobalDialog_pay_btn:HSe,GlobalDialog_pay_cancel:zSe,GlobalDialog_pay_confirm:XSe,glabalDialog_container:WSe,title:YSe,button_list:qSe,button:KSe};var Ia=(t=>(t.Game_start_button="Game_start_button",t.Game_achievement_button="Game_achievement_button",t.Game_storyline_button="Game_storyline_button",t.Game_extra_button="Game_extra_button",t.Game_collection_button="Game_collection_button",t.Game_option_button="Game_option_button",t.Game_load_button="Game_load_button",t.Game_continue_button="Game_continue_button",t.Game_progression_button="Game_progression_button",t.Game_affinity_button="Game_affinity_button",t))(Ia||{}),Y_=(t=>(t.slider="slider",t.sliderBg="sliderBg",t.sliderThumb="sliderThumb",t))(Y_||{}),FO=(t=>(t.Load_back_button="Load_back_button",t))(FO||{}),NO=(t=>(t.Storyline_back_button="Storyline_back_button",t))(NO||{}),MO=(t=>(t.Achievement_back_button="Achievement_back_button",t))(MO||{}),LO=(t=>(t.Extra_back_button="Extra_back_button",t.Extra_bgm_button="Extra_bgm_button",t.Extra_video_button="Extra_video_button",t))(LO||{}),BO=(t=>(t.Progress_back_button="Progress_back_button",t.Progress_chapter_button="Progress_chapter_button",t.Progress_achievement_button="Progress_achievement_button",t.Progress_affinity_button="Progress_affinity_button",t))(BO||{}),DO=(t=>(t.Affinity_back_button="Affinity_back_button",t))(DO||{}),z1=(t=>(t.Extra_title="Extra_title",t.Extra_bg="Extra_bg",t.Extra_bgm_locked_item_bg="Extra_bgm_locked_item_bg",t.Extra_bgm_unlocked_item="Extra_bgm_unlocked_item",t.Extra_video_unlocked_item="Extra_video_unlocked_item",t.Extra_indicator="Extra_indicator",t.Extra_video_locked_item_bg="Extra_video_locked_item_bg",t))(z1||{}),dn=(t=>(t.Collection_title="Collection_title",t.Collection_bg="Collection_bg",t.Collection_img1="Collection_img1",t.Collection_img2="Collection_img2",t.Collection_img3="Collection_img3",t.Collection_detail_bg="Collection_detail_bg",t.Collection_detail_title="Collection_detail_title",t.Collection_detail_dialog_bg="Collection_detail_dialog_bg",t.Collection_detail_dialog_text="Collection_detail_dialog_text",t.Collection_detail_left_bg="Collection_detail_left_bg",t.Collection_detail_right_content_bg="Collection_detail_right_content_bg",t.Collection_detail_right_thumbnail_bg="Collection_detail_right_thumbnail_bg",t.Collection_detail_right_desc_bg="Collection_detail_right_desc_bg",t))(dn||{}),X1=(t=>(t.Option_back_button="Option_back_button",t))(X1||{}),UO=(t=>(t.Collection_back_button="Collection_back_button",t.Collection_detail_dialog_prev_button="Collection_detail_dialog_prev_button",t.Collection_detail_dialog_next_button="Collection_detail_dialog_next_button",t))(UO||{}),pv=(t=>(t.Progress_title="Progress_title",t.Progress_bg="Progress_bg",t.Progress_content_container="Progress_content_container",t))(pv||{}),vv=(t=>(t.Affinity_title="Affinity_title",t.Affinity_bg="Affinity_bg",t.Affinity_item_container="Affinity_item_container",t.Affinity_locked_item="Affinity_locked_item",t.Affinity_unlocked_item="Affinity_unlocked_item",t))(vv||{}),W1=(t=>(t.Option_title="Option_title",t.Option_bg="Option_bg",t.Option_window_label="Option_window_label",t.Option_text_speed_label="Option_text_speed_label",t.Option_global_volume_label="Option_global_volume_label",t.Option_bg_music_volume_label="Option_bg_music_volume_label",t.Option_effect_volume_label="Option_effect_volume_label",t.Option_voice_volume_label="Option_voice_volume_label",t.Option_voice_slider="Option_voice_slider",t.Option_text_speed_slider="Option_text_speed_slider",t.Option_global_volume_slider="Option_global_volume_slider",t.Option_bg_music_volume_slider="Option_bg_music_volume_slider",t.Option_effect_volume_slider="Option_effect_volume_slider",t.Option_fullscreen_checkbox_label="Option_fullscreen_checkbox_label",t.Option_window_checkbox_label="Option_window_checkbox_label",t.Option_fullscreen_checkbox="Option_fullscreen_checkbox",t.Option_window_checkbox="Option_window_checkbox",t.Option_videoSize1080_checkbox="Option_videoSize1080_checkbox",t.Option_videoSize720_checkbox="Option_videoSize720_checkbox",t.Options_light_slider="Options_light_slider",t))(W1||{}),jO=(t=>(t.Achievement_title="Achievement_title",t))(jO||{}),$O=(t=>(t.Storyline_title="Storyline_title",t))($O||{}),Y1=(t=>(t.Load_bg="Load_bg",t.Load_title="Load_title",t.Load_item="Load_item",t.Load_locked_item="Load_locked_item",t.Load_indicator="Load_indicator",t))(Y1||{}),gv=(t=>(t.Title_img="Title_img",t.Title_bgm="Title_bgm",t))(gv||{}),Ln=(t=>(t.title="title",t.load="load",t.storyline="storyline",t.achievement="achievement",t.extra="extra",t.option="option",t.collection="collection",t.progressAndAchievement="progressAndAchievement",t.affinity="affinity",t))(Ln||{});const mS={title:{buttons:Ia,other:gv},load:{buttons:FO,other:Y1},storyline:{buttons:NO,other:$O},achievement:{buttons:MO,other:jO},extra:{buttons:LO,other:z1},option:{buttons:X1,other:W1},collection:{buttons:UO,other:dn},progressAndAchievement:{buttons:BO,other:pv},affinity:{buttons:DO,other:vv}},it=(t=[])=>{const e={hide:!1,style:{}};return t.forEach(r=>{e[r]={}}),e},ZSe={title:{key:"title",other:{Title_img:{key:"Title_img",content:"",args:{hide:!1,style:{}}},Title_bgm:{key:"Title_bgm",content:"",args:it()}},buttons:{Game_start_button:{key:"Game_start_button",content:"",args:it(["hoverStyle"])},Game_load_button:{key:"Game_load_button",content:"",args:it(["hoverStyle"])},Game_option_button:{key:"Game_option_button",content:"",args:it(["hoverStyle"])},Game_storyline_button:{key:"Game_storyline_button",content:"",args:it(["hoverStyle"])},Game_achievement_button:{key:"Game_achievement_button",content:"",args:it(["hoverStyle"])},Game_extra_button:{key:"Game_extra_button",content:"",args:it(["hoverStyle"])},Game_collection_button:{key:"Game_collection_button",content:"",args:it(["hoverStyle"])},Game_continue_button:{key:"Game_continue_button",content:"",args:it(["hoverStyle"])},Game_progression_button:{key:"Game_progression_button",content:"",args:it(["hoverStyle"])},Game_affinity_button:{key:"Game_affinity_button",content:"",args:it(["hoverStyle"])}}},load:{key:"load",other:{Load_bg:{key:"Load_bg",content:"",args:it()},Load_title:{key:"Load_title",content:"",args:it(["hoverStyle"])},Load_item:{key:"Load_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])},Load_indicator:{key:"Load_indicator",content:"",args:it(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Load_locked_item:{key:"Load_locked_item",content:"",args:it(["hoverStyle"])}},buttons:{Load_back_button:{key:"Load_back_button",content:"",args:it(["hoverStyle"])}}},storyline:{key:"storyline",other:{Storyline_title:{key:"Storyline_title",content:"",args:it(["hoverStyle"])}},buttons:{Storyline_back_button:{key:"Storyline_back_button",content:"",args:it(["hoverStyle"])}}},achievement:{key:"achievement",other:{Achievement_title:{key:"Achievement_title",content:"",args:it(["hoverStyle"])}},buttons:{Achievement_back_button:{key:"Achievement_back_button",content:"",args:it(["hoverStyle"])}}},extra:{key:"extra",other:{Extra_title:{key:"Extra_title",content:"",args:it(["hoverStyle"])},Extra_bgm_unlocked_item:{key:"Extra_bgm_unlocked_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","backgroundHoverStyle","extraHoverStyle"])},Extra_bgm_locked_item_bg:{key:"Extra_bgm_locked_item_bg",content:"",args:it()},Extra_indicator:{key:"Extra_indicator",content:"",args:it(["indicatorStyle","indicatorHoverStyle","indicatorLeftStyle","indicatorLeftHoverStyle","indicatorRightStyle","indicatorRightHoverStyle"])},Extra_bg:{key:"Extra_bg",content:"",args:it()},Extra_video_locked_item_bg:{key:"Extra_video_locked_item_bg",content:"",args:it()},Extra_video_unlocked_item:{key:"Extra_video_unlocked_item",content:"",args:it(["contentStyle","backgroundStyle","extraStyle","contentHoverStyle","backgroundHoverStyle","extraHoverStyle"])}},buttons:{Extra_back_button:{key:"Extra_back_button",content:"",args:it(["hoverStyle"])},Extra_video_button:{key:"Extra_video_button",content:"",args:it(["hoverStyle"])},Extra_bgm_button:{key:"Extra_bgm_button",content:"",args:it(["hoverStyle"])}}},option:{key:"option",other:{Option_bg:{key:"Option_bg",content:"",args:it()},Option_title:{key:"Option_title",content:"",args:it(["hoverStyle"])},Option_window_label:{key:"Option_window_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_text_speed_label:{key:"Option_text_speed_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_voice_volume_label:{key:"Option_voice_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_window_checkbox_label:{key:"Option_text_speed_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_global_volume_label:{key:"Option_global_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_label:{key:"Option_bg_music_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_effect_volume_label:{key:"Option_effect_volume_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_fullscreen_checkbox_label:{key:"Option_fullscreen_checkbox_label",content:"",args:it(["contentStyle","backgroundStyle","backgroundHoverStyle"])},Option_bg_music_volume_slider:{key:"Option_bg_music_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_effect_volume_slider:{key:"Option_effect_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_text_speed_slider:{key:"Option_text_speed_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_fullscreen_checkbox:{key:"Option_fullscreen_checkbox",content:"",args:it(["hoverStyle"])},Option_window_checkbox:{key:"Option_window_checkbox",content:"",args:it(["hoverStyle"])},Option_videoSize1080_checkbox:{key:"Option_videoSize1080_checkbox",content:"",args:it(["hoverStyle"])},Option_videoSize720_checkbox:{key:"Option_videoSize720_checkbox",content:"",args:it(["hoverStyle"])},Options_light_slider:{key:"Options_light_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_global_volume_slider:{key:"Option_global_volume_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])},Option_voice_slider:{key:"Option_voice_slider",content:"",args:it(["sliderStyle","sliderBgStyle","sliderThumbStyle"])}},buttons:{Option_back_button:{key:"Option_back_button",content:"",args:it(["hoverStyle"])}}},collection:{key:"collection",other:{Collection_title:{key:"Collection_title",content:"",args:it(["hoverStyle"])},Collection_bg:{key:"Collection_bg",content:"",args:it()},Collection_img1:{key:"Collection_img1",content:"",args:it()},Collection_img2:{key:"Collection_img2",content:"",args:it()},Collection_img3:{key:"Collection_img3",content:"",args:it()},Collection_detail_title:{key:"Collection_detail_title",content:"",args:it(["hoverStyle"])},Collection_detail_bg:{key:"Collection_detail_bg",content:"",args:it()},Collection_detail_dialog_bg:{key:"Collection_detail_dialog_bg",content:"",args:it()},Collection_detail_dialog_text:{key:"Collection_detail_dialog_text",content:"",args:it()},Collection_detail_left_bg:{key:"Collection_detail_left_bg",content:"",args:it()},Collection_detail_right_content_bg:{key:"Collection_detail_right_content_bg",content:"",args:it()},Collection_detail_right_thumbnail_bg:{key:"Collection_detail_right_thumbnail_bg",content:"",args:it()},Collection_detail_right_desc_bg:{key:"Collection_detail_right_desc_bg",content:"",args:it()}},buttons:{Collection_back_button:{key:"Collection_back_button",content:"",args:it(["hoverStyle"])},Collection_detail_dialog_prev_button:{key:"Collection_detail_dialog_prev_button",content:"",args:it(["hoverStyle"])},Collection_detail_dialog_next_button:{key:"Collection_detail_dialog_next_button",content:"",args:it(["hoverStyle"])}}},progressAndAchievement:{key:"progressAndAchievement",other:{Progress_title:{key:"Progress_title",content:"",args:it(["hoverStyle"])},Progress_bg:{key:"Progress_bg",content:"",args:it()},Progress_content_container:{key:"Progress_content_container",content:"",args:it()}},buttons:{Progress_back_button:{key:"Progress_back_button",content:"",args:it(["hoverStyle"])},Progress_achievement_button:{key:"Progress_achievement_button",content:"",args:it(["hoverStyle"])},Progress_chapter_button:{key:"Progress_chapter_button",content:"",args:it(["hoverStyle"])},Progress_affinity_button:{key:"Progress_affinity_button",content:"",args:it(["hoverStyle"])}}},affinity:{key:"affinity",other:{Affinity_title:{key:"Affinity_title",content:"",args:it(["hoverStyle"])},Affinity_item_container:{key:"Affinity_item_container",content:"",args:it()},Affinity_bg:{key:"Affinity_bg",content:"",args:it()},Affinity_locked_item:{key:"Affinity_locked_item",content:"",args:it(["hoverStyle"])},Affinity_unlocked_item:{key:"Affinity_unlocked_item",content:"",args:it(["contentStyle","extraStyle","contentHoverStyle","extraHoverStyle"])}},buttons:{Affinity_back_button:{key:"Affinity_back_button",content:"",args:it(["hoverStyle"])}}}},JSe={Title_img:1,Load_bg:1,Extra_bg:1,Option_bg:1,Collection_bg:1,Collection_detail_bg:1,Collection_detail_dialog_bg:1,Progress_bg:1,Affinity_bg:1,Collection_detail_left_bg:1,Collection_detail_right_content_bg:1,Collection_detail_right_thumbnail_bg:1,Collection_detail_right_desc_bg:1};Ia.Game_start_button;function QSe(){const t=ft(e=>e.GUI.showGlobalDialog);return F.jsx(F.Fragment,{children:t&&F.jsx("div",{id:"globalDialogContainer"})})}function es(t){const{playSeClick:e,playSeEnter:r}=Wd(),n=t.type??"normal";ce.dispatch(yt({component:"showGlobalDialog",visibility:!0}));const i=()=>{var c;e(),(c=t.leftFunc)==null||c.call(t),_S()},a=()=>{e(),t.rightFunc(),_S()};let o=null,s=0;n==="normal"?o=F.jsx("div",{className:Pr.GlobalDialog_main,children:F.jsx("div",{className:Pr.glabalDialog_container,children:F.jsxs("div",{className:Pr.glabalDialog_container_inner,children:[F.jsx("div",{className:Pr.title,children:t.title}),F.jsxs("div",{className:Pr.button_list,children:[!!t.leftText&&F.jsx("div",{className:`${Pr.button} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.button} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.button} interactive`,u=null,setTimeout(()=>{i()},320)},l-350>0?0:350-l)},children:t.leftText}),F.jsx("div",{className:`${Pr.button} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.button} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.button} interactive`,u=null,setTimeout(()=>{a()},320)},l-350>0?0:350-l)},children:t.rightText})]})]})})}):n==="pay"&&(o=F.jsx("div",{className:Pr.GlobalDialog_main,children:F.jsxs("div",{className:Pr.GlobalDialog_pay_container,children:[F.jsx("div",{className:Pr.GlobalDialog_pay_tip}),F.jsx("div",{className:`${Pr.GlobalDialog_pay_close} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.GlobalDialog_pay_close} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.GlobalDialog_pay_close} interactive`,u=null,setTimeout(()=>{e(),i(),_S()},320)},l-350>0?0:350-l)}}),F.jsx("div",{className:Pr.GlobalDialog_pay_title,children:t.title}),F.jsxs("div",{className:Pr.GlobalDialog_pay_content,children:[t.content,F.jsx("span",{className:Pr.GlobalDialog_star_stone}),t.suffixContent]}),F.jsxs("div",{className:Pr.GlobalDialog_pay_btns,children:[F.jsx("div",{className:`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_cancel} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_cancel} interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_cancel} interactive`,u=null,setTimeout(()=>{i()},320)},l-350>0?0:350-l)}}),F.jsx("div",{className:`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_confirm} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_confirm}  interactive btn-clicked`,s=Date.now()},onMouseUp:c=>{const l=Date.now()-s;let u=c.currentTarget;setTimeout(()=>{u.className=`${Pr.GlobalDialog_pay_btn} ${Pr.GlobalDialog_pay_confirm} interactive`,u=null,setTimeout(()=>{a()},320)},l-350>0?0:350-l)}})]})]})})),setTimeout(()=>{Pu.render(o,document.getElementById("globalDialogContainer"))},100)}function _S(){ce.dispatch(yt({component:"showGlobalDialog",visibility:!1}))}const q1=fd.create();q1.defaults.baseURL="https://test-api.idoltime.games";q1.defaults.headers.common["Content-Type"]="application/json";q1.interceptors.request.use(t=>{const e=new URLSearchParams(window.location.search).get("token")||ce.getState().userData.token,r=ce.getState().storeData.isEditorPreviewMode,n=localStorage.getItem("editor-token");return t.headers=r?{...t.headers,editorToken:n}:{...t.headers,token:e,source:"web"},t},t=>Promise.reject(t));const Cl=q1,e2e={paymentConfigurationList:[],gameInfo:null,isEditorPreviewMode:!1},FV=ag({name:"storeData",initialState:yn(e2e),reducers:{setPaymentConfigurationList(t,e){t.paymentConfigurationList=e.payload},setGameInfo(t,e){t.gameInfo=e.payload},setIsEditorPreviewMode(t,e){t.isEditorPreviewMode=e.payload}}}),{setPaymentConfigurationList:NV,setGameInfo:t2e,setIsEditorPreviewMode:r2e}=FV.actions,n2e=FV.reducer,i2e=()=>Cl.post("/game/chapter_sales_is_buy",{gId:W.gameId}).then(t=>{let e=ce.getState().storeData.paymentConfigurationList;return t.data.code===0&&(e=t.data.data),ce.dispatch(NV(e)),e}).catch(t=>(console.error(t),[])),a2e=()=>Cl.post("/editor/game/detail",{gId:W.gameId}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),MV=t=>Cl.post("/game/buy_chapter",{gId:W.gameId,productId:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),LV=()=>Cl.post("/game/buy",{gId:W.gameId}).then(t=>(t.data.code===0&&GO(),t.data)).catch(t=>(console.error(t),{code:-999,data:!1,message:""})),rx=t=>Cl.post("/game/product_id_is_buy",{gId:W.gameId,productId:t}).then(e=>{if(e.data.code===0){const r=[...ce.getState().storeData.paymentConfigurationList],n=r.findIndex(i=>i.product_id===t);if(n>-1){const i={...r[n]};i.is_buy=e.data.data,r[n]=i,ce.dispatch(NV(r))}}return e.data}).catch(e=>(console.error(e),{code:-999,data:!1,message:""})),GO=()=>Cl.get("/game/get_game_info?gId="+W.gameId).then(t=>(t.data.code===0&&ce.dispatch(t2e(t.data.data)),t.data)).catch(t=>(console.error(t),{code:-999,data:null,message:""})),o2e=()=>Cl.post("/user/recharge_config_list",{is_show:1}).then(t=>t.data).catch(t=>(console.error(t),{code:-999,data:null,message:""})),s2e=t=>Cl.post("/user/recharge",{recharge_id:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""})),l2e=t=>Cl.post("/user/recharge_status",{order_no:t}).then(e=>e.data).catch(e=>(console.error(e),{code:-999,data:null,message:""}));var nx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */nx.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,p=4,d=1,g=2,m=1,v=2,_=4,y=8,b=16,w=32,E=64,C=128,T=256,A=512,R=30,O="...",P=800,k=16,M=1,B=2,D=3,H=1/0,ee=9007199254740991,ne=17976931348623157e292,Y=0/0,U=4294967295,X=U-1,V=U>>>1,G=[["ary",C],["bind",m],["bindKey",v],["curry",y],["curryRight",b],["flip",A],["partial",w],["partialRight",E],["rearg",T]],te="[object Arguments]",oe="[object Array]",ge="[object AsyncFunction]",le="[object Boolean]",ye="[object Date]",Le="[object DOMException]",ke="[object Error]",Ee="[object Function]",Se="[object GeneratorFunction]",De="[object Map]",We="[object Number]",Ve="[object Null]",He="[object Object]",qe="[object Promise]",Et="[object Proxy]",Rt="[object RegExp]",ht="[object Set]",dt="[object String]",St="[object Symbol]",nr="[object Undefined]",Xt="[object WeakMap]",ir="[object WeakSet]",Vt="[object ArrayBuffer]",bt="[object DataView]",Zt="[object Float32Array]",Oe="[object Float64Array]",j="[object Int8Array]",pe="[object Int16Array]",Ce="[object Int32Array]",Fe="[object Uint8Array]",ae="[object Uint8ClampedArray]",Ae="[object Uint16Array]",z="[object Uint32Array]",je=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Re=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,q=RegExp(Re.source),ue=RegExp(Pe.source),Te=/<%-([\s\S]+?)%>/g,pt=/<%([\s\S]+?)%>/g,Qe=/<%=([\s\S]+?)%>/g,st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Gn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(lr.source),Ar=/^\s+/,un=/\s/,ni=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Al=/\{\n\/\* \[wrapped with (.+)\] \*/,Il=/,? & /,cn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qi=/[()=,{}\[\]\/\s]/,Vn=/\\(\\)?/g,ja=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ua=/\w*$/,If=/^[-+]0x[0-9a-f]+$/i,Vb=/^0b[01]+$/i,Hb=/^\[object .+?Constructor\]$/,zb=/^0o[0-7]+$/i,Xb=/^(?:0|[1-9]\d*)$/,Wb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rf=/($^)/,Pg=/['\n\r\u2028\u2029\\]/g,us="\\ud800-\\udfff",Og="\\u0300-\\u036f",Rl="\\ufe20-\\ufe2f",Yb="\\u20d0-\\u20ff",Ku=Og+Rl+Yb,Pf="\\u2700-\\u27bf",kg="a-z\\xdf-\\xf6\\xf8-\\xff",qb="\\xac\\xb1\\xd7\\xf7",c0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kb="\\u2000-\\u206f",Zb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",J="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",ie=qb+c0+Kb+Zb,me="[']",we="["+us+"]",ve="["+ie+"]",Ue="["+Ku+"]",Xe="\\d+",Ke="["+Pf+"]",Ze="["+kg+"]",tt="[^"+us+ie+Xe+Pf+kg+J+"]",_t="\\ud83c[\\udffb-\\udfff]",ar="(?:"+Ue+"|"+_t+")",Ir="[^"+us+"]",Rr="(?:\\ud83c[\\udde6-\\uddff]){2}",fn="[\\ud800-\\udbff][\\udc00-\\udfff]",Hr="["+J+"]",ca="\\u200d",Pl="(?:"+Ze+"|"+tt+")",f0="(?:"+Hr+"|"+tt+")",Fg="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Of="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",Jb=ar+"?",Ng="["+fe+"]?",Qb="(?:"+ca+"(?:"+[Ir,Rr,fn].join("|")+")"+Ng+Jb+")*",Mg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",KY="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",b4=Ng+Jb+Qb,ZY="(?:"+[Ke,Rr,fn].join("|")+")"+b4,JY="(?:"+[Ir+Ue+"?",Ue,Rr,fn,we].join("|")+")",QY=RegExp(me,"g"),eq=RegExp(Ue,"g"),ew=RegExp(_t+"(?="+_t+")|"+JY+b4,"g"),tq=RegExp([Hr+"?"+Ze+"+"+Fg+"(?="+[ve,Hr,"$"].join("|")+")",f0+"+"+Of+"(?="+[ve,Hr+Pl,"$"].join("|")+")",Hr+"?"+Pl+"+"+Fg,Hr+"+"+Of,KY,Mg,Xe,ZY].join("|"),"g"),rq=RegExp("["+ca+us+Ku+fe+"]"),nq=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,iq=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],aq=-1,rn={};rn[Zt]=rn[Oe]=rn[j]=rn[pe]=rn[Ce]=rn[Fe]=rn[ae]=rn[Ae]=rn[z]=!0,rn[te]=rn[oe]=rn[Vt]=rn[le]=rn[bt]=rn[ye]=rn[ke]=rn[Ee]=rn[De]=rn[We]=rn[He]=rn[Rt]=rn[ht]=rn[dt]=rn[Xt]=!1;var Kr={};Kr[te]=Kr[oe]=Kr[Vt]=Kr[bt]=Kr[le]=Kr[ye]=Kr[Zt]=Kr[Oe]=Kr[j]=Kr[pe]=Kr[Ce]=Kr[De]=Kr[We]=Kr[He]=Kr[Rt]=Kr[ht]=Kr[dt]=Kr[St]=Kr[Fe]=Kr[ae]=Kr[Ae]=Kr[z]=!0,Kr[ke]=Kr[Ee]=Kr[Xt]=!1;var oq={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},sq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lq={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uq={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cq=parseFloat,fq=parseInt,w4=typeof At=="object"&&At&&At.Object===Object&&At,hq=typeof self=="object"&&self&&self.Object===Object&&self,Mi=w4||hq||Function("return this")(),tw=e&&!e.nodeType&&e,Zu=tw&&!0&&t&&!t.nodeType&&t,E4=Zu&&Zu.exports===tw,rw=E4&&w4.process,oo=function(){try{var _e=Zu&&Zu.require&&Zu.require("util").types;return _e||rw&&rw.binding&&rw.binding("util")}catch{}}(),S4=oo&&oo.isArrayBuffer,C4=oo&&oo.isDate,T4=oo&&oo.isMap,A4=oo&&oo.isRegExp,I4=oo&&oo.isSet,R4=oo&&oo.isTypedArray;function $a(_e,Be,Ne){switch(Ne.length){case 0:return _e.call(Be);case 1:return _e.call(Be,Ne[0]);case 2:return _e.call(Be,Ne[0],Ne[1]);case 3:return _e.call(Be,Ne[0],Ne[1],Ne[2])}return _e.apply(Be,Ne)}function dq(_e,Be,Ne,gt){for(var Ht=-1,Fr=_e==null?0:_e.length;++Ht<Fr;){var hi=_e[Ht];Be(gt,hi,Ne(hi),_e)}return gt}function so(_e,Be){for(var Ne=-1,gt=_e==null?0:_e.length;++Ne<gt&&Be(_e[Ne],Ne,_e)!==!1;);return _e}function pq(_e,Be){for(var Ne=_e==null?0:_e.length;Ne--&&Be(_e[Ne],Ne,_e)!==!1;);return _e}function P4(_e,Be){for(var Ne=-1,gt=_e==null?0:_e.length;++Ne<gt;)if(!Be(_e[Ne],Ne,_e))return!1;return!0}function Ol(_e,Be){for(var Ne=-1,gt=_e==null?0:_e.length,Ht=0,Fr=[];++Ne<gt;){var hi=_e[Ne];Be(hi,Ne,_e)&&(Fr[Ht++]=hi)}return Fr}function Lg(_e,Be){var Ne=_e==null?0:_e.length;return!!Ne&&kf(_e,Be,0)>-1}function nw(_e,Be,Ne){for(var gt=-1,Ht=_e==null?0:_e.length;++gt<Ht;)if(Ne(Be,_e[gt]))return!0;return!1}function hn(_e,Be){for(var Ne=-1,gt=_e==null?0:_e.length,Ht=Array(gt);++Ne<gt;)Ht[Ne]=Be(_e[Ne],Ne,_e);return Ht}function kl(_e,Be){for(var Ne=-1,gt=Be.length,Ht=_e.length;++Ne<gt;)_e[Ht+Ne]=Be[Ne];return _e}function iw(_e,Be,Ne,gt){var Ht=-1,Fr=_e==null?0:_e.length;for(gt&&Fr&&(Ne=_e[++Ht]);++Ht<Fr;)Ne=Be(Ne,_e[Ht],Ht,_e);return Ne}function vq(_e,Be,Ne,gt){var Ht=_e==null?0:_e.length;for(gt&&Ht&&(Ne=_e[--Ht]);Ht--;)Ne=Be(Ne,_e[Ht],Ht,_e);return Ne}function aw(_e,Be){for(var Ne=-1,gt=_e==null?0:_e.length;++Ne<gt;)if(Be(_e[Ne],Ne,_e))return!0;return!1}var gq=ow("length");function mq(_e){return _e.split("")}function _q(_e){return _e.match(cn)||[]}function O4(_e,Be,Ne){var gt;return Ne(_e,function(Ht,Fr,hi){if(Be(Ht,Fr,hi))return gt=Fr,!1}),gt}function Bg(_e,Be,Ne,gt){for(var Ht=_e.length,Fr=Ne+(gt?1:-1);gt?Fr--:++Fr<Ht;)if(Be(_e[Fr],Fr,_e))return Fr;return-1}function kf(_e,Be,Ne){return Be===Be?Pq(_e,Be,Ne):Bg(_e,k4,Ne)}function yq(_e,Be,Ne,gt){for(var Ht=Ne-1,Fr=_e.length;++Ht<Fr;)if(gt(_e[Ht],Be))return Ht;return-1}function k4(_e){return _e!==_e}function F4(_e,Be){var Ne=_e==null?0:_e.length;return Ne?lw(_e,Be)/Ne:Y}function ow(_e){return function(Be){return Be==null?r:Be[_e]}}function sw(_e){return function(Be){return _e==null?r:_e[Be]}}function N4(_e,Be,Ne,gt,Ht){return Ht(_e,function(Fr,hi,Yr){Ne=gt?(gt=!1,Fr):Be(Ne,Fr,hi,Yr)}),Ne}function xq(_e,Be){var Ne=_e.length;for(_e.sort(Be);Ne--;)_e[Ne]=_e[Ne].value;return _e}function lw(_e,Be){for(var Ne,gt=-1,Ht=_e.length;++gt<Ht;){var Fr=Be(_e[gt]);Fr!==r&&(Ne=Ne===r?Fr:Ne+Fr)}return Ne}function uw(_e,Be){for(var Ne=-1,gt=Array(_e);++Ne<_e;)gt[Ne]=Be(Ne);return gt}function bq(_e,Be){return hn(Be,function(Ne){return[Ne,_e[Ne]]})}function M4(_e){return _e&&_e.slice(0,U4(_e)+1).replace(Ar,"")}function Ga(_e){return function(Be){return _e(Be)}}function cw(_e,Be){return hn(Be,function(Ne){return _e[Ne]})}function h0(_e,Be){return _e.has(Be)}function L4(_e,Be){for(var Ne=-1,gt=_e.length;++Ne<gt&&kf(Be,_e[Ne],0)>-1;);return Ne}function B4(_e,Be){for(var Ne=_e.length;Ne--&&kf(Be,_e[Ne],0)>-1;);return Ne}function wq(_e,Be){for(var Ne=_e.length,gt=0;Ne--;)_e[Ne]===Be&&++gt;return gt}var Eq=sw(oq),Sq=sw(sq);function Cq(_e){return"\\"+uq[_e]}function Tq(_e,Be){return _e==null?r:_e[Be]}function Ff(_e){return rq.test(_e)}function Aq(_e){return nq.test(_e)}function Iq(_e){for(var Be,Ne=[];!(Be=_e.next()).done;)Ne.push(Be.value);return Ne}function fw(_e){var Be=-1,Ne=Array(_e.size);return _e.forEach(function(gt,Ht){Ne[++Be]=[Ht,gt]}),Ne}function D4(_e,Be){return function(Ne){return _e(Be(Ne))}}function Fl(_e,Be){for(var Ne=-1,gt=_e.length,Ht=0,Fr=[];++Ne<gt;){var hi=_e[Ne];(hi===Be||hi===u)&&(_e[Ne]=u,Fr[Ht++]=Ne)}return Fr}function Dg(_e){var Be=-1,Ne=Array(_e.size);return _e.forEach(function(gt){Ne[++Be]=gt}),Ne}function Rq(_e){var Be=-1,Ne=Array(_e.size);return _e.forEach(function(gt){Ne[++Be]=[gt,gt]}),Ne}function Pq(_e,Be,Ne){for(var gt=Ne-1,Ht=_e.length;++gt<Ht;)if(_e[gt]===Be)return gt;return-1}function Oq(_e,Be,Ne){for(var gt=Ne+1;gt--;)if(_e[gt]===Be)return gt;return gt}function Nf(_e){return Ff(_e)?Fq(_e):gq(_e)}function Po(_e){return Ff(_e)?Nq(_e):mq(_e)}function U4(_e){for(var Be=_e.length;Be--&&un.test(_e.charAt(Be)););return Be}var kq=sw(lq);function Fq(_e){for(var Be=ew.lastIndex=0;ew.test(_e);)++Be;return Be}function Nq(_e){return _e.match(ew)||[]}function Mq(_e){return _e.match(tq)||[]}var Lq=function _e(Be){Be=Be==null?Mi:Mf.defaults(Mi.Object(),Be,Mf.pick(Mi,iq));var Ne=Be.Array,gt=Be.Date,Ht=Be.Error,Fr=Be.Function,hi=Be.Math,Yr=Be.Object,hw=Be.RegExp,Bq=Be.String,lo=Be.TypeError,Ug=Ne.prototype,Dq=Fr.prototype,Lf=Yr.prototype,jg=Be["__core-js_shared__"],$g=Dq.toString,jr=Lf.hasOwnProperty,Uq=0,j4=function(){var x=/[^.]+$/.exec(jg&&jg.keys&&jg.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Gg=Lf.toString,jq=$g.call(Yr),$q=Mi._,Gq=hw("^"+$g.call(jr).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vg=E4?Be.Buffer:r,Nl=Be.Symbol,Hg=Be.Uint8Array,$4=Vg?Vg.allocUnsafe:r,zg=D4(Yr.getPrototypeOf,Yr),G4=Yr.create,V4=Lf.propertyIsEnumerable,Xg=Ug.splice,H4=Nl?Nl.isConcatSpreadable:r,d0=Nl?Nl.iterator:r,Ju=Nl?Nl.toStringTag:r,Wg=function(){try{var x=nc(Yr,"defineProperty");return x({},"",{}),x}catch{}}(),Vq=Be.clearTimeout!==Mi.clearTimeout&&Be.clearTimeout,Hq=gt&&gt.now!==Mi.Date.now&&gt.now,zq=Be.setTimeout!==Mi.setTimeout&&Be.setTimeout,Yg=hi.ceil,qg=hi.floor,dw=Yr.getOwnPropertySymbols,Xq=Vg?Vg.isBuffer:r,z4=Be.isFinite,Wq=Ug.join,Yq=D4(Yr.keys,Yr),di=hi.max,Ki=hi.min,qq=gt.now,Kq=Be.parseInt,X4=hi.random,Zq=Ug.reverse,pw=nc(Be,"DataView"),p0=nc(Be,"Map"),vw=nc(Be,"Promise"),Bf=nc(Be,"Set"),v0=nc(Be,"WeakMap"),g0=nc(Yr,"create"),Kg=v0&&new v0,Df={},Jq=ic(pw),Qq=ic(p0),eK=ic(vw),tK=ic(Bf),rK=ic(v0),Zg=Nl?Nl.prototype:r,m0=Zg?Zg.valueOf:r,W4=Zg?Zg.toString:r;function K(x){if(kn(x)&&!Wt(x)&&!(x instanceof yr)){if(x instanceof uo)return x;if(jr.call(x,"__wrapped__"))return YF(x)}return new uo(x)}var Uf=function(){function x(){}return function(S){if(!En(S))return{};if(G4)return G4(S);x.prototype=S;var I=new x;return x.prototype=r,I}}();function Jg(){}function uo(x,S){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=r}K.templateSettings={escape:Te,evaluate:pt,interpolate:Qe,variable:"",imports:{_:K}},K.prototype=Jg.prototype,K.prototype.constructor=K,uo.prototype=Uf(Jg.prototype),uo.prototype.constructor=uo;function yr(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function nK(){var x=new yr(this.__wrapped__);return x.__actions__=Ea(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=Ea(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=Ea(this.__views__),x}function iK(){if(this.__filtered__){var x=new yr(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function aK(){var x=this.__wrapped__.value(),S=this.__dir__,I=Wt(x),L=S<0,$=I?x.length:0,Q=mZ(0,$,this.__views__),se=Q.start,he=Q.end,be=he-se,$e=L?he:se-1,Ge=this.__iteratees__,ze=Ge.length,lt=0,wt=Ki(be,this.__takeCount__);if(!I||!L&&$==be&&wt==be)return mF(x,this.__actions__);var Ft=[];e:for(;be--&&lt<wt;){$e+=S;for(var or=-1,Nt=x[$e];++or<ze;){var gr=Ge[or],Sr=gr.iteratee,za=gr.type,da=Sr(Nt);if(za==B)Nt=da;else if(!da){if(za==M)continue e;break e}}Ft[lt++]=Nt}return Ft}yr.prototype=Uf(Jg.prototype),yr.prototype.constructor=yr;function Qu(x){var S=-1,I=x==null?0:x.length;for(this.clear();++S<I;){var L=x[S];this.set(L[0],L[1])}}function oK(){this.__data__=g0?g0(null):{},this.size=0}function sK(x){var S=this.has(x)&&delete this.__data__[x];return this.size-=S?1:0,S}function lK(x){var S=this.__data__;if(g0){var I=S[x];return I===c?r:I}return jr.call(S,x)?S[x]:r}function uK(x){var S=this.__data__;return g0?S[x]!==r:jr.call(S,x)}function cK(x,S){var I=this.__data__;return this.size+=this.has(x)?0:1,I[x]=g0&&S===r?c:S,this}Qu.prototype.clear=oK,Qu.prototype.delete=sK,Qu.prototype.get=lK,Qu.prototype.has=uK,Qu.prototype.set=cK;function Gs(x){var S=-1,I=x==null?0:x.length;for(this.clear();++S<I;){var L=x[S];this.set(L[0],L[1])}}function fK(){this.__data__=[],this.size=0}function hK(x){var S=this.__data__,I=Qg(S,x);if(I<0)return!1;var L=S.length-1;return I==L?S.pop():Xg.call(S,I,1),--this.size,!0}function dK(x){var S=this.__data__,I=Qg(S,x);return I<0?r:S[I][1]}function pK(x){return Qg(this.__data__,x)>-1}function vK(x,S){var I=this.__data__,L=Qg(I,x);return L<0?(++this.size,I.push([x,S])):I[L][1]=S,this}Gs.prototype.clear=fK,Gs.prototype.delete=hK,Gs.prototype.get=dK,Gs.prototype.has=pK,Gs.prototype.set=vK;function Vs(x){var S=-1,I=x==null?0:x.length;for(this.clear();++S<I;){var L=x[S];this.set(L[0],L[1])}}function gK(){this.size=0,this.__data__={hash:new Qu,map:new(p0||Gs),string:new Qu}}function mK(x){var S=fm(this,x).delete(x);return this.size-=S?1:0,S}function _K(x){return fm(this,x).get(x)}function yK(x){return fm(this,x).has(x)}function xK(x,S){var I=fm(this,x),L=I.size;return I.set(x,S),this.size+=I.size==L?0:1,this}Vs.prototype.clear=gK,Vs.prototype.delete=mK,Vs.prototype.get=_K,Vs.prototype.has=yK,Vs.prototype.set=xK;function ec(x){var S=-1,I=x==null?0:x.length;for(this.__data__=new Vs;++S<I;)this.add(x[S])}function bK(x){return this.__data__.set(x,c),this}function wK(x){return this.__data__.has(x)}ec.prototype.add=ec.prototype.push=bK,ec.prototype.has=wK;function Oo(x){var S=this.__data__=new Gs(x);this.size=S.size}function EK(){this.__data__=new Gs,this.size=0}function SK(x){var S=this.__data__,I=S.delete(x);return this.size=S.size,I}function CK(x){return this.__data__.get(x)}function TK(x){return this.__data__.has(x)}function AK(x,S){var I=this.__data__;if(I instanceof Gs){var L=I.__data__;if(!p0||L.length<i-1)return L.push([x,S]),this.size=++I.size,this;I=this.__data__=new Vs(L)}return I.set(x,S),this.size=I.size,this}Oo.prototype.clear=EK,Oo.prototype.delete=SK,Oo.prototype.get=CK,Oo.prototype.has=TK,Oo.prototype.set=AK;function Y4(x,S){var I=Wt(x),L=!I&&ac(x),$=!I&&!L&&Ul(x),Q=!I&&!L&&!$&&Vf(x),se=I||L||$||Q,he=se?uw(x.length,Bq):[],be=he.length;for(var $e in x)(S||jr.call(x,$e))&&!(se&&($e=="length"||$&&($e=="offset"||$e=="parent")||Q&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||Ws($e,be)))&&he.push($e);return he}function q4(x){var S=x.length;return S?x[Tw(0,S-1)]:r}function IK(x,S){return hm(Ea(x),tc(S,0,x.length))}function RK(x){return hm(Ea(x))}function gw(x,S,I){(I!==r&&!ko(x[S],I)||I===r&&!(S in x))&&Hs(x,S,I)}function _0(x,S,I){var L=x[S];(!(jr.call(x,S)&&ko(L,I))||I===r&&!(S in x))&&Hs(x,S,I)}function Qg(x,S){for(var I=x.length;I--;)if(ko(x[I][0],S))return I;return-1}function PK(x,S,I,L){return Ml(x,function($,Q,se){S(L,$,I($),se)}),L}function K4(x,S){return x&&fs(S,bi(S),x)}function OK(x,S){return x&&fs(S,Ca(S),x)}function Hs(x,S,I){S=="__proto__"&&Wg?Wg(x,S,{configurable:!0,enumerable:!0,value:I,writable:!0}):x[S]=I}function mw(x,S){for(var I=-1,L=S.length,$=Ne(L),Q=x==null;++I<L;)$[I]=Q?r:Zw(x,S[I]);return $}function tc(x,S,I){return x===x&&(I!==r&&(x=x<=I?x:I),S!==r&&(x=x>=S?x:S)),x}function co(x,S,I,L,$,Q){var se,he=S&f,be=S&h,$e=S&p;if(I&&(se=$?I(x,L,$,Q):I(x)),se!==r)return se;if(!En(x))return x;var Ge=Wt(x);if(Ge){if(se=yZ(x),!he)return Ea(x,se)}else{var ze=Zi(x),lt=ze==Ee||ze==Se;if(Ul(x))return xF(x,he);if(ze==He||ze==te||lt&&!$){if(se=be||lt?{}:UF(x),!he)return be?lZ(x,OK(se,x)):sZ(x,K4(se,x))}else{if(!Kr[ze])return $?x:{};se=xZ(x,ze,he)}}Q||(Q=new Oo);var wt=Q.get(x);if(wt)return wt;Q.set(x,se),pN(x)?x.forEach(function(Nt){se.add(co(Nt,S,I,Nt,x,Q))}):hN(x)&&x.forEach(function(Nt,gr){se.set(gr,co(Nt,S,I,gr,x,Q))});var Ft=$e?be?Bw:Lw:be?Ca:bi,or=Ge?r:Ft(x);return so(or||x,function(Nt,gr){or&&(gr=Nt,Nt=x[gr]),_0(se,gr,co(Nt,S,I,gr,x,Q))}),se}function kK(x){var S=bi(x);return function(I){return Z4(I,x,S)}}function Z4(x,S,I){var L=I.length;if(x==null)return!L;for(x=Yr(x);L--;){var $=I[L],Q=S[$],se=x[$];if(se===r&&!($ in x)||!Q(se))return!1}return!0}function J4(x,S,I){if(typeof x!="function")throw new lo(o);return C0(function(){x.apply(r,I)},S)}function y0(x,S,I,L){var $=-1,Q=Lg,se=!0,he=x.length,be=[],$e=S.length;if(!he)return be;I&&(S=hn(S,Ga(I))),L?(Q=nw,se=!1):S.length>=i&&(Q=h0,se=!1,S=new ec(S));e:for(;++$<he;){var Ge=x[$],ze=I==null?Ge:I(Ge);if(Ge=L||Ge!==0?Ge:0,se&&ze===ze){for(var lt=$e;lt--;)if(S[lt]===ze)continue e;be.push(Ge)}else Q(S,ze,L)||be.push(Ge)}return be}var Ml=CF(cs),Q4=CF(yw,!0);function FK(x,S){var I=!0;return Ml(x,function(L,$,Q){return I=!!S(L,$,Q),I}),I}function em(x,S,I){for(var L=-1,$=x.length;++L<$;){var Q=x[L],se=S(Q);if(se!=null&&(he===r?se===se&&!Ha(se):I(se,he)))var he=se,be=Q}return be}function NK(x,S,I,L){var $=x.length;for(I=Jt(I),I<0&&(I=-I>$?0:$+I),L=L===r||L>$?$:Jt(L),L<0&&(L+=$),L=I>L?0:gN(L);I<L;)x[I++]=S;return x}function eF(x,S){var I=[];return Ml(x,function(L,$,Q){S(L,$,Q)&&I.push(L)}),I}function Li(x,S,I,L,$){var Q=-1,se=x.length;for(I||(I=wZ),$||($=[]);++Q<se;){var he=x[Q];S>0&&I(he)?S>1?Li(he,S-1,I,L,$):kl($,he):L||($[$.length]=he)}return $}var _w=TF(),tF=TF(!0);function cs(x,S){return x&&_w(x,S,bi)}function yw(x,S){return x&&tF(x,S,bi)}function tm(x,S){return Ol(S,function(I){return Ys(x[I])})}function rc(x,S){S=Bl(S,x);for(var I=0,L=S.length;x!=null&&I<L;)x=x[hs(S[I++])];return I&&I==L?x:r}function rF(x,S,I){var L=S(x);return Wt(x)?L:kl(L,I(x))}function fa(x){return x==null?x===r?nr:Ve:Ju&&Ju in Yr(x)?gZ(x):RZ(x)}function xw(x,S){return x>S}function MK(x,S){return x!=null&&jr.call(x,S)}function LK(x,S){return x!=null&&S in Yr(x)}function BK(x,S,I){return x>=Ki(S,I)&&x<di(S,I)}function bw(x,S,I){for(var L=I?nw:Lg,$=x[0].length,Q=x.length,se=Q,he=Ne(Q),be=1/0,$e=[];se--;){var Ge=x[se];se&&S&&(Ge=hn(Ge,Ga(S))),be=Ki(Ge.length,be),he[se]=!I&&(S||$>=120&&Ge.length>=120)?new ec(se&&Ge):r}Ge=x[0];var ze=-1,lt=he[0];e:for(;++ze<$&&$e.length<be;){var wt=Ge[ze],Ft=S?S(wt):wt;if(wt=I||wt!==0?wt:0,!(lt?h0(lt,Ft):L($e,Ft,I))){for(se=Q;--se;){var or=he[se];if(!(or?h0(or,Ft):L(x[se],Ft,I)))continue e}lt&&lt.push(Ft),$e.push(wt)}}return $e}function DK(x,S,I,L){return cs(x,function($,Q,se){S(L,I($),Q,se)}),L}function x0(x,S,I){S=Bl(S,x),x=VF(x,S);var L=x==null?x:x[hs(ho(S))];return L==null?r:$a(L,x,I)}function nF(x){return kn(x)&&fa(x)==te}function UK(x){return kn(x)&&fa(x)==Vt}function jK(x){return kn(x)&&fa(x)==ye}function b0(x,S,I,L,$){return x===S?!0:x==null||S==null||!kn(x)&&!kn(S)?x!==x&&S!==S:$K(x,S,I,L,b0,$)}function $K(x,S,I,L,$,Q){var se=Wt(x),he=Wt(S),be=se?oe:Zi(x),$e=he?oe:Zi(S);be=be==te?He:be,$e=$e==te?He:$e;var Ge=be==He,ze=$e==He,lt=be==$e;if(lt&&Ul(x)){if(!Ul(S))return!1;se=!0,Ge=!1}if(lt&&!Ge)return Q||(Q=new Oo),se||Vf(x)?LF(x,S,I,L,$,Q):pZ(x,S,be,I,L,$,Q);if(!(I&d)){var wt=Ge&&jr.call(x,"__wrapped__"),Ft=ze&&jr.call(S,"__wrapped__");if(wt||Ft){var or=wt?x.value():x,Nt=Ft?S.value():S;return Q||(Q=new Oo),$(or,Nt,I,L,Q)}}return lt?(Q||(Q=new Oo),vZ(x,S,I,L,$,Q)):!1}function GK(x){return kn(x)&&Zi(x)==De}function ww(x,S,I,L){var $=I.length,Q=$,se=!L;if(x==null)return!Q;for(x=Yr(x);$--;){var he=I[$];if(se&&he[2]?he[1]!==x[he[0]]:!(he[0]in x))return!1}for(;++$<Q;){he=I[$];var be=he[0],$e=x[be],Ge=he[1];if(se&&he[2]){if($e===r&&!(be in x))return!1}else{var ze=new Oo;if(L)var lt=L($e,Ge,be,x,S,ze);if(!(lt===r?b0(Ge,$e,d|g,L,ze):lt))return!1}}return!0}function iF(x){if(!En(x)||SZ(x))return!1;var S=Ys(x)?Gq:Hb;return S.test(ic(x))}function VK(x){return kn(x)&&fa(x)==Rt}function HK(x){return kn(x)&&Zi(x)==ht}function zK(x){return kn(x)&&_m(x.length)&&!!rn[fa(x)]}function aF(x){return typeof x=="function"?x:x==null?Ta:typeof x=="object"?Wt(x)?lF(x[0],x[1]):sF(x):AN(x)}function Ew(x){if(!S0(x))return Yq(x);var S=[];for(var I in Yr(x))jr.call(x,I)&&I!="constructor"&&S.push(I);return S}function XK(x){if(!En(x))return IZ(x);var S=S0(x),I=[];for(var L in x)L=="constructor"&&(S||!jr.call(x,L))||I.push(L);return I}function Sw(x,S){return x<S}function oF(x,S){var I=-1,L=Sa(x)?Ne(x.length):[];return Ml(x,function($,Q,se){L[++I]=S($,Q,se)}),L}function sF(x){var S=Uw(x);return S.length==1&&S[0][2]?$F(S[0][0],S[0][1]):function(I){return I===x||ww(I,x,S)}}function lF(x,S){return $w(x)&&jF(S)?$F(hs(x),S):function(I){var L=Zw(I,x);return L===r&&L===S?Jw(I,x):b0(S,L,d|g)}}function rm(x,S,I,L,$){x!==S&&_w(S,function(Q,se){if($||($=new Oo),En(Q))WK(x,S,se,I,rm,L,$);else{var he=L?L(Vw(x,se),Q,se+"",x,S,$):r;he===r&&(he=Q),gw(x,se,he)}},Ca)}function WK(x,S,I,L,$,Q,se){var he=Vw(x,I),be=Vw(S,I),$e=se.get(be);if($e){gw(x,I,$e);return}var Ge=Q?Q(he,be,I+"",x,S,se):r,ze=Ge===r;if(ze){var lt=Wt(be),wt=!lt&&Ul(be),Ft=!lt&&!wt&&Vf(be);Ge=be,lt||wt||Ft?Wt(he)?Ge=he:Hn(he)?Ge=Ea(he):wt?(ze=!1,Ge=xF(be,!0)):Ft?(ze=!1,Ge=bF(be,!0)):Ge=[]:T0(be)||ac(be)?(Ge=he,ac(he)?Ge=mN(he):(!En(he)||Ys(he))&&(Ge=UF(be))):ze=!1}ze&&(se.set(be,Ge),$(Ge,be,L,Q,se),se.delete(be)),gw(x,I,Ge)}function uF(x,S){var I=x.length;if(I)return S+=S<0?I:0,Ws(S,I)?x[S]:r}function cF(x,S,I){S.length?S=hn(S,function(Q){return Wt(Q)?function(se){return rc(se,Q.length===1?Q[0]:Q)}:Q}):S=[Ta];var L=-1;S=hn(S,Ga(Pt()));var $=oF(x,function(Q,se,he){var be=hn(S,function($e){return $e(Q)});return{criteria:be,index:++L,value:Q}});return xq($,function(Q,se){return oZ(Q,se,I)})}function YK(x,S){return fF(x,S,function(I,L){return Jw(x,L)})}function fF(x,S,I){for(var L=-1,$=S.length,Q={};++L<$;){var se=S[L],he=rc(x,se);I(he,se)&&w0(Q,Bl(se,x),he)}return Q}function qK(x){return function(S){return rc(S,x)}}function Cw(x,S,I,L){var $=L?yq:kf,Q=-1,se=S.length,he=x;for(x===S&&(S=Ea(S)),I&&(he=hn(x,Ga(I)));++Q<se;)for(var be=0,$e=S[Q],Ge=I?I($e):$e;(be=$(he,Ge,be,L))>-1;)he!==x&&Xg.call(he,be,1),Xg.call(x,be,1);return x}function hF(x,S){for(var I=x?S.length:0,L=I-1;I--;){var $=S[I];if(I==L||$!==Q){var Q=$;Ws($)?Xg.call(x,$,1):Rw(x,$)}}return x}function Tw(x,S){return x+qg(X4()*(S-x+1))}function KK(x,S,I,L){for(var $=-1,Q=di(Yg((S-x)/(I||1)),0),se=Ne(Q);Q--;)se[L?Q:++$]=x,x+=I;return se}function Aw(x,S){var I="";if(!x||S<1||S>ee)return I;do S%2&&(I+=x),S=qg(S/2),S&&(x+=x);while(S);return I}function ur(x,S){return Hw(GF(x,S,Ta),x+"")}function ZK(x){return q4(Hf(x))}function JK(x,S){var I=Hf(x);return hm(I,tc(S,0,I.length))}function w0(x,S,I,L){if(!En(x))return x;S=Bl(S,x);for(var $=-1,Q=S.length,se=Q-1,he=x;he!=null&&++$<Q;){var be=hs(S[$]),$e=I;if(be==="__proto__"||be==="constructor"||be==="prototype")return x;if($!=se){var Ge=he[be];$e=L?L(Ge,be,he):r,$e===r&&($e=En(Ge)?Ge:Ws(S[$+1])?[]:{})}_0(he,be,$e),he=he[be]}return x}var dF=Kg?function(x,S){return Kg.set(x,S),x}:Ta,QK=Wg?function(x,S){return Wg(x,"toString",{configurable:!0,enumerable:!1,value:eE(S),writable:!0})}:Ta;function eZ(x){return hm(Hf(x))}function fo(x,S,I){var L=-1,$=x.length;S<0&&(S=-S>$?0:$+S),I=I>$?$:I,I<0&&(I+=$),$=S>I?0:I-S>>>0,S>>>=0;for(var Q=Ne($);++L<$;)Q[L]=x[L+S];return Q}function tZ(x,S){var I;return Ml(x,function(L,$,Q){return I=S(L,$,Q),!I}),!!I}function nm(x,S,I){var L=0,$=x==null?L:x.length;if(typeof S=="number"&&S===S&&$<=V){for(;L<$;){var Q=L+$>>>1,se=x[Q];se!==null&&!Ha(se)&&(I?se<=S:se<S)?L=Q+1:$=Q}return $}return Iw(x,S,Ta,I)}function Iw(x,S,I,L){var $=0,Q=x==null?0:x.length;if(Q===0)return 0;S=I(S);for(var se=S!==S,he=S===null,be=Ha(S),$e=S===r;$<Q;){var Ge=qg(($+Q)/2),ze=I(x[Ge]),lt=ze!==r,wt=ze===null,Ft=ze===ze,or=Ha(ze);if(se)var Nt=L||Ft;else $e?Nt=Ft&&(L||lt):he?Nt=Ft&&lt&&(L||!wt):be?Nt=Ft&&lt&&!wt&&(L||!or):wt||or?Nt=!1:Nt=L?ze<=S:ze<S;Nt?$=Ge+1:Q=Ge}return Ki(Q,X)}function pF(x,S){for(var I=-1,L=x.length,$=0,Q=[];++I<L;){var se=x[I],he=S?S(se):se;if(!I||!ko(he,be)){var be=he;Q[$++]=se===0?0:se}}return Q}function vF(x){return typeof x=="number"?x:Ha(x)?Y:+x}function Va(x){if(typeof x=="string")return x;if(Wt(x))return hn(x,Va)+"";if(Ha(x))return W4?W4.call(x):"";var S=x+"";return S=="0"&&1/x==-H?"-0":S}function Ll(x,S,I){var L=-1,$=Lg,Q=x.length,se=!0,he=[],be=he;if(I)se=!1,$=nw;else if(Q>=i){var $e=S?null:hZ(x);if($e)return Dg($e);se=!1,$=h0,be=new ec}else be=S?[]:he;e:for(;++L<Q;){var Ge=x[L],ze=S?S(Ge):Ge;if(Ge=I||Ge!==0?Ge:0,se&&ze===ze){for(var lt=be.length;lt--;)if(be[lt]===ze)continue e;S&&be.push(ze),he.push(Ge)}else $(be,ze,I)||(be!==he&&be.push(ze),he.push(Ge))}return he}function Rw(x,S){return S=Bl(S,x),x=VF(x,S),x==null||delete x[hs(ho(S))]}function gF(x,S,I,L){return w0(x,S,I(rc(x,S)),L)}function im(x,S,I,L){for(var $=x.length,Q=L?$:-1;(L?Q--:++Q<$)&&S(x[Q],Q,x););return I?fo(x,L?0:Q,L?Q+1:$):fo(x,L?Q+1:0,L?$:Q)}function mF(x,S){var I=x;return I instanceof yr&&(I=I.value()),iw(S,function(L,$){return $.func.apply($.thisArg,kl([L],$.args))},I)}function Pw(x,S,I){var L=x.length;if(L<2)return L?Ll(x[0]):[];for(var $=-1,Q=Ne(L);++$<L;)for(var se=x[$],he=-1;++he<L;)he!=$&&(Q[$]=y0(Q[$]||se,x[he],S,I));return Ll(Li(Q,1),S,I)}function _F(x,S,I){for(var L=-1,$=x.length,Q=S.length,se={};++L<$;){var he=L<Q?S[L]:r;I(se,x[L],he)}return se}function Ow(x){return Hn(x)?x:[]}function kw(x){return typeof x=="function"?x:Ta}function Bl(x,S){return Wt(x)?x:$w(x,S)?[x]:WF(Br(x))}var rZ=ur;function Dl(x,S,I){var L=x.length;return I=I===r?L:I,!S&&I>=L?x:fo(x,S,I)}var yF=Vq||function(x){return Mi.clearTimeout(x)};function xF(x,S){if(S)return x.slice();var I=x.length,L=$4?$4(I):new x.constructor(I);return x.copy(L),L}function Fw(x){var S=new x.constructor(x.byteLength);return new Hg(S).set(new Hg(x)),S}function nZ(x,S){var I=S?Fw(x.buffer):x.buffer;return new x.constructor(I,x.byteOffset,x.byteLength)}function iZ(x){var S=new x.constructor(x.source,ua.exec(x));return S.lastIndex=x.lastIndex,S}function aZ(x){return m0?Yr(m0.call(x)):{}}function bF(x,S){var I=S?Fw(x.buffer):x.buffer;return new x.constructor(I,x.byteOffset,x.length)}function wF(x,S){if(x!==S){var I=x!==r,L=x===null,$=x===x,Q=Ha(x),se=S!==r,he=S===null,be=S===S,$e=Ha(S);if(!he&&!$e&&!Q&&x>S||Q&&se&&be&&!he&&!$e||L&&se&&be||!I&&be||!$)return 1;if(!L&&!Q&&!$e&&x<S||$e&&I&&$&&!L&&!Q||he&&I&&$||!se&&$||!be)return-1}return 0}function oZ(x,S,I){for(var L=-1,$=x.criteria,Q=S.criteria,se=$.length,he=I.length;++L<se;){var be=wF($[L],Q[L]);if(be){if(L>=he)return be;var $e=I[L];return be*($e=="desc"?-1:1)}}return x.index-S.index}function EF(x,S,I,L){for(var $=-1,Q=x.length,se=I.length,he=-1,be=S.length,$e=di(Q-se,0),Ge=Ne(be+$e),ze=!L;++he<be;)Ge[he]=S[he];for(;++$<se;)(ze||$<Q)&&(Ge[I[$]]=x[$]);for(;$e--;)Ge[he++]=x[$++];return Ge}function SF(x,S,I,L){for(var $=-1,Q=x.length,se=-1,he=I.length,be=-1,$e=S.length,Ge=di(Q-he,0),ze=Ne(Ge+$e),lt=!L;++$<Ge;)ze[$]=x[$];for(var wt=$;++be<$e;)ze[wt+be]=S[be];for(;++se<he;)(lt||$<Q)&&(ze[wt+I[se]]=x[$++]);return ze}function Ea(x,S){var I=-1,L=x.length;for(S||(S=Ne(L));++I<L;)S[I]=x[I];return S}function fs(x,S,I,L){var $=!I;I||(I={});for(var Q=-1,se=S.length;++Q<se;){var he=S[Q],be=L?L(I[he],x[he],he,I,x):r;be===r&&(be=x[he]),$?Hs(I,he,be):_0(I,he,be)}return I}function sZ(x,S){return fs(x,jw(x),S)}function lZ(x,S){return fs(x,BF(x),S)}function am(x,S){return function(I,L){var $=Wt(I)?dq:PK,Q=S?S():{};return $(I,x,Pt(L,2),Q)}}function jf(x){return ur(function(S,I){var L=-1,$=I.length,Q=$>1?I[$-1]:r,se=$>2?I[2]:r;for(Q=x.length>3&&typeof Q=="function"?($--,Q):r,se&&ha(I[0],I[1],se)&&(Q=$<3?r:Q,$=1),S=Yr(S);++L<$;){var he=I[L];he&&x(S,he,L,Q)}return S})}function CF(x,S){return function(I,L){if(I==null)return I;if(!Sa(I))return x(I,L);for(var $=I.length,Q=S?$:-1,se=Yr(I);(S?Q--:++Q<$)&&L(se[Q],Q,se)!==!1;);return I}}function TF(x){return function(S,I,L){for(var $=-1,Q=Yr(S),se=L(S),he=se.length;he--;){var be=se[x?he:++$];if(I(Q[be],be,Q)===!1)break}return S}}function uZ(x,S,I){var L=S&m,$=E0(x);function Q(){var se=this&&this!==Mi&&this instanceof Q?$:x;return se.apply(L?I:this,arguments)}return Q}function AF(x){return function(S){S=Br(S);var I=Ff(S)?Po(S):r,L=I?I[0]:S.charAt(0),$=I?Dl(I,1).join(""):S.slice(1);return L[x]()+$}}function $f(x){return function(S){return iw(CN(SN(S).replace(QY,"")),x,"")}}function E0(x){return function(){var S=arguments;switch(S.length){case 0:return new x;case 1:return new x(S[0]);case 2:return new x(S[0],S[1]);case 3:return new x(S[0],S[1],S[2]);case 4:return new x(S[0],S[1],S[2],S[3]);case 5:return new x(S[0],S[1],S[2],S[3],S[4]);case 6:return new x(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new x(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var I=Uf(x.prototype),L=x.apply(I,S);return En(L)?L:I}}function cZ(x,S,I){var L=E0(x);function $(){for(var Q=arguments.length,se=Ne(Q),he=Q,be=Gf($);he--;)se[he]=arguments[he];var $e=Q<3&&se[0]!==be&&se[Q-1]!==be?[]:Fl(se,be);if(Q-=$e.length,Q<I)return kF(x,S,om,$.placeholder,r,se,$e,r,r,I-Q);var Ge=this&&this!==Mi&&this instanceof $?L:x;return $a(Ge,this,se)}return $}function IF(x){return function(S,I,L){var $=Yr(S);if(!Sa(S)){var Q=Pt(I,3);S=bi(S),I=function(he){return Q($[he],he,$)}}var se=x(S,I,L);return se>-1?$[Q?S[se]:se]:r}}function RF(x){return Xs(function(S){var I=S.length,L=I,$=uo.prototype.thru;for(x&&S.reverse();L--;){var Q=S[L];if(typeof Q!="function")throw new lo(o);if($&&!se&&cm(Q)=="wrapper")var se=new uo([],!0)}for(L=se?L:I;++L<I;){Q=S[L];var he=cm(Q),be=he=="wrapper"?Dw(Q):r;be&&Gw(be[0])&&be[1]==(C|y|w|T)&&!be[4].length&&be[9]==1?se=se[cm(be[0])].apply(se,be[3]):se=Q.length==1&&Gw(Q)?se[he]():se.thru(Q)}return function(){var $e=arguments,Ge=$e[0];if(se&&$e.length==1&&Wt(Ge))return se.plant(Ge).value();for(var ze=0,lt=I?S[ze].apply(this,$e):Ge;++ze<I;)lt=S[ze].call(this,lt);return lt}})}function om(x,S,I,L,$,Q,se,he,be,$e){var Ge=S&C,ze=S&m,lt=S&v,wt=S&(y|b),Ft=S&A,or=lt?r:E0(x);function Nt(){for(var gr=arguments.length,Sr=Ne(gr),za=gr;za--;)Sr[za]=arguments[za];if(wt)var da=Gf(Nt),Xa=wq(Sr,da);if(L&&(Sr=EF(Sr,L,$,wt)),Q&&(Sr=SF(Sr,Q,se,wt)),gr-=Xa,wt&&gr<$e){var zn=Fl(Sr,da);return kF(x,S,om,Nt.placeholder,I,Sr,zn,he,be,$e-gr)}var Fo=ze?I:this,Ks=lt?Fo[x]:x;return gr=Sr.length,he?Sr=PZ(Sr,he):Ft&&gr>1&&Sr.reverse(),Ge&&be<gr&&(Sr.length=be),this&&this!==Mi&&this instanceof Nt&&(Ks=or||E0(Ks)),Ks.apply(Fo,Sr)}return Nt}function PF(x,S){return function(I,L){return DK(I,x,S(L),{})}}function sm(x,S){return function(I,L){var $;if(I===r&&L===r)return S;if(I!==r&&($=I),L!==r){if($===r)return L;typeof I=="string"||typeof L=="string"?(I=Va(I),L=Va(L)):(I=vF(I),L=vF(L)),$=x(I,L)}return $}}function Nw(x){return Xs(function(S){return S=hn(S,Ga(Pt())),ur(function(I){var L=this;return x(S,function($){return $a($,L,I)})})})}function lm(x,S){S=S===r?" ":Va(S);var I=S.length;if(I<2)return I?Aw(S,x):S;var L=Aw(S,Yg(x/Nf(S)));return Ff(S)?Dl(Po(L),0,x).join(""):L.slice(0,x)}function fZ(x,S,I,L){var $=S&m,Q=E0(x);function se(){for(var he=-1,be=arguments.length,$e=-1,Ge=L.length,ze=Ne(Ge+be),lt=this&&this!==Mi&&this instanceof se?Q:x;++$e<Ge;)ze[$e]=L[$e];for(;be--;)ze[$e++]=arguments[++he];return $a(lt,$?I:this,ze)}return se}function OF(x){return function(S,I,L){return L&&typeof L!="number"&&ha(S,I,L)&&(I=L=r),S=qs(S),I===r?(I=S,S=0):I=qs(I),L=L===r?S<I?1:-1:qs(L),KK(S,I,L,x)}}function um(x){return function(S,I){return typeof S=="string"&&typeof I=="string"||(S=po(S),I=po(I)),x(S,I)}}function kF(x,S,I,L,$,Q,se,he,be,$e){var Ge=S&y,ze=Ge?se:r,lt=Ge?r:se,wt=Ge?Q:r,Ft=Ge?r:Q;S|=Ge?w:E,S&=~(Ge?E:w),S&_||(S&=~(m|v));var or=[x,S,$,wt,ze,Ft,lt,he,be,$e],Nt=I.apply(r,or);return Gw(x)&&HF(Nt,or),Nt.placeholder=L,zF(Nt,x,S)}function Mw(x){var S=hi[x];return function(I,L){if(I=po(I),L=L==null?0:Ki(Jt(L),292),L&&z4(I)){var $=(Br(I)+"e").split("e"),Q=S($[0]+"e"+(+$[1]+L));return $=(Br(Q)+"e").split("e"),+($[0]+"e"+(+$[1]-L))}return S(I)}}var hZ=Bf&&1/Dg(new Bf([,-0]))[1]==H?function(x){return new Bf(x)}:nE;function FF(x){return function(S){var I=Zi(S);return I==De?fw(S):I==ht?Rq(S):bq(S,x(S))}}function zs(x,S,I,L,$,Q,se,he){var be=S&v;if(!be&&typeof x!="function")throw new lo(o);var $e=L?L.length:0;if($e||(S&=~(w|E),L=$=r),se=se===r?se:di(Jt(se),0),he=he===r?he:Jt(he),$e-=$?$.length:0,S&E){var Ge=L,ze=$;L=$=r}var lt=be?r:Dw(x),wt=[x,S,I,L,$,Ge,ze,Q,se,he];if(lt&&AZ(wt,lt),x=wt[0],S=wt[1],I=wt[2],L=wt[3],$=wt[4],he=wt[9]=wt[9]===r?be?0:x.length:di(wt[9]-$e,0),!he&&S&(y|b)&&(S&=~(y|b)),!S||S==m)var Ft=uZ(x,S,I);else S==y||S==b?Ft=cZ(x,S,he):(S==w||S==(m|w))&&!$.length?Ft=fZ(x,S,I,L):Ft=om.apply(r,wt);var or=lt?dF:HF;return zF(or(Ft,wt),x,S)}function NF(x,S,I,L){return x===r||ko(x,Lf[I])&&!jr.call(L,I)?S:x}function MF(x,S,I,L,$,Q){return En(x)&&En(S)&&(Q.set(S,x),rm(x,S,r,MF,Q),Q.delete(S)),x}function dZ(x){return T0(x)?r:x}function LF(x,S,I,L,$,Q){var se=I&d,he=x.length,be=S.length;if(he!=be&&!(se&&be>he))return!1;var $e=Q.get(x),Ge=Q.get(S);if($e&&Ge)return $e==S&&Ge==x;var ze=-1,lt=!0,wt=I&g?new ec:r;for(Q.set(x,S),Q.set(S,x);++ze<he;){var Ft=x[ze],or=S[ze];if(L)var Nt=se?L(or,Ft,ze,S,x,Q):L(Ft,or,ze,x,S,Q);if(Nt!==r){if(Nt)continue;lt=!1;break}if(wt){if(!aw(S,function(gr,Sr){if(!h0(wt,Sr)&&(Ft===gr||$(Ft,gr,I,L,Q)))return wt.push(Sr)})){lt=!1;break}}else if(!(Ft===or||$(Ft,or,I,L,Q))){lt=!1;break}}return Q.delete(x),Q.delete(S),lt}function pZ(x,S,I,L,$,Q,se){switch(I){case bt:if(x.byteLength!=S.byteLength||x.byteOffset!=S.byteOffset)return!1;x=x.buffer,S=S.buffer;case Vt:return!(x.byteLength!=S.byteLength||!Q(new Hg(x),new Hg(S)));case le:case ye:case We:return ko(+x,+S);case ke:return x.name==S.name&&x.message==S.message;case Rt:case dt:return x==S+"";case De:var he=fw;case ht:var be=L&d;if(he||(he=Dg),x.size!=S.size&&!be)return!1;var $e=se.get(x);if($e)return $e==S;L|=g,se.set(x,S);var Ge=LF(he(x),he(S),L,$,Q,se);return se.delete(x),Ge;case St:if(m0)return m0.call(x)==m0.call(S)}return!1}function vZ(x,S,I,L,$,Q){var se=I&d,he=Lw(x),be=he.length,$e=Lw(S),Ge=$e.length;if(be!=Ge&&!se)return!1;for(var ze=be;ze--;){var lt=he[ze];if(!(se?lt in S:jr.call(S,lt)))return!1}var wt=Q.get(x),Ft=Q.get(S);if(wt&&Ft)return wt==S&&Ft==x;var or=!0;Q.set(x,S),Q.set(S,x);for(var Nt=se;++ze<be;){lt=he[ze];var gr=x[lt],Sr=S[lt];if(L)var za=se?L(Sr,gr,lt,S,x,Q):L(gr,Sr,lt,x,S,Q);if(!(za===r?gr===Sr||$(gr,Sr,I,L,Q):za)){or=!1;break}Nt||(Nt=lt=="constructor")}if(or&&!Nt){var da=x.constructor,Xa=S.constructor;da!=Xa&&"constructor"in x&&"constructor"in S&&!(typeof da=="function"&&da instanceof da&&typeof Xa=="function"&&Xa instanceof Xa)&&(or=!1)}return Q.delete(x),Q.delete(S),or}function Xs(x){return Hw(GF(x,r,ZF),x+"")}function Lw(x){return rF(x,bi,jw)}function Bw(x){return rF(x,Ca,BF)}var Dw=Kg?function(x){return Kg.get(x)}:nE;function cm(x){for(var S=x.name+"",I=Df[S],L=jr.call(Df,S)?I.length:0;L--;){var $=I[L],Q=$.func;if(Q==null||Q==x)return $.name}return S}function Gf(x){var S=jr.call(K,"placeholder")?K:x;return S.placeholder}function Pt(){var x=K.iteratee||tE;return x=x===tE?aF:x,arguments.length?x(arguments[0],arguments[1]):x}function fm(x,S){var I=x.__data__;return EZ(S)?I[typeof S=="string"?"string":"hash"]:I.map}function Uw(x){for(var S=bi(x),I=S.length;I--;){var L=S[I],$=x[L];S[I]=[L,$,jF($)]}return S}function nc(x,S){var I=Tq(x,S);return iF(I)?I:r}function gZ(x){var S=jr.call(x,Ju),I=x[Ju];try{x[Ju]=r;var L=!0}catch{}var $=Gg.call(x);return L&&(S?x[Ju]=I:delete x[Ju]),$}var jw=dw?function(x){return x==null?[]:(x=Yr(x),Ol(dw(x),function(S){return V4.call(x,S)}))}:iE,BF=dw?function(x){for(var S=[];x;)kl(S,jw(x)),x=zg(x);return S}:iE,Zi=fa;(pw&&Zi(new pw(new ArrayBuffer(1)))!=bt||p0&&Zi(new p0)!=De||vw&&Zi(vw.resolve())!=qe||Bf&&Zi(new Bf)!=ht||v0&&Zi(new v0)!=Xt)&&(Zi=function(x){var S=fa(x),I=S==He?x.constructor:r,L=I?ic(I):"";if(L)switch(L){case Jq:return bt;case Qq:return De;case eK:return qe;case tK:return ht;case rK:return Xt}return S});function mZ(x,S,I){for(var L=-1,$=I.length;++L<$;){var Q=I[L],se=Q.size;switch(Q.type){case"drop":x+=se;break;case"dropRight":S-=se;break;case"take":S=Ki(S,x+se);break;case"takeRight":x=di(x,S-se);break}}return{start:x,end:S}}function _Z(x){var S=x.match(Al);return S?S[1].split(Il):[]}function DF(x,S,I){S=Bl(S,x);for(var L=-1,$=S.length,Q=!1;++L<$;){var se=hs(S[L]);if(!(Q=x!=null&&I(x,se)))break;x=x[se]}return Q||++L!=$?Q:($=x==null?0:x.length,!!$&&_m($)&&Ws(se,$)&&(Wt(x)||ac(x)))}function yZ(x){var S=x.length,I=new x.constructor(S);return S&&typeof x[0]=="string"&&jr.call(x,"index")&&(I.index=x.index,I.input=x.input),I}function UF(x){return typeof x.constructor=="function"&&!S0(x)?Uf(zg(x)):{}}function xZ(x,S,I){var L=x.constructor;switch(S){case Vt:return Fw(x);case le:case ye:return new L(+x);case bt:return nZ(x,I);case Zt:case Oe:case j:case pe:case Ce:case Fe:case ae:case Ae:case z:return bF(x,I);case De:return new L;case We:case dt:return new L(x);case Rt:return iZ(x);case ht:return new L;case St:return aZ(x)}}function bZ(x,S){var I=S.length;if(!I)return x;var L=I-1;return S[L]=(I>1?"& ":"")+S[L],S=S.join(I>2?", ":" "),x.replace(ni,`{
/* [wrapped with `+S+`] */
`)}function wZ(x){return Wt(x)||ac(x)||!!(H4&&x&&x[H4])}function Ws(x,S){var I=typeof x;return S=S??ee,!!S&&(I=="number"||I!="symbol"&&Xb.test(x))&&x>-1&&x%1==0&&x<S}function ha(x,S,I){if(!En(I))return!1;var L=typeof S;return(L=="number"?Sa(I)&&Ws(S,I.length):L=="string"&&S in I)?ko(I[S],x):!1}function $w(x,S){if(Wt(x))return!1;var I=typeof x;return I=="number"||I=="symbol"||I=="boolean"||x==null||Ha(x)?!0:kt.test(x)||!st.test(x)||S!=null&&x in Yr(S)}function EZ(x){var S=typeof x;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?x!=="__proto__":x===null}function Gw(x){var S=cm(x),I=K[S];if(typeof I!="function"||!(S in yr.prototype))return!1;if(x===I)return!0;var L=Dw(I);return!!L&&x===L[0]}function SZ(x){return!!j4&&j4 in x}var CZ=jg?Ys:aE;function S0(x){var S=x&&x.constructor,I=typeof S=="function"&&S.prototype||Lf;return x===I}function jF(x){return x===x&&!En(x)}function $F(x,S){return function(I){return I==null?!1:I[x]===S&&(S!==r||x in Yr(I))}}function TZ(x){var S=gm(x,function(L){return I.size===l&&I.clear(),L}),I=S.cache;return S}function AZ(x,S){var I=x[1],L=S[1],$=I|L,Q=$<(m|v|C),se=L==C&&I==y||L==C&&I==T&&x[7].length<=S[8]||L==(C|T)&&S[7].length<=S[8]&&I==y;if(!(Q||se))return x;L&m&&(x[2]=S[2],$|=I&m?0:_);var he=S[3];if(he){var be=x[3];x[3]=be?EF(be,he,S[4]):he,x[4]=be?Fl(x[3],u):S[4]}return he=S[5],he&&(be=x[5],x[5]=be?SF(be,he,S[6]):he,x[6]=be?Fl(x[5],u):S[6]),he=S[7],he&&(x[7]=he),L&C&&(x[8]=x[8]==null?S[8]:Ki(x[8],S[8])),x[9]==null&&(x[9]=S[9]),x[0]=S[0],x[1]=$,x}function IZ(x){var S=[];if(x!=null)for(var I in Yr(x))S.push(I);return S}function RZ(x){return Gg.call(x)}function GF(x,S,I){return S=di(S===r?x.length-1:S,0),function(){for(var L=arguments,$=-1,Q=di(L.length-S,0),se=Ne(Q);++$<Q;)se[$]=L[S+$];$=-1;for(var he=Ne(S+1);++$<S;)he[$]=L[$];return he[S]=I(se),$a(x,this,he)}}function VF(x,S){return S.length<2?x:rc(x,fo(S,0,-1))}function PZ(x,S){for(var I=x.length,L=Ki(S.length,I),$=Ea(x);L--;){var Q=S[L];x[L]=Ws(Q,I)?$[Q]:r}return x}function Vw(x,S){if(!(S==="constructor"&&typeof x[S]=="function")&&S!="__proto__")return x[S]}var HF=XF(dF),C0=zq||function(x,S){return Mi.setTimeout(x,S)},Hw=XF(QK);function zF(x,S,I){var L=S+"";return Hw(x,bZ(L,OZ(_Z(L),I)))}function XF(x){var S=0,I=0;return function(){var L=qq(),$=k-(L-I);if(I=L,$>0){if(++S>=P)return arguments[0]}else S=0;return x.apply(r,arguments)}}function hm(x,S){var I=-1,L=x.length,$=L-1;for(S=S===r?L:S;++I<S;){var Q=Tw(I,$),se=x[Q];x[Q]=x[I],x[I]=se}return x.length=S,x}var WF=TZ(function(x){var S=[];return x.charCodeAt(0)===46&&S.push(""),x.replace(Gn,function(I,L,$,Q){S.push($?Q.replace(Vn,"$1"):L||I)}),S});function hs(x){if(typeof x=="string"||Ha(x))return x;var S=x+"";return S=="0"&&1/x==-H?"-0":S}function ic(x){if(x!=null){try{return $g.call(x)}catch{}try{return x+""}catch{}}return""}function OZ(x,S){return so(G,function(I){var L="_."+I[0];S&I[1]&&!Lg(x,L)&&x.push(L)}),x.sort()}function YF(x){if(x instanceof yr)return x.clone();var S=new uo(x.__wrapped__,x.__chain__);return S.__actions__=Ea(x.__actions__),S.__index__=x.__index__,S.__values__=x.__values__,S}function kZ(x,S,I){(I?ha(x,S,I):S===r)?S=1:S=di(Jt(S),0);var L=x==null?0:x.length;if(!L||S<1)return[];for(var $=0,Q=0,se=Ne(Yg(L/S));$<L;)se[Q++]=fo(x,$,$+=S);return se}function FZ(x){for(var S=-1,I=x==null?0:x.length,L=0,$=[];++S<I;){var Q=x[S];Q&&($[L++]=Q)}return $}function NZ(){var x=arguments.length;if(!x)return[];for(var S=Ne(x-1),I=arguments[0],L=x;L--;)S[L-1]=arguments[L];return kl(Wt(I)?Ea(I):[I],Li(S,1))}var MZ=ur(function(x,S){return Hn(x)?y0(x,Li(S,1,Hn,!0)):[]}),LZ=ur(function(x,S){var I=ho(S);return Hn(I)&&(I=r),Hn(x)?y0(x,Li(S,1,Hn,!0),Pt(I,2)):[]}),BZ=ur(function(x,S){var I=ho(S);return Hn(I)&&(I=r),Hn(x)?y0(x,Li(S,1,Hn,!0),r,I):[]});function DZ(x,S,I){var L=x==null?0:x.length;return L?(S=I||S===r?1:Jt(S),fo(x,S<0?0:S,L)):[]}function UZ(x,S,I){var L=x==null?0:x.length;return L?(S=I||S===r?1:Jt(S),S=L-S,fo(x,0,S<0?0:S)):[]}function jZ(x,S){return x&&x.length?im(x,Pt(S,3),!0,!0):[]}function $Z(x,S){return x&&x.length?im(x,Pt(S,3),!0):[]}function GZ(x,S,I,L){var $=x==null?0:x.length;return $?(I&&typeof I!="number"&&ha(x,S,I)&&(I=0,L=$),NK(x,S,I,L)):[]}function qF(x,S,I){var L=x==null?0:x.length;if(!L)return-1;var $=I==null?0:Jt(I);return $<0&&($=di(L+$,0)),Bg(x,Pt(S,3),$)}function KF(x,S,I){var L=x==null?0:x.length;if(!L)return-1;var $=L-1;return I!==r&&($=Jt(I),$=I<0?di(L+$,0):Ki($,L-1)),Bg(x,Pt(S,3),$,!0)}function ZF(x){var S=x==null?0:x.length;return S?Li(x,1):[]}function VZ(x){var S=x==null?0:x.length;return S?Li(x,H):[]}function HZ(x,S){var I=x==null?0:x.length;return I?(S=S===r?1:Jt(S),Li(x,S)):[]}function zZ(x){for(var S=-1,I=x==null?0:x.length,L={};++S<I;){var $=x[S];L[$[0]]=$[1]}return L}function JF(x){return x&&x.length?x[0]:r}function XZ(x,S,I){var L=x==null?0:x.length;if(!L)return-1;var $=I==null?0:Jt(I);return $<0&&($=di(L+$,0)),kf(x,S,$)}function WZ(x){var S=x==null?0:x.length;return S?fo(x,0,-1):[]}var YZ=ur(function(x){var S=hn(x,Ow);return S.length&&S[0]===x[0]?bw(S):[]}),qZ=ur(function(x){var S=ho(x),I=hn(x,Ow);return S===ho(I)?S=r:I.pop(),I.length&&I[0]===x[0]?bw(I,Pt(S,2)):[]}),KZ=ur(function(x){var S=ho(x),I=hn(x,Ow);return S=typeof S=="function"?S:r,S&&I.pop(),I.length&&I[0]===x[0]?bw(I,r,S):[]});function ZZ(x,S){return x==null?"":Wq.call(x,S)}function ho(x){var S=x==null?0:x.length;return S?x[S-1]:r}function JZ(x,S,I){var L=x==null?0:x.length;if(!L)return-1;var $=L;return I!==r&&($=Jt(I),$=$<0?di(L+$,0):Ki($,L-1)),S===S?Oq(x,S,$):Bg(x,k4,$,!0)}function QZ(x,S){return x&&x.length?uF(x,Jt(S)):r}var eJ=ur(QF);function QF(x,S){return x&&x.length&&S&&S.length?Cw(x,S):x}function tJ(x,S,I){return x&&x.length&&S&&S.length?Cw(x,S,Pt(I,2)):x}function rJ(x,S,I){return x&&x.length&&S&&S.length?Cw(x,S,r,I):x}var nJ=Xs(function(x,S){var I=x==null?0:x.length,L=mw(x,S);return hF(x,hn(S,function($){return Ws($,I)?+$:$}).sort(wF)),L});function iJ(x,S){var I=[];if(!(x&&x.length))return I;var L=-1,$=[],Q=x.length;for(S=Pt(S,3);++L<Q;){var se=x[L];S(se,L,x)&&(I.push(se),$.push(L))}return hF(x,$),I}function zw(x){return x==null?x:Zq.call(x)}function aJ(x,S,I){var L=x==null?0:x.length;return L?(I&&typeof I!="number"&&ha(x,S,I)?(S=0,I=L):(S=S==null?0:Jt(S),I=I===r?L:Jt(I)),fo(x,S,I)):[]}function oJ(x,S){return nm(x,S)}function sJ(x,S,I){return Iw(x,S,Pt(I,2))}function lJ(x,S){var I=x==null?0:x.length;if(I){var L=nm(x,S);if(L<I&&ko(x[L],S))return L}return-1}function uJ(x,S){return nm(x,S,!0)}function cJ(x,S,I){return Iw(x,S,Pt(I,2),!0)}function fJ(x,S){var I=x==null?0:x.length;if(I){var L=nm(x,S,!0)-1;if(ko(x[L],S))return L}return-1}function hJ(x){return x&&x.length?pF(x):[]}function dJ(x,S){return x&&x.length?pF(x,Pt(S,2)):[]}function pJ(x){var S=x==null?0:x.length;return S?fo(x,1,S):[]}function vJ(x,S,I){return x&&x.length?(S=I||S===r?1:Jt(S),fo(x,0,S<0?0:S)):[]}function gJ(x,S,I){var L=x==null?0:x.length;return L?(S=I||S===r?1:Jt(S),S=L-S,fo(x,S<0?0:S,L)):[]}function mJ(x,S){return x&&x.length?im(x,Pt(S,3),!1,!0):[]}function _J(x,S){return x&&x.length?im(x,Pt(S,3)):[]}var yJ=ur(function(x){return Ll(Li(x,1,Hn,!0))}),xJ=ur(function(x){var S=ho(x);return Hn(S)&&(S=r),Ll(Li(x,1,Hn,!0),Pt(S,2))}),bJ=ur(function(x){var S=ho(x);return S=typeof S=="function"?S:r,Ll(Li(x,1,Hn,!0),r,S)});function wJ(x){return x&&x.length?Ll(x):[]}function EJ(x,S){return x&&x.length?Ll(x,Pt(S,2)):[]}function SJ(x,S){return S=typeof S=="function"?S:r,x&&x.length?Ll(x,r,S):[]}function Xw(x){if(!(x&&x.length))return[];var S=0;return x=Ol(x,function(I){if(Hn(I))return S=di(I.length,S),!0}),uw(S,function(I){return hn(x,ow(I))})}function eN(x,S){if(!(x&&x.length))return[];var I=Xw(x);return S==null?I:hn(I,function(L){return $a(S,r,L)})}var CJ=ur(function(x,S){return Hn(x)?y0(x,S):[]}),TJ=ur(function(x){return Pw(Ol(x,Hn))}),AJ=ur(function(x){var S=ho(x);return Hn(S)&&(S=r),Pw(Ol(x,Hn),Pt(S,2))}),IJ=ur(function(x){var S=ho(x);return S=typeof S=="function"?S:r,Pw(Ol(x,Hn),r,S)}),RJ=ur(Xw);function PJ(x,S){return _F(x||[],S||[],_0)}function OJ(x,S){return _F(x||[],S||[],w0)}var kJ=ur(function(x){var S=x.length,I=S>1?x[S-1]:r;return I=typeof I=="function"?(x.pop(),I):r,eN(x,I)});function tN(x){var S=K(x);return S.__chain__=!0,S}function FJ(x,S){return S(x),x}function dm(x,S){return S(x)}var NJ=Xs(function(x){var S=x.length,I=S?x[0]:0,L=this.__wrapped__,$=function(Q){return mw(Q,x)};return S>1||this.__actions__.length||!(L instanceof yr)||!Ws(I)?this.thru($):(L=L.slice(I,+I+(S?1:0)),L.__actions__.push({func:dm,args:[$],thisArg:r}),new uo(L,this.__chain__).thru(function(Q){return S&&!Q.length&&Q.push(r),Q}))});function MJ(){return tN(this)}function LJ(){return new uo(this.value(),this.__chain__)}function BJ(){this.__values__===r&&(this.__values__=vN(this.value()));var x=this.__index__>=this.__values__.length,S=x?r:this.__values__[this.__index__++];return{done:x,value:S}}function DJ(){return this}function UJ(x){for(var S,I=this;I instanceof Jg;){var L=YF(I);L.__index__=0,L.__values__=r,S?$.__wrapped__=L:S=L;var $=L;I=I.__wrapped__}return $.__wrapped__=x,S}function jJ(){var x=this.__wrapped__;if(x instanceof yr){var S=x;return this.__actions__.length&&(S=new yr(this)),S=S.reverse(),S.__actions__.push({func:dm,args:[zw],thisArg:r}),new uo(S,this.__chain__)}return this.thru(zw)}function $J(){return mF(this.__wrapped__,this.__actions__)}var GJ=am(function(x,S,I){jr.call(x,I)?++x[I]:Hs(x,I,1)});function VJ(x,S,I){var L=Wt(x)?P4:FK;return I&&ha(x,S,I)&&(S=r),L(x,Pt(S,3))}function HJ(x,S){var I=Wt(x)?Ol:eF;return I(x,Pt(S,3))}var zJ=IF(qF),XJ=IF(KF);function WJ(x,S){return Li(pm(x,S),1)}function YJ(x,S){return Li(pm(x,S),H)}function qJ(x,S,I){return I=I===r?1:Jt(I),Li(pm(x,S),I)}function rN(x,S){var I=Wt(x)?so:Ml;return I(x,Pt(S,3))}function nN(x,S){var I=Wt(x)?pq:Q4;return I(x,Pt(S,3))}var KJ=am(function(x,S,I){jr.call(x,I)?x[I].push(S):Hs(x,I,[S])});function ZJ(x,S,I,L){x=Sa(x)?x:Hf(x),I=I&&!L?Jt(I):0;var $=x.length;return I<0&&(I=di($+I,0)),ym(x)?I<=$&&x.indexOf(S,I)>-1:!!$&&kf(x,S,I)>-1}var JJ=ur(function(x,S,I){var L=-1,$=typeof S=="function",Q=Sa(x)?Ne(x.length):[];return Ml(x,function(se){Q[++L]=$?$a(S,se,I):x0(se,S,I)}),Q}),QJ=am(function(x,S,I){Hs(x,I,S)});function pm(x,S){var I=Wt(x)?hn:oF;return I(x,Pt(S,3))}function eQ(x,S,I,L){return x==null?[]:(Wt(S)||(S=S==null?[]:[S]),I=L?r:I,Wt(I)||(I=I==null?[]:[I]),cF(x,S,I))}var tQ=am(function(x,S,I){x[I?0:1].push(S)},function(){return[[],[]]});function rQ(x,S,I){var L=Wt(x)?iw:N4,$=arguments.length<3;return L(x,Pt(S,4),I,$,Ml)}function nQ(x,S,I){var L=Wt(x)?vq:N4,$=arguments.length<3;return L(x,Pt(S,4),I,$,Q4)}function iQ(x,S){var I=Wt(x)?Ol:eF;return I(x,mm(Pt(S,3)))}function aQ(x){var S=Wt(x)?q4:ZK;return S(x)}function oQ(x,S,I){(I?ha(x,S,I):S===r)?S=1:S=Jt(S);var L=Wt(x)?IK:JK;return L(x,S)}function sQ(x){var S=Wt(x)?RK:eZ;return S(x)}function lQ(x){if(x==null)return 0;if(Sa(x))return ym(x)?Nf(x):x.length;var S=Zi(x);return S==De||S==ht?x.size:Ew(x).length}function uQ(x,S,I){var L=Wt(x)?aw:tZ;return I&&ha(x,S,I)&&(S=r),L(x,Pt(S,3))}var cQ=ur(function(x,S){if(x==null)return[];var I=S.length;return I>1&&ha(x,S[0],S[1])?S=[]:I>2&&ha(S[0],S[1],S[2])&&(S=[S[0]]),cF(x,Li(S,1),[])}),vm=Hq||function(){return Mi.Date.now()};function fQ(x,S){if(typeof S!="function")throw new lo(o);return x=Jt(x),function(){if(--x<1)return S.apply(this,arguments)}}function iN(x,S,I){return S=I?r:S,S=x&&S==null?x.length:S,zs(x,C,r,r,r,r,S)}function aN(x,S){var I;if(typeof S!="function")throw new lo(o);return x=Jt(x),function(){return--x>0&&(I=S.apply(this,arguments)),x<=1&&(S=r),I}}var Ww=ur(function(x,S,I){var L=m;if(I.length){var $=Fl(I,Gf(Ww));L|=w}return zs(x,L,S,I,$)}),oN=ur(function(x,S,I){var L=m|v;if(I.length){var $=Fl(I,Gf(oN));L|=w}return zs(S,L,x,I,$)});function sN(x,S,I){S=I?r:S;var L=zs(x,y,r,r,r,r,r,S);return L.placeholder=sN.placeholder,L}function lN(x,S,I){S=I?r:S;var L=zs(x,b,r,r,r,r,r,S);return L.placeholder=lN.placeholder,L}function uN(x,S,I){var L,$,Q,se,he,be,$e=0,Ge=!1,ze=!1,lt=!0;if(typeof x!="function")throw new lo(o);S=po(S)||0,En(I)&&(Ge=!!I.leading,ze="maxWait"in I,Q=ze?di(po(I.maxWait)||0,S):Q,lt="trailing"in I?!!I.trailing:lt);function wt(zn){var Fo=L,Ks=$;return L=$=r,$e=zn,se=x.apply(Ks,Fo),se}function Ft(zn){return $e=zn,he=C0(gr,S),Ge?wt(zn):se}function or(zn){var Fo=zn-be,Ks=zn-$e,IN=S-Fo;return ze?Ki(IN,Q-Ks):IN}function Nt(zn){var Fo=zn-be,Ks=zn-$e;return be===r||Fo>=S||Fo<0||ze&&Ks>=Q}function gr(){var zn=vm();if(Nt(zn))return Sr(zn);he=C0(gr,or(zn))}function Sr(zn){return he=r,lt&&L?wt(zn):(L=$=r,se)}function za(){he!==r&&yF(he),$e=0,L=be=$=he=r}function da(){return he===r?se:Sr(vm())}function Xa(){var zn=vm(),Fo=Nt(zn);if(L=arguments,$=this,be=zn,Fo){if(he===r)return Ft(be);if(ze)return yF(he),he=C0(gr,S),wt(be)}return he===r&&(he=C0(gr,S)),se}return Xa.cancel=za,Xa.flush=da,Xa}var hQ=ur(function(x,S){return J4(x,1,S)}),dQ=ur(function(x,S,I){return J4(x,po(S)||0,I)});function pQ(x){return zs(x,A)}function gm(x,S){if(typeof x!="function"||S!=null&&typeof S!="function")throw new lo(o);var I=function(){var L=arguments,$=S?S.apply(this,L):L[0],Q=I.cache;if(Q.has($))return Q.get($);var se=x.apply(this,L);return I.cache=Q.set($,se)||Q,se};return I.cache=new(gm.Cache||Vs),I}gm.Cache=Vs;function mm(x){if(typeof x!="function")throw new lo(o);return function(){var S=arguments;switch(S.length){case 0:return!x.call(this);case 1:return!x.call(this,S[0]);case 2:return!x.call(this,S[0],S[1]);case 3:return!x.call(this,S[0],S[1],S[2])}return!x.apply(this,S)}}function vQ(x){return aN(2,x)}var gQ=rZ(function(x,S){S=S.length==1&&Wt(S[0])?hn(S[0],Ga(Pt())):hn(Li(S,1),Ga(Pt()));var I=S.length;return ur(function(L){for(var $=-1,Q=Ki(L.length,I);++$<Q;)L[$]=S[$].call(this,L[$]);return $a(x,this,L)})}),Yw=ur(function(x,S){var I=Fl(S,Gf(Yw));return zs(x,w,r,S,I)}),cN=ur(function(x,S){var I=Fl(S,Gf(cN));return zs(x,E,r,S,I)}),mQ=Xs(function(x,S){return zs(x,T,r,r,r,S)});function _Q(x,S){if(typeof x!="function")throw new lo(o);return S=S===r?S:Jt(S),ur(x,S)}function yQ(x,S){if(typeof x!="function")throw new lo(o);return S=S==null?0:di(Jt(S),0),ur(function(I){var L=I[S],$=Dl(I,0,S);return L&&kl($,L),$a(x,this,$)})}function xQ(x,S,I){var L=!0,$=!0;if(typeof x!="function")throw new lo(o);return En(I)&&(L="leading"in I?!!I.leading:L,$="trailing"in I?!!I.trailing:$),uN(x,S,{leading:L,maxWait:S,trailing:$})}function bQ(x){return iN(x,1)}function wQ(x,S){return Yw(kw(S),x)}function EQ(){if(!arguments.length)return[];var x=arguments[0];return Wt(x)?x:[x]}function SQ(x){return co(x,p)}function CQ(x,S){return S=typeof S=="function"?S:r,co(x,p,S)}function TQ(x){return co(x,f|p)}function AQ(x,S){return S=typeof S=="function"?S:r,co(x,f|p,S)}function IQ(x,S){return S==null||Z4(x,S,bi(S))}function ko(x,S){return x===S||x!==x&&S!==S}var RQ=um(xw),PQ=um(function(x,S){return x>=S}),ac=nF(function(){return arguments}())?nF:function(x){return kn(x)&&jr.call(x,"callee")&&!V4.call(x,"callee")},Wt=Ne.isArray,OQ=S4?Ga(S4):UK;function Sa(x){return x!=null&&_m(x.length)&&!Ys(x)}function Hn(x){return kn(x)&&Sa(x)}function kQ(x){return x===!0||x===!1||kn(x)&&fa(x)==le}var Ul=Xq||aE,FQ=C4?Ga(C4):jK;function NQ(x){return kn(x)&&x.nodeType===1&&!T0(x)}function MQ(x){if(x==null)return!0;if(Sa(x)&&(Wt(x)||typeof x=="string"||typeof x.splice=="function"||Ul(x)||Vf(x)||ac(x)))return!x.length;var S=Zi(x);if(S==De||S==ht)return!x.size;if(S0(x))return!Ew(x).length;for(var I in x)if(jr.call(x,I))return!1;return!0}function LQ(x,S){return b0(x,S)}function BQ(x,S,I){I=typeof I=="function"?I:r;var L=I?I(x,S):r;return L===r?b0(x,S,r,I):!!L}function qw(x){if(!kn(x))return!1;var S=fa(x);return S==ke||S==Le||typeof x.message=="string"&&typeof x.name=="string"&&!T0(x)}function DQ(x){return typeof x=="number"&&z4(x)}function Ys(x){if(!En(x))return!1;var S=fa(x);return S==Ee||S==Se||S==ge||S==Et}function fN(x){return typeof x=="number"&&x==Jt(x)}function _m(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=ee}function En(x){var S=typeof x;return x!=null&&(S=="object"||S=="function")}function kn(x){return x!=null&&typeof x=="object"}var hN=T4?Ga(T4):GK;function UQ(x,S){return x===S||ww(x,S,Uw(S))}function jQ(x,S,I){return I=typeof I=="function"?I:r,ww(x,S,Uw(S),I)}function $Q(x){return dN(x)&&x!=+x}function GQ(x){if(CZ(x))throw new Ht(a);return iF(x)}function VQ(x){return x===null}function HQ(x){return x==null}function dN(x){return typeof x=="number"||kn(x)&&fa(x)==We}function T0(x){if(!kn(x)||fa(x)!=He)return!1;var S=zg(x);if(S===null)return!0;var I=jr.call(S,"constructor")&&S.constructor;return typeof I=="function"&&I instanceof I&&$g.call(I)==jq}var Kw=A4?Ga(A4):VK;function zQ(x){return fN(x)&&x>=-ee&&x<=ee}var pN=I4?Ga(I4):HK;function ym(x){return typeof x=="string"||!Wt(x)&&kn(x)&&fa(x)==dt}function Ha(x){return typeof x=="symbol"||kn(x)&&fa(x)==St}var Vf=R4?Ga(R4):zK;function XQ(x){return x===r}function WQ(x){return kn(x)&&Zi(x)==Xt}function YQ(x){return kn(x)&&fa(x)==ir}var qQ=um(Sw),KQ=um(function(x,S){return x<=S});function vN(x){if(!x)return[];if(Sa(x))return ym(x)?Po(x):Ea(x);if(d0&&x[d0])return Iq(x[d0]());var S=Zi(x),I=S==De?fw:S==ht?Dg:Hf;return I(x)}function qs(x){if(!x)return x===0?x:0;if(x=po(x),x===H||x===-H){var S=x<0?-1:1;return S*ne}return x===x?x:0}function Jt(x){var S=qs(x),I=S%1;return S===S?I?S-I:S:0}function gN(x){return x?tc(Jt(x),0,U):0}function po(x){if(typeof x=="number")return x;if(Ha(x))return Y;if(En(x)){var S=typeof x.valueOf=="function"?x.valueOf():x;x=En(S)?S+"":S}if(typeof x!="string")return x===0?x:+x;x=M4(x);var I=Vb.test(x);return I||zb.test(x)?fq(x.slice(2),I?2:8):If.test(x)?Y:+x}function mN(x){return fs(x,Ca(x))}function ZQ(x){return x?tc(Jt(x),-ee,ee):x===0?x:0}function Br(x){return x==null?"":Va(x)}var JQ=jf(function(x,S){if(S0(S)||Sa(S)){fs(S,bi(S),x);return}for(var I in S)jr.call(S,I)&&_0(x,I,S[I])}),_N=jf(function(x,S){fs(S,Ca(S),x)}),xm=jf(function(x,S,I,L){fs(S,Ca(S),x,L)}),QQ=jf(function(x,S,I,L){fs(S,bi(S),x,L)}),eee=Xs(mw);function tee(x,S){var I=Uf(x);return S==null?I:K4(I,S)}var ree=ur(function(x,S){x=Yr(x);var I=-1,L=S.length,$=L>2?S[2]:r;for($&&ha(S[0],S[1],$)&&(L=1);++I<L;)for(var Q=S[I],se=Ca(Q),he=-1,be=se.length;++he<be;){var $e=se[he],Ge=x[$e];(Ge===r||ko(Ge,Lf[$e])&&!jr.call(x,$e))&&(x[$e]=Q[$e])}return x}),nee=ur(function(x){return x.push(r,MF),$a(yN,r,x)});function iee(x,S){return O4(x,Pt(S,3),cs)}function aee(x,S){return O4(x,Pt(S,3),yw)}function oee(x,S){return x==null?x:_w(x,Pt(S,3),Ca)}function see(x,S){return x==null?x:tF(x,Pt(S,3),Ca)}function lee(x,S){return x&&cs(x,Pt(S,3))}function uee(x,S){return x&&yw(x,Pt(S,3))}function cee(x){return x==null?[]:tm(x,bi(x))}function fee(x){return x==null?[]:tm(x,Ca(x))}function Zw(x,S,I){var L=x==null?r:rc(x,S);return L===r?I:L}function hee(x,S){return x!=null&&DF(x,S,MK)}function Jw(x,S){return x!=null&&DF(x,S,LK)}var dee=PF(function(x,S,I){S!=null&&typeof S.toString!="function"&&(S=Gg.call(S)),x[S]=I},eE(Ta)),pee=PF(function(x,S,I){S!=null&&typeof S.toString!="function"&&(S=Gg.call(S)),jr.call(x,S)?x[S].push(I):x[S]=[I]},Pt),vee=ur(x0);function bi(x){return Sa(x)?Y4(x):Ew(x)}function Ca(x){return Sa(x)?Y4(x,!0):XK(x)}function gee(x,S){var I={};return S=Pt(S,3),cs(x,function(L,$,Q){Hs(I,S(L,$,Q),L)}),I}function mee(x,S){var I={};return S=Pt(S,3),cs(x,function(L,$,Q){Hs(I,$,S(L,$,Q))}),I}var _ee=jf(function(x,S,I){rm(x,S,I)}),yN=jf(function(x,S,I,L){rm(x,S,I,L)}),yee=Xs(function(x,S){var I={};if(x==null)return I;var L=!1;S=hn(S,function(Q){return Q=Bl(Q,x),L||(L=Q.length>1),Q}),fs(x,Bw(x),I),L&&(I=co(I,f|h|p,dZ));for(var $=S.length;$--;)Rw(I,S[$]);return I});function xee(x,S){return xN(x,mm(Pt(S)))}var bee=Xs(function(x,S){return x==null?{}:YK(x,S)});function xN(x,S){if(x==null)return{};var I=hn(Bw(x),function(L){return[L]});return S=Pt(S),fF(x,I,function(L,$){return S(L,$[0])})}function wee(x,S,I){S=Bl(S,x);var L=-1,$=S.length;for($||($=1,x=r);++L<$;){var Q=x==null?r:x[hs(S[L])];Q===r&&(L=$,Q=I),x=Ys(Q)?Q.call(x):Q}return x}function Eee(x,S,I){return x==null?x:w0(x,S,I)}function See(x,S,I,L){return L=typeof L=="function"?L:r,x==null?x:w0(x,S,I,L)}var bN=FF(bi),wN=FF(Ca);function Cee(x,S,I){var L=Wt(x),$=L||Ul(x)||Vf(x);if(S=Pt(S,4),I==null){var Q=x&&x.constructor;$?I=L?new Q:[]:En(x)?I=Ys(Q)?Uf(zg(x)):{}:I={}}return($?so:cs)(x,function(se,he,be){return S(I,se,he,be)}),I}function Tee(x,S){return x==null?!0:Rw(x,S)}function Aee(x,S,I){return x==null?x:gF(x,S,kw(I))}function Iee(x,S,I,L){return L=typeof L=="function"?L:r,x==null?x:gF(x,S,kw(I),L)}function Hf(x){return x==null?[]:cw(x,bi(x))}function Ree(x){return x==null?[]:cw(x,Ca(x))}function Pee(x,S,I){return I===r&&(I=S,S=r),I!==r&&(I=po(I),I=I===I?I:0),S!==r&&(S=po(S),S=S===S?S:0),tc(po(x),S,I)}function Oee(x,S,I){return S=qs(S),I===r?(I=S,S=0):I=qs(I),x=po(x),BK(x,S,I)}function kee(x,S,I){if(I&&typeof I!="boolean"&&ha(x,S,I)&&(S=I=r),I===r&&(typeof S=="boolean"?(I=S,S=r):typeof x=="boolean"&&(I=x,x=r)),x===r&&S===r?(x=0,S=1):(x=qs(x),S===r?(S=x,x=0):S=qs(S)),x>S){var L=x;x=S,S=L}if(I||x%1||S%1){var $=X4();return Ki(x+$*(S-x+cq("1e-"+(($+"").length-1))),S)}return Tw(x,S)}var Fee=$f(function(x,S,I){return S=S.toLowerCase(),x+(I?EN(S):S)});function EN(x){return Qw(Br(x).toLowerCase())}function SN(x){return x=Br(x),x&&x.replace(Wb,Eq).replace(eq,"")}function Nee(x,S,I){x=Br(x),S=Va(S);var L=x.length;I=I===r?L:tc(Jt(I),0,L);var $=I;return I-=S.length,I>=0&&x.slice(I,$)==S}function Mee(x){return x=Br(x),x&&ue.test(x)?x.replace(Pe,Sq):x}function Lee(x){return x=Br(x),x&&Ct.test(x)?x.replace(lr,"\\$&"):x}var Bee=$f(function(x,S,I){return x+(I?"-":"")+S.toLowerCase()}),Dee=$f(function(x,S,I){return x+(I?" ":"")+S.toLowerCase()}),Uee=AF("toLowerCase");function jee(x,S,I){x=Br(x),S=Jt(S);var L=S?Nf(x):0;if(!S||L>=S)return x;var $=(S-L)/2;return lm(qg($),I)+x+lm(Yg($),I)}function $ee(x,S,I){x=Br(x),S=Jt(S);var L=S?Nf(x):0;return S&&L<S?x+lm(S-L,I):x}function Gee(x,S,I){x=Br(x),S=Jt(S);var L=S?Nf(x):0;return S&&L<S?lm(S-L,I)+x:x}function Vee(x,S,I){return I||S==null?S=0:S&&(S=+S),Kq(Br(x).replace(Ar,""),S||0)}function Hee(x,S,I){return(I?ha(x,S,I):S===r)?S=1:S=Jt(S),Aw(Br(x),S)}function zee(){var x=arguments,S=Br(x[0]);return x.length<3?S:S.replace(x[1],x[2])}var Xee=$f(function(x,S,I){return x+(I?"_":"")+S.toLowerCase()});function Wee(x,S,I){return I&&typeof I!="number"&&ha(x,S,I)&&(S=I=r),I=I===r?U:I>>>0,I?(x=Br(x),x&&(typeof S=="string"||S!=null&&!Kw(S))&&(S=Va(S),!S&&Ff(x))?Dl(Po(x),0,I):x.split(S,I)):[]}var Yee=$f(function(x,S,I){return x+(I?" ":"")+Qw(S)});function qee(x,S,I){return x=Br(x),I=I==null?0:tc(Jt(I),0,x.length),S=Va(S),x.slice(I,I+S.length)==S}function Kee(x,S,I){var L=K.templateSettings;I&&ha(x,S,I)&&(S=r),x=Br(x),S=xm({},S,L,NF);var $=xm({},S.imports,L.imports,NF),Q=bi($),se=cw($,Q),he,be,$e=0,Ge=S.interpolate||Rf,ze="__p += '",lt=hw((S.escape||Rf).source+"|"+Ge.source+"|"+(Ge===Qe?ja:Rf).source+"|"+(S.evaluate||Rf).source+"|$","g"),wt="//# sourceURL="+(jr.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++aq+"]")+`
`;x.replace(lt,function(Nt,gr,Sr,za,da,Xa){return Sr||(Sr=za),ze+=x.slice($e,Xa).replace(Pg,Cq),gr&&(he=!0,ze+=`' +
__e(`+gr+`) +
'`),da&&(be=!0,ze+=`';
`+da+`;
__p += '`),Sr&&(ze+=`' +
((__t = (`+Sr+`)) == null ? '' : __t) +
'`),$e=Xa+Nt.length,Nt}),ze+=`';
`;var Ft=jr.call(S,"variable")&&S.variable;if(!Ft)ze=`with (obj) {
`+ze+`
}
`;else if(qi.test(Ft))throw new Ht(s);ze=(be?ze.replace(je,""):ze).replace(vt,"$1").replace(N,"$1;"),ze="function("+(Ft||"obj")+`) {
`+(Ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ze+`return __p
}`;var or=TN(function(){return Fr(Q,wt+"return "+ze).apply(r,se)});if(or.source=ze,qw(or))throw or;return or}function Zee(x){return Br(x).toLowerCase()}function Jee(x){return Br(x).toUpperCase()}function Qee(x,S,I){if(x=Br(x),x&&(I||S===r))return M4(x);if(!x||!(S=Va(S)))return x;var L=Po(x),$=Po(S),Q=L4(L,$),se=B4(L,$)+1;return Dl(L,Q,se).join("")}function ete(x,S,I){if(x=Br(x),x&&(I||S===r))return x.slice(0,U4(x)+1);if(!x||!(S=Va(S)))return x;var L=Po(x),$=B4(L,Po(S))+1;return Dl(L,0,$).join("")}function tte(x,S,I){if(x=Br(x),x&&(I||S===r))return x.replace(Ar,"");if(!x||!(S=Va(S)))return x;var L=Po(x),$=L4(L,Po(S));return Dl(L,$).join("")}function rte(x,S){var I=R,L=O;if(En(S)){var $="separator"in S?S.separator:$;I="length"in S?Jt(S.length):I,L="omission"in S?Va(S.omission):L}x=Br(x);var Q=x.length;if(Ff(x)){var se=Po(x);Q=se.length}if(I>=Q)return x;var he=I-Nf(L);if(he<1)return L;var be=se?Dl(se,0,he).join(""):x.slice(0,he);if($===r)return be+L;if(se&&(he+=be.length-he),Kw($)){if(x.slice(he).search($)){var $e,Ge=be;for($.global||($=hw($.source,Br(ua.exec($))+"g")),$.lastIndex=0;$e=$.exec(Ge);)var ze=$e.index;be=be.slice(0,ze===r?he:ze)}}else if(x.indexOf(Va($),he)!=he){var lt=be.lastIndexOf($);lt>-1&&(be=be.slice(0,lt))}return be+L}function nte(x){return x=Br(x),x&&q.test(x)?x.replace(Re,kq):x}var ite=$f(function(x,S,I){return x+(I?" ":"")+S.toUpperCase()}),Qw=AF("toUpperCase");function CN(x,S,I){return x=Br(x),S=I?r:S,S===r?Aq(x)?Mq(x):_q(x):x.match(S)||[]}var TN=ur(function(x,S){try{return $a(x,r,S)}catch(I){return qw(I)?I:new Ht(I)}}),ate=Xs(function(x,S){return so(S,function(I){I=hs(I),Hs(x,I,Ww(x[I],x))}),x});function ote(x){var S=x==null?0:x.length,I=Pt();return x=S?hn(x,function(L){if(typeof L[1]!="function")throw new lo(o);return[I(L[0]),L[1]]}):[],ur(function(L){for(var $=-1;++$<S;){var Q=x[$];if($a(Q[0],this,L))return $a(Q[1],this,L)}})}function ste(x){return kK(co(x,f))}function eE(x){return function(){return x}}function lte(x,S){return x==null||x!==x?S:x}var ute=RF(),cte=RF(!0);function Ta(x){return x}function tE(x){return aF(typeof x=="function"?x:co(x,f))}function fte(x){return sF(co(x,f))}function hte(x,S){return lF(x,co(S,f))}var dte=ur(function(x,S){return function(I){return x0(I,x,S)}}),pte=ur(function(x,S){return function(I){return x0(x,I,S)}});function rE(x,S,I){var L=bi(S),$=tm(S,L);I==null&&!(En(S)&&($.length||!L.length))&&(I=S,S=x,x=this,$=tm(S,bi(S)));var Q=!(En(I)&&"chain"in I)||!!I.chain,se=Ys(x);return so($,function(he){var be=S[he];x[he]=be,se&&(x.prototype[he]=function(){var $e=this.__chain__;if(Q||$e){var Ge=x(this.__wrapped__),ze=Ge.__actions__=Ea(this.__actions__);return ze.push({func:be,args:arguments,thisArg:x}),Ge.__chain__=$e,Ge}return be.apply(x,kl([this.value()],arguments))})}),x}function vte(){return Mi._===this&&(Mi._=$q),this}function nE(){}function gte(x){return x=Jt(x),ur(function(S){return uF(S,x)})}var mte=Nw(hn),_te=Nw(P4),yte=Nw(aw);function AN(x){return $w(x)?ow(hs(x)):qK(x)}function xte(x){return function(S){return x==null?r:rc(x,S)}}var bte=OF(),wte=OF(!0);function iE(){return[]}function aE(){return!1}function Ete(){return{}}function Ste(){return""}function Cte(){return!0}function Tte(x,S){if(x=Jt(x),x<1||x>ee)return[];var I=U,L=Ki(x,U);S=Pt(S),x-=U;for(var $=uw(L,S);++I<x;)S(I);return $}function Ate(x){return Wt(x)?hn(x,hs):Ha(x)?[x]:Ea(WF(Br(x)))}function Ite(x){var S=++Uq;return Br(x)+S}var Rte=sm(function(x,S){return x+S},0),Pte=Mw("ceil"),Ote=sm(function(x,S){return x/S},1),kte=Mw("floor");function Fte(x){return x&&x.length?em(x,Ta,xw):r}function Nte(x,S){return x&&x.length?em(x,Pt(S,2),xw):r}function Mte(x){return F4(x,Ta)}function Lte(x,S){return F4(x,Pt(S,2))}function Bte(x){return x&&x.length?em(x,Ta,Sw):r}function Dte(x,S){return x&&x.length?em(x,Pt(S,2),Sw):r}var Ute=sm(function(x,S){return x*S},1),jte=Mw("round"),$te=sm(function(x,S){return x-S},0);function Gte(x){return x&&x.length?lw(x,Ta):0}function Vte(x,S){return x&&x.length?lw(x,Pt(S,2)):0}return K.after=fQ,K.ary=iN,K.assign=JQ,K.assignIn=_N,K.assignInWith=xm,K.assignWith=QQ,K.at=eee,K.before=aN,K.bind=Ww,K.bindAll=ate,K.bindKey=oN,K.castArray=EQ,K.chain=tN,K.chunk=kZ,K.compact=FZ,K.concat=NZ,K.cond=ote,K.conforms=ste,K.constant=eE,K.countBy=GJ,K.create=tee,K.curry=sN,K.curryRight=lN,K.debounce=uN,K.defaults=ree,K.defaultsDeep=nee,K.defer=hQ,K.delay=dQ,K.difference=MZ,K.differenceBy=LZ,K.differenceWith=BZ,K.drop=DZ,K.dropRight=UZ,K.dropRightWhile=jZ,K.dropWhile=$Z,K.fill=GZ,K.filter=HJ,K.flatMap=WJ,K.flatMapDeep=YJ,K.flatMapDepth=qJ,K.flatten=ZF,K.flattenDeep=VZ,K.flattenDepth=HZ,K.flip=pQ,K.flow=ute,K.flowRight=cte,K.fromPairs=zZ,K.functions=cee,K.functionsIn=fee,K.groupBy=KJ,K.initial=WZ,K.intersection=YZ,K.intersectionBy=qZ,K.intersectionWith=KZ,K.invert=dee,K.invertBy=pee,K.invokeMap=JJ,K.iteratee=tE,K.keyBy=QJ,K.keys=bi,K.keysIn=Ca,K.map=pm,K.mapKeys=gee,K.mapValues=mee,K.matches=fte,K.matchesProperty=hte,K.memoize=gm,K.merge=_ee,K.mergeWith=yN,K.method=dte,K.methodOf=pte,K.mixin=rE,K.negate=mm,K.nthArg=gte,K.omit=yee,K.omitBy=xee,K.once=vQ,K.orderBy=eQ,K.over=mte,K.overArgs=gQ,K.overEvery=_te,K.overSome=yte,K.partial=Yw,K.partialRight=cN,K.partition=tQ,K.pick=bee,K.pickBy=xN,K.property=AN,K.propertyOf=xte,K.pull=eJ,K.pullAll=QF,K.pullAllBy=tJ,K.pullAllWith=rJ,K.pullAt=nJ,K.range=bte,K.rangeRight=wte,K.rearg=mQ,K.reject=iQ,K.remove=iJ,K.rest=_Q,K.reverse=zw,K.sampleSize=oQ,K.set=Eee,K.setWith=See,K.shuffle=sQ,K.slice=aJ,K.sortBy=cQ,K.sortedUniq=hJ,K.sortedUniqBy=dJ,K.split=Wee,K.spread=yQ,K.tail=pJ,K.take=vJ,K.takeRight=gJ,K.takeRightWhile=mJ,K.takeWhile=_J,K.tap=FJ,K.throttle=xQ,K.thru=dm,K.toArray=vN,K.toPairs=bN,K.toPairsIn=wN,K.toPath=Ate,K.toPlainObject=mN,K.transform=Cee,K.unary=bQ,K.union=yJ,K.unionBy=xJ,K.unionWith=bJ,K.uniq=wJ,K.uniqBy=EJ,K.uniqWith=SJ,K.unset=Tee,K.unzip=Xw,K.unzipWith=eN,K.update=Aee,K.updateWith=Iee,K.values=Hf,K.valuesIn=Ree,K.without=CJ,K.words=CN,K.wrap=wQ,K.xor=TJ,K.xorBy=AJ,K.xorWith=IJ,K.zip=RJ,K.zipObject=PJ,K.zipObjectDeep=OJ,K.zipWith=kJ,K.entries=bN,K.entriesIn=wN,K.extend=_N,K.extendWith=xm,rE(K,K),K.add=Rte,K.attempt=TN,K.camelCase=Fee,K.capitalize=EN,K.ceil=Pte,K.clamp=Pee,K.clone=SQ,K.cloneDeep=TQ,K.cloneDeepWith=AQ,K.cloneWith=CQ,K.conformsTo=IQ,K.deburr=SN,K.defaultTo=lte,K.divide=Ote,K.endsWith=Nee,K.eq=ko,K.escape=Mee,K.escapeRegExp=Lee,K.every=VJ,K.find=zJ,K.findIndex=qF,K.findKey=iee,K.findLast=XJ,K.findLastIndex=KF,K.findLastKey=aee,K.floor=kte,K.forEach=rN,K.forEachRight=nN,K.forIn=oee,K.forInRight=see,K.forOwn=lee,K.forOwnRight=uee,K.get=Zw,K.gt=RQ,K.gte=PQ,K.has=hee,K.hasIn=Jw,K.head=JF,K.identity=Ta,K.includes=ZJ,K.indexOf=XZ,K.inRange=Oee,K.invoke=vee,K.isArguments=ac,K.isArray=Wt,K.isArrayBuffer=OQ,K.isArrayLike=Sa,K.isArrayLikeObject=Hn,K.isBoolean=kQ,K.isBuffer=Ul,K.isDate=FQ,K.isElement=NQ,K.isEmpty=MQ,K.isEqual=LQ,K.isEqualWith=BQ,K.isError=qw,K.isFinite=DQ,K.isFunction=Ys,K.isInteger=fN,K.isLength=_m,K.isMap=hN,K.isMatch=UQ,K.isMatchWith=jQ,K.isNaN=$Q,K.isNative=GQ,K.isNil=HQ,K.isNull=VQ,K.isNumber=dN,K.isObject=En,K.isObjectLike=kn,K.isPlainObject=T0,K.isRegExp=Kw,K.isSafeInteger=zQ,K.isSet=pN,K.isString=ym,K.isSymbol=Ha,K.isTypedArray=Vf,K.isUndefined=XQ,K.isWeakMap=WQ,K.isWeakSet=YQ,K.join=ZZ,K.kebabCase=Bee,K.last=ho,K.lastIndexOf=JZ,K.lowerCase=Dee,K.lowerFirst=Uee,K.lt=qQ,K.lte=KQ,K.max=Fte,K.maxBy=Nte,K.mean=Mte,K.meanBy=Lte,K.min=Bte,K.minBy=Dte,K.stubArray=iE,K.stubFalse=aE,K.stubObject=Ete,K.stubString=Ste,K.stubTrue=Cte,K.multiply=Ute,K.nth=QZ,K.noConflict=vte,K.noop=nE,K.now=vm,K.pad=jee,K.padEnd=$ee,K.padStart=Gee,K.parseInt=Vee,K.random=kee,K.reduce=rQ,K.reduceRight=nQ,K.repeat=Hee,K.replace=zee,K.result=wee,K.round=jte,K.runInContext=_e,K.sample=aQ,K.size=lQ,K.snakeCase=Xee,K.some=uQ,K.sortedIndex=oJ,K.sortedIndexBy=sJ,K.sortedIndexOf=lJ,K.sortedLastIndex=uJ,K.sortedLastIndexBy=cJ,K.sortedLastIndexOf=fJ,K.startCase=Yee,K.startsWith=qee,K.subtract=$te,K.sum=Gte,K.sumBy=Vte,K.template=Kee,K.times=Tte,K.toFinite=qs,K.toInteger=Jt,K.toLength=gN,K.toLower=Zee,K.toNumber=po,K.toSafeInteger=ZQ,K.toString=Br,K.toUpper=Jee,K.trim=Qee,K.trimEnd=ete,K.trimStart=tte,K.truncate=rte,K.unescape=nte,K.uniqueId=Ite,K.upperCase=ite,K.upperFirst=Qw,K.each=rN,K.eachRight=nN,K.first=JF,rE(K,function(){var x={};return cs(K,function(S,I){jr.call(K.prototype,I)||(x[I]=S)}),x}(),{chain:!1}),K.VERSION=n,so(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){K[x].placeholder=K}),so(["drop","take"],function(x,S){yr.prototype[x]=function(I){I=I===r?1:di(Jt(I),0);var L=this.__filtered__&&!S?new yr(this):this.clone();return L.__filtered__?L.__takeCount__=Ki(I,L.__takeCount__):L.__views__.push({size:Ki(I,U),type:x+(L.__dir__<0?"Right":"")}),L},yr.prototype[x+"Right"]=function(I){return this.reverse()[x](I).reverse()}}),so(["filter","map","takeWhile"],function(x,S){var I=S+1,L=I==M||I==D;yr.prototype[x]=function($){var Q=this.clone();return Q.__iteratees__.push({iteratee:Pt($,3),type:I}),Q.__filtered__=Q.__filtered__||L,Q}}),so(["head","last"],function(x,S){var I="take"+(S?"Right":"");yr.prototype[x]=function(){return this[I](1).value()[0]}}),so(["initial","tail"],function(x,S){var I="drop"+(S?"":"Right");yr.prototype[x]=function(){return this.__filtered__?new yr(this):this[I](1)}}),yr.prototype.compact=function(){return this.filter(Ta)},yr.prototype.find=function(x){return this.filter(x).head()},yr.prototype.findLast=function(x){return this.reverse().find(x)},yr.prototype.invokeMap=ur(function(x,S){return typeof x=="function"?new yr(this):this.map(function(I){return x0(I,x,S)})}),yr.prototype.reject=function(x){return this.filter(mm(Pt(x)))},yr.prototype.slice=function(x,S){x=Jt(x);var I=this;return I.__filtered__&&(x>0||S<0)?new yr(I):(x<0?I=I.takeRight(-x):x&&(I=I.drop(x)),S!==r&&(S=Jt(S),I=S<0?I.dropRight(-S):I.take(S-x)),I)},yr.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},yr.prototype.toArray=function(){return this.take(U)},cs(yr.prototype,function(x,S){var I=/^(?:filter|find|map|reject)|While$/.test(S),L=/^(?:head|last)$/.test(S),$=K[L?"take"+(S=="last"?"Right":""):S],Q=L||/^find/.test(S);$&&(K.prototype[S]=function(){var se=this.__wrapped__,he=L?[1]:arguments,be=se instanceof yr,$e=he[0],Ge=be||Wt(se),ze=function(gr){var Sr=$.apply(K,kl([gr],he));return L&&lt?Sr[0]:Sr};Ge&&I&&typeof $e=="function"&&$e.length!=1&&(be=Ge=!1);var lt=this.__chain__,wt=!!this.__actions__.length,Ft=Q&&!lt,or=be&&!wt;if(!Q&&Ge){se=or?se:new yr(this);var Nt=x.apply(se,he);return Nt.__actions__.push({func:dm,args:[ze],thisArg:r}),new uo(Nt,lt)}return Ft&&or?x.apply(this,he):(Nt=this.thru(ze),Ft?L?Nt.value()[0]:Nt.value():Nt)})}),so(["pop","push","shift","sort","splice","unshift"],function(x){var S=Ug[x],I=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",L=/^(?:pop|shift)$/.test(x);K.prototype[x]=function(){var $=arguments;if(L&&!this.__chain__){var Q=this.value();return S.apply(Wt(Q)?Q:[],$)}return this[I](function(se){return S.apply(Wt(se)?se:[],$)})}}),cs(yr.prototype,function(x,S){var I=K[S];if(I){var L=I.name+"";jr.call(Df,L)||(Df[L]=[]),Df[L].push({name:S,func:I})}}),Df[om(r,v).name]=[{name:"wrapper",func:r}],yr.prototype.clone=nK,yr.prototype.reverse=iK,yr.prototype.value=aK,K.prototype.at=NJ,K.prototype.chain=MJ,K.prototype.commit=LJ,K.prototype.next=BJ,K.prototype.plant=UJ,K.prototype.reverse=jJ,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=$J,K.prototype.first=K.prototype.head,d0&&(K.prototype[d0]=DJ),K},Mf=Lq();Zu?((Zu.exports=Mf)._=Mf,tw._=Mf):Mi._=Mf}).call(At)})(nx,nx.exports);var Yd=nx.exports;function Qt(t,e,r){return{scriptType:t,scriptFunction:e,...r}}const BV={};function u2e(t){const e={};for(const[r,n]of Object.entries(t))e[r]=BV[n.scriptType]={scriptString:r,...n};return e}const Tt=t=>(typeof t=="string"?Number(t):t)/.5;function Fa(t){const e={};return t&&(t.x!==void 0&&(e.left=Tt(t.x)+"px",e.position="absolute"),t.y!==void 0&&(e.top=Tt(t.y)+"px",e.position="absolute"),t.scale!==void 0&&(e.transform+=` scale(${t.scale})`),t.fontSize!==void 0&&(e.fontSize=Tt(t.fontSize)+"px"),t.fontColor!==void 0&&(e.color=t.fontColor),t.width!==void 0&&(e.width=Tt(t.width)+"px"),t.height!==void 0&&(e.height=Tt(t.height)+"px"),t.marginLeft!==void 0&&(e.marginLeft=Tt(t.marginLeft)+"px"),t.marginRight!==void 0&&(e.marginRight=Tt(t.marginRight)+"px"),t.marginTop!==void 0&&(e.marginTop=Tt(t.marginTop)+"px"),t.marginBottom!==void 0&&(e.marginBottom=Tt(t.marginBottom)+"px"),t.gap!==void 0&&(e.gap=Tt(t.gap)+"px"),t.rowGap!==void 0&&(e.rowGap=Tt(t.rowGap)+"px"),t.columnGap!==void 0&&(e.columnGap=Tt(t.columnGap)+"px"),t.position&&(e.position=t.position),t.alignPosition!==void 0&&(t.alignPosition==="top-center"?e.top="0":t.alignPosition==="bottom-center"&&(e.top="auto",e.bottom="0")),t.fontColor===void 0&&t.customColor!==void 0&&(e.color=t.customColor),t.fontColor===void 0&&t.customFontSize!==void 0&&(e.fontSize=Tt(t.customFontSize)+"px")),e}function c2e(t){if(!t||Yd.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"image",url:jt(n,Ut.ui)})}),e}function f2e(){var r;const t=(r=W.sceneManager.sceneData.currentScene)==null?void 0:r.sceneName,e={[So.Affinity]:1,[So.Achieve]:1,[So.Storyline]:1,"config.txt":1};return!(!t||e[t])}function h2e(t){if(!t||Yd.isEmpty(t))return[];const e=[];return Object.keys(t).forEach(r=>{const n=t[r];e.push({key:r,type:"video",url:jt(n,Ut.video)})}),e}function ZB(t,e){const r=document.createElement("style");let n=`
    @keyframes ${e==="normal"?"":"active-"}cursor-animation {
  `;if(!t.imgs||t.imgs.length===0)return;t.imgs.forEach((a,o)=>{const s=jt(a,Ut.ui),c=o/t.imgs.length*100;n+=`
      ${c}% { cursor: url(${s}), pointer; }
    `}),n+=`
    100% { cursor: url(${jt(t.imgs[0],Ut.ui)}), pointer; }
    }
  `;const i=[n];e==="normal"?i.push(`#root { animation: cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`):i.push(`.interactive { animation: active-cursor-animation ${t.interval*t.imgs.length}ms infinite steps(${t.imgs.length}); }`),r.innerHTML=i.join(`
`),document.head.appendChild(r)}function K1(t){return new Promise(e=>{setTimeout(e,t)})}class VO{constructor(e,r){ut(this,"text");ut(this,"jump");ut(this,"jumpToScene");ut(this,"showCondition");ut(this,"enableCondition");ut(this,"shouldPay");ut(this,"amount");ut(this,"productId");ut(this,"hasBought");ut(this,"style");this.text=e,this.jump=r,this.jumpToScene=r.match(/\./)!==null}static parse(e,r){const n=e.split("->"),i=n.length>1?n[0]:null,a=n.length>1?n[1]:n[0],o=a.split(":"),s=o[0].replace(/[\$\#]{[^{}]*}/,""),c=new VO(s,o[1]),l=/\$\{(.*?)\}/,u=a.match(l);if(u){const p=u[1].split(","),d={};p.forEach(g=>{const[m,v]=g.split("=");m&&v&&(d[m.trim()]=isNaN(Number(v.trim()))?v.trim():Number(v.trim()))}),c.style=d}const f=/\#\{(.*?)\}/.exec(a);if(f&&ce.getState().storeData.isEditorPreviewMode===!1){const p=f[1].split(",");let d=0,g=0;p.forEach(v=>{const[_,y]=v.split("=");_==="productId"?d=isNaN(Number(y.trim()))?0:Number(y.trim()):_==="amount"&&(g=isNaN(Number(y.trim()))?0:Number(y.trim()))});const m=ce.getState().storeData.paymentConfigurationList.find(v=>v.product_id===d);d>0&&g>0&&(c.shouldPay=!0,c.productId=d,c.amount=g,rx(d).then(v=>{r.current[d]=!0})),(m==null?void 0:m.is_buy)===!0&&(c.hasBought=!0)}if(i!==null){const h=i.match(/\((.*)\)/);h&&(c.showCondition=h[1]);const p=i.match(/\[(.*)\]/);p&&(c.enableCondition=p[1])}return c}}const aA=(t,e)=>{const r=t.content.split("|"),n={current:{}},i=r.map(h=>VO.parse(h,n)),o=ce.getState().userData.optionData.textboxFont===Hc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:s,playSeClick:c}=Wd();let l={current:!1},u={current:null};const f=h=>h.filter((p,d)=>JT(p.showCondition)).map((p,d)=>{var b,w;const g=JT(p.enableCondition);let m=qf.Choose_item+" interactive",v=Date.now();const _=()=>{if(!g&&!l.current)return;c();const E=()=>{if(e==null||e(),u.current&&(clearTimeout(u.current),u.current=null),p.jumpToScene){const C=p.jump.split("./game/scene/")[1];vV(p.jump,C)}else gV(p.jump);l.current=!1,W.gameplay.performController.unmountPerform("choose")};if(p.shouldPay){const C=()=>{window.pubsub.publish("loading",{loading:!0}),MV(p.productId??0).then(async O=>{window.pubsub.publish("loading",{loading:!1}),await K1(2e3),O.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),E()):O.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:O.message})}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};let T=!1;const A=ce.getState().storeData.paymentConfigurationList.find(O=>O.product_id===p.productId);A&&(T=A.is_buy);const R=()=>{es({title:"",content:`${p.amount}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{},rightFunc:C})};if(T){n.current[p.productId||""]?E():rx(p.productId??0).then(O=>{O.code===0&&(n.current[p.productId||""]=!0,O.data.is_buy?E():R())});return}n.current[p.productId||""]&&!T?R():rx(p.productId??0).then(O=>{O.code===0&&(n.current[p.productId||""]=!0,O.data.is_buy?E():R())});return}else E()};let y={fontFamily:o};if(p.style&&(y=Fa(p.style)),g||(y.cursor="not-allowed"),typeof((b=p.style)==null?void 0:b.countdown)=="number"){m=g?qf.Choose_item_countdown:qf.Choose_item_countdown_disabled;let E=p.style.countdown,C=1082,T=1082/(E*1e3/16);const A=()=>{E<=0&&u.current?(clearTimeout(u),u.current=null,l.current=!g,_()):u.current=setTimeout(()=>{E-=.016,C-=T;let R=document.getElementById("rect");R==null||R.setAttribute("width",Math.max(0,C).toString()),A()},16)};return A(),F.jsxs(Gr.Fragment,{children:[F.jsxs("div",{className:m,style:y,children:[F.jsx("img",{src:kSe,alt:p.text,style:{width:"1082px",height:"106px"}}),F.jsx("img",{src:FSe,className:qf.Choose_item_progress_bar})]}),F.jsx("svg",{width:"0",height:"0",children:F.jsx("defs",{children:F.jsx("clipPath",{id:"myClip",children:F.jsx("rect",{id:"rect",width:"1082",height:"106",rx:"53",ry:"53",style:{fill:"#ffffff"}})})})})]},p.jump+d)}if((w=p.style)!=null&&w.image){m=`${qf.Choose_item_image} interactive`;const E=jt(p.style.image,Ut.ui),C=`img-option-${d}`,T=new Image;return T.src=E,T.onload=function(){let A=document.getElementById(C);T.style.width=T.naturalWidth+"px",T.style.height=T.naturalHeight+"px",T.style.position="absolute",T.alt=p.text,A&&(A.style.width=T.naturalWidth+"px",A.style.height=T.naturalHeight+"px",setTimeout(()=>{A==null||A.prepend(T),A=null},32))},F.jsx("div",{id:C,className:m,style:y,onMouseEnter:g?s:void 0,onMouseDown:g?A=>{const R=A.currentTarget;R.className=`${m} btn-clicked`,v=Date.now()}:void 0,onMouseUp:g?A=>{const R=Date.now()-v;let O=A.currentTarget;setTimeout(()=>{O.className=m,O=null,setTimeout(_,320)},R-350>0?0:350-R)}:void 0,children:F.jsxs("span",{children:[p.text,!p.hasBought&&p.shouldPay&&F.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",p.amount,")"]})]})},p.jump+d)}return F.jsxs("div",{className:m,style:y,onMouseEnter:g?s:void 0,onMouseDown:g?E=>{const C=E.currentTarget;C.className=`${m} btn-clicked`,v=Date.now()}:void 0,onMouseUp:g?E=>{const C=Date.now()-v;let T=E.currentTarget;setTimeout(()=>{T.className=m,T=null,setTimeout(_,320)},C-350>0?0:350-C)}:void 0,children:[p.text,!p.hasBought&&p.shouldPay&&F.jsxs("span",{style:{marginLeft:8,fontSize:"0.7em"},children:["(",p.amount,")"]})]},p.jump+d)});return Pu.render(F.jsx("div",{className:qf.Choose_Main,children:f(i)}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Pu.render(F.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},d2e=t=>(Je.debug(`${t.content}`),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),p2e=t=>(t.content!==""&&t.content!=="none"?ce.dispatch(Bt({key:"enableFilm",value:t.content})):ce.dispatch(Bt({key:"enableFilm",value:""})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),v2e="_Choose_Main_bjhyz_1",g2e="_Choose_item_bjhyz_13",m2e="_glabalDialog_container_inner_bjhyz_28",_2e="_glabalDialog_container_bjhyz_28",y2e="_title_bjhyz_47",x2e="_button_bjhyz_59",$l={Choose_Main:v2e,Choose_item:g2e,glabalDialog_container_inner:m2e,glabalDialog_container:_2e,title:y2e,button:x2e},b2e=t=>{const e=t.content.toString().trim(),r=qt(t,"title"),n=(r===0?"Please Input":r)??"Please Input",i=qt(t,"buttonText"),a=(i===0?"OK":i)??"OK",s=ce.getState().userData.optionData.textboxFont===Hc.song?'"", serif':'"WebgalUI", serif',{playSeEnter:c,playSeClick:l}=Wd();let u=Date.now();const f=F.jsx("div",{style:{fontFamily:s},className:$l.glabalDialog_container,children:F.jsxs("div",{className:$l.glabalDialog_container_inner,children:[F.jsx("div",{className:$l.title,children:n}),F.jsx("input",{id:"user-input",className:$l.Choose_item}),F.jsx("div",{onMouseEnter:c,onMouseDown:h=>{const p=h.currentTarget;p.className=`${$l.button} interactive btn-clicked`,u=Date.now()},onMouseUp:h=>{const p=Date.now()-u;let d=h.currentTarget;setTimeout(()=>{d.className=$l.button,d=null;const g=document.getElementById("user-input");g&&ce.dispatch(_G({key:e,value:((g==null?void 0:g.value)??"")===""?" ":(g==null?void 0:g.value)??""})),l(),W.gameplay.performController.unmountPerform("userInput"),ti()},p-350>0?0:350-p)},className:`${$l.button} interactive`,children:a})]})});return Pu.render(F.jsx("div",{className:$l.Choose_Main,children:f}),document.getElementById("chooseContainer")),{performName:"userInput",duration:1e3*60*60*24,isHoldOn:!1,stopFunction:()=>{Pu.render(F.jsx("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},w2e="_FullScreenPerform_main_7er8a_2",E2e="_FullScreenPerform_element_7er8a_9",S2e="_fullScreen_video_7er8a_17",C2e="_fadeIn_7er8a_74",T2e="_intro_showSoftly_7er8a_1",A2e="_slideIn_7er8a_80",I2e="_typingEffect_7er8a_86",R2e="_typing_7er8a_86",P2e="_blinkCursor_7er8a_1",O2e="_pixelateEffect_7er8a_95",k2e="_pixelateAnimation_7er8a_1",F2e="_revealAnimation_7er8a_101",N2e="_videoContainer_7er8a_115",Xl={FullScreenPerform_main:w2e,FullScreenPerform_element:E2e,fullScreen_video:S2e,fadeIn:C2e,intro_showSoftly:T2e,slideIn:A2e,typingEffect:I2e,typing:R2e,blinkCursor:P2e,pixelateEffect:O2e,pixelateAnimation:k2e,revealAnimation:F2e,videoContainer:N2e},M2e=t=>{const e=`introPerform${Math.random().toString()}`;let r,n="rgba(0, 0, 0, 1)",i="rgba(255, 255, 255, 1)";const a=(w,E=0)=>{switch(w){case"fadeIn":return Xl.fadeIn;case"slideIn":return Xl.slideIn;case"typingEffect":return`${Xl.typingEffect} ${E}`;case"pixelateEffect":return Xl.pixelateEffect;case"revealAnimation":return Xl.revealAnimation;default:return Xl.fadeIn}};let o=Xl.fadeIn,s=1500,c=!1;for(const w of t.args){if(w.key==="backgroundColor"&&(n=w.value||"rgba(0, 0, 0, 1)"),w.key==="fontColor"&&(i=w.value||"rgba(255, 255, 255, 1)"),w.key==="fontSize")switch(w.value){case"small":r="280%";break;case"medium":r="350%";break;case"large":r="420%";break}if(w.key==="animation"&&(o=a(w.value)),w.key==="delayTime"){const E=parseInt(w.value.toString(),10);s=isNaN(E)?s:E}w.key==="hold"&&w.value===!0&&(c=!0)}const l={background:n,color:i,fontSize:r||"350%",width:"100%",height:"100%"},u=t.content.split(/\|/);let h=1e3+s*u.length;const p=c?1e3*60*60*24:1e3+s*u.length;let d=!0,g=setTimeout(()=>{d=!1},h),m=setTimeout(()=>{});const v=()=>{const w=document.getElementById("introContainer");if(h-=s,clearTimeout(g),g=setTimeout(()=>{d=!1},h),w){const E=w.childNodes[0].childNodes[0].childNodes,C=E.length;E.forEach((T,A)=>{const R=Number(T.style.animationDelay.split("ms")[0]);R>0&&(T.style.animationDelay=`${R-s}ms`),A===C-1&&(R===0?(clearTimeout(m),W.gameplay.performController.unmountPerform(e)):(clearTimeout(m),c||(m=setTimeout(()=>{W.gameplay.performController.unmountPerform(e),setTimeout(ti,0)},h))))})}};W.events.userInteractNext.on(v);const _=u.map((w,E)=>F.jsxs("div",{style:{animationDelay:`${s*E}ms`},className:o,children:[w,w===""?"":""]},"introtext"+E+Math.random().toString())),y=F.jsx("div",{style:l,children:F.jsx("div",{style:{padding:"3em 4em 3em 4em"},children:_})});Pu.render(y,document.getElementById("introContainer"));const b=document.getElementById("introContainer");return b&&(b.style.display="block"),{performName:e,duration:p,isHoldOn:!1,stopFunction:()=>{const w=document.getElementById("introContainer");w&&(w.style.display="none"),W.events.userInteractNext.off(v)},blockingNext:()=>d,blockingAuto:()=>d,stopTimeout:void 0,goNextWhenOver:!0}},L2e=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),B2e=t=>{let e=t.content;return(t.content==="none"||t.content==="")&&(e=""),ce.dispatch(Bt({key:"miniAvatar",value:e})),{performName:"none",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},D2e="modulepreload",U2e=function(t,e){return new URL(t,e).href},JB={},j2e=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=U2e(a,n),a in JB)return;JB[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":D2e,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},DV=new Map;function $2e(t){return t?typeof t=="string"?t:t():null}function UV(t){const e=$2e(t);return e||(Je.error("Get name of perform failed. There no name of the perform."),"")}function IHe(t,e){if(!e||typeof e!="function")throw new Error(`"${t}" is not a callback.`);DV.set(UV(t),e)}function G2e(t,e=[]){const r=DV.get(UV(t));if(!r||!(r instanceof Function))throw Je.error(`Can't call the perform named "${t}"`),new Error(`"${t}" don't have the pixiPerform callback.`);return r(...e)}j2e(()=>import("./initRegister-2adce053.js"),[],import.meta.url);const V2e=t=>{const e="PixiPerform"+t.content;W.gameplay.performController.performList.forEach(a=>{if(a.performName===e)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const r=G2e(t.content),{container:n,tickerKey:i}=r;return{performName:e,duration:0,isHoldOn:!0,stopFunction:()=>{var a,o;Je.warn("pixi"),n.destroy({texture:!0,baseTexture:!0}),(a=W.gameplay.pixiStage)==null||a.effectsContainer.removeChild(n),(o=W.gameplay.pixiStage)==null||o.removeAnimation(i)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},H2e=(t,e=4294967295,r=79764919)=>{const n=new Int32Array(256);let i,a,o,s=e;for(i=0;i<256;i++){for(o=i<<24,a=8;a>0;--a)o=2147483648&o?o<<1^r:o<<1;n[i]=o}for(i=0;i<t.length;i++)s=s<<8^n[255&(s>>24^t[i])];return s},QB=(t,e=H2e)=>{const r=m=>new Uint8Array(m.length/2).map((v,_)=>parseInt(m.substring(2*_,2*(_+1)),16)),n=m=>r(m)[0],i=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((m,v)=>i.set(m,v));const a=new Uint8Array(t.length);let o,s,c,l=!1,u=0,f=42,h=t.length>13&&t.substring(0,9)==="dynEncode",p=0;h&&(p=11,s=n(t.substring(9,p)),s<=1&&(p+=2,f=n(t.substring(11,p))),s===1&&(p+=8,c=(m=>new DataView(r(m).buffer).getInt32(0,!0))(t.substring(13,p))));const d=256-f;for(let m=p;m<t.length;m++)if(o=t.charCodeAt(m),o!==61||l){if(o===92&&m<t.length-5&&h){const v=t.charCodeAt(m+1);v!==117&&v!==85||(o=parseInt(t.substring(m+2,m+6),16),m+=5)}if(o>255){const v=i.get(o);v&&(o=v+127)}l&&(l=!1,o-=64),a[u++]=o<f&&o>0?o+d:o-f}else l=!0;const g=a.subarray(0,u);if(h&&s===1){const m=e(g);if(m!==c){const v="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",v+`
`,"Expected: "+c+"; Got: "+m+`
`,"Visit https://github.com/eshaz/simple-yenc for more information"),Error(v)}}return g};function on(){const t=Uint8Array,e=Float32Array;on.modules||Object.defineProperties(on,{modules:{value:new WeakMap},setModule:{value(r,n){on.modules.set(r,Promise.resolve(n))}},getModule:{value(r,n){let i=on.modules.get(r);return i||(n?i=WebAssembly.compile(QB(n)):(n=r.wasm,i=on.inflateDynEncodeString(n).then(a=>WebAssembly.compile(a))),on.modules.set(r,i)),i}},concatFloat32:{value(r,n){let i=new e(n),a=0,o=0;for(;a<r.length;)i.set(r[a],o),o+=r[a++].length;return i}},getDecodedAudio:{value:(r,n,i,a,o)=>({errors:r,channelData:n,samplesDecoded:i,sampleRate:a,bitDepth:o})},getDecodedAudioMultiChannel:{value(r,n,i,a,o,s){let c=[],l,u;for(l=0;l<i;l++){const f=[];for(u=0;u<n.length;)f.push(n[u++][l]||[]);c.push(on.concatFloat32(f,a))}return on.getDecodedAudio(r,c,a,o,s)}},inflateDynEncodeString:{value(r){return r=QB(r),new Promise(n=>{const i=String.raw`dynEncode0114db91da9bu*ttt$#UU3yzzss|yusvuy&4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444545 444J0444J,4U4U7U454U4Z4U4U^/6545T4T44BU~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44U~64B6U~O44U~4O4U~54U~5 44~C4~54U~5 44~5454U4B6Ub!444~UO4U~5 U54U4ZTU#44U$464<4~B6^4<444~U~B4U~54U544~544~U5 U#UJU#5TT4U0ZTTUX5U5T4T4U#~4OU4U$~C4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UZ!4U_TU#44UU6U~B$544$6U\!4U6U#~B44U#~B$~64<6_TU#444U~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4U[!U#44UO4U~54U~5 U54 7U6844J44J 4UJ4UJ04VK(44<J44<J$4U~54U~5 4U~5!TTT4U$5"U5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(U54A4U[!44J(44#~A4U6UUU[!4464~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UA!U5U#UJU"UJU#U"JU#U"JT4UZTU5T4UZTU5T4UDZTU5T4U$[T44~UO4U~5 UU4U~U$.U5T4UP[T4U~4~UO4U~5 U#<U#<4U~U2$.UUN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44U~J@44U~J<44UD~J844U~J44U$54U$5U54U$54U1^4U1^!4U~54U~5U54U~6U4U^/65T4T4U$54U~4BU~4O4U54U~5 UU'464U'_/54UU~5T4T4U~4BU~UO4U54U~5 U54U~4U~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4U~4O4U~5 U5U5U5TTT4U$"4YTU5 4U4~C5U5 U5U5444$4~64~\TU5 4U~4U~5T4Y!44O4U~54U~54U5 4CYTU5 4U~4U~4U~4$6TU54U\!44B4B~[!4U~4UD~4U~4U~4$6TU54U\!44B4B~[!44U<~4U4~$5 4U"U#$544"Y!454U^!44<J44<(J454U~84UN!#%'+/37?GOWgwU;U9$%& !"#`;on.getModule(on,i).then(a=>WebAssembly.instantiate(a,{})).then(({exports:a})=>{const o=new Map(Object.entries(a)),s=o.get("puff"),c=o.get("memory").buffer,l=new t(c),u=new DataView(c);let f=o.get("__heap_base");const h=r.length,p=f;f+=4,u.setInt32(p,h,!0);const d=f;f+=h,l.set(r,d);const g=f;f+=4,u.setInt32(g,l.byteLength-f,!0),s(f,g,d,p),n(l.slice(f,f+u.getInt32(g,!0)))})})}}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this._wasm}),this.getOutputChannels=(r,n,i)=>{let a=[],o=0;for(;o<n;)a.push(r.slice(o*i,o++*i+i));return a},this.allocateTypedArray=(r,n,i=!0)=>{const a=this._wasm.malloc(n.BYTES_PER_ELEMENT*r);return i&&this._pointers.add(a),{ptr:a,len:r,buf:new n(this._wasm.HEAP,a,r)}},this.free=()=>{this._pointers.forEach(r=>{this._wasm.free(r)}),this._pointers.clear()},this.codeToString=r=>{const n=[],i=new Uint8Array(this._wasm.HEAP);for(let a=i[r];a!==0;a=i[++r])n.push(a);return String.fromCharCode.apply(null,n)},this.addError=(r,n,i,a,o,s)=>{r.push({message:n,frameLength:i,frameNumber:a,inputBytes:o,outputSamples:s})},this.instantiate=(r,n)=>(n&&on.setModule(r,n),this._wasm=new r(on).instantiate(),this._pointers=new Set,this._wasm.ready.then(()=>this))}var z2e=Worker;const X2e=Yi(z2e),W2e=()=>globalThis.Worker||X2e;class jV extends W2e(){constructor(e,r,n,i){on.modules||new on;let a=on.modules.get(n);if(!a){let o="text/javascript",s,c=`'use strict';(${((l,u,f)=>{let h,p,d=new Promise(g=>{p=g});self.onmessage=({data:{id:g,command:m,data:v}})=>{let _=d,y={id:g},b;m==="init"?(Object.defineProperties(l,{WASMAudioDecoderCommon:{value:u},EmscriptenWASM:{value:f},module:{value:v.module},isWebWorker:{value:!0}}),h=new l(v.options),p()):m==="free"?h.free():m==="ready"?_=_.then(()=>h.ready):m==="reset"?_=_.then(()=>h.reset()):(Object.assign(y,h[m](Array.isArray(v)?v.map(w=>new Uint8Array(w)):new Uint8Array(v))),b=y.channelData?y.channelData.map(w=>w.buffer):[]),_.then(()=>self.postMessage(y,b))}}).toString()})(${n}, ${on}, ${i})`;try{s=typeof process.versions.node<"u"}catch{}a=s?`data:${o};base64,${Buffer.from(c).toString("base64")}`:URL.createObjectURL(new Blob([c],{type:o})),on.modules.set(n,a)}super(a,{name:r}),this._id=Number.MIN_SAFE_INTEGER,this._enqueuedOperations=new Map,this.onmessage=({data:o})=>{const{id:s,...c}=o;this._enqueuedOperations.get(s)(c),this._enqueuedOperations.delete(s)},new i(on).getModule().then(o=>{this.postToDecoder("init",{module:o,options:e})})}async postToDecoder(e,r){return new Promise(n=>{this.postMessage({command:e,id:this._id,data:r}),this._enqueuedOperations.set(this._id++,n)})}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally(()=>{this.terminate()})}async reset(){await this.postToDecoder("reset")}}const qd=(t,e)=>{Object.defineProperty(t,"name",{value:e})},bn=Symbol,$V=", ",cr=(()=>{const t="front",e="side",r="rear",n="left",i="center",a="right";return["",t+" ",e+" ",r+" "].map(o=>[[n,a],[n,a,i],[n,i,a],[i,n,a],[i]].flatMap(s=>s.map(c=>o+c).join($V)))})(),xu="LFE",vg="monophonic (mono)",Xh="stereo",H0="surround",oi=(t,...e)=>`${[vg,Xh,`linear ${H0}`,"quadraphonic",`5.0 ${H0}`,`5.1 ${H0}`,`6.1 ${H0}`,`7.1 ${H0}`][t-1]} (${e.join($V)})`,oA=[vg,oi(2,cr[0][0]),oi(3,cr[0][2]),oi(4,cr[1][0],cr[3][0]),oi(5,cr[1][2],cr[3][0]),oi(6,cr[1][2],cr[3][0],xu),oi(7,cr[1][2],cr[2][0],cr[3][4],xu),oi(8,cr[1][2],cr[2][0],cr[3][0],xu)],Y2e=192e3,q2e=176400,GV=96e3,VV=88200,K2e=64e3,Z1=48e3,HO=44100,zO=32e3,XO=24e3,WO=22050,YO=16e3,HV=12e3,zV=11025,qO=8e3,Z2e=7350,Wh="absoluteGranulePosition",wr="bandwidth",Fu="bitDepth",Xo="bitrate",yS=Xo+"Maximum",xS=Xo+"Minimum",bS=Xo+"Nominal",gg="buffer",wS=gg+"Fullness",Hi="codec",Nu=Hi+"Frames",q_="coupledStreamCount",ix="crc",XV=ix+"16",WV=ix+"32",zi="data",dr="description",Ch="duration",Lm="emphasis",ES="hasOpusPadding",zc="header",Lp="isContinuedPacket",SS="isCopyrighted",Bp="isFirstPage",CS="isHome",Xc="isLastPage",Yh="isOriginal",qh="isPrivate",TS="isVbr",Yo="layer",at="length",mr="mode",Mc=mr+"Extension",YV="mpeg",Kh=YV+"Version",AS="numberAACFrames",IS="outputGain",K_="preSkip",RS="profile",PS=bn(),Zh="protection",J2e="rawData",Lc="segments",Rn="subarray",Dp="version",J1="vorbis",Z_=J1+"Comments",J_=J1+"Setup",Q1="block",OS=Q1+"ingStrategy",kS=bn(),oc=Q1+"Size",pp=Q1+"size0",vp=Q1+"size1",Bm=bn(),eb="channel",sc=eb+"MappingFamily",Q_=eb+"MappingTable",Mu=eb+"Mode",Dm=bn(),pr=eb+"s",qV="copyright",FS=qV+"Id",NS=qV+"IdStart",lf="frame",ph=lf+"Count",Lu=lf+"Length",tb="Number",Up=lf+tb,Zl=lf+"Padding",_r=lf+"Size",KV="Rate",MS="inputSample"+KV,KO="page",ey=KO+"Checksum",ax=bn(),gp=KO+"SegmentTable",ka=KO+"Sequence"+tb,ZO="sample",LS=ZO+tb,Zn=ZO+KV,Jl=bn(),Xi=ZO+"s",rb="stream",ty=rb+"Count",ZV=rb+"Info",Jh=rb+"Serial"+tb,Q2e=rb+"StructureVersion",JO="total",ry=JO+"BytesOut",ny=JO+"Duration",sA=JO+"Samples",Yn=bn(),bu=bn(),BS=bn(),nb=bn(),dd=bn(),JV=bn(),eD=bn(),ib=bn(),aa=bn(),Kd=bn(),uf=bn(),mg=bn(),ab=bn(),QV=bn(),Wc=bn(),pd=bn(),Zd=bn(),eH=bn(),xl=Uint8Array,ob=DataView,gn="reserved",bo="bad",z0="free",QO="none",tH="16bit CRC",ek=(t,e,r)=>{for(let n=0;n<t[at];n++){let i=e(n);for(let a=8;a>0;a--)i=r(i);t[n]=i}return t},eCe=ek(new xl(256),t=>t,t=>t&128?7^t<<1:t<<1),Fn=[ek(new Uint16Array(256),t=>t<<8,t=>t<<1^(t&32768?32773:0))],Nn=[ek(new Uint32Array(256),t=>t,t=>t>>>1^(t&1)*3988292384)];for(let t=0;t<15;t++){Fn.push(new Uint16Array(256)),Nn.push(new Uint32Array(256));for(let e=0;e<=255;e++)Fn[t+1][e]=Fn[0][Fn[t][e]>>>8]^Fn[t][e]<<8,Nn[t+1][e]=Nn[t][e]>>>8^Nn[0][Nn[t][e]&255]}const tCe=t=>{let e=0;const r=t[at];for(let n=0;n!==r;n++)e=eCe[e^t[n]];return e},rCe=t=>{const e=t[at],r=e-16;let n=0,i=0;for(;i<=r;)n^=t[i++]<<8|t[i++],n=Fn[15][n>>8]^Fn[14][n&255]^Fn[13][t[i++]]^Fn[12][t[i++]]^Fn[11][t[i++]]^Fn[10][t[i++]]^Fn[9][t[i++]]^Fn[8][t[i++]]^Fn[7][t[i++]]^Fn[6][t[i++]]^Fn[5][t[i++]]^Fn[4][t[i++]]^Fn[3][t[i++]]^Fn[2][t[i++]]^Fn[1][t[i++]]^Fn[0][t[i++]];for(;i!==e;)n=(n&255)<<8^Fn[0][n>>8^t[i++]];return n},nCe=t=>{const e=t[at],r=e-16;let n=0,i=0;for(;i<=r;)n=Nn[15][(t[i++]^n)&255]^Nn[14][(t[i++]^n>>>8)&255]^Nn[13][(t[i++]^n>>>16)&255]^Nn[12][t[i++]^n>>>24]^Nn[11][t[i++]]^Nn[10][t[i++]]^Nn[9][t[i++]]^Nn[8][t[i++]]^Nn[7][t[i++]]^Nn[6][t[i++]]^Nn[5][t[i++]]^Nn[4][t[i++]]^Nn[3][t[i++]]^Nn[2][t[i++]]^Nn[1][t[i++]]^Nn[0][t[i++]];for(;i!==e;)n=Nn[0][(n^t[i++])&255]^n>>>8;return n^-1},lA=(...t)=>{const e=new xl(t.reduce((r,n)=>r+n[at],0));return t.reduce((r,n)=>(e.set(n,r),r+n[at]),0),e},cf=t=>String.fromCharCode(...t),tD=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],ox=t=>tD[t&15]<<4|tD[t>>4];class iCe{constructor(e){this._data=e,this._pos=e[at]*8}set position(e){this._pos=e}get position(){return this._pos}read(e){const r=Math.floor(this._pos/8),n=this._pos%8;return this._pos-=e,(ox(this._data[r-1])<<8)+ox(this._data[r])>>7-n&255}}class aCe{constructor(e,r){this._onCodecHeader=e,this._onCodecUpdate=r,this[Wc]()}[pd](){this._isEnabled=!0}[Wc](){this._headerCache=new Map,this._codecUpdateData=new WeakMap,this._codecHeaderSent=!1,this._codecShouldUpdate=!1,this._bitrate=null,this._isEnabled=!1}[QV](e,r){if(this._onCodecUpdate){this._bitrate!==e&&(this._bitrate=e,this._codecShouldUpdate=!0);const n=this._codecUpdateData.get(this._headerCache.get(this._currentHeader));this._codecShouldUpdate&&n&&this._onCodecUpdate({bitrate:e,...n},r),this._codecShouldUpdate=!1}}[aa](e){const r=this._headerCache.get(e);return r&&this._updateCurrentHeader(e),r}[Kd](e,r,n){this._isEnabled&&(this._codecHeaderSent||(this._onCodecHeader({...r}),this._codecHeaderSent=!0),this._updateCurrentHeader(e),this._headerCache.set(e,r),this._codecUpdateData.set(r,n))}_updateCurrentHeader(e){this._onCodecUpdate&&e!==this._currentHeader&&(this._codecShouldUpdate=!0,this._currentHeader=e)}}const ks=new WeakMap,Hu=new WeakMap;class Jd{constructor(e,r){this._codecParser=e,this._headerCache=r}*[eD](){let e;do{if(e=yield*this.Frame[uf](this._codecParser,this._headerCache,0),e)return e;this._codecParser[bu](1)}while(!0)}*[ib](e){let r=yield*this[eD]();const n=Hu.get(r)[at];if(e||this._codecParser._flushing||(yield*this.Header[aa](this._codecParser,this._headerCache,n)))return this._headerCache[pd](),this._codecParser[bu](n),this._codecParser[nb](r),r;this._codecParser[dd](`Missing ${lf} at ${n} bytes from current position.`,`Dropping current ${lf} and trying again.`),this._headerCache[Wc](),this._codecParser[bu](1)}}class rH{constructor(e,r){Hu.set(this,{[zc]:e}),this[zi]=r}}class _g extends rH{static*[uf](e,r,n,i,a){const o=yield*e[aa](n,i,a);if(o){const s=ks.get(o)[Lu],c=ks.get(o)[Xi],l=(yield*n[Yn](s,a))[Rn](0,s);return new r(o,l,c)}else return null}constructor(e,r,n){super(e,r),this[zc]=e,this[Xi]=n,this[Ch]=n/e[Zn]*1e3,this[Up]=null,this[ry]=null,this[sA]=null,this[ny]=null,Hu.get(this)[at]=r[at]}}const DS="unsynchronizationFlag",US="extendedHeaderFlag",jS="experimentalFlag",$S="footerPresent";class tk{static*getID3v2Header(e,r,n){const a={};let o=yield*e[Yn](3,n);if(o[0]!==73||o[1]!==68||o[2]!==51||(o=yield*e[Yn](10,n),a[Dp]=`id3v2.${o[3]}.${o[4]}`,o[5]&15)||(a[DS]=!!(o[5]&128),a[US]=!!(o[5]&64),a[jS]=!!(o[5]&32),a[$S]=!!(o[5]&16),o[6]&128||o[7]&128||o[8]&128||o[9]&128))return null;const s=o[6]<<21|o[7]<<14|o[8]<<7|o[9];return a[at]=10+s,new tk(a)}constructor(e){this[Dp]=e[Dp],this[DS]=e[DS],this[US]=e[US],this[jS]=e[jS],this[$S]=e[$S],this[at]=e[at]}}class yg{constructor(e){ks.set(this,e),this[Fu]=e[Fu],this[Xo]=null,this[pr]=e[pr],this[Mu]=e[Mu],this[Zn]=e[Zn]}}const nH={0:[z0,z0,z0,z0,z0],16:[32,32,32,32,8],240:[bo,bo,bo,bo,bo]},Um=(t,e,r)=>8*((t+r)%e+e)*(1<<(t+r)/e)-8*e*(e/8|0);for(let t=2;t<15;t++)nH[t<<4]=[t*32,Um(t,4,0),Um(t,4,-1),Um(t,8,4),Um(t,8,0)];const oCe=0,sCe=1,lCe=2,uCe=3,rD=4,jm="bands ",$m=" to 31",nD={0:jm+4+$m,16:jm+8+$m,32:jm+12+$m,48:jm+16+$m},yc="bitrateIndex",jp="v2",iy="v1",Gm="Intensity stereo ",Vm=", MS stereo ",Hm="on",zm="off",cCe={0:Gm+zm+Vm+zm,16:Gm+Hm+Vm+zm,32:Gm+zm+Vm+Hm,48:Gm+Hm+Vm+Hm},GS={0:{[dr]:gn},2:{[dr]:"Layer III",[Zl]:1,[Mc]:cCe,[iy]:{[yc]:lCe,[Xi]:1152},[jp]:{[yc]:rD,[Xi]:576}},4:{[dr]:"Layer II",[Zl]:1,[Mc]:nD,[Xi]:1152,[iy]:{[yc]:sCe},[jp]:{[yc]:rD}},6:{[dr]:"Layer I",[Zl]:4,[Mc]:nD,[Xi]:384,[iy]:{[yc]:oCe},[jp]:{[yc]:uCe}}},VS="MPEG Version ",iD="ISO/IEC ",fCe={0:{[dr]:`${VS}2.5 (later extension of MPEG 2)`,[Yo]:jp,[Zn]:{0:zV,4:HV,8:qO,12:gn}},8:{[dr]:gn},16:{[dr]:`${VS}2 (${iD}13818-3)`,[Yo]:jp,[Zn]:{0:WO,4:XO,8:YO,12:gn}},24:{[dr]:`${VS}1 (${iD}11172-3)`,[Yo]:iy,[Zn]:{0:HO,4:Z1,8:zO,12:gn}},length:at},hCe={0:tH,1:QO},dCe={0:QO,1:"50/15 ms",2:gn,3:"CCIT J.17"},aD={0:{[pr]:2,[dr]:Xh},64:{[pr]:2,[dr]:"joint "+Xh},128:{[pr]:2,[dr]:"dual channel"},192:{[pr]:1,[dr]:vg}};class mv extends yg{static*[aa](e,r,n){const i={},a=yield*tk.getID3v2Header(e,r,n);a&&(yield*e[Yn](a[at],n),e[bu](a[at]));const o=yield*e[Yn](4,n),s=cf(o[Rn](0,4)),c=r[aa](s);if(c)return new mv(c);if(o[0]!==255||o[1]<224)return null;const l=fCe[o[1]&24];if(l[dr]===gn)return null;const u=o[1]&6;if(GS[u][dr]===gn)return null;const f={...GS[u],...GS[u][l[Yo]]};if(i[Kh]=l[dr],i[Yo]=f[dr],i[Xi]=f[Xi],i[Zh]=hCe[o[1]&1],i[at]=4,i[Xo]=nH[o[2]&240][f[yc]],i[Xo]===bo||(i[Zn]=l[Zn][o[2]&12],i[Zn]===gn)||(i[Zl]=o[2]&2&&f[Zl],i[qh]=!!(o[2]&1),i[Lu]=Math.floor(125*i[Xo]*i[Xi]/i[Zn]+i[Zl]),!i[Lu]))return null;const h=o[3]&192;if(i[Mu]=aD[h][dr],i[pr]=aD[h][pr],i[Mc]=f[Mc][o[3]&48],i[SS]=!!(o[3]&8),i[Yh]=!!(o[3]&4),i[Lm]=dCe[o[3]&3],i[Lm]===gn)return null;i[Fu]=16;{const{length:p,frameLength:d,samples:g,...m}=i;r[Kd](s,i,m)}return new mv(i)}constructor(e){super(e),this[Xo]=e[Xo],this[Lm]=e[Lm],this[Zl]=e[Zl],this[SS]=e[SS],this[Yh]=e[Yh],this[qh]=e[qh],this[Yo]=e[Yo],this[Mc]=e[Mc],this[Kh]=e[Kh],this[Zh]=e[Zh]}}class rk extends _g{static*[uf](e,r,n){return yield*super[uf](mv,rk,e,r,n)}constructor(e,r,n){super(e,r,n)}}class pCe extends Jd{constructor(e,r,n){super(e,r),this.Frame=rk,this.Header=mv,n(this[Hi])}get[Hi](){return YV}*[mg](){return yield*this[ib]()}}const vCe={0:"MPEG-4",8:"MPEG-2"},gCe={0:"valid",2:bo,4:bo,6:bo},mCe={0:tH,1:QO},_Ce={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},yCe={0:GV,4:VV,8:K2e,12:Z1,16:HO,20:zO,24:XO,28:WO,32:YO,36:HV,40:zV,44:qO,48:Z2e,52:gn,56:gn,60:"frequency is written explicitly"},oD={0:{[pr]:0,[dr]:"Defined in AOT Specific Config"},64:{[pr]:1,[dr]:vg},128:{[pr]:2,[dr]:oi(2,cr[0][0])},192:{[pr]:3,[dr]:oi(3,cr[1][3])},256:{[pr]:4,[dr]:oi(4,cr[1][3],cr[3][4])},320:{[pr]:5,[dr]:oi(5,cr[1][3],cr[3][0])},384:{[pr]:6,[dr]:oi(6,cr[1][3],cr[3][0],xu)},448:{[pr]:8,[dr]:oi(8,cr[1][3],cr[2][0],cr[3][0],xu)}};class sb extends yg{static*[aa](e,r,n){const i={},a=yield*e[Yn](7,n),o=cf([a[0],a[1],a[2],a[3]&252|a[6]&3]),s=r[aa](o);if(s)Object.assign(i,s);else{if(a[0]!==255||a[1]<240||(i[Kh]=vCe[a[1]&8],i[Yo]=gCe[a[1]&6],i[Yo]===bo))return null;const l=a[1]&1;i[Zh]=mCe[l],i[at]=l?7:9,i[PS]=a[2]&192,i[Jl]=a[2]&60;const u=a[2]&2;if(i[RS]=_Ce[i[PS]],i[Zn]=yCe[i[Jl]],i[Zn]===gn)return null;i[qh]=!!u,i[Dm]=(a[2]<<8|a[3])&448,i[Mu]=oD[i[Dm]][dr],i[pr]=oD[i[Dm]][pr],i[Yh]=!!(a[3]&32),i[CS]=!!(a[3]&8),i[FS]=!!(a[3]&8),i[NS]=!!(a[3]&4),i[Fu]=16,i[Xi]=1024,i[AS]=a[6]&3;{const{length:f,channelModeBits:h,profileBits:p,sampleRateBits:d,frameLength:g,samples:m,numberAACFrames:v,..._}=i;r[Kd](o,i,_)}}if(i[Lu]=(a[3]<<11|a[4]<<3|a[5]>>5)&8191,!i[Lu])return null;const c=(a[5]<<6|a[6]>>2)&2047;return i[wS]=c===2047?"VBR":c,new sb(i)}constructor(e){super(e),this[FS]=e[FS],this[NS]=e[NS],this[wS]=e[wS],this[CS]=e[CS],this[Yh]=e[Yh],this[qh]=e[qh],this[Yo]=e[Yo],this[at]=e[at],this[Kh]=e[Kh],this[AS]=e[AS],this[RS]=e[RS],this[Zh]=e[Zh]}get audioSpecificConfig(){const e=ks.get(this),r=e[PS]+64<<5|e[Jl]<<5|e[Dm]>>3,n=new xl(2);return new ob(n[gg]).setUint16(0,r,!1),n}}class nk extends _g{static*[uf](e,r,n){return yield*super[uf](sb,nk,e,r,n)}constructor(e,r,n){super(e,r,n)}}class xCe extends Jd{constructor(e,r,n){super(e,r),this.Frame=nk,this.Header=sb,n(this[Hi])}get[Hi](){return"aac"}*[mg](){return yield*this[ib]()}}class Bc extends _g{static _getFrameFooterCrc16(e){return(e[e[at]-2]<<8)+e[e[at]-1]}static[eH](e){const r=Bc._getFrameFooterCrc16(e),n=rCe(e[Rn](0,-2));return r===n}constructor(e,r,n){r[ZV]=n,r[XV]=Bc._getFrameFooterCrc16(e),super(r,e,ks.get(r)[Xi])}}const iH="get from STREAMINFO metadata block",bCe={0:"Fixed",1:"Variable"},aH={0:gn,16:192};for(let t=2;t<16;t++)aH[t<<4]=t<6?576*2**(t-2):2**t;const wCe={0:iH,1:VV,2:q2e,3:Y2e,4:qO,5:YO,6:WO,7:XO,8:zO,9:HO,10:Z1,11:GV,15:bo},ECe={0:{[pr]:1,[dr]:vg},16:{[pr]:2,[dr]:oi(2,cr[0][0])},32:{[pr]:3,[dr]:oi(3,cr[0][1])},48:{[pr]:4,[dr]:oi(4,cr[1][0],cr[3][0])},64:{[pr]:5,[dr]:oi(5,cr[1][1],cr[3][0])},80:{[pr]:6,[dr]:oi(6,cr[1][1],xu,cr[3][0])},96:{[pr]:7,[dr]:oi(7,cr[1][1],xu,cr[3][4],cr[2][0])},112:{[pr]:8,[dr]:oi(8,cr[1][1],xu,cr[3][0],cr[2][0])},128:{[pr]:2,[dr]:`${Xh} (left, diff)`},144:{[pr]:2,[dr]:`${Xh} (diff, right)`},160:{[pr]:2,[dr]:`${Xh} (avg, diff)`},176:gn,192:gn,208:gn,224:gn,240:gn},SCe={0:iH,2:8,4:12,6:gn,8:16,10:20,12:24,14:gn};class au extends yg{static _decodeUTF8Int(e){if(e[0]>254)return null;if(e[0]<128)return{value:e[0],length:1};let r=1;for(let o=64;o&e[0];o>>=1)r++;let n=r-1,i=0,a=0;for(;n>0;a+=6,n--){if((e[n]&192)!==128)return null;i|=(e[n]&63)<<a}return i|=(e[n]&127>>r)<<a,{value:i,length:r}}static[Zd](e,r){const n={[Yn]:function*(){return e}};return au[aa](n,r,0).next().value}static*[aa](e,r,n){let i=yield*e[Yn](6,n);if(i[0]!==255||!(i[1]===248||i[1]===249))return null;const a={},o=cf(i[Rn](0,4)),s=r[aa](o);if(s)Object.assign(a,s);else{if(a[kS]=i[1]&1,a[OS]=bCe[a[kS]],a[Bm]=i[2]&240,a[Jl]=i[2]&15,a[oc]=aH[a[Bm]],a[oc]===gn||(a[Zn]=wCe[a[Jl]],a[Zn]===bo)||i[3]&1)return null;const l=ECe[i[3]&240];if(l===gn||(a[pr]=l[pr],a[Mu]=l[dr],a[Fu]=SCe[i[3]&14],a[Fu]===gn))return null}a[at]=5,i=yield*e[Yn](a[at]+8,n);const c=au._decodeUTF8Int(i[Rn](4));if(!c||(a[kS]?a[LS]=c.value:a[Up]=c.value,a[at]+=c[at],a[Bm]===96?(i[at]<a[at]&&(i=yield*e[Yn](a[at],n)),a[oc]=i[a[at]-1]+1,a[at]+=1):a[Bm]===112&&(i[at]<a[at]&&(i=yield*e[Yn](a[at],n)),a[oc]=(i[a[at]-1]<<8)+i[a[at]]+1,a[at]+=2),a[Xi]=a[oc],a[Jl]===12?(i[at]<a[at]&&(i=yield*e[Yn](a[at],n)),a[Zn]=i[a[at]-1]*1e3,a[at]+=1):a[Jl]===13?(i[at]<a[at]&&(i=yield*e[Yn](a[at],n)),a[Zn]=(i[a[at]-1]<<8)+i[a[at]],a[at]+=2):a[Jl]===14&&(i[at]<a[at]&&(i=yield*e[Yn](a[at],n)),a[Zn]=((i[a[at]-1]<<8)+i[a[at]])*10,a[at]+=2),i[at]<a[at]&&(i=yield*e[Yn](a[at],n)),a[ix]=i[a[at]-1],a[ix]!==tCe(i[Rn](0,a[at]-1))))return null;if(!s){const{blockingStrategyBits:l,frameNumber:u,sampleNumber:f,samples:h,sampleRateBits:p,blockSizeBits:d,crc:g,length:m,...v}=a;r[Kd](o,a,v)}return new au(a)}constructor(e){super(e),this[XV]=null,this[OS]=e[OS],this[oc]=e[oc],this[Up]=e[Up],this[LS]=e[LS],this[ZV]=null}}const CCe=2,TCe=512*1024;class oH extends Jd{constructor(e,r,n){super(e,r),this.Frame=Bc,this.Header=au,n(this[Hi])}get[Hi](){return"flac"}*_getNextFrameSyncOffset(e){const r=yield*this._codecParser[Yn](2,0),n=r[at]-2;for(;e<n;){if(r[e]===255){const a=r[e+1];if(a===248||a===249)break;a!==255&&e++}e++}return e}*[mg](){do{const e=yield*au[aa](this._codecParser,this._headerCache,0);if(e){let r=ks.get(e)[at]+CCe;for(;r<=TCe;){if(this._codecParser._flushing||(yield*au[aa](this._codecParser,this._headerCache,r))){let n=yield*this._codecParser[Yn](r);if(this._codecParser._flushing||(n=n[Rn](0,r)),Bc[eH](n)){const i=new Bc(n,e);return this._headerCache[pd](),this._codecParser[bu](r),this._codecParser[nb](i),i}}r=yield*this._getNextFrameSyncOffset(r+1)}this._codecParser[dd](`Unable to sync FLAC frame after searching ${r} bytes.`),this._codecParser[bu](r)}else this._codecParser[bu](yield*this._getNextFrameSyncOffset(1))}while(!0)}[ab](e){return e[ka]===0?(this._headerCache[pd](),this._streamInfo=e[zi][Rn](13)):e[ka]===1||(e[Nu]=Hu.get(e)[Lc].map(r=>{const n=au[Zd](r,this._headerCache);if(n)return new Bc(r,n,this._streamInfo);this._codecParser[dd]("Failed to parse Ogg FLAC frame","Skipping invalid FLAC frame")}).filter(r=>!!r)),e}}class lb{static*[aa](e,r,n){const i={};let a=yield*e[Yn](28,n);if(a[0]!==79||a[1]!==103||a[2]!==103||a[3]!==83||(i[Q2e]=a[4],a[5]&248))return null;i[Xc]=!!(a[5]&4),i[Bp]=!!(a[5]&2),i[Lp]=!!(a[5]&1);const s=new ob(xl.from(a[Rn](0,28))[gg]);try{i[Wh]=s.getBigInt64(6,!0)}catch{}i[Jh]=s.getInt32(14,!0),i[ka]=s.getInt32(18,!0),i[ey]=s.getInt32(22,!0);const c=a[26];i[at]=c+27,a=yield*e[Yn](i[at],n),i[Lu]=0,i[gp]=[],i[ax]=xl.from(a[Rn](27,i[at]));for(let l=0,u=0;l<c;l++){const f=i[ax][l];i[Lu]+=f,u+=f,(f!==255||l===c-1)&&(i[gp].push(u),u=0)}return new lb(i)}constructor(e){ks.set(this,e),this[Wh]=e[Wh],this[Lp]=e[Lp],this[Bp]=e[Bp],this[Xc]=e[Xc],this[gp]=e[gp],this[ka]=e[ka],this[ey]=e[ey],this[Jh]=e[Jh]}}class ik extends rH{static*[uf](e,r,n){const i=yield*lb[aa](e,r,n);if(i){const a=ks.get(i)[Lu],o=ks.get(i)[at],s=o+a,c=(yield*e[Yn](s,0))[Rn](0,s),l=c[Rn](o,s);return new ik(i,l,c)}else return null}constructor(e,r,n){super(e,r),Hu.get(this)[at]=n[at],this[Nu]=[],this[J2e]=n,this[Wh]=e[Wh],this[WV]=e[ey],this[Ch]=0,this[Lp]=e[Lp],this[Bp]=e[Bp],this[Xc]=e[Xc],this[ka]=e[ka],this[Xi]=0,this[Jh]=e[Jh]}}class sD extends _g{constructor(e,r){super(r,e,r[_r]*r[ph]/1e3*r[Zn])}}const lD={0:oA.slice(0,2),1:oA},vo="SILK-only",Ji="CELT-only",Xm="Hybrid",Gl="narrowband",Wm="medium-band",Vl="wideband",Kf="super-wideband",Zf="fullband",ACe={0:{[mr]:vo,[wr]:Gl,[_r]:10},8:{[mr]:vo,[wr]:Gl,[_r]:20},16:{[mr]:vo,[wr]:Gl,[_r]:40},24:{[mr]:vo,[wr]:Gl,[_r]:60},32:{[mr]:vo,[wr]:Wm,[_r]:10},40:{[mr]:vo,[wr]:Wm,[_r]:20},48:{[mr]:vo,[wr]:Wm,[_r]:40},56:{[mr]:vo,[wr]:Wm,[_r]:60},64:{[mr]:vo,[wr]:Vl,[_r]:10},72:{[mr]:vo,[wr]:Vl,[_r]:20},80:{[mr]:vo,[wr]:Vl,[_r]:40},88:{[mr]:vo,[wr]:Vl,[_r]:60},96:{[mr]:Xm,[wr]:Kf,[_r]:10},104:{[mr]:Xm,[wr]:Kf,[_r]:20},112:{[mr]:Xm,[wr]:Zf,[_r]:10},120:{[mr]:Xm,[wr]:Zf,[_r]:20},128:{[mr]:Ji,[wr]:Gl,[_r]:2.5},136:{[mr]:Ji,[wr]:Gl,[_r]:5},144:{[mr]:Ji,[wr]:Gl,[_r]:10},152:{[mr]:Ji,[wr]:Gl,[_r]:20},160:{[mr]:Ji,[wr]:Vl,[_r]:2.5},168:{[mr]:Ji,[wr]:Vl,[_r]:5},176:{[mr]:Ji,[wr]:Vl,[_r]:10},184:{[mr]:Ji,[wr]:Vl,[_r]:20},192:{[mr]:Ji,[wr]:Kf,[_r]:2.5},200:{[mr]:Ji,[wr]:Kf,[_r]:5},208:{[mr]:Ji,[wr]:Kf,[_r]:10},216:{[mr]:Ji,[wr]:Kf,[_r]:20},224:{[mr]:Ji,[wr]:Zf,[_r]:2.5},232:{[mr]:Ji,[wr]:Zf,[_r]:5},240:{[mr]:Ji,[wr]:Zf,[_r]:10},248:{[mr]:Ji,[wr]:Zf,[_r]:20}};class _v extends yg{static[Zd](e,r,n){const i={};if(i[pr]=e[9],i[sc]=e[18],i[at]=i[sc]!==0?21+i[pr]:19,e[at]<i[at])throw new Error("Out of data while inside an Ogg Page");const a=r[0]&3,o=a===3?2:1,s=cf(e[Rn](0,i[at]))+cf(r[Rn](0,o)),c=n[aa](s);if(c)return new _v(c);if(s.substr(0,8)!=="OpusHead"||e[8]!==1)return null;i[zi]=xl.from(e[Rn](0,i[at]));const l=new ob(i[zi][gg]);if(i[Fu]=16,i[K_]=l.getUint16(10,!0),i[MS]=l.getUint32(12,!0),i[Zn]=Z1,i[IS]=l.getInt16(16,!0),i[sc]in lD&&(i[Mu]=lD[i[sc]][i[pr]-1],!i[Mu]))return null;i[sc]!==0&&(i[ty]=e[19],i[q_]=e[20],i[Q_]=[...e[Rn](21,i[pr]+21)]);const u=ACe[248&r[0]];switch(i[mr]=u[mr],i[wr]=u[wr],i[_r]=u[_r],a){case 0:i[ph]=1;break;case 1:case 2:i[ph]=2;break;case 3:i[TS]=!!(128&r[1]),i[ES]=!!(64&r[1]),i[ph]=63&r[1];break;default:return null}{const{length:f,data:h,channelMappingFamily:p,...d}=i;n[Kd](s,i,d)}return new _v(i)}constructor(e){super(e),this[zi]=e[zi],this[wr]=e[wr],this[sc]=e[sc],this[Q_]=e[Q_],this[q_]=e[q_],this[ph]=e[ph],this[_r]=e[_r],this[ES]=e[ES],this[MS]=e[MS],this[TS]=e[TS],this[mr]=e[mr],this[IS]=e[IS],this[K_]=e[K_],this[ty]=e[ty]}}class ICe extends Jd{constructor(e,r,n){super(e,r),this.Frame=sD,this.Header=_v,n(this[Hi]),this._identificationHeader=null}get[Hi](){return"opus"}[ab](e){return e[ka]===0?(this._headerCache[pd](),this._identificationHeader=e[zi]):e[ka]===1||(e[Nu]=Hu.get(e)[Lc].map(r=>{const n=_v[Zd](this._identificationHeader,r,this._headerCache);if(n)return new sD(r,n);this._codecParser[JV]("Failed to parse Ogg Opus Header","Not a valid Ogg Opus file")})),e}}class uD extends _g{constructor(e,r,n){super(r,e,n)}}const uA={};for(let t=0;t<8;t++)uA[t+6]=2**(6+t);class sx extends yg{static[Zd](e,r,n,i){if(e[at]<30)throw new Error("Out of data while inside an Ogg Page");const a=cf(e[Rn](0,30)),o=r[aa](a);if(o)return new sx(o);const s={[at]:30};if(a.substr(0,7)!=="vorbis")return null;s[zi]=xl.from(e[Rn](0,30));const c=new ob(s[zi][gg]);if(s[Dp]=c.getUint32(7,!0),s[Dp]!==0||(s[pr]=e[11],s[Mu]=oA[s[pr]-1]||"application defined",s[Zn]=c.getUint32(12,!0),s[yS]=c.getInt32(16,!0),s[bS]=c.getInt32(20,!0),s[xS]=c.getInt32(24,!0),s[vp]=uA[(e[28]&240)>>4],s[pp]=uA[e[28]&15],s[pp]>s[vp])||e[29]!==1)return null;s[Fu]=32,s[J_]=i,s[Z_]=n;{const{length:l,data:u,version:f,vorbisSetup:h,vorbisComments:p,...d}=s;r[Kd](a,s,d)}return new sx(s)}constructor(e){super(e),this[yS]=e[yS],this[xS]=e[xS],this[bS]=e[bS],this[pp]=e[pp],this[vp]=e[vp],this[zi]=e[zi],this[Z_]=e[Z_],this[J_]=e[J_]}}class RCe extends Jd{constructor(e,r,n){super(e,r),this.Frame=uD,n(this[Hi]),this._identificationHeader=null,this._setupComplete=!1,this._prevBlockSize=null}get[Hi](){return J1}[ab](e){e[Nu]=[];for(const r of Hu.get(e)[Lc])if(r[0]===1)this._headerCache[pd](),this._identificationHeader=e[zi],this._setupComplete=!1;else if(r[0]===3)this._vorbisComments=r;else if(r[0]===5)this._vorbisSetup=r,this._mode=this._parseSetupHeader(r),this._setupComplete=!0;else if(this._setupComplete){const n=sx[Zd](this._identificationHeader,this._headerCache,this._vorbisComments,this._vorbisSetup);n?e[Nu].push(new uD(r,n,this._getSamples(r,n))):this._codecParser[logError]("Failed to parse Ogg Vorbis Header","Not a valid Ogg Vorbis file")}return e}_getSamples(e,r){const i=this._mode.blockFlags[e[0]>>1&this._mode.mask]?r[vp]:r[pp],a=this._prevBlockSize===null?0:(this._prevBlockSize+i)/4;return this._prevBlockSize=i,a}_parseSetupHeader(e){const r=new iCe(e),n={count:0,blockFlags:[]};for(;(r.read(1)&1)!==1;);let i;for(;n.count<64&&r.position>0;){ox(r.read(8));let a=0;for(;r.read(8)===0&&a++<3;);if(a===4)i=r.read(7),n.blockFlags.unshift(i&1),r.position+=6,n.count++;else{((ox(i)&126)>>1)+1!==n.count&&this._codecParser[dd]("vorbis derived mode count did not match actual mode count");break}}return n.mask=(1<<Math.log2(n.count))-1,n}}class PCe{constructor(e,r,n){this._codecParser=e,this._headerCache=r,this._onCodec=n,this._continuedPacket=new xl,this._codec=null,this._isSupported=null}get[Hi](){return this._codec||""}_updateCodec(e,r){this._codec!==e&&(this._headerCache[Wc](),this._parser=new r(this._codecParser,this._headerCache,this._onCodec),this._codec=e)}_checkCodecSupport({data:e}){const r=cf(e[Rn](0,8));switch(r){case"fishead\0":return!1;case"OpusHead":return this._updateCodec("opus",ICe),!0;case(/^\x7fFLAC/.test(r)&&r):return this._updateCodec("flac",oH),!0;case(/^\x01vorbis/.test(r)&&r):return this._updateCodec(J1,RCe),!0;default:return!1}}_checkPageSequenceNumber(e){e[ka]!==this._pageSequenceNumber+1&&this._pageSequenceNumber>1&&e[ka]>1&&this._codecParser[dd]("Unexpected gap in Ogg Page Sequence Number.",`Expected: ${this._pageSequenceNumber+1}, Got: ${e[ka]}`),this._pageSequenceNumber=e[ka]}_parsePage(e){this._isSupported===null&&(this._pageSequenceNumber=e[ka],this._isSupported=this._checkCodecSupport(e)),this._checkPageSequenceNumber(e);const r=Hu.get(e),n=ks.get(r[zc]);let i=0;if(r[Lc]=n[gp].map(a=>e[zi][Rn](i,i+=a)),this._continuedPacket[at]&&(r[Lc][0]=lA(this._continuedPacket,r[Lc][0]),this._continuedPacket=new xl),n[ax][n[ax][at]-1]===255&&(this._continuedPacket=lA(this._continuedPacket,r[Lc].pop())),this._isSupported){const a=this._parser[ab](e);return this._codecParser[nb](a),a}else return e}}class OCe extends Jd{constructor(e,r,n){super(e,r),this._onCodec=n,this.Frame=ik,this.Header=lb,this._streams=new Map,this._currentSerialNumber=null}get[Hi](){const e=this._streams.get(this._currentSerialNumber);return e?e.codec:""}*[mg](){const e=yield*this[ib](!0);this._currentSerialNumber=e[Jh];let r=this._streams.get(this._currentSerialNumber);return r||(r=new PCe(this._codecParser,this._headerCache,this._onCodec),this._streams.set(this._currentSerialNumber,r)),e[Xc]&&this._streams.delete(this._currentSerialNumber),r._parsePage(e)}}const HS=()=>{};class sH{constructor(e,{onCodec:r,onCodecHeader:n,onCodecUpdate:i,enableLogging:a=!1,enableFrameCRC32:o=!0}={}){this._inputMimeType=e,this._onCodec=r||HS,this._onCodecHeader=n||HS,this._onCodecUpdate=i,this._enableLogging=a,this._crc32=o?nCe:HS,this[Wc]()}get[Hi](){return this._parser?this._parser[Hi]:""}[Wc](){this._headerCache=new aCe(this._onCodecHeader,this._onCodecUpdate),this._generator=this._getGenerator(),this._generator.next()}*flush(){this._flushing=!0;for(let e=this._generator.next();e.value;e=this._generator.next())yield e.value;this._flushing=!1,this[Wc]()}*parseChunk(e){for(let r=this._generator.next(e);r.value;r=this._generator.next())yield r.value}parseAll(e){return[...this.parseChunk(e),...this.flush()]}*_getGenerator(){if(this._inputMimeType.match(/aac/))this._parser=new xCe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/mpeg/))this._parser=new pCe(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/flac/))this._parser=new oH(this,this._headerCache,this._onCodec);else if(this._inputMimeType.match(/ogg/))this._parser=new OCe(this,this._headerCache,this._onCodec);else throw new Error(`Unsupported Codec ${mimeType}`);for(this._frameNumber=0,this._currentReadPosition=0,this._totalBytesIn=0,this._totalBytesOut=0,this._totalSamples=0,this._sampleRate=void 0,this._rawData=new Uint8Array(0);;){const e=yield*this._parser[mg]();e&&(yield e)}}*[Yn](e=0,r=0){let n;for(;this._rawData[at]<=e+r;){if(n=yield,this._flushing)return this._rawData[Rn](r);n&&(this._totalBytesIn+=n[at],this._rawData=lA(this._rawData,n))}return this._rawData[Rn](r)}[bu](e){this._currentReadPosition+=e,this._rawData=this._rawData[Rn](e)}[BS](e){this._sampleRate=e[zc][Zn],e[zc][Xo]=e[Ch]>0?Math.round(e[zi][at]/e[Ch])*8:0,e[Up]=this._frameNumber++,e[ry]=this._totalBytesOut,e[sA]=this._totalSamples,e[ny]=this._totalSamples/this._sampleRate*1e3,e[WV]=this._crc32(e[zi]),this._headerCache[QV](e[zc][Xo],e[ny]),this._totalBytesOut+=e[zi][at],this._totalSamples+=e[Xi]}[nb](e){e[Nu]?(e[Nu].forEach(r=>{e[Ch]+=r[Ch],e[Xi]+=r[Xi],this[BS](r)}),e[sA]=this._totalSamples,e[ny]=this._totalSamples/this._sampleRate*1e3||0,e[ry]=this._totalBytesOut):this[BS](e)}_log(e,r){if(this._enableLogging){const n=[`${Hi}:         ${this[Hi]}`,`inputMimeType: ${this._inputMimeType}`,`readPosition:  ${this._currentReadPosition}`,`totalBytesIn:  ${this._totalBytesIn}`,`${ry}: ${this._totalBytesOut}`],i=Math.max(...n.map(a=>a[at]));r.push(`--stats--${"-".repeat(i-9)}`,...n,"-".repeat(i)),e("codec-parser",r.reduce((a,o)=>a+`
  `+o,""))}}[dd](...e){this._log(console.warn,e)}[JV](...e){this._log(console.error,e)}}const Dc=Wh,$p=Nu,kCe=q_,ay=zi,lH=zc,uH=Xc,FCe=K_,NCe=Z_,MCe=J_,LCe=Q_,cD=pr,cH=Xi,BCe=ty;function Th(t){function e(){}function r(O){throw O}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Th.wasm||Object.defineProperty(Th,"wasm",{get:()=>String.raw`dynEncode01a33fc84f8dos?Q>_M'	zmea,=9z=$.JTK'(u H3KQt;=}X=})SVy{oEqUHh87[iA2(+*7}@B;?=}A?>~{x#5X.]J
=Mi=MUH 
5Omrn2Lj{	j			b)j{l8Jr/^UO6j5a1HH=M26I[T) W|HeF,l	'0b8K!eJ
vz&WrnV"5 kwP4pRAx[p;7>VU?Rq9~QwI=}	frgx7QE5-Ml?E	{@z5f}.;%Mi_ZU@.mt.,BB;Z_V)AUBf &$kz(_z^r>b>/DTQlIQ}:8_!@v!O
\\ebVp~\N'eBb#NY	#W0a]!\nTSx76I-pfh,ceieic#upab07>F3Tfkbxf6H6 yV?@?{Q+=}9%!>&@Uq?qtIU+gy+5s
GS1K;B\fhXd)Uw X151L-;j=piN:}BwXt3yoJLjnn-sTes	{Os9SekFTVK-WEO
R*vVJCsr^v3/ Po|$RKu# [{V>>ws~~9=Mz-hi>1d!>>	/~ywrb0!	~j#88Al3S8oK:x'dAk<;)3b{5?
NR/+>6}mzQ|pMj;2&#gg|/[k*Z8ZvXFa*+V,\r':G-W8rp ]k=M|]$"VD_d%~m>aj%U6^8"b]}lflIq;[T>{o3*iDg@s =Mkuw	F~{_95,}50>_6l*{)GjE7(arbj	Tgk;_RZ=MX*g[X^uN~u~
:_NWP\^Wptt22wT22v6y6;VI?^&>&F]VBfTe|$]	wyV.b. tnZ$:K? l
SZ'7
s%4cL+{
^KCUn9~g/rV$
[c6&(qx	6 YSO{-L;Uhk(y71CYD40,$Em9S"kUUg{>%[2\siU.~q
$&*hM#8#U@Ia[Hccm#g;/9?	g~B9'S.),gizf,^k|=Uv"&|[lyDIQCWz2_(pi}kU-PV$M)}Dq{a.|+/II^b?/uCHg|M#L'A-B7<9&f1E/ cE%5O.uK~;u7uR=~30pIx)Xyeyo	I%8K!9C'	Y0}ze"[MqA?;QWetbW)aWet+*jh8

~q|*=DW
q'$is4|USK|c(46?#M0rYNAPr{pge|H=MmOn@+(MI3z*^,Jz* [x|fpBf4s*s* [bGnj%Z\K-VyT1bJZJ=}<nul/6|@{b| wTAu.NvSUL-hrH7V
V-pL.PqEkl(tpOYHpcy592'6_9^;a&rbf_Z%#h?;zVj2lG^h
TGxim1O&ec/9/NMM
<rB8Vd$89okj)&>]FkjJCK'OGib6fh=faGHO*hs-#t*DS6(t,F0(n,dY@nh9{~@JT\VOdrr
&
JBV%trQOV SBi6OLi.p(xD
DL9nBbt;[KA0'|rqaz8m/V:&Z&Ukr9>Rrz"Bw&!Ad&?lSwkl29bzk(-gua5A3*GV@b1r#of:&z:ryG~qbf V\Q%c60n"a:{	$N~=}6Ym,A640kiL#=MMk%9[|[< 0 v\y-zO1@ j=}Gr55Z&RX*Q:B.k){B>MLZRf," p"!o4z0m0'$g,kbqUL?R@c4U	(ZEOD XzC=}D$)]SzELkMVa%FJ
4=MfA|jo3V5-:5rK[u\]3Q=}*TL87>':LCdheM73FrmM|"6d@OcsZg%nBUMK08ugN0R)h=P{nQI3314T=yyl=iUCgWQ($^]) 2>ms&bQ'YFyIr1ma0'#}^W_W}2QjA*Or
D_\Z=)#	]x165_x}']+\cO9g_dai"[9C^\:Rrtq'Y[7l4tS-W~xdG@fOs@Og.,H?_wXi~ZS(ERJ=M_=ML^lZc/z/whW:<OH _y}CKG]=M|c6kKO--QT676H	^	FcfCdDvB& 8M^17)h9=MESShIk/.XXppoG_wO+>F#GWM+nr#DoL}.p}	YW]jNkFL)}	+ 9~%uthw 3ZyVf/fOP==M4a3$FY\[)RfO71wZl
? .)fsnWI?UA17+_]ssS9WLs_Iu=M6bCg {FKMv)F eI*$&eXSX4G+g	VT[^~?|#KlLi;V'j0k=MAxyvJb0VHAM;O/(S3kUJf)g1Wl1Td%=MaPu(pD\ 00;7e( o6@L$cLJ,]&5&tvPxX 8HK0]f 8-r( 3OIj#	=bF%4X!@$@BlU@OED/}T3$%nJ[g;=M5:_qB1-eD6*_
Qs0w]6Y>3CxF4!y'wY0ww*X3gg5^/SZ.K9m"}b}V|Pt]pb=MtJ=^-=}W"ix=}W.}d=}w}S!/Kys}Ww0&)
}=M~PA9Z*SMNcHB]h_q^&Z=}* !v>B2!4 p_!dit7.;1bF"in/YN(<(C9~-"7LQ<1AHDP=c{?W:;]cnJ)Gl!d:PNg^Jj^6f(A?anD(Hsn
$Rrkxwo]<ipP}r-op44PV;? "zqClrt3jSm3-se
0!<=VBRV|po+Z#r%?#3 G=}xjIPN_0[xREN-<|EZ_1h'8U?q"!@/D)F=MYbd([5A=}PLN9.Q#VCpn@H:yGuIGllZu	fUr<<UZJ\fn/ ^W8G/kkkkCI
'&5N=M:)'GeIr=}7(z.o5	v^/LxFMgOb&-&KpipiG$H'cWr.NptcIOgnPr{[d	d|p[=}U	2li2k=}zD%-Pk3v	{Z<s@bW%j	+2tH%QszGd
\m&hK"I$-c0LMMC{5Rf*o}$h
MLH9V}}iH:q
fV-!q2$^lm=}Zk]j^=d{sIWq&k3</:gB]w (qdDv(^H '))MBD}a,%/e@s7R||R=/viH	HjkAwa59a_7V_^3@g?#<:f|jt&[[o\mR49Lh;h*Y77RPxG[RdPRJ<i|PS}	M15qF_aRwb2a)Z7 F6JX{>?!$"A"" lqL;;^=M,(& M"Kb(6tev&hD}e<}Tnz 7}.$1V	=}5M!m6jDe	"G %Ya[Je#/;}:
G<3mNXK2d|9c.J3+|*O 1/'~|JOi<>;HV=&X150l=}~k41q?O,K,NEPv4k+*5r#1D<|{1IjeYka	3$ A<y{rT))U"N_l @;PnSpJSq<^I9$)k+E!E'=t	IwC&"(* 1vbUIVfcUvz]%,m}=YBq]Hhir)ynCR2
 2I#4fN>zH6Ul	q5!EGm*6WJWN$p	}/},+:
'_6U|*c\U,g*l1ud	8-yIx.e=M=Mk?<Nd2o:SXtjVZT;XQ691=M1p((PIp[y)$$K{!n Pv6VCr>qv2tDd@=Mci5A,f/X*2o
{.yCt EaGtdnQ566/1=}wk*l$J_!Jm,vpre/7P$.6TAE%87R]VpPGOGO2GO2HO2GO2=MeHI@Kgg,p^OS5y&.+&Adg=MO[ma%V8=MPNf0u'|!jaeW4M;0 '4~F>Do6.r]gO:]Xhg(@DFy@=LM[yB3wK)wFY=MsGBG'@Ki=MdCk3v=MNf;8MG>(p	f	$2.8do.oSpXzw%UM5fg
BdB,cPqw=BO%DQq5
Rg7I" e;qg&:'skLoH':'Edf5*x=lF$wmUTHF]&*$)<{\?V"pAn{bua9z_<A4.	_6+<e^.gG=}T/bG*m-Brt%rB4:_rF#2]QRH7rK9?Q+VJt]*l+8~RZ-u5GDS"YC~5:=)$XbX&C.@"q
~K{Ychm8;*7vYGi=&v6V=MzUB}YvNck}K[kbmA3E.9ucHZe/z1,zct2XB*	a96IAd2*aH|#R^=Mnk=MDy0Q(-qoQ/	-G9FfA:9j	%v=M!)?6;HGxydVbt$-\@KFDS>KWS%	Bt&d7N'z0UtK=MdTrzU8vM[I[wIynQU{}IC"^vZ\y}BE6JQ$-9~>tmw(|np.T^6:<JX~		rL=Vk>=}	j!I.y_5ku"P/q>Ff=Mg4_q|=lrRCDz]KN4_v}p[.iC}2&[mr=}2x>{N!|d[?9H^;Z\yIp>PO?@\z}53)6O# cc2yVB_cpFc=Mg(f!yO#m#:n#/yWC	'X%)	pCQ}~$OLHJc:7dXJ90kK,H3:?77nK*w=Moll8#N5Q]V1(=}dNih.FUbgn	y(5;_				&tB| P=4oQ&@=;i*[/<{O
(&;88oCQ;)fqF1>'&9(Tj%&(F"0c2S	s
 {O>Y'=Mcs;}1{VH!t;O?qepHXzx P\M'9}#'}ztA.C\}!ijA;O(p;XCyJ51J.Nv.=M@og1f+1
k;7ExT/1x{ysz>;{ej'SMq>zpP5=MX=:[1u1kv+Fo0s2Etv8/3.\i8{#)e^Hteg^g4x3;-Ks%>=/as8,}F9Rrsh1j ]O+EM94%kH4v|LN 0jj0i[s+weD?k1ZprV=}OHV+?r7T\~Y^\9<	a$;3uJ?"o3eKJ}T^f[Q|RY8}r5IP8/0xvSP|I(.H#2[_Hy-1cQH(DvR "/uD$uDT%H>f!0L3m!_4{r-(jUT#i(997Hv%!OW~<A i/%1P	/Uei$Ow9C0o>Pu=}C0o g"}3x{F"S^b^vwsc=}Pi,x'SaDHO>.,LDL.6mS~'3>,:FA4{vH~A$pq%=}AVrf9y0\=H(6^O /}KZX]wb/U}n$q23dzbPP06LKoE=tZk+=qA''['2[6''v{Uj^,<Jm=M5,r.=}txH2': >A63a=M%m$U48S\>q}xOx;g;D.o:q|m}'@n
c[)phI+(w9Gk,%tgXCC	}g3F lFOkTblSO"4qb,*i\;SF$AFlUKI$uO]T>[ d O=}fW,u&G>N=}F.]McvT02M1M=Mr	/*R
	
\.0#mQk;bUJrr <y[V/23_6!+zXK}e?W=}NyT	bA=}JSL(^_OEYlT(e\+^	h06L;pQ%]a]2A?p!QzzB9au=}![r=	U~>Mo,BN$*{$n]/!!OoIz4e[&v{H\4WNs{BN +Z,ToI5yh}naO,dDqU 0qR4L2{]<
}Q^pY.vU\)		I	qv"8w
IHwi%a0B*;5|KI!URDJ7FEz\.*zlAV)zp!V[DBx%:W6{y2~=!'c12G[m3M0j)M]	+1WAERG;K=}pk@oDEFUvb^*YK=}<MH. Jp)*,)k0-<qd7W'B.2WKz_
!J^fimu(B","]!1=MCf/WrF,O(CC1*U$J\V]A'H2Z>, HVCJAuKG;5*B{ rJK+zx'L+0cG:=

VK C0S40= -~mRU8cs\En]60/$}}#^;KBe! lB9Z O>op!=)T]">(>? !zTa\8 LIM%Iz^b{@@j[r%dmFv},/3rk:>Dxt7_fJ=}|AE*"O&}H0W!
sz4r Pgl@~YY~aS,|6l\P_Vy JrTG[BnWieNi@SaP?dN:"[p dP02w
A,(<8o
+4DC9Kp*BDfEt8Y0<n_o+6IO4z/38m
~Q$om	 |qn~BL{Na
Q&G Jnw]oJ
t:LH92X.J%<M=}'S,Mz
b D;$MdwK)JYCDO3KT8iioHRsK2wNDDmQ5d5|/(Q|4I05ynDSF=}MS6;0
a_HV/@
Y\df>EW?>#?bq~;Px~v/!e54_7uPmN{~:!%Fc3HF)wf8('Dc=}H'"m/7p|	=}T}6jyhz12+$ 0
jP \GBO$%EX,=}(GA=}8%m=@2=MzrZ+uG;&#H]Xdr*x&*X7NO kCaOBzrSEs8{:4G=#Eu]SsG 6!g"Li Q
,D'G{>(2DI+gk7i83(snHAu-/X'm=MnKkfM<
EfV\!Qq^4Sy-=}<3ym6MI<Vr2F}jAwF+i?_}A(~wzW|]A l<@gGNvsx)<A|d4h\k
'6bEa-dc)<7*kck	q?2m	>L =Mxo?L=MV0<xG5,i\rx\.)c{YK$Gma)sJCw1yw/"+L*.xkw%6e.|s!-07#s*IY'UZ@LS&k@>8g{Oq E&#CIHL)Cdb bQO	|c>/H7.\Zi1syjdA;pW7[~ y=}30Xq@>{=}CHBB=Mo=}'C
'=}=}M0Ts*hetVXSB+f}=}9g&ucm6 ~
	H:QB)#'DDI,pDIU=Mw'A4K+&{:|U"~S+YZ|,NoGIJ-I8'_,
ZLORVphRIoyd@TNfnY} 	]_n*	=M/^NEZs
1W.:UM'*TMv]zt'I5=}^c^Qv;-r";1[&@R=M]-*7@=}'\Ne-^8pH&dt#w5k_^R%c}:D6N-+NucY\kp]"K[=M0)D{m7l<d*Y@	+G;A5*L?/3UUkhQ1~,ixsPoD6=DM34C^hKz/StwePB071fp[^p82It0>.46b/Y=}nQc$dJd*+ytVY1eo?s;|i}kHZFN(/C B,\gE=zG\ZN{:wWQ%z:XNl2-	*6_E.>lboT=M5Dsz7,?]vv[)h?/Xi7%&\/6@x7=}<OR'rJ!3ueh#H+[!_yw&C&Abe?jfE(w %(?{k/yx;745j>#gkMJOHIuT(tZr_U_wGNEm e(|,=MYzI*f/k]ij&rpP;~]4vHCa,Jy1Y+LT((CVS18n<'&TBar92q;5r\?xvBAGE)APejI4pUv=};/4dz&urnUmh+lEm!gKQtjR2dbmrY_o-o;
DSf,L&W'KI_BzQh^9FW:=}-rc/DEiQP4%]aEg$ bUbcl3)ynnnnBM])Dc[^28
vl822)v?xwx"x--^g,rx"2pY}Q&g
o[K( 8Z&\ @9.8Vm8pO{T1Opj=M9=	*7}<?+BwA]1..Y%!O	1P.Y=B!mU. <o]Q9wy})5515<OVH?_/{?(~C@0E50 1u=}nJ=MtFU"YXyPe* 5:j	Qfq."_{k*K$m]?4SQ%,>	-VSlTu";My
jn1=M&OfT09*D9qq /at6xu=M$r&f{[Q|*q'<|{06Me0,j}*Ks  T Hi}x-];+l1gRg*Yih+hm{OJ^:SU4e~oD]x}49=\+zR
YVv=l}a i>t(=iWJFfM Ct;u<QHw]=}uZ  (2D[].ti9Dt=}"tnPw{<b=>d&%Y;fP]^,a+	)de'e+ 0~I	.	6	P"j5V#0T.p3MDxZZ%-@ffwHm3~*w:-jW'M0;w\j=M7Gh~94[Bkj4FR7[KddN'1mxj/9n/OkXA,.-7-	efzeT%,$dHT!Ko0!_V_s3{o_X1@[:bSf*
tiYn2R	zN<ZWG&Z	TjZUHvO3rhTc9=HXII-v.qJo+dw
}?QCHIzs8;9t']\']J#xnYsY&"4PvM=})Lt;<w}a .=tu=Mtm$O("q}-NG=MwHU5^o C=}*=MzKm^eX
f,=O#I\&w=}2T14AsL09OY$x/([?+.RSs;T"Ir%@rmTj6+=}.Ql1qL@ 3h~vQpjcz-dQTwssRsciO%R (*TFftLZ;Y.^hG.(, QhM?+j48#BS'ffcj=Mzy7CHSH9{x.=Xs~LhH._1?1nwP>ot(FjnZ{9<1"Nyx'wz{*f3RT$OU	G"@M} 9I/K= |
$U<O;T(Z7>'<e^>sNPpaa1oVA1F',1p[\;XPQZ5Y7!Oyr"N-aq<y,p|la>xAeaWoYYSOI=.(@px|yvR
,=;Y?XU5:R To
OkUv{-pb1 o	2VjRTaZ<&pyx~zo/Vx}o@pK4a^2v^ssB}a_=}mU4F8f(tFKm-  IRJup|WbfAq'V_u91+G^N[=}50m:TJ3vM-}bzJEn~9v*KP \0vEgF6L9& ;U_2uSjlc8K%Y|JV A=} CvV=}|BH>QBXu]^B0==MlU( @G=}RGV=Y6A33.uMkytd?\*ffRp=q$(_-E*#h)'9i{fZaXePT_zu>%+@6q$=Msl]+IP~=}4EA*\@dj$b ;#R/3mp1o{tF4n)N4aS-Z4Cq')J'2N	72ASo_a}:i0Rh@'.O5JE^hZF=}$	EFV
!#Q;=}Y8Xy*i
/<hU pCx}k~FbI?cHe	5qm)F=_ f cyR2;#0Q+"*Wre./d%Zh'xDKh;Lf=jl?0cT&P5QFYt{}hk.,Tq+h@U* S*s(FWDH2N4=}uA#6
gyKe>D6@+3,K=MQi!=M{MRii=M)=MI$ry&n6"]s.HixS8@WSz#Vj OXR(&11[<&j11xq1nwwv	Bk;"&|1&AKd1au"-mKQha5FO-fK)F6jq1b_W4[,fY55(G7P\4xj~\(TC	:DtU<$o|t8z2y1Oh
2m/Rvm.8zo8q= R_HW}'X=}2p%W"SI^lv
A]m]qo2;P	GZa[!{f##pY~>X~Y~Y~Y8C^ZtVf.J%rt4N%BvS]58]:H"M;>u'qQ*,6,k3Z>u9XFF@@B}mz5~i@kDP&(GF=MXF>Cl"6\.l^#=MPt[j|,!Ca f_>$i
3)$Qa,>l{[MAC1b!h'd# *UF2(p'9{RgnM JoRPy&+fV*X(X<Etwr0K]+[CMd4REc6A-~3Ar<V	8CZeQEc|=p{{v%y6g:r90%|0N2%CucYzY""yY~Y	~Y~YVMB ;,Sn9Zv\$=}-yVn(Px\F<zr^\mUL]P-dmugd#408nr@	B9=M	Cn9)@h3'|:\A5.[!$?W=MV5&=McPHFhzx~U1\$P9NPoqc_{~h0\[[Z4xkej;N%a_=}q1bS~9=eigN^^pwF[FKm 	zu[gj DQ-
[mnR=}[]9h)o#2g-_L/}*Hy)t.obl{*h"4?2gm~ej=}oSo%<9WDp Y%}I5u,*?V~nQzwD,=Mv)Z_mF<#&<HadeXm8fPqo:1]67+HbhhFCP4Au5GS7->T=}hrelG:lCOGT+mhO#p=|L(3=MiN+1MfT46>X<Srm?Yoi%ag=Mq1+-R.*/h('d?GS3A:7!6'F9%Dl9l&89
~:~QZ	~Y~Y~w$8[{4Ws,Bn<H@,U%fWm% Tsx<=M.IEJfR,owwz Yw
S)z!CH&(Eu]i+\0yg<7Ad7 TF	>=M<v|y%SG!ZZr5"TphyNUgU@W'Y~rM_rWGL2JTq,^Z@>.Fq\^y(9QI[UH@~\tPp,a/Zud6ud.a=_mV{e:jB!/j@(#KgR&gp-q[m> f>ibWKt7Ad0e=M5$1EzZ=}ay&z.ih ;0t(=Alr)95i<itvF5nlJ]GuR8*tZG7q*$g&ojU&V0JmI[m	(<\3gH|T8tVKBPwX^#Xa#AjRg_>oi4R7MHH2:4ERy2hdn/d^[]5gZ8KNYT&E=}fND=};=MSfh:;wuHI9\=M"J9)wa1:+ ]z[TAQR<cE=MCpLC\VpW=}wF,=}{C,?<=kQ-[RT+:	/2;>q	:_e~17nHM7apl;fX2H9B8N/	GTY,OA:?oNpd=}^rb%	?Jlr}Ig)5.8[>KtE2a9oRF^M0S=}D=M9-=Mr0@2#X;wYM~YN}YPCY~Y^f79)m@=MkT\gb).lj&jn59
WNj17=}nEGJr0Aj{vMJBApTv[	CNc;$&ce$*Br!)s<.RCDlzDoxDg~gJM9ziXqY/l	LyYl1/U9D(=>B#F?~i7U~YqY~Y~Y 
MzAK+*]DV=p-%<F45Q5MFs9w]{+E 6WmP*JEs]|WY1-Pbyj'LYFt8q# 2CjRKt7/BqF-nzzjR"=(xj-'MPAC2
KfwH(bJeZ)kQ+L/8/qRK(TaFMf?K_YwOTVA$Un},PZ {~^TZq!ha|"a"=CD]HN)mda?ccD=/QHxjK)8Yj&7boH[8n[d#S}Y|OP~Y~Y~Y8GO	BZ(ftA(^o>gQU=}o;WY #.,ayF+TYb@A/b,>QrR*^^7L/a9ADIl02p0BB ?7t<R42I?qQsI[ iR#>z\K+-e^=M4IX.a6QNbgvM  !'Or(W,s2{\Y>x_X~*D)j~@:
:; *~c2:B4b 04x/Q^[m06qK5h	7%VKxCK$E:ta]o'sM&'4f2p1{>/qkXCI sgGq'7hj"	vB|k2nh"ZCH_Ke	Azf_^n7ye	SFD&V:DtZ+%SCY~nY||Y~Y~Y^kyP _Nu%u*Ia/iKL6(dA$~<B>H+2 d	x.z
F|ESNRS!^uy	o+Yu\5snjui/o/8*^FArh<=gj02!Yh589FLEi:p+B-33c2opom(
'n-bR4&b/RAd H< bcZR/t+oE"TSK]P_dg#|bZ;Et>1PnIhyYSe9N8o#y?acY0DTh6]vDF|c8^Si,Ga5 &a=}r5,Wz.JS
&&:US;SG^|kI?	Kq:uO[%e8'NysU1	ycE9VPK
vNvD>?~_~Q~V~q~Y*o#$@C[;@6*'))21gfA82ep^/Mq?k}' /{_U^7^1;A:9>cP:o5</y7<%5}FcAVR?l5=}<oE		q!ripX'4S+=}.tU4H-VqQBqKk$*P?x/p: SXjo:~c\|iF2hH YG2,%;)E-Z_&T$	>ijuT#Gf/ii2P 1}}_/6+^?uvfr=u_3P9S> K>(y..a'(xIb_DN?&RLU] 'm(IdZ<*u"gV'm.jo'8<
,q*4*oG6aEqSr9 4,krB'6
Wr!DtOa1[s*E/L~FgA4hO8J18i[~EX^Vx{_KV_@k>qx;*e\_Vn>S]]/Ow1HXB@*p,o+m>	d'Jm[	/|;]cWUn5O4{ YT~-RPOX]F[5Z{	7[#->YXmo
F_mVfQ0Nq}&LK/^=>b=^d un4(!|Ty!; [{"7""!D_BvfOVauBl3\($]g.!?	U
l5\g%*?d[4/1-vE{[=}t/)|a*&+5/a,-q,HlI=}UH3ll0I",JVq/kr	UkaM$|*LuX83	o| )aZ+k];f;dU[~'w29L?j3LelGvM[ ppO=MBN =M=MrNh LJTKAUo#0:	8[M]<U^Qi&YW>}u1Azyt.]tIb	SYb*S28B[B2D+&cnYz]:!oY8~Y>pYvt) W,AUW,=Ms	y3FFdjwQ,f:''DE$X|Or1Cc17}o/!W/kVkdi<< ez>Sw7(IW'}7	F=}p[aoFo2XClcPS<9kWP<GhhOMPk
X	nw^O\p=}^f8fiXHf|u1=yr:TJ
ZJT]cn(+Stff"qm'r(8-
?6%Q { s(Q^Uy0+)^M&q
%*^BdY<2iE,D U_+NI!d>F _p4T@2!n*qa6UEtg2!P"BZ=<ViB7J#V^6.Ti}x%[+yr&};da/N+b*s70T*Dg[*4=}e\(S?edR%.G v|\p>TR
ttp1I].t/p#GjSZqg.d&}.vQi.Fb}AFT_QKLC 3+b,@?0@	,Q5{,l[ <BF<eF3eG(YN9,IX}L-:ph}>c(])#Ov3>mI?uJK@{p/"?qoPl2SqN~;l<<TfDRpEj@OVLnmIU9
F">IHs*'/>f@!jsL\nqr+]omV  ;rz7^
	 >X(gA2Y	=}we!m0Q2-YdF'
J<]'mHW8Q/Pn+i wfkQ??1ho519Q?yR%dX|('A+#+	4_gV"+;<@:+Tj%{97G;mAl5FUX/5 i m<14X?h:QYk^H, K5N?RlUh7ot[(Ojr[;?#~Y^XP pP~Y~Y~0{3/Q~de)zu5_6>@7_qB^ dO.Q =U^Lnpb>Ef	[\=}qf4-	s\2*{/tD'yJ,:U:r_xa	M52@Wu^ zj4"9Fw6n
jkr:!is#QcI#%pGPF9U3%Z&7=M$Zx+p?>~6)=f_;";f]{}ep1+'MnS]/cD$^m$nL,|r4>?	,,89{,^4e6<xUY:Cm6DT 8n"6$eLSO3!#%(~+NOOwx$I5[YMN,8t[0-id
/C;^E6:q2=}@7I1y[jZ
@~;n&0\A<}&V=M gc&j76,xZv6"fG;JT@r 
. LW?LhgaPhfu{S|ycI=M>%EPi{>V@p>{oF Um2Z7FH-b7tfE?B#%.|YL~6}Y~Y~YXBj7Dj)7^?^92aXjU@nwT{nh9<x]~x9"nr	t4FaHI1@\0?;aeef1)Ajv2p6\rAW4AV9"pfra:_C~R$5MGorhd$MKxQ#c
FjJ)$WNZ =[1[!2W44u-<_!9=}X-|^nSk8
-O_!Tk4@_)D:el(m"6uVJ:G]sPa'p((=M((*iJpiT{5Is$nm$ZDUqr7-H1HkPOKDOJGMM/KP8MIFG}Jb5K5	WNm8 .77u7Z2;.Z~ylY~nY~Y~Y r]v0#b~$i2u=}B,.-EbNF-@TgTHBWoq--Hg\E0zKL[xIuP-hDx~ 5gBEpbr:-h/XE|4{I't[+@(}Nb>Eaka-mgsroIpo;"!l"5M\-ij;7,pG	X@9dw	Uv2bs;KH>U	a-pNXM]I )=Tw=}&Pp$YdV	WVx7B*;r*>rqVOAB J=}rJ*o<I}CjGA
rR;.ohp6
<_?Oyr!@,Wd} ><e>\T~@Z3\f#fz u~9	i|V~Y~~
~y6pR]""(WhapF=Mt?[v;bOQjqs6nV.=M(ivG:q.
7@dU=J PH5EA 36MvpK3Q%WxX Dqyi@Fgv:t=5MN[x9(%(ycy(7lyA2iU@_'%PpIT'r7RKs06;h9T1Pj2jo!2e,)8k>lBj*st.1+:kdZ?<c/QTIx5l9[l&7qHJ[#;n!h%rVbo0|"*3D;dc~Y AX~Y0~Y~Y/Al?dx/3
F}rbo+!5C8K(X]v
Bu*UPI")uBDm,~3yA5U6=,VB5Kp%qTjuJ5t0y-VpJ[J5g(
i=0JE=}nX" R(uiKcb}gx,&klY=M-&hR@Tg,3"";b$dp*:bcc![!*aeRG(nwxYW*_O@) Qm:NC'Lbp409a4#j{IZTxAF#X8UGOHf+^@a#f;hYKv<iQPNlES0l 
i%c%|Y>B~Y	~Y~Y~)}d%Xq-5at+"nwMk=} q?oj B)7q*9\ko
m(+"9_Kd_)\^Lao't2m~,x,=}j^gm(XTJT.&=ewR|o=/R1\1vL>/?>X2*U
{!!pZ3rRr4]d\Z.9=MmzI
.g,Yy,\75=}h\zd+/VG1LQpA%Q+No%wTso6otC**Crr@ih0
CrpaP3p{y1#osG|(aQg[=}zd  *	"_	%e&D!Fh=}(up5?nE_3c(t(+NL+IT@< 8_]3?M{SO+B-eY=4 &MH=}wTAFI0r}wd i^*t Y~zU~Y>~Y	~'@fm \aPL?#!m9)v**)V=q0CM0Q<2iI2H9A#t;#_o2l1>/V/2KX=}rqp7<
qSoqi Yxq6jOaoBUD2qE>W'U|9X?k3leN<V=}XN,4 jeN{^<P6YEvYUY6]12|d15&}:v!i'/+xb2/@*bAXt\z$P1t=g:T_(n%N0FRV[9|s-[*f5].k|_2vuO>3 D+*2.e2J<Zq$aLz/_Zdzy tu5(usR"}cgE/Y&zG+4ilxJ<3lth1u<A
9r:(\mcAhYqa5S,Q}Kod$8L4MOivmNMC,8Z^}K&6?xtH	1ROaB+c}#J?k+Ke@Zk;_9ITNe+g;O\TOx5A0T	_$fbjn=Mwb{w$}Uvv4?g*^q%[-[GlOew.=_pC.4,/6RYB,;&St.u'E=}y(/3lAh6Lt^{9zk/dqg)65+45S8x/JPXL/7fh")y'}~0
DB1
sZ"\:46hE|[l(Z9ar:VBE*yBELQ+xi<S'QHqfK/O~Gj,<N4nL+:wDz?rCc?'p=}]PWTLE0Ml@[^.kR=&cQY~=M~Y~Y~Y~	c'la+clO'3JHld 7V0p-?pg<?4od$+H5Z5vE=>G~];fmu~nZU/6&nANSHM-BF+TH7KoQm_dH(j3b!zMi|t=MIio*(J#_K#4}=kxxzT}w_w	Gi.;O.aYU2"JB&VL/#/S,|+E1r/[!l+Qi+/iP&au'a<K9	f4yD'J g%VE41 grTe 0$OWkXDs9B<T-=Mr=$_2'kj=Mn,?k"'->?tsdIn(wc8
LsXY_
Unn62AS.=0@zrrp*aLDFs:, *e=MmY&+DvwBO[Ez3O +C8OiN;&'H'Es-Ofi\*6 ?w15n4=l;C0I~F!=}kS9R/d98Tg+j4s,
rc{41,3!|<gllM|L0,_]@zzHvC>$Cqbq!	&
u:hClm}:UkUwBn'
\gID=2Ry_;;rCK3sl#^;*.,dHY:EbBZ:TpEXKGY%lN]bIO=}(N&M5=MGFXQfL
}-mWu#J,zZ<'p}/JXs}-)ZOQ
PibV&~I.]]3!yh%o1x*#WYPX Y0rnY M|Y~Y~ibap jza/ao
}m+FJ~C%A
5:55R6d 4A(y5	.;v G4IPz:)mlU5Q[^ u.lBlFB_mwW.bhVQw-;X>k4!T:F2P+b5%@EoEc=}K0C!W@i{6zD,]ij87+A m+HQaSY|ND5Ux{0}=MM[r
o-wj$3t_t|N,e=vyH(hs	Xs	O*B!xH&]Q.Q0E]g]W+v-^2Bg /[f#.{=McRiDTE
08'yev/3/{=Me%=z;AI?a<H	i|=}+Vo36t%XwA	lzQ-T)NP;>hG|y/
pIV_>|m)WdJh<nL"	jA~ae+~r|' *IA@1m5k'6'&@eJVn<
]b(QGhne679]f0rovb1%))[7.ji6w2ww"h)!g6t>pvR3f%ULYaP8*<.[r"iT#z;Rm3$JT+l6&IdTd1d=}U)CD)-=%"'i;dja)}fY%p_-c!j5r4ho0C-|"t-iBj)MQP2,N0}hh1UP1R*hVTA8^BcnX4A^,;a4tn6^6gV95/;V\<dHgn(*=}mLwJ?-(v?iLYJ@LiHv]&M3 755	7	U^4&/q	py
qUR?&e\wo-8 ZlFK2liu-;J#	83SO3+|n.R+[SE;F.tTIIU;@N\M  f}7m=}kY/HPJnR
)GBsdXiEU8oQW-:LEKH-]=}=xY"_P8	Lh _=MtMYyTcJ&A'w\A!{x]NrRC$F^kxCm)EOT3x/	9yoY4/(dG<-l{fj~kq&kXqB6,>uqLu4,gWIAeX.X p	5x^\AtOV*o?~.?vn '+l {d!sr6hR0=@J;g&f7=}hfq7P3 4{|$b#/JYN~Y~Y4@}X=Mnq-['^[;B.oX,o>g7I:3],'X]e?=4ohpGB4E7H-99tS\/f/<h*UV1V/?%I@
}Y:E(%nd^W1%C=}Da=M]587p&5-%--mZv7k&-CCi4D~pw>IpNbI9t=bvs=})/W)Y|Z7yU[\9*nZXUWNbjv!;nz j8wD,A;GYr@=uvlKd#&$p
"cK+4D/ykX'utkg%]7,N;1>k)oT	}wKJ<F	1		KV	y.{~eRF]UDF8mbr-
Z8Q\U]Y]}d)SvN/@o7fwB
m	:r~=Yvt:"?&bzB,dG=M<ynlq@!{A6
vTa.^ =;kp|#>.[lJ^8npZyos_*dwf&cd$*YHw.aE:=/N
4Uzyw+2}juJvb9
|!(|\(~#c/ua3Q3%kk8&_>'E)[+{+N=M7 .)o~x_jf'dlM;ve=}B?OmL1-U7Et2uF=ME*\jiB<ha,z
4 hlqoJ$uyW4!n)[dsWJo52liM|tbr55O-	/-Iqf"WC-!~VlY~Y~Y~Y^$vPkCf$-?lZ}=}\],Bu&kSVv,0T7{
,=p3\,3LRl9#o0m\VUz(Ms(qUD 8g1m=}uKEuDm, 0 0Ws0	u^@m=MD+qv@ x\<wa3N76	FO<
:dFb+6{H5T[yi|
A5^n<+
Yk.=%U"y.u	X\5j	> 1Z<W})z|n*\4&t*k\>f7G"[n: b|~BN=}]?=M2jK*2wB| 9X{
Bx <
_#Xw'#=NiKZ(m7VkM$8'~b_E=My+\=}.|E|++e{#~Y^<wY~Y~Y~Y#Obo[/sO+uU(-Dua(A&pGh Mt04'h3j%Q%UyK+F'?9(\62v;e_hj=}'x_}yi9 =-JYv*>*c6.,hl4Y<GfR}2.O3kvq,TNm9,o,Y94&Nlw[X
kmO6)J]0e_E3TZ<l8Yb
=M0$(=}l 0 a1t]0m_t
@E HVE1U@}=q:{G=MsN2dXl(I52648
>V$X>Clw>/Vhwf.0=MWS^. _YS{_Kh" >@]1U\s	xq|?Y\;dqUMfy?S@5FQQX\/\p:. -AB];b 4_k|21;\mF$2RYBy
B%~q\VqJ|Bz =Nxt5&t~Y|	~Y~Y~YnvCm$lVkcb&c\"u-F]+R.+k7<y,)k3ZFLm:PTZ8gJg RzB?tToVnkVx:v 	~<%4I <W;&vK3QM%Pod>E(%[D(T	8hYwMoC+nzKCUmf!NwG>iY5Ww0Es!0bsU?Q6Z9q@&]x|\@%a-@d~%M5Xv~&!o&45=}lE7l-$5M&lTJ=}U:Vz>[BAZptK_h|.@Xf.@ZK%"Y{f!>U8ZcIDU*{@	QS4|A5E*&m*
]f*k9KX|l*Az_;v:l t:an=}q)]v9ZfHs:yZ a\z2<mM'%*sFz+t!]SeF2Ju}o2=}lkB0=}Urh@ZM
aW(u=M=MY;uyk#VF/z"7, +7TG3=u0iM3^ALN36f9[#V~YrYy^||Y~Y~B-(d.L	CLn;d~L&*{|&Bl6cG6:jG6HalB<;5Hx1>w=Ja'4&hRS~.}AE:/@!<h7]M '
Y{gvb-p>0}v,}pT,U}Ii>jX{n>}*L{*f0d2{s*V?8ZGEfq~: ,s:-X X:*\>uAn~xP]5-n*\D"l2FEKcF=M=M}h2-raF2	A~2'z
@JBs6f\yxJBo[l	c~<B2 o70SgoOJHif}!kCG#O{VuD#gBL
d_%a0MU{2O;_
=l%.:=EA6p75PGlF5Pflhq5G4<_5	>G^5z_8TQhwo-SbGE-ZhHs )O<P^
F~.-CT-IpY7=}?9w;8uzKwwO=}rQx=}=	@w=O\pNf)d|YpnY^~Y~Y~Qi DD4+3?]DX.:3+SO]$s8VsRUuQ40UNbuE'U=%P9bTU[0KN5878=v78;8O>7~8	78:7Z8%!NIR,=M70
lo/	w
NRw
?BW}	!rC)tDH6T:%v)V$LvPAqV_]UqoMqT]qJIEt2	9qyyQI)@)h}EX~Y~~YaX~Y~Y/*-:aF{Bm*,aFjj1| i4Y-8i1~PPWk"7<1(ygW{iUFj1 uwyV-rFABGplw6H/MAZ|V_?|9QTnvCr9Ab	>je:en[VeH/e/re(5)b=MeiN9embQ_g?<w  o{~g& {D~Dq =MHH!(m.-m{Y]m|>mBYm[qAmy4m5m'<mbm(8QmGm^@momn6Amd>kt-_ya ((YjqhIIee%a87Qw9zWmW5/,	Ag<??Sq+Z|{YKajcw+m;q|kjw;u+qlp~O	/>9'V~YrY~_@~Y~YYqV6=}1k5{t\=M1ufgZ'j)1=MwKswtWHFj11 v	o8b229ZB+VkLjIX14Z|!c+F}/1n_ rDj}1MB""AFfF,V5<&.T^ZtBVC4N+a[G74J?UEAP<=}.^'dQ
734K'Wt?E-T]T9TQT"$Tn/0/p0>/|0t/^0	/U0/j00
/80:/0w/Z/02__E""0/b/"0hF4OW0E.?Tg,EDA)Iu+'/V4[tR[9-,$gvETE_Q4-	Xhy]H4;=MuY.XhtW.;x%|o,+cKzm/P.h	UI.Vgq4$XG(^GP],>h~PqJ{_oL2-3j'{@+:gnht]'[,R?)(A,rhM:EP{W".yGv:r,C_
KvBk$}Y~Y~Y~Y~Y~ b=M!uy=}xj	(sf	>*ye
(v
>wnt.9J9X9 GAY	^2|?6;JRpNR@6n=};iWJZ&k~c<!@ "JuT>RBQbUCS3 _(C8zD"LzvFNN z~ QxxrfIYQX1
ONOJw=MZU!rt{=}>>^=}Zw$YU>r>^0vG@9z_pM6j@^*^=M^n9Z*\JHw	
QFZ&X<)*B_Z47i9Rq/ wGalA-q4v4f:;vWfT
>V<rCZxHpVfh:!;\o9S_l_1<_iy] zia0QYQ>pHA9PYfZlNlPR}?uR!=!ka!2!|2&NeA2+j >[rKL>j.i\K_0R_C/4\-M;&gylWt \MQhG115	]1?=!]JFQqA4( DLo $,Ui]6[P/oBAlWz<q%g\-AO[]S7N )	o1Jd
av$<4cy,=MdS=}UYxq&tkAX?$l)tk}/\261i
|o9!530wG=fyU:k&HK/o
e?I5%DK}s8!
cS&z[n,Ba<2Gk!-5Iu91H k)<fT7O|gYV6*e5v?[gQ"6[r+jRB62"va&RiZ4r"bb'C!k$	4_=#F_=\/@^}YO~2LYvR rov	Cs*{~\@dswZ9;:^s[(VAvYA9Snk)}'bc'?zFQ)(dn>c=M^>n7i/9Z3_P]yiF@0eS7a=A$weZr4WT$-RnpvjX+=:_qn#:0j*
AgRN=P{S>9'A$
"e?Q|m- nj?NkZp@]=A5ks7=MrqF5^&A6a4Z}OV49IqsrqQ]t\aWfUlwAMre0 @T
3=(QJH5iwp!6"a=OKB4V><Vy9VH2/=PrqUT8{@|,3&hUATaUA!HK4)K=?!_x~1_=M"ai
1__	@|a7q	aB{L+6+n+!Z.:-.?[p/2GxqtB[uh,\grgvikjnUbMAUd^/F"vJ;?Vi|x[!=meuKrmrxOUW6YPz=}Bay@QXK!wYT};?O.3\[VXB4"@Q:\D_6W	h!3d=MUxhP)c"~doX~_aSB
D
=OCo  H.\QC   8Dwymi=H0(`});var a,o;function s(){var O=o.buffer;a=new Uint8Array(O)}function c(O){return Math.cos(O)}function l(O){return Math.sin(O)}function u(O){return Math.atan(O)}function f(O){return Math.exp(O)}function h(O){return Math.log(O)}function p(O,P){return Math.pow(O,P)}var d=(O,P,k)=>a.copyWithin(O,P,P+k),g=O=>{r("OOM")},m=O=>{a.length,g()},v={b:u,a:c,d:f,e:h,f:p,c:l,g:d,h:m};function _(O){O.j()}var y={a:v},b,w,E,C,T,A,R;this.setModule=O=>{t.setModule(Th,O)},this.getModule=()=>t.getModule(Th),this.instantiate=()=>(this.getModule().then(O=>WebAssembly.instantiate(O,y)).then(O=>{const P=O.exports;b=P.k,w=P.l,E=P.m,C=P.n,T=P.o,A=P.p,R=P.q,o=P.i,s(),_(P),e()}),this.ready=new Promise(O=>{e=O}).then(()=>{this.HEAP=o.buffer,this.malloc=w,this.free=R,this.create_decoder=b,this.send_setup=E,this.init_dsp=C,this.decode_packets=T,this.destroy_decoder=A}),this)}function Ah(){return this._init=()=>new this._WASMAudioDecoderCommon().instantiate(this._EmscriptenWASM,this._module).then(t=>{this._common=t,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._firstPage=!0,this._inputLen=this._common.allocateTypedArray(1,Uint32Array),this._outputBufferPtr=this._common.allocateTypedArray(1,Uint32Array),this._channels=this._common.allocateTypedArray(1,Uint32Array),this._sampleRate=this._common.allocateTypedArray(1,Uint32Array),this._samplesDecoded=this._common.allocateTypedArray(1,Uint32Array);const e=128*2;this._errors=this._common.allocateTypedArray(e,Uint32Array),this._errorsLength=this._common.allocateTypedArray(1,Int32Array),this._frameNumber=0,this._inputBytes=0,this._outputSamples=0,this._decoder=this._common.wasm.create_decoder(this._input.ptr,this._inputLen.ptr,this._outputBufferPtr.ptr,this._channels.ptr,this._sampleRate.ptr,this._samplesDecoded.ptr,this._errors.ptr,this._errorsLength.ptr,e)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.wasm.destroy_decoder(this._decoder),this._common.free()},this.sendSetupHeader=t=>{this._input.buf.set(t),this._inputLen.buf[0]=t.length,this._common.wasm.send_setup(this._decoder,this._firstPage),this._firstPage=!1},this.initDsp=()=>{this._common.wasm.init_dsp(this._decoder)},this.decodePackets=t=>{let e=[],r=0,n=[];for(let i=0;i<t.length;i++){const a=t[i];this._input.buf.set(a),this._inputLen.buf[0]=a.length,this._common.wasm.decode_packets(this._decoder);const o=this._samplesDecoded.buf[0],s=[],c=new Uint32Array(this._common.wasm.HEAP,this._outputBufferPtr.buf[0],this._channels.buf[0]);for(let l=0;l<this._channels.buf[0];l++){const u=new Float32Array(o);o&&u.set(new Float32Array(this._common.wasm.HEAP,c[l],o)),s.push(u)}e.push(s),r+=o,this._frameNumber++,this._inputBytes+=a.length,this._outputSamples+=o;for(let l=0;l<this._errorsLength.buf;l+=2)n.push({message:this._common.codeToString(this._errors.buf[l])+" "+this._common.codeToString(this._errors.buf[l+1]),frameLength:a.length,frameNumber:this._frameNumber,inputBytes:this._inputBytes,outputSamples:this._outputSamples});this._errorsLength.buf[0]=0}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(n,e,this._channels.buf[0],r,this._sampleRate.buf[0],16)},this._isWebWorker=Ah.isWebWorker,this._WASMAudioDecoderCommon=Ah.WASMAudioDecoderCommon||on,this._EmscriptenWASM=Ah.EmscriptenWASM||Th,this._module=Ah.module,this._inputSize=128*1024,this._ready=this._init(),this}const cA=Symbol();class ak{constructor(){this._onCodec=e=>{if(e!=="vorbis")throw new Error("@wasm-audio-decoders/ogg-vorbis does not support this codec "+e)},new on,this._init(),this[cA](Ah)}_init(){this._vorbisSetupInProgress=!0,this._beginningSampleOffset=void 0,this._codecParser=new sH("audio/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}[cA](e){if(this._decoder){const r=this._decoder;r.ready.then(()=>r.free())}this._decoder=new e,this._ready=this._decoder.ready}get ready(){return this._ready}async reset(){return this._init(),this._decoder.reset()}free(){this._decoder.free()}async decodeOggPages(e){const r=[];for(let a=0;a<e.length;a++){const o=e[a];if(this._vorbisSetupInProgress&&(o[ay][0]===1&&this._decoder.sendSetupHeader(o[ay]),o[$p].length)){const s=o[$p][0][lH];this._decoder.sendSetupHeader(s[NCe]),this._decoder.sendSetupHeader(s[MCe]),this._decoder.initDsp(),this._vorbisSetupInProgress=!1}r.push(...o[$p].map(s=>s[ay]))}const n=await this._decoder.decodePackets(r),i=e[e.length-1];if(e.length&&Number(i[Dc])>-1&&(this._beginningSampleOffset===void 0&&(this._beginningSampleOffset=i[Dc]-BigInt(i[cH])),i[uH])){const a=n.samplesDecoded-Number(i[Dc]);if(a>0){for(let o=0;o<n.channelData.length;o++)n.channelData[o]=n.channelData[o].subarray(0,n.samplesDecoded-a);n.samplesDecoded-=a}}return n}async decode(e){return this.decodeOggPages([...this._codecParser.parseChunk(e)])}async flush(){const e=this.decodeOggPages([...this._codecParser.flush()]);return await this.reset(),e}async decodeFile(e){const r=this.decodeOggPages([...this._codecParser.parseAll(e)]);return await this.reset(),r}}class DCe extends jV{constructor(e){super(e,"ogg-vorbis-decoder",Ah,Th)}async sendSetupHeader(e){return this.postToDecoder("sendSetupHeader",e)}async initDsp(){return this.postToDecoder("initDsp")}async decodePackets(e){return this.postToDecoder("decodePackets",e)}}class UCe extends ak{constructor(){super(),super[cA](DCe)}async free(){super.free()}terminate(){this._decoder.terminate()}}qd(ak,"OggVorbisDecoder");qd(UCe,"OggVorbisDecoderWebWorker");function Ih(t){function e(){}function r(w){throw w}for(var n=new Uint8Array(123),i=25;i>=0;--i)n[48+i]=52+i,n[65+i]=i,n[97+i]=26+i;n[43]=62,n[47]=63,Ih.wasm||Object.defineProperty(Ih,"wasm",{get:()=>String.raw`dynEncode01a36c6f98c83%y#6Ih-^*:8J#(3s/.*[v\z(oBMvm1I(&b?0=MPxA%T=} c0PN:QM_qA1k@6uk9F(Ac  )T=M]+aBc{!_#'.(hB\0E?s*i9)~Q6+=MlU<igW,$(mzq6"o1GwY$)(!j I,X_=M6JX>$F	M/=}WsF$9PsH03PWqC~}:ta/sdv[<x[0bRjzhqJ"'*034rv[B/9!rn5MEk5?7k,*drk4Vjooooal^=}MQ]Ql[g=M9	~3 9gGze	ulf	|Sot=z<h]9:#D3Le	[)hf?p9
Vn $%1rn:f+|;o:*W(J+vOb7<	[)oU89~3VN&vlGk&M6 6!^ vBL,Y+jLRekX\yF=1X1hQ^d@!G
 )+wyIOi;gR#'%fP S[Ec&0v\G-pSX-UQ<J#i"<o;6i|#mY	=$}
q_.}XixKQQK=MK8RM[@4(=M2 
'e3<&lw"j5i,{~OcWJXnrg/	lzdI~ j=Mv0A~DUn+mFiFU''^%np d)"~VYg}Q7"]eFZ0 v dc^i\	qd-|7{~UrV/wYF',nVcyi7e$ ~)&$d1G5S=M@=^=}QU:74t3?vs
A4e\WX2l<U{>f#pH5_r,=}7==T	qMa)_;T$k"b"l}"D:o5{6Nn?=M)~9* @kc$ne&^3/V"13H}oT{Z=j6_DKMw.tRcI!fuWwYYT I D=M5h=MtYn~e
ef1u)tpK*;;{Ot;pSo9<{	SS!<qVl>,(sU5-^SC%(%^}3I4}|
^h*{rzcTd<xOZ5?Lsk|L; -)rSXYWf{JA.pD LIoHI{/='+y3Mj:mP@,0	:>!\0%wAGi/XkK:PH_rrO8u=}8QR5y)P/!5Z#l;40R{W!U1{gTu&iF7zHTsCuPY$?*=Mq?N\d+iyzp(LvP~n:=kO~?Uh,a[SP,uNI<}:3; =@kj;@#G:W![>YyXvF?d!_o3)f(L~OM{^=Mu]6c$T@{I=M{d	=}8>LlUm(kx;Z+@XF@	h<FB+Q BG=hcWI
21R]r}^o'<<qNun%vu0lS% *5HV9O tn#heMKg=ML&67w+qEW+/M=}]z?H+'S [9j6%n38-1t)	,WGQ^P54wxv70FI,47-+Xdo6H=M.pU$7B)(=MO/k4,NHEzq,j[Ii[luBCsX{w+\;K@
M(Llvi?QP>fv;RMj\z-K{|xJt<a/}F|h_ Q%<g2(e3/m6Y/=s72r7 xIuhzY_1nf>Uc|zg}OU!%@mv9+Qc?'4c%%A'.Q0dSC%$p:(hLd<#h1X3.KqeH7u=q/<\iL$wGzEHY7RNBA8&.i? vch=DWmcl<|p7<#lsV3*5H]5Gqw,uhuJvJ?HL*,wB56T=}BWyM
[m)iM
e(78m}=w^kF#].'6"7*	U71\gkunH[[13.'5uCLBgaV3_vOqaUZ<-KsZ~\!^2^?*\RG+l)Df|]\x$4w9G AvpZX@@p	4z&j3=M=vgURWd/x+,ae*1vl
^m"@s# ;r[B- [a|>]6JHX@:{=}q!K "A=M=z*1z^5b*mZU ){
8ApG FE19bnX&>~1$5@a,'<i?2U;pw u f@2>y2LV^sY8,FQ<uDR.O lh%icU4Js|"VhejSqc5T^'l S#";R"sYY k 5wBYz
V9-[,\l
yh8@i1&q-b:|3d"YI_;UpCs]@D T\,"jif	hg> )[9),3=k@H79ywWB)*/#:%Ku3f@Z(M=M/}PCOCE?G(Mcp0YE$$IHXrpk%>n @-\?L}]Nqli3v3?r+4 )H}Q*8x(=M=}wf4FR!"\VT)jm8McFrH8[c@Jv
Tb!r~{%u3pC0wnP/{s5!f^"Qk5-Dh6 VGH#hdi\-3TE.[fLJ,KBF.Z*EV^
f#uY)PfZ	I2Ux4"BUR:eAAlD,[O0b){un\a?laP+ ?yw.3;+@>=}1vQ%n<_F!Z}"S');?LIH0#B#J=}"\?rp2q(=MYh x4_2gXP/_F|f*2 qcS
rQb.68W
gz**YbY,Z$ohdr #0^k\ umnxA5kmW,iL4aavw=M309WTn:-*bi%b	na
wz ~	/<4fP{}I1b=gM$7G=}sdP2UBeM&%T
5igee'"Ie$WK*E=M T	 oC7f*LBGWsnvw]0LQiK/	4tbU,2tppkJD7D8MLb?;$1\iJfAMCu)Ux}j4x%^q&]9F3+c60\7=My-)FF2g=}2H?.=MORl;U/ws:7p:ZL*wE#vShdJNqBJVAve7,@0PRC5a\}xr6poG_7dqwJ3|FKc+/N4J Vn=A,*=}o@b=MAf_JtSLI>Ix'=MCV^>V9-|CCt[
Fg7Wls,d%zjGI&)AeQ.:V$Po{]v,NXP8_#12u",4b"&Gz\g6&{cif5[=}#\e}~i~aN@v4Ll=}YEQ8_d*8Ma=M5nm'q\/+!4g,TN P0}[zZr)E;N$=ad;X\tI}TgrGu<rB}PB=}i5)Y.qSNaT,Bd'~h%tz{DW =M .ve6eRfhzLLRY"&z{4L.H41~dP lr*piz.a^/u?aelzZ>\=Hs1/=FeB{fU8gr4	 +@Y+1'{	1~F{M\5hL+;f4Rs++p\(KR{0;&e9l-Ez{D@Ct Hv#=1H/10X!L&[(h|g4Y~#'JdF4TbMSOr0pG]LUH<O"N+/#/]0DIH=Mk+v|.UK
F1c+$P7J>CKXN8G2g>}r.&Wq
6%!MU=}"Zj=}Y<upp6qf;	))%			^e	I!=MYNR@/mO(uWu!Vg5h8,Ar4Afge"Zz
i,kS%>6u
{rJ0qvHS8hmh<j
\r'mgB;9i{Rx+Tz
v[JZm[4}qR4f~ |195lK/=M0JNuMY4 #x|=>Z:nR{$* 2>%m QdP-
oJcNK)63W+nAWqs#F
6]c&:=}|<fe^	4#s^MY=M:uygmqErHY>?AXjb& 6yxH'+5pP*Gz7A)-	0BDmH +0GuRMGm/Y<go4H=}6-	s9u+,.0k5.&pz|Zdh<=!gaIC;|o~){P<F{De9?hB-
1WDPzjZ
aDM}O702?A,dOYTKm:hdUo}mwM!UxCGHFGfnk:e)ToHpcI#|&4qYwAE0x''=}D6j^p~Paw
N7~j:G H smm7-=}mi'p*K2V^%gg~l
o)k*cJ_ =MIj,KC}}Ps._ZN#G?UJejz(}g<68eK>$3s+]#[:J6@!U i{==}iU,m0cS$VN^7#v#I/Gu;0xNqJd-c;n	"QRsB|I }'C@/w+aAI2+1TOOz VTIn=}ga;v8\GTwaxh{dq_jJdGjyS{#*ST4~nvZmo	t]PJDwSTj%99{56#ySDvaw1j[28x8 EKv|Uhe(UYDSL_(4Ot=}w|8Hsfmc[DotPW]=}sKLV6kfx(&Azq1Q+j'A\BZd ;W*[$|ue&G{oaF=}C"|pzJ8D,eO2f:8O5\TFsP+#5[k0E{!W=M=Mx+G,?	htgw%uun/%=}PJKqCG=}S 7{8<<k e&f0&=}NhaT%5ldU|p &4^v2{h 7+xHdj@mh,f9P^"ewkWxW6?iCTN&pH5=M:dR,N:z4BZ@ 2it/FXOs0(R:zuw?d8\Q/9/p_2WGy3f8IV9I.\G =M9U+}J~@oq_>d1I=}=}I^p+k#ct(C=u+D=txtt>n*TPJz+9"2?]&KiNr/SLj{{OTd#{	c%ck{]j%61*fazd)O2%Px%ySc]uDG:$3&m=}J***1My61o*x~dScZj.=MeML\c>@f7~{
YQd0u&qaWg
1.{]1nne;DYRYjv-aR\=MVMANdYam+gHhI.@bLb%PPolIs,w/*%~@n4nN"-35<itQmJq'-:]R2yOIGY|1~n9\dQ~5fK\baozfnaZB:vn"glor1M%m_KJAkb)3L=q d]:}x--(=*fQ ]sFdmZ,^dH!7d=}6E
-/o=-P=MQDY\=}.s[rGJDob!S_pG	HT3ddvK[YMrcuOwPYM_n,%r\,rz%m:haMUNy=}vSbaPSNciFn;?]	si=}KS=}ahG|,f"'dN
3"A}U/.mIb5
mO [wm 3IL#W)_k4EKd%#4w: :;7wY|q7-
\o+V~QwD}KhD)djc0,};)jw3x|=I$xiKSL<m<o7q]o2
h=I)Mv*;v/oKE
FVV=}%ErYSHyG9*y9)!,5d/fV>6t
FtC5=xK	p=M(+~=M\:(5XV=MuS%$ik<d-o55o!Lt	+4LJfI:=}h\$8%?}^(;LG;1j#y:pQRE1WMG9uwG"}NfI%uzzoj)9C>ojy-Mw8,1B&!'!}u17HMm+	]oQp/<bC2|~dr<.:a4TCEmi3T7p#1_\mguiz$|LPzu][d=}+AqSc'u	81=}Y,2k#C.ea7G7D3l@xnN)]D!UgsMp9'B\#5Lkjy4[/R#In^PZm70]D\YRBA1F6."ff7J7!P=\Qzw%uUtI>_k!ORiX]GF	hbo	"_	'9M,Z*IOI&+1av]8u91Fc=M\#PCj&Y7TE:v&5I})S/ctvy.iu8I	>4vy%KiV@1 X3w,E
~FjWCGPcA,"s(\[1I8@nBK	tj5et~;d=M,?JuJ('>i7k:8g4HUHIh)H<OAJJ!}mW=M
zx=M/
N+v-I.'_Hhrr&% "uI%T%O vGmF7%2c=M;x/#g/}TIWtB(# I#Z3l*:P\J2M\jG=/qYT~FqnDRnd n,E?9+g){P :Omc|cSP{vD0aABA=3V,-sB/6W L\IhWB0z*/8Vu[flIG0=MFhmfB5lEPrsA"1n8x3'7-g&5F9	N[&WL{=}n=}fWI$1^1zF%Cd1
(JB~ok+]7<<2;,|Ry=}Cy<SgkAj,R]7YA7h?3(svpZWeWRG*
!N)SMk8AoUD
U^?AfF,N{+ILk=}|~T;V6iu=}UGa=Mh3	~c.}U7Z0@4f/<u/pk;8~0<XUnEgO#lO3:53j.6(To./s@LKt%#o3$'|.	iH/^*\;sySy]l~9wMnW}C,/&wP4nm62	jYhi)ljo/q9("{3-HDjIy2iVUS8O;QOPzYd?{(Z\f0'fm9^!62[UB+EP_v9pdp0],aVVT$#6@La:[T%xqADr#~=,BZ1@w;BH>,\gu+z#W:xHtLwNeG&w0A	Nhg[JK(M/o=}H>{N-pLG~%S|&48~3'tG90xDj0-6'"JbSBn%wf#i&=wC2t'!@m'qa$UjKkD2 Y$nNl bB2:Pbb!4!0Pi[O4*K1)Ek=Mgh,~p_ynTr_	0Zo&a%{g"+ jjvw]rdGqnxp<^L* O1LjK=">g':S>BqAsDs~KZ\I{$S6Ke am+Tfco~n_?zyGYNK]gvHb)'5Idj>W:ie=}kJ=}(+%9g?d(xo7s&Kl"zYkv#mO*sGR@3'M3.BB]=a~SQ9,x!@u50*! y!pVWvL4rIP26j!o-<ou@;|Y1H\t38n~;:qB@uJ>lQ5 
*j$^r\ \\Ml@1k+2(g+Y:X5%ji^u| QbO^[)t+J
%jfM@V2Mx9V8Na)4f#Tps!KPSMWq5#AJ'gdkza)IK6'Mj=M<TnVi=M&6hO]M6o
&C^X,nI]^zdIQHm5b 96i0}A+
Rli3^]R6iv)^\^UlPc"ZnGQm*L\@a	w@@Zr&b}5lr,uTfG?"
>]]|C*h&aX_[jz|#(BN \}Ba&WnG$GEC=}G9$p1A.\j=MV'Ns5Dh{+2-'U,sK-*uY(XXXn yF/EOmE@vqR(QLW;\bnl=M<aMUVU?{2^>Se[cqP*_kaUpv|fN^:7.6x7\<$s=M;t@d<Rz[l%m/HpyS;;g"s;=d 2STicQ.b/3i3o8uCj]$xOh.s~xUw3ZIFBs;!e-dej L"Rejj{ejjWyzbuiW202U6=}Ge3>_MR^ljs-g"lb]D_Ma dZa ?%JSy'tUDdM /W/<UL-t$tM-	"*RX_hJ2R"X LWofE4a	K)@e-n@;r\c$YNxHL)pI"T"H	7Io#'+5|ic@;MV7mxytF[8Y@(KlXSl+7 :=}r=}2/	"ur;r;zj1Boi4x	?P6,>9|,9QHf9UGoA)\|ZWB4i)VUJn{CQp{\3
WJ1"\K"5liI bD\F)_jk)"~p3]5(n5kY%zaTd=]V,XAG?
/$dX-Iq.i9hx;saetlWs+}]g.m-(-dJkI%i-j<3=sKDB*xgI&ATf+k6s^^H!x@mR0Yk4Q96}vO(G~qWrdS1]('+K<;-!5Fo@e+'.d.+lPrn7k*E(f*sIHLy}J4Di.}P{B0]&[6<xxrEa=MbKN|v+<Wugb:as@r< "kDlBX/n<7s-l|'d#[O">~\'K>^	0KDVQJ,Q'^x,YhuU=M"Ri@=Y8uL DEynV	(uMDphKS~Ge4pr#V.bI}C)K6VO*i@d7QHAgL-b4IH@Zo=}yK?GE:uD&&[hw:z|>Gmz ^4]XF	yWL Y 63t@-(\*vIHy%B=}kG=M[N9r.=62- N(Yd?%B=M(#>O]9=}Ji1z6.~C=}3C)!jSnS\ux<=]Qf*x &LJc2YfE7#?:h^..=M\/@ Yb\ua7vfopb_&rzlj$YNaf.p,&1IY=}x{]%zT6C1lPZ[1 +WzzNp!n!bK Y=e+wv\J>0?cc6A_dvrN2k<67z,	YHxDxZW>>(8),/>2:Gj*&"fDT50iV%:s88^V_|P~)Z
hKB9c/Zg&=J"hLeLK0nm~%Y D6[sno|de<a3I=}n0lp	'&qD,@q}bV&53_FzOm>qW%antx+~@'x0^w)WSoiFq<DNO%9Sro!U6^w^=}57=ifd:Awp khf/axr]sFWCc}h~1jly	iO1SZPoV# qo;j3w}4wLjgfO0n-? gi@HP-iU7 K_<UnHL5)[gR.^sI7\}~J1paQ,wJS.t/$bg9*[Aujr$cwoU{-Zn<77nyZr>Mj&aj3h<U"p)%;e;^0!8&Ve'=MS_Zv=2=k)U>'(]u?JMlkh]hmVzg[]U/Py045;:-6ce0CH=MTa*;6;mm7d,Wr!'CfEU6$?y^	+=M<7>9eXe"i|~i
=(zuRh|L
fcar@PNl@0lTV.P;e3OT]w<Q06lN5f|}IlNKLP60g5&tLK9D@VG~%cv
GDKfs /CXI @=0!K<>W-4	G{)L8?BPlrnya8_jGy./A;@F~R\g=V0:hF=M]{3 p<t? J(2X}}qXew}56vvn	v_ntO-t~d(6!Zhr/'u=}mRU+9r NtD\Gb0]utZk?<>L{Rhrdg_'gfUS 1jSJQ$=M_T_D+'J86A~)Bev>0Oj%NVhd4Q+BU"X Ba.'}_A17HDJvwS2%M3qC2	9=}] gs sl{ _K[e$xScBz,C6!r]?;f&	^a?]0B_b1oXh&"GsR
H Q}i7at e o=8	g(N Z\"7lKorvG7a*&<G44kDF.?64/{rzL0sZJN-6-_pr/[F](LJ|5(0k=/h]0h?=M
SHn];9XTpq=}gsK9X+n@5)'q@ /#(aVUo:r<ZrH}:_%&orI^smj7=M^M!d~~&h/ y3#'nEhs
)(q;LbaH	|d8D3MoXaF%E	#^[)O_#c	[Sl,@|r6@V[;r7$S#G S92eD?Mf.Y&S3s>tm+it DO'GJ9lR.33=.:oE>K<?m1q=MUU80Kx XQ3:II38<J%0q9P$_IF?-ud.hv$_GT43]Ttso^svtI\ZIn]x tR)xI(z?*'l5}Uyf%=_dR2^br$0$=:Jc@z>gNV1hQ=Qf4-8X,wm5*T8*$cmChSMrpp] U31l;s),YW~>Ghchk)dQGb%MlKj=}k:#H3\N>= 	U:.c9FS=}r\N1k."TW|;ZV]:0| C;\Y B~ #1bB|jj#_5 nZse$D_xxiST 4AkT=MfRG3\NQFN }?vX>bogV l2N9o/gK~Xh#|~+Ct~Ikbi3gK(5DVtWoX]m|F+.\OswR]6	 3_@bXT;xUq=Mq&O &l(e&J/
=}ZRTOjY4@U{\h'
h!LyOgyM0m|tkL2U~QoyT$]K\i)(Qe8Ov\GK)I-6qE]S5t91^ M@~ds=M_3uun\-=}X:i}}Ct:YU70jl#nO%6Nz1A(ARO ;5	a:N!0x*ljZIj59X)<o			9yW1j+)*p+&98MxDMHB6|T/FR-Hi=}VtIqXawB?loS)K&K.qT=M:4Bp=NstVM"a%*WqhoO3n;fFK-lg&JE+v=Q(6O+XTj8p_C;7/,|p8&QZ*.XY(.7M8|Z}CZvC;TK#Cw/erB4o3^!x?.K@MtF2/T=MY1-aF=_o% A_	uxO48%@z$0k-Hbt)tV2m/x_ ;<Asvkx7N5aFHz6^](l	_M/#y4<BN"Qu)K>Z~|8zLEjmr=Bus~ Fdcz]C)qy[Vox6W-40$Dot;V=$3dC2eiW[)a_w/Z,@_L<,[P-w=M
f'.i3>IT,=M__4#'D T}gF1t5WogD+39c,^Q=M:D
0ZxR1w1..=~5e)RivKBal!%%|~?uDx{N!ihCSxKVvQM"3-Lg#5-b,M{SJIo^z7R	EwHHN44D 4Mqp&j		=^=HON](: &h/7<I-)!P[6~gGhfI Rq-)N&Gx!5NG(W',&U$=}5{w#dJRw=}m}^
=eBtKbzur-"MFm6vt0sMUc4fT*f6MW3Y=M)hIW;gtk i	kkm/#1%dF XtC	|VA4'9%	m&9}UVqli:wS\aYfF\aUU-S'-
Z:rgK2<.}3hC7."v?PU2K,F9\K 	0.DEq-:m74F*^^o#O	3_|!vg'Sh-Py 5YIQxK#P4Kyw s*C@d*#SGK~\HMzL50S-L#UBN3tETpVt!CfFJ!"7$TO~Sw&|=M_	L\&=MD|>wkJ
zJ(ZAFJl-'gljAEN<-tJ=M[3*zn#8	]qP?Cnn=M0us x2avP^c=M|1W9
-?eG-)dnRP{!J[zM8zy(^mbp%7j[~R;&x^^+tk9w?#o"bjs\xf X'~S qiX[PTagSUNKeZXh3wX[*m	!(M+Zled}!"xB9BopJ":dUH*K{HhSAU@7<t/g*ywj
Wb:b[=}w:EhQ9W6zvuX/RDS-r!ZKCb=W!RUsf(V@z<H@('>([Z# )0z|F G{+7e	=}!.kg>X<}Wj%G@G|1Ee,*$x0g,t$4s;GL.@};F*=}o/jl=My[@'n?HQ9O(nk%9OU)k%O,H(D389}rbSOgdU{S<0\oc0dr3WXz=i_9mwvG{(Hn~*4^|*+K+	5
.wh/n';
YncK4u}rt:-/snKEi	405I*?EV*p+pNxH]VnoTM8x<n|llI- { D:]5\I3(0"i4U/ZcE:KXUVEQ4^z&*E|=MA:S(LiKoj%/YFu{2Xl2$R/	PXof?dyS3n8(Q5{
 mW~k'>Cq_H|Pz}ZS9yA?4OIOioB&Wl:x<ayaP3Dr:o&p=c!KQCKe9f	!1;fje<hqNYCp#'c(yCG?l{F8q)&!^QZYPA*f'C~Yv3'twyNxyQ%p\wG]mHQo:9EX|1qM@a4+[7drXuXm0}\5E3_70[cfQ	VJxn!\ulN-JmVg37D#\FxH=MnT~FVL*E-n#tzQl(E2K7&.+%MRyj-:(X#=M@l%j% 3G{9+z,{eZe+$[YT+[1f
2@5gi7;Ki_t8M%ek U08y7NmE7FoFH.Ui3K9VTr!!WIMvHD8](I	_CYG $$
JE~9-#dpR_jE].]bsPbY"y5HmdoKx*1tuS<RTewh|P;3e}6lhh6O=Mj,AWx^yyt5.;MGd8EiYBR$ 4+U~rAo{2TA3g6$1	mBg}<Qc;|"k nMwG\Pm7m12 s#s=}#'SaNh>_rvupC)]'[,	?=b\Ff,y%wS_+1VVx[EA6F5R
{d-R;&2,N32)QT {:~Vjdj1mAs&j=}bi_zL/](Fu(4&| >j*9* &&1mcaFCU"i *?		'+:<k#PZ +5xd/)+?~Lwzc;9Xro3
$Qh
;=}c Oe?kFPotT1LN{[Tc :RmkV /R>h=MNK'54w+w2v({),ETesuf;)=M>[8%HKWU9Rc/EvJYN%{9:~2o6]Dw4IR_.WsBTFn]@Q=BR#L"LT*NiB$,{9?%n)J%:
0,?jVNIMJJx%9Koc	3*4^O."cplh(SZ+ovhdejvy=	}=}<w]bU1Lw-02C@D=}M.qJP!TF*x8|kISBV~^;)83=M-y&a_;;A{D\z0,m4qRVYBFFdbVR*G$=M	qLejbG_>%+@cK%%+bO=}JZqN81|2?AQXl%'E>jc1 \ 9H]7 >>Gf0I873D]mr'[h7dQ.hT5 "	AhN=}2
sh5.hHgNhPs4Kp%'X\XsYAE^G))=}<T+D..jSb,HAJc~t|r#HaVjhHz>?^+*=MFRTT[Ff9Cs~w?AJMTR4
1j<1h&g,RM2Vlz  p(}J>tkJ"~3*"P_#7<4OT2r[UjfC:T14
*DgBMfo|ie;^]	 /\mm^I9l0O[D-N<+}yL*?$=}G"x&pBT?a?,S	^p'y(h\5Q),7N)J%KJ%WiD=>=M
2jr60;ibC&iREuYL_>"8[L#2:+"Ax[vkwN,-% /j<
=}^C|,p[?g=Miz]>YdsB$G-Ti0pIjY9c+2Dw'7Zd?+D\@z]E=ML$!4z=}nJl38i&b \gxxsU^;-m}r09_>N~7)3rc<Qwhb\?Aih#e,9 e(y;bDz*=M)C]&+nO n/Bmd%aK/ wZK8n!%m6'lHM8D3Z~{'Rt=t={tEjpa52<"a?3AuIL5IxIWn=}Z=MtcRt}GKaGH*4b5p22wC5[k02GQXD0:P=M
'9O_n8K[Sg='j282H2\-Q]{)=M tJQy=}Yj\=M 2<v0ha*}[Fr%{ziMs @^|_[yvuo4wocujT{t4wlsOZw)H{k>FoOu&;f) [2J(Zg' 8dFUo(AnR_u3b._rm:kU
UEhrj>3jW?VtGD3_\]bl2
![m<L]!;A{EyY:cwB0E""Zm*;q	krJ!C}he
V^2"s4 ,!/^m '#:GP C~^vz^i7IQ#UKo'8);-JD;CsY %-xo&vYKawd_g{=.nBxyFf-b=Ml-VV(A/\Wt'SM.2ShFkU_?[JIt?W{34A b8)D)<L,o{6cK={mR;
rc>zl93I1	=C=MXJx:i2JIt_k=}Lg/ ZIq9Ktl+B0O=Mb<]=}hG2=}dj9dSi ij/}Xd7] #W=Gfayjn=}:.26)8NEv>E6zG4p$/[|w;=erdQ4CA\=I!$~
48-JOG{}D5{NEJZC=}*SC3qa3/U|K<(4v8ptmf%E-(9o)H-mSNw^QFq 1]wJ<\-Wu6]R-%I3	nw,w!Ma A	t*=Wx-"SXZJUz]s>HNU 1igv[8GCUnL<TI2Fz/Aq_N=M/2@=}AwsGbacp7+RY(5#>;Kn'(YM(PDw15y4,<^YL\_'Tqk!p3)y)1jRinvZ-,zm,kHW 9CD4YL*\vKlHMWxY8PTECr>g-feGS_~zSzS}Y\MO3p3"BG!+o=MPyQ<9=MT) [ lE^dj\.[Ym |zpmJ5M-8-SRl%MEa5\Gws%~Hl&k<n=MLHxF0E~\[tNp'{g-%,#y]6[QRB:@&VOS<S
.W{5%*&P{r+o
{=}%G+0&P{2-{_=}d=}kb&4%DpN {^zqg.F-!$j4-89o<49Ky	GU&-)	=}#Ih#apkcqMW#LxW_>#Jrl#a	Q2;#@N8!@MD/!!Ay"bvP~V,N>"	RY"xpa]|?<dY"{E#YY=}n7m)]
JgZoL)pb	 E=}	7DIb8s3	Y=M9J~P$B="JU[~5.FN\"YM\yFt+
m'b<:h\@X TPq;y
"bR\>.lap6cnrq=}{[Ol!1("l&N{h7faz4-a qcU]g_Q.	]r:zca. '-3/yBw0j'9K|6 v2w4PFayDy;=}>EE Pz#<,@y! ]   2ct qAHM&Pe1!XOu^J82K8Ke]Fw}.Z]?S>ys[>UhnBpR*@h@7c)-I8w|&MM7NF$72&a.1n3B6K=k4ND[Ag^\MD_8MfT>b'[Lu^[3N]v(7UHe3(sQf+sR\RirpuC&ctJ+=}.H)XTGwcMK;F+YHQQRJNX;sqK^ >cy -(Dsbx:($E3Vz0QYwj:^vf9:5\K\[!P~_~wKGs6enn(Q+ {6j1.[mtp@=}'D2LeG_wcwKCThB8#u_UnIjZI3K4t7:<R\Z'FoEqWX:PaGPZ[B3fCd=}8\-IW-aJh	=M[gf1X3D!;-DOx}{7cH;|Lzi 84%,L}.9'=	#d	kDpmU>N	c/7aT>i8sp	k;JAf-o=}K2$ed*>yIeT.E^,~q$Gdb@QI
)"rAZm??(IK^	JK): ,'LHh8RkX?W<NYPX<:=MsQiw(N,>%x|wEa)"Px@Ynz=\LuM"* x) P]&Fu
ykw_%+'O?{*X+@k7l74
)"x}W~~EuVQB*L=}_V/32eg<&i&iivkhFMFW~SRZ$qt>0)k|$Nsc_*f>+5$u+).f+[/uk<A~\gC(/XOk9'wMjcK@7iI;i Z<)aC2]8d8ax.i4;mM_&}hMswI1?eNo*("/fTX?Z&=m1iRz<k*O\1?A{ES{wg\[b=}yb5UpcQJh=^YsZ
(t=:8)6{:PSatt;>8mocA{v)4c^?gC&7=}Rh;YTo^r6=}3Vbs,3J[ht5UX$.?\Sl~WpPd]*O8Sr<)C7BjD^CHJ*?{>E{FWZ?\K+0Hdzr#*YD)eE'uM|~_%;dJw4Z(z,|=M&| Rc hMb.)|.+J|j+oDKF8>pUIWH%wR$H=MYv[f5Rj{Obt 
&%MvMU@m1YA;B2diDD4x:NW.s-OBaKB>\su=}C:'?>zrz%Cs:$m }es&y;fbcf.E.r52}i"3ccm%	#hj::g"9Be[!62nAIO-n#U/Ei!w~Y~Y~YMuz}|fgdBNg%s oMbYt%Ofh	f5Oo(h=M-2w+4e$P@HGf(N3LKCos=M*	xYw?K+])DKgr*]BFI'F%%Zm*Ob&D
*@n+O^s!|>s(=}AQgKar^f)?!u_Ri=iif L!V jvw=Mux<nMM=TY!9098h2t$2:b2jq qoi||OLwU3+]T0	7bn&a=}G	]]Qq@1] <HX ,=[t%po?~qc}Y}98ibp^p p	}{W~xwx7v(s|KVg6
1~TG8+*qY/f~WX7[&T)u~lVJ E#-5;@H'BOr,($KC/ @b?%=}z]ZF0rW7!n&me:GO 3?zhAGQoOjs	L;y~llq{Wwi-erHrR=}.
+[13L8-58zmlP77AC6I+H~"6vm6J$s4guL- gdc=|xT*g6E7p)_rqo"	zX4.$3Whwqb0
*l(r>9Y]}^	zLNrP=9.b|o}r,mQ0
Yt?2 : azp}8?N1T0kaV
Q| >6_9 
{,@_:9K^	,_2}iErC=MT=M+Duy1[hr=})6udq7:pNI_y ZP@\xW|YHN r{paGn}r/]\F4OC{m"i] lT=VT 9'Wb> hF*j-]5$6Q}v?n{B[& *Gs=M* xg}.iA	A0:J5A'stn,5\k6,=M+N'ksmQ-v1.H*:5c(e<mEce{c:JU(+scz-_
*$R+ 3j;Zl5-+oF+mF<gu<%/cJ@g=k?z6KgH-l]+[zcCwAm:9JMAw'o#;C3Sj2w\N<p H'MqY0&xv)],>a$=Mv|z',z"qO?@}}1l	ZY=}-*("6S">|BL6OW=MvU\P%Yq=}?ao=G*%rX*^NbIq@o=}_4	!O"!4'?G]<4}P6,h,\JJ{JEDS	Dg}]DdKXMIK'AZmE-}0udxlk}'U[
ZO?aj|>? %mhG +0w$L	+}h'Y$c'10+qtd}2An^q&V}Q>G1
xIqKsw5s=
lA<NZB Dmq q}P5u7_LH1QV'BaPKo'9n^Ua&i5^r	:J"L:*o T& <2yv=}@	|!=M}{^q]N*yl
&m2$sy| o|uXWIT&r_8dqsddq=}4v-nMQ,0n8>^]TvEn?D(}Y}<}]n)vwmsY3" *IQ(|7A6/<.IZOj>I)qftMp,
!xJIdKQ:e1Qt $
Lb<Wu<nza'edClE!.y2GYf2^4J&58eCR#:hv&l0w 	 <uGb ?)7eRr95pE\w
M*7SLFM6GXr}']W6f#wUCPDR<d<X&,V-kN<1a-*_
M+g=>%yeiaT=;X+21}Gi	],7d;i}%0Z8rF;=aYC(]wF#*#wb8MQu[3l[Ml=M!QVK?fI|sn+53aCECJJl&{PpEgkoiW_i@W#d{KQa!#MAws=MwpF/QduAB	6){ZH4m
o6<<o#_QAi V~T%$sq,t8d/zbS;#s$7m 7o(lWlnA0avip?UXTu|2rn la??Wu|q7]=}AabPZ I93t!~5,:p
)A:QVMHv&
5%iF\
*kDw=G~o!3zrC BX8 &^p=}&"8Z8Q29e=\\o^A*]f%YhQr<
a=}_Kg!xiH(D*Jh,+3+MK+(vmZvD0VMl"]V^^+N]QRzg$bFV)=M=}Z_D$aq2 fVOHT=}NED+{bm64+<Gh%2F'Mc}UhO.OjD15BL2~N~4.4Ii/Kl=}' |9bi^}b;g1F,2<="h
2R.W'#D,J9#<TxKLg=MSnzMdaYZq}WcgT	~MA74:hL~0r}ZI-l.u6ezZc[Zw0AOZt4Tv/Tz=xI.b%{1wtw	{O{{~c7
0P@y**:I1sEk/w+"L,aCae q@C)~BsFaqBoZLDay-?+hC&BTMv+HqIW=^ =MFBXs0CZa=voWq
	gL4|6bP,.GGHsZ8\NEazzs\O_sTY\.y=d/iXCzZy$QFQg:]DaR@{jq'J"sCr4~mGr&U
4{ 6\l&g#wv=60{#|(@F   coKBBNP/QgsD
67OO0L$BtR)XH"zr:y|TX/4C?ORcz:7n)t.$Q)UX| .hX0O
2*EV)B"h]79aLsmQ1<H@*i~fa~p _%).hV|"
gIY !q=}T8=v!NmHL7YWu1qm\/Li<BXi}DNq\PME',b8vSXs(6Lx9Dr)et/hF~jG(\y_?
BWW&qYO~Y=T~Y~Y~Y6]/rLx!]@ dwz=MJiA,	v<lB(	nl=MyTg6LG6\H7XwvPWv=kFOnkimlynkqmlnkdmltn?kl?m?l|?nkhmlxnkpmlnkfmlvn_kn_m_l~_nkjmlznkrm=}<kI@<o	k9U?8O	4,6<6(80v@v&Tulypkqq2Tqrw1aJ?\"_;8p/u	LA	 o7@
m9	p,>|^J(RT~:{LH<@{|8O=M}[uA0$i
_tqMuw5QIXLP\=Mqa'4A-Mj=\xK4@vFXkO7:~!mF	S1O
;p	W,=M	>>9	+@~=}	^Fy^}vA "zrdw*}^1q=
?Ov?)Vrf\=MMIyw8}Rxf\ZLz^B3dfUkN58UIm "\bU$*Y&HZ{AtZ~@]]\qEAr\]h"]!9fB[  b^D&Z&h(dB:tbWSUH'J[=MYLHA]!^o%2DU2;D'e
!SFf3:;&#?f=ofDK#M#O'QR08P	(m9pxXR$\&2z%WZ$I&}$X*T}_'1=}}c xd_x^C}"Q3v0d91/ 8DHoiEsUKO0z,=}c.*)q3P]2c\FTT'#9Z*1x{af=}<A|<aI	9f[W\HX=}^$=tHMkcDC!$s
q I(S^C:y3qs*Kcc~c}e  '}"S&:*$ba7~_kYm53 'fvfwE cQLC $^0%&19;e'"'B2zMA7
d)Nl'=}d;yQ[?mSL+q4-LEX.aM>=}{M+%6AJN'MT7 B75	n[qD\?>Iz
Ej@E v]$^$P8@Nl9=MO z
Xqh)mWH ZH~~i{v6HjkRU)8=1z4w
 BPYrU~\Lmfzs84cR>
$yF#ec;%Ay 4~GgT|t'&rd{S=}E"vU/!pj}2i)4,M5O5Jj~}29:]-^Tak~S'75bzS a"M[Q@MD)LNsJj}|[|Q^
M^;Uq[~NR4b4"6W]4 sS=#S]3L4,;C}['V)l@>t=MvT0]VcE"98/ U<Z"fc]0hccC	x2CN&John5d!Ik	GfYdy^~V7r0=M|7Wr !~Bj!=}'Iw m9]<@]1HU)C]ZHU_5#I3vD,tnKr7-qO055P<nix1x F!B*4px=MuaW (_+/S[a~EI;3/9xg9xN?W8>
o:5zwYx iPM=vk:0(Lgi@GRBH?:VMY O;*N@=#fWjs9hH7YdH=M!~F1E%xGtMIKp=}+Pg#*#y|rCf{T+b,csp|2.aCsVJ. 9_lgG3OC%%_#3%Y'{}HZVkn.YVO?W1[g;SXi=}B<uQ(oJXcGM&]:	=1[pnwI%
ekDRPnG[+U?<N38yKbUwF*xHE1eY0yR *Q7!&\BTnP<_p	_'Pe]_yfZ.z5667[5(%*B6nUHta[boR-|z-7b1iS:"*2;9~AI{RZ^bkZEs|7^,a>@ #
VlY/b~Y~/V0{q)rwH4
s)h>%i=}rG}9ei]Yw.)=M1%rBEk0?UE8Z~S:{BjOR.ik
7FUC5umO}IFj"=;=}id@J%P8jbQ!	"6WW[PgUtT/W)F.W?8eAIG_X5N
L1R]r^7e:J*GOsSbSA	%d dbf."JpJKPB(-Fl=O(Y-b~LK75G?!5:JC5iQdnR)%W |>ktP71=}<?=7UV'(XiF!%0.jx.w'v.kE=+02VIeZ(@wB,C90{OoRoT @j>Sknfg2U\;n6tpcuI@jN|zvi>6tJ4)}y^A("^
]6<
h@dWj=MxvusB)tH!6J8'6:HS6/*99'vM(
:<cr:ygt
V9AhS[R'.7E[2y-OH42V00aHO
f;7dD7'@%%dos7!~+\ Jc}~W
Ng	k f* sfhIai.tXq6
=TPCMsh@V;|qDq\(r?s,>W\k"1O#aLy}V'"~E*jJ|Ey))i#s}p,y-O{ZEx%]jc?o{x=}vf'0=M(uo3"O]{=v;R:<6t,w64@x1vd{\j3) u-TOT
m2f\?N*|t[Fs
3vW<JLV2K4+s"g!jW"uwu*	vopQ=Kt.UA~~&Kp]NNr	@
M1o~$S=}A
}C%C#|Y~~Y~QV~Y~YXA_EJ~t~i#e_z}k{Oja9sPeT'%h\[T#GqH:5>V8c)[H
5k=}ku
jtKf~t6.e+=M6.<#T!K:N._va^bt<m>CJ>fM]UDuYn'(x mbCf>:=MU@w{pzAk_fQ7^"w}W!6|I%_))Ra%(B93u!Ag2hq9h 
Y6S	NW7bTLvp	v8Bmb,u/t01ez?JOa{4hEt@;9QV!USdsV~~Y0~Y~|V~<;E6rhH=MzL~~u#G5(>7,=MD\eQ3ZlUyG=U:6#zVn9/V}=}e$;Tcu7.Q4r=hEX:44LIq{}idI o\wp=MM\&QOZw|X)GkCi}ME[5u0sdL*|=
@yt2N>9BE/P;&~o)ZT4 fF@K^vc(~B? )%_Nb$Qt2!6S2,P@"/'(dA*YK2>M':XA%b8yK
y3B)AZg+Vdq2j@'3|-,aK]&*=M$
9'{HC(@&@TS R@>/3)87,amd-V Vn-/H)pna1=Mgy|QcTqavYY:yXeKA^F	9Ud+]_% F;iY~Y~Y<}Yz}q~YP<GrZUg) 6yil1_4-_AF59B7&><QiVM%%H,1}~G0F]En@Bsg]j	DoiGy72=MiaW>T9WZnfO\YH/|}+u!xG6N-??uN8]YeqDMpJS1uav23rA^0r3$t+ga*s^'fDm@6?k"d!B.?0"-	iT9w-A=.
Chz,<v6H6%o<=85iz<=
%Xk
'@(gVmqUm
)qlfB3rYa/XI=V(Or~?&-4F;np.H7*%8tq0nK $=}[%wMhRLIx*y 8=M\{,AxDUE1T7yy1J$GU!Sn>Mo>l	,	Bue}*Y)vq(7_&	3!X&BG"@XV.THRe z0FsyfJWZ:rafU.
!#w'3#U&ktT Er});vbek;<f@QB%CZ|[j/-L;m.F[-Aa#OcS#N_gO+% Q+6&:,;_XVo28hO	+LN='!7SV%jW%7L'H5E-,*	 &\-.aW74W63|ZfLR{@0{7P6zJ?AfV; qQM
T.8)a	4kURaqL9V'ho)::	_
$\lSC>q32(#o!ki+$O% >C%7[|w@c*{/v;=m*pL53nef1>VdUq'^<:3rJ|7UGer{!LI=MKd08V?d2#W.'i}9+$.m,zV4S\_H)$3^&%j-#f"V60J=}(FS\a%?A~]f<(y{ji$+*[}e>0;Jd(c}!sUQ*h>o/=}$-.]r#b%Se<B;kKRv(/l^z$t'?r#zv$]J.g;>Jx^KXm<Dy-C[CT4&F$~6G~1%j=MRM^!4zbRd-oC{]6r=MA}U\6_5,dL<wX3XXgdl)$jvu!>5@
q4+Q\7N1@^lV+<^,5yW8GQ\E/|GL]/TE_\4g5<4\ky V"6:\>RX4&Ib_>,=uopVolfoY/OX(g7q<qApP 4?77_xr}Rze V\*yy[mC"1>3p7,4 (q	4uC
2i'>:uxyCF^a-QG2Gt\b rueA8wp/XIW	=a*!VE=MZ;	BG
Kq=}RuL <(~OC4=MZK19G|]d0Nu"mxs2as=]c oEN~0U*2d "7j0f,xG%
My2\hiKs	pR<N$=}Q(}}V<1aK.bm({B+;*x8Ta"'87 )5{nOs*9;pyK:Jm{ /P	[,1oYk&_S~@X_.sP4*lD+E%3qW%jjr.gJ4k9L7@&aw\.WjSg4yj/r
 v(x?1p<;<(VS	<&\z\spfn[ 9p=3#6.2x?#}[cMToCT'42/9_;i*gM/h;4 8&ob+hpT[H$h!kf!pn%e	Dc;F[Wi#$H9hjFHpUdwpIlHfDL&5e2{x ,Tf)3fdS=McVk'$(2@Pu'dVh.::9%%?mZe=MbC/r){gz&F	ff[ qp#I~y?=MS=-^CI	9y/?:W^n+h8M'MJ5\55eJlYm9{z6u(K' nAo5X+T&4LtB<^IfS!y&,@(|ImeCLh@HiY28^7\q[<H/=}(
2&AAVUCn?K~PrH^MV-MZxF?-6n
k=M6LdX|IIiWd=}=P86"zswB:dK"*a|el{Jpc7H0Y O{+~xSxwbvx#~=M%sXB,;V{B\3*^8[T<*<BC-&StF'EyW1g~cT*,jS!D|?Vvcr
i	^|[-:QKnjKE-[#-x*T&-3W.su/v-h/'hRB.B_c"he$ w=MV]:'Sps=}Wm=7"fyx,+)8~c%$+^?Dl9pS)bS?-$SO=}3/Jp)'6yu~9SB4w6X,r-)Z37 , vR8sc}1ow._UIZ_eLl=}h=Mt(LM=M] {;Yrut%[E,y JAs-*yK&}v/v<+H(vr@4z&e|<dd(#E[RqodF] qf\4Kg2d^qi[8	xH?qf}{g2/| T.
#@~SY~Y~Y~Y~Y]
AV3O?OBq#c!cdK:"sgB5c'_p:n"rAb,*2rkgoemiq1
B#3K[GW/?%5M]IY1A$4L\HX0@bS[W?E-=}IYaT<H0@FV^Z	R{\)iJ	7yWoQB"bE$P

jbu.GZ0pP ZWIL& jcdbgY =.rL_"bA|#7UYT8f~Z/bBT_y>yt^3_LSX!zdxRv _i8bV |KmmmEE}C"""M9:F<S8MVVVIIc:~\/;Kxyy $zU|mY~yU~~|YR1)Yb[!o|Mc @%V=}AHOnn!C(jdueJ	
LNU11Pf~eo[n, _=M)355aD,*eg*		LU-~-o1H\< _5~i\
#;~}vI$])H=
/Zn49ZjlB<&,_F=}PiGF-@n-jo]~]L =)+Y.9IY*<(T_E5NPg=M!HPJnUywVX{ob5 \J
@%qW+q|nI.V3R#ahm^eOe?FF@r~,5tFZ.:rKT*Yi^gu=}g	Pfi=}mQT0AT
k>:g&|e"U[J&qUV;}Wce9v{&$<p[uO
uy?6F &0
{<UJ.2rLV:1qm[w=}w@f i)QX@AX
l;2{m-\J>'_Js=}/{~YXZpY><~Yaw5(Vl[o$Mn%7:s1s=2 >8pf!pWFxn*	ji)8.v,_LpR4uL*wA	Zf?x{"kB>8%ZE8A}Ya2IwlMkhG=MB--x{ /]=}e~Kj=M1eyGfb(Mb]^=M'O;?<ojluqmh=Mp xN4J^-as)hrh,&9a&=E|u-4qNXzDxYjRwn@Xdpq(b [rjJXVVtPxRWluAte'wV;C#$)$oE9p@nOl}|6=FPt/g5~yl?v I]j@qe;'pNfvS/f
;$'Rxi.5vPI}fW?I0v=}J+(i/DTioh/h>j1vTi oj3,_28H2XhpNrV -&S'#0&=MYf{^A
z|!PjQ|X^
z{@: 
z {: 
z{p. z|p> 
m* TlQ|8^
{x( B{x0 |x8 B|x@ 
:::::: ~ARX)XO{nA


	

VVVVVVVV:$l	U6DnUz ss tt uu vv ww xx yy z
#{'	{+I{/{3|7	)BY)$WI_r?pro:"l!|*'(
)jgh
iJ*4u#q0yURnR\ArU2lAURnVrpAV2g2,hR .*ir0jj u*u:2uJruZvjvzY~2vrv9C%J"W#+*a+2,:a,B-:Ja-ZR.zZa.b/ja/r0za01:a1Z2za2k*bk2!<bo
@r!=}pJPz!>bp=!?q:prtvxz|~^$cY~Y~Y~Y~Y'mP^uMO=mNP\qD-}D/=}C2D.x8 K7=MJ:=MI6!LJ8-O/VrWrl>56@3M	>
U	=}aI>Q6FPomHUmRbRabbgVjUfOVh9fphZNWnPX|PW^SddsdE-Y.I.]-wese0i{0};/m0g1c~Y~YflQE6/rW}l ytj2[":l]Kt$Y>$MlSP
 lT[hJD /<8932=}e7U)_v)stInXIBjHBMJwPD",PmJ1LFzTg(K:BL9UP6m|lm!00O/~{=}j}.wVA6rA0E <E&j
~Y\bV~YK~	~^0MYBT*^\? Z9eSkU<.24<k:k
"z0"as x>n7
mu0q&&W:Y0Y0/)z-hLEEWuJxLr6/.u(E8= 66p"}IPC.]y#U;l2HhlT<yz<rLQKKx@w>JTDqqXf>wZ)j.6;-?LNO=}An ?=}OOO*JqyzHP?<&P=a'k$p! !p!$1OI;@O;g#ETO$@:(>z0RHN=M	

R>Xz t\+| XPQVJ+Y9Z}@=cA'pCA^5)t[zHQ!+pqE'Z2{rnwY\7Ta"yRSIbmiZ=M2]qG}`});var a,o;function s(){var w=o.buffer;a=new Uint8Array(w)}function c(w){return Math.cos(w)}function l(w){return Math.exp(w)}var u=(w,E,C)=>a.copyWithin(w,E,E+C),f=w=>{r("OOM")},h=w=>{a.length,f()},p={b:c,a:l,c:u,d:h};function d(w){w.f()}var g={a:p},m,v,_,y,b;this.setModule=w=>{t.setModule(Ih,w)},this.getModule=()=>t.getModule(Ih),this.instantiate=()=>(this.getModule().then(w=>WebAssembly.instantiate(w,g)).then(w=>{const E=w.exports;m=E.g,v=E.h,_=E.i,y=E.j,b=E.k,o=E.e,s(),d(E),e()}),this.ready=new Promise(w=>{e=w}).then(()=>{this.HEAP=o.buffer,this.malloc=v,this.free=b,this.opus_frame_decoder_create=m,this.opus_frame_decode_float_deinterleaved=_,this.opus_frame_decoder_destroy=y}),this)}function gs(t={}){gs.errors||Object.defineProperties(gs,{errors:{value:new Map([[-1,"OPUS_BAD_ARG: One or more invalid/out of range arguments"],[-2,"OPUS_BUFFER_TOO_SMALL: Not enough bytes allocated in the buffer"],[-3,"OPUS_INTERNAL_ERROR: An internal error was detected"],[-4,"OPUS_INVALID_PACKET: The compressed data passed is corrupted"],[-5,"OPUS_UNIMPLEMENTED: Invalid/unsupported request number"],[-6,"OPUS_INVALID_STATE: An encoder or decoder structure is invalid or already freed"],[-7,"OPUS_ALLOC_FAIL: Memory allocation has failed"]])}}),this._init=()=>new this._WASMAudioDecoderCommon(this).instantiate(this._EmscriptenWASM,this._module).then(u=>{this._common=u,this._inputBytes=0,this._outputSamples=0,this._frameNumber=0,this._input=this._common.allocateTypedArray(this._inputSize,Uint8Array),this._output=this._common.allocateTypedArray(this._outputChannels*this._outputChannelSize,Float32Array);const f=this._common.allocateTypedArray(this._channels,Uint8Array);f.buf.set(this._channelMappingTable),this._decoder=this._common.wasm.opus_frame_decoder_create(this._sampleRate,this._channels,this._streamCount,this._coupledStreamCount,f.ptr,this._preSkip,this._forceStereo)}),Object.defineProperty(this,"ready",{enumerable:!0,get:()=>this._ready}),this.reset=()=>(this.free(),this._init()),this.free=()=>{this._common.free(),this._common.wasm.opus_frame_decoder_destroy(this._decoder),this._common.wasm.free(this._decoder)},this._decode=u=>{if(!(u instanceof Uint8Array))throw Error("Data to decode must be Uint8Array. Instead got "+typeof u);this._input.buf.set(u);let f=this._common.wasm.opus_frame_decode_float_deinterleaved(this._decoder,this._input.ptr,u.length,this._output.ptr),h;return f<0&&(h="libopus "+f+" "+(gs.errors.get(f)||"Unknown Error"),console.error(h),f=0),{outputBuffer:this._common.getOutputChannels(this._output.buf,this._outputChannels,f),samplesDecoded:f,error:h}},this.decodeFrame=u=>{let f=[];const h=this._decode(u);return h.error&&this._common.addError(f,h.error,u.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=u.length,this._outputSamples+=h.samplesDecoded,this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(f,[h.outputBuffer],this._outputChannels,h.samplesDecoded,this._sampleRate)},this.decodeFrames=u=>{let f=[],h=[],p=0,d=0;for(;d<u.length;){const g=u[d++],m=this._decode(g);f.push(m.outputBuffer),p+=m.samplesDecoded,m.error&&this._common.addError(h,m.error,g.length,this._frameNumber,this._inputBytes,this._outputSamples),this._frameNumber++,this._inputBytes+=g.length,this._outputSamples+=m.samplesDecoded}return this._WASMAudioDecoderCommon.getDecodedAudioMultiChannel(h,f,this._outputChannels,p,this._sampleRate)},this._isWebWorker=gs.isWebWorker,this._WASMAudioDecoderCommon=gs.WASMAudioDecoderCommon||on,this._EmscriptenWASM=gs.EmscriptenWASM||Ih,this._module=gs.module;const e=8,r=u=>typeof u=="number",n=t.sampleRate,i=t.channels,a=t.streamCount,o=t.coupledStreamCount,s=t.channelMappingTable,c=t.preSkip,l=t.forceStereo?1:0;if(i>2&&(!r(a)||!r(o)||!Array.isArray(s)))throw new Error("Invalid Opus Decoder Options for multichannel decoding.");return this._sampleRate=[8e3,12e3,16e3,24e3,48e3].includes(n)?n:48e3,this._channels=r(i)?i:2,this._streamCount=r(a)?a:1,this._coupledStreamCount=r(o)?o:this._channels-1,this._channelMappingTable=s||(this._channels===2?[0,1]:[0]),this._preSkip=c||0,this._forceStereo=i<=e&&i!=2?l:0,this._inputSize=32e3*.12*this._channels,this._outputChannelSize=120*48,this._outputChannels=this._forceStereo?2:this._channels,this._ready=this._init(),this}class fH extends jV{constructor(e){super(e,"opus-decoder",gs,Ih)}async decodeFrame(e){return this.postToDecoder("decodeFrame",e)}async decodeFrames(e){return this.postToDecoder("decodeFrames",e)}}qd(gs,"OpusDecoder");qd(fH,"OpusDecoderWebWorker");class ok{constructor(e={}){this._sampleRate=e.sampleRate||48e3,this._forceStereo=e.forceStereo!==void 0?e.forceStereo:!1,this._onCodec=r=>{if(r!=="opus")throw new Error("ogg-opus-decoder does not support this codec "+r)},new on,this._decoderClass=gs,this._init()}_init(){this._decoder&&this._decoder.free(),this._decoder=null,this._ready=Promise.resolve(),this._codecParser=new sH("application/ogg",{onCodec:this._onCodec,enableFrameCRC32:!1})}async _instantiateDecoder(e){this._totalSamplesDecoded=0,this._preSkip=e[FCe],this._channels=this._forceStereo?2:e[cD],this._beginningSampleOffset=null,this._decoder=new this._decoderClass({channels:e[cD],streamCount:e[BCe],coupledStreamCount:e[kCe],channelMappingTable:e[LCe],preSkip:Math.round(this._preSkip/48e3*this._sampleRate),sampleRate:this._sampleRate,forceStereo:this._forceStereo}),await this._decoder.ready}get ready(){return this._ready}async reset(){this._init()}free(){this._init()}async _decode(e){let r=[],n=[],i=0;for await(const a of e){const o=a[$p].map(s=>s[ay]);if(o.length){this._decoder||await this._instantiateDecoder(a[$p][0][lH]);const{channelData:s,samplesDecoded:c,errors:l}=await this._decoder.decodeFrames(o);if(this._totalSamplesDecoded+=c,this._beginningSampleOffset===null&&Number(a[Dc])>-1&&(this._beginningSampleOffset=a[Dc]-BigInt(a[cH])+BigInt(this._preSkip)),a[uH]){if(a[Dc]!==void 0){const u=this._totalSamplesDecoded/this._sampleRate*48e3,f=Number(a[Dc]-this._beginningSampleOffset),h=Math.round((u-f)/48e3*this._sampleRate);for(let p=0;p<s.length;p++)s[p]=s[p].subarray(0,c-h);i-=h}this._init()}r.push(...l),n.push(s),i+=c}}return[r,n,this._channels,i,this._sampleRate,16]}_parse(e){return[...this._codecParser.parseChunk(e)]}_flush(){return[...this._codecParser.flush()]}async decode(e){const r=await this._decode(this._parse(e));return on.getDecodedAudioMultiChannel(...r)}async decodeFile(e){const r=await this._decode([...this._parse(e),...this._flush()]);return this._init(),on.getDecodedAudioMultiChannel(...r)}async flush(){const e=await this._decode(this._flush());return this._init(),on.getDecodedAudioMultiChannel(...e)}}class jCe extends ok{constructor(e){super(e),this._decoderClass=fH}async free(){super.free()}}qd(ok,"OggOpusDecoder");qd(jCe,"OggOpusDecoderWebWorker");async function Gp(t){if(!window.isSafari||!t.toLowerCase().endsWith(".ogg"))return t;const r=await(await fetch(t)).arrayBuffer(),n=new Uint8Array(r);try{return console.log(" Opus "),await GCe(n)}catch(i){console.log("Opus  Vorbis ",i);try{return await $Ce(n)}catch(a){return console.error("Vorbis ",a),""}}}async function $Ce(t){const e=new ak;await e.ready;const r=await e.decode(t);return hH(r)}async function GCe(t){const e=new ok;await e.ready;const r=await e.decode(t);return hH(r)}function hH(t){const r=new(window.AudioContext||window.webkitAudioContext)().createBuffer(t.channelData.length,t.samplesDecoded,t.sampleRate);for(let a=0;a<t.channelData.length;a++)r.copyToChannel(t.channelData[a],a);const n=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=n.createBufferSource();return i.buffer=r,i.connect(n.destination),i.start(),n.startRendering().then(a=>{const o=VCe(a),s=new Blob([o],{type:"audio/wav"});return URL.createObjectURL(s)})}function VCe(t){const e=t.numberOfChannels,r=t.length*e*2+44,n=new ArrayBuffer(r),i=new DataView(n),a=[];let o,s=0,c=0;u(1179011410),u(r-8),u(1163280727),u(544501094),u(16),l(1),l(e),u(t.sampleRate),u(t.sampleRate*2*e),l(e*2),l(16),u(1635017060),u(r-c-4);for(let f=0;f<t.numberOfChannels;f++)a.push(t.getChannelData(f));for(;c<r;){for(let f=0;f<e;f++)o=Math.max(-1,Math.min(1,a[f][s])),o=(.5+o<0?o*32768:o*32767)|0,i.setInt16(c,o,!0),c+=2;s++}function l(f){i.setUint16(c,f,!0),c+=2}function u(f){i.setUint32(c,f,!0),c+=4}return n}const dH=t=>{var a;Je.debug("play SE");let e="effect-sound";W.gameplay.performController.unmountPerform(e,!0);let r=t.content,n=!1;qt(t,"id")&&(e=`effect-sound-${((a=qt(t,"id"))==null?void 0:a.toString())??""}`,W.gameplay.performController.unmountPerform(e,!0),n=!0);let i=!1;return{performName:"none",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:1e3*60*60,arrangePerformPromise:new Promise(o=>{setTimeout(async()=>{var d;const s=qt(t,"volume");let c=document.createElement("audio");c.src=await Gp(r),c.load(),n&&(c.loop=!0);const l=ce.getState().userData,u=l.optionData.volumeMain,f=typeof s=="number"&&s>=0&&s<=100?s:100,h=u*.01*(((d=l.optionData)==null?void 0:d.seVolume)??100)*.01*f*.01;c.volume=h,c.currentTime=0;const p={performName:e,duration:1e3*60*60,isHoldOn:n,skipNextCollect:!0,stopFunction:()=>{c.pause()},blockingNext:()=>!1,blockingAuto:()=>n?!1:!i,stopTimeout:void 0};o(p),c==null||c.play(),c.onended=()=>{for(const g of W.gameplay.performController.performList)g.performName===e&&(i=!0,g.stopFunction(),W.gameplay.performController.unmountPerform(g.performName))}},1)})}};function HCe(t,e){for(let r=t;r<=e;r++){const n=ce.getState().saveData.saveData[r];n&&Io.setItem(`${W.gameKey}-saves${r}`,n).then(()=>{Je.info(`${r}`)})}}async function sk(t,e){for(let r=t;r<=e;r++){const n=await Io.getItem(`${W.gameKey}-saves${r}`);ce.dispatch(Er.saveGame({index:r,saveData:n})),Je.info(`${r}`)}}async function zCe(){const t=ce.getState().saveData.quickSaveData;await Io.setItem(`${W.gameKey}-saves-fast`,t),Je.info("")}async function pH(){const t=await Io.getItem(`${W.gameKey}-saves-fast`);ce.dispatch(Er.setFastSave(t)),Je.info("")}async function vH(){const t=ce.getState().saveData.unlockStorylineList;await Io.setItem(`${W.gameKey}-storyline`,{data:t}),Je.info(" >> ")}async function lk(){console.trace(1111);const t=await Io.getItem(`${W.gameKey}-storyline`);ce.dispatch(Er.setStorylineListFromStorage((t==null?void 0:t.data)??[])),Je.info(" >> ")}async function XCe(){const t=ce.getState().saveData.unlockAffinityData;await Io.setItem(`${W.gameKey}-unlock-affinity`,{data:t}),Je.info(" >> ")}async function gH(){const t=await Io.getItem(`${W.gameKey}-unlock-affinity`);ce.dispatch(Er.updateAffinityData((t==null?void 0:t.data)??[])),Je.info(" >> ")}async function mH(){const t=ce.getState().saveData.unlockAchieveData;await Io.setItem(`${W.gameKey}-unlock-achieve`,{data:t}),Je.info(" >>> ")}async function WCe(){const t=await Io.getItem(`${W.gameKey}-unlock-achieve`);ce.dispatch(Er.setUnlockAchieveData((t==null?void 0:t.data)||[])),Je.info(" >>> ")}const fD=async(t,e)=>{const r=await _H(t,!0,e);ce.dispatch(Er.saveGame({index:t,saveData:r})),HCe(t,t)};async function _H(t,e=!0,r){const n=ce.getState().stage,i=yn(W.backlogManager.getBacklog());let a="";if(e){const c=document.getElementById("pixiCanvas"),l=document.createElement("canvas"),u=l.getContext("2d");l.width=480,l.height=270,u.drawImage(c,0,0,480,270),a=l.toDataURL("image/webp",.5),l.remove()}if(e&&!r){const c=W.videoManager.videosByKey[W.videoManager.currentPlayingVideo];c&&(a=c.poster)}const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1});return{nowStageState:yn(n),backlog:i,index:t,saveName:r||o,saveTime:o,sceneData:{currentSentenceId:W.sceneManager.sceneData.currentSentenceId,sceneStack:yn(W.sceneManager.sceneData.sceneStack),sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl},previewImage:a}}function uk(){const t=ce.getState().stage,e=yn(W.backlogManager.getBacklog()),r=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),n={nowStageState:yn(t),backlog:e,saveTime:r,saveName:"",index:-1,previewImage:"",sceneData:{currentSentenceId:W.sceneManager.sceneData.currentSentenceId,sceneStack:yn(W.sceneManager.sceneData.sceneStack),sceneName:W.sceneManager.sceneData.currentScene.sceneName,sceneUrl:W.sceneManager.sceneData.currentScene.sceneUrl}};return ce.dispatch(Er.setSaveVideoData(n)),n}const YCe=t=>{const e=ce.getState().userData,r=e.optionData.volumeMain,n=r*.01*e.optionData.vocalVolume*.01,i=r*.01*e.optionData.bgmVolume*.01;let a=!1,o="",s=!1,c=t.content==="none"||t.content==="",l="";const u=Date.now();ce.dispatch(pA(!1));const f={current:()=>{console.log("")}};t.args.forEach(m=>{m.key==="choose"&&(o="choose:"+m.value),m.key==="continueBgm"&&m.value,m.key==="loop"?s=m.value===!0:m.key==="keep"?(a=m.value===!0,s=!0):m.key==="id"&&(l=m.value)}),l&&!c&&W.videoManager.setUrlIdMap(l,t.content);const h="videoPlay."+(l||Qa());if(c){if(!l)W.videoManager.destroy(W.videoManager.currentPlayingVideo);else{const m=W.videoManager.idURLMap[l];m&&W.videoManager.destroy(m)}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const p=()=>{let m=qt(t,"skipOff"),v=!0;return W.gameplay.isFast?(m&&(v=!0),s&&(v=!1),o!==""&&(v=!0,f.current())):(m||s||o!=="")&&(v=!0),a&&(v=!1),v};W.videoManager.showVideo(t.content,a);let d=!1;return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:p,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(m=>{const v=_=>{d=!0,W.gameplay.performController.unmountPerform(_.performName)};setTimeout(()=>{const _=t.content,y=ce.getState().saveData.isLoadVideo;W.videoManager.seek(_,.03),W.videoManager.setVolume(_,i),W.videoManager.setLoop(_,s);const b=o?o.slice(7).split("|").map(T=>"game/scene/"+T.split(":")[1]):[];b.length&&Xd(b);const w=()=>{if(y){ce.dispatch(yt({component:"showExtra",visibility:!0}));return}for(const T of W.gameplay.performController.performList)if(T.performName===h)if(o!==""&&!s){const A=yv(o,`${u}.txt`,""),R=W.videoManager.getDuration(_);W.videoManager.seek(_,(R||0)-.03),W.videoManager.pauseVideo(_);const O=A.sentenceList[0],P=aA(O,()=>{v(T)});W.gameplay.performController.arrangeNewPerform(P,O)}else v(T),ti()};f.current=w;const E={performName:h,duration:a?0:1e3*60*60*24*3650,isOver:!1,isHoldOn:!1,stopFunction:(T=!1)=>{if(!a){const A=document.getElementById("currentVocal");A&&(A.volume=n.toString()),W.videoManager.destroy(_,T)}},blockingNext:p,blockingAuto:()=>!d,stopTimeout:void 0,goNextWhenOver:!0};if(m(E),!a){const A=document.getElementById("currentVocal");A&&(A.volume=0 .toString())}W.videoManager.playVideo(_);const C=ce.getState().saveData.saveData||[];if(C!=null&&C.length&&C.forEach(T=>{var A,R;(R=(A=T==null?void 0:T.nowStageState)==null?void 0:A.PerformList)==null||R.forEach(O=>{var P;((P=O==null?void 0:O.script)==null?void 0:P.content)===_&&setTimeout(()=>{ce.dispatch(pA(!0))})})}),o&&s){const A=yv(o,`${u}.txt`,"").sentenceList[0],R=aA(A,w);W.gameplay.performController.arrangeNewPerform(R,A)}setTimeout(()=>{uk()},1e3),W.videoManager.onEnded(_,()=>{if(s)W.videoManager.seek(_,.03),W.videoManager.playVideo(_);else{const T=ce.getState().stage.showValueList;if(T!=null&&T.length){const A=ce.getState().stage.showValueName,R=T.filter(O=>O.showValueName!==A);ce.dispatch(gde(R))}w()}})},100)})}},qCe=t=>{var o;ce.getState().stage.currentDialogKey;const e=t.content,r=Ii(e),n=(((o=qt(t,"target"))==null?void 0:o.toString())??"default_id").toString(),i=`${n}-${e}-${r}`;let a;return setTimeout(()=>{var c,l;(c=W.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n);const s=tx(e,n,r);s&&(Je.debug(`${e}${n}`,r),(l=W.gameplay.pixiStage)==null||l.registerAnimation(s,i,n))},1e3),a=()=>{setTimeout(()=>{var s;ce.getState().stage.currentDialogKey,(s=W.gameplay.pixiStage)==null||s.removeAnimationWithSetEffects(i)},1500)},{performName:i,duration:r,isHoldOn:!1,stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function KCe(t,e){const r=W.gameplay.pixiStage.getStageObjByKey(t);function n(){r&&(r.pixiContainer.alpha=0,r.pixiContainer.blur=0)}function i(){r&&(r.pixiContainer.alpha=1,r.pixiContainer.blur=5)}function a(o){if(r){const s=r.pixiContainer,c=W.gameplay.pixiStage.frameDuration,l=e/c*o,u=1/l,f=5/l;s.alpha<1&&(s.alpha+=u),s.blur<5&&(s.blur+=f)}}return{setStartState:n,setEndState:i,tickerFunc:a}}const ZCe=[{name:"universalSoftIn",animationGenerateFunc:L7},{name:"universalSoftOff",animationGenerateFunc:B7},{name:"testblur",animationGenerateFunc:KCe}],JCe=t=>{var s,c,l;ce.getState().stage.currentDialogKey;const e=t.content,r=qt(t,"duration")??0,n=((s=qt(t,"target"))==null?void 0:s.toString())??"0",i=`${n}-${e}-${r}`,a=QCe(e);let o=()=>{};if(a){Je.debug(`${e}${n}`,r);const u=a(n,r);(c=W.gameplay.pixiStage)==null||c.stopPresetAnimationOnTarget(n),(l=W.gameplay.pixiStage)==null||l.registerAnimation(u,i,n),o=()=>{var f;ce.getState().stage.currentDialogKey,(f=W.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(i)}}return{performName:i,duration:r,isHoldOn:!1,stopFunction:o,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function QCe(t){const e=ZCe.find(r=>r.name===t);return Je.debug("",e),e?e.animationGenerateFunc:null}const eTe=t=>({performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),tTe=t=>{var l;ce.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;try{n=JSON.parse(r)}catch{n=[]}const i={name:e,effects:n};W.animationManager.addAnimation(i);const a=Ii(e),o=((l=qt(t,"target"))==null?void 0:l.toString())??"0",s=`${o}-${e}-${a}`;let c=()=>{};return setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.stopPresetAnimationOnTarget(o);const u=tx(e,o,a);u&&(Je.debug(`${e}${o}`,a),(h=W.gameplay.pixiStage)==null||h.registerAnimation(u,s,o))},0),c=()=>{setTimeout(()=>{var u;ce.getState().stage.currentDialogKey,(u=W.gameplay.pixiStage)==null||u.removeAnimationWithSetEffects(s)},0)},{performName:s,duration:a,isHoldOn:!1,stopFunction:c,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function rTe(t){return t.content==="hide"?ce.dispatch(Bt({key:"isDisableTextbox",value:!0})):ce.dispatch(Bt({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const nTe=t=>{var u;ce.getState().stage.currentDialogKey;const e=(Math.random()*10).toString(16),r=t.content;let n;const i=qt(t,"duration"),a=((u=qt(t,"target"))==null?void 0:u.toString())??"0";try{const f=JSON.parse(r);n=sf(a,f,i)}catch{n=[]}const o={name:e,effects:n};W.animationManager.addAnimation(o);const s=aTe(e),c=`${a}-${e}-${s}`;let l=()=>{};return setTimeout(()=>{var h,p;(h=W.gameplay.pixiStage)==null||h.stopPresetAnimationOnTarget(a);const f=iTe(e,a,s);f&&(Je.debug(`${e}${a}`,s),(p=W.gameplay.pixiStage)==null||p.registerAnimation(f,c,a))},0),l=()=>{setTimeout(()=>{var f;ce.getState().stage.currentDialogKey,(f=W.gameplay.pixiStage)==null||f.removeAnimationWithSetEffects(c)},0)},{performName:c,duration:s,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function iTe(t,e,r){const n=W.animationManager.getAnimations().find(i=>i.name===t);if(n){const i=n.effects.map(a=>{const o=yn({...xO,duration:0});return Object.assign(o,a),o.duration=a.duration,o});return Je.debug("",i),pV(i,e,r)}return null}function aTe(t){const e=W.animationManager.getAnimations().find(r=>r.name===t);if(e){let r=0;return e.effects.forEach(n=>{r+=n.duration}),r}return 0}const oTe=t=>{let e="0";for(const r of t.args)r.key==="target"&&(e=r.value.toString());return qt(t,"enter")&&W.animationManager.nextEnterAnimationName.set(e,qt(t,"enter").toString()),qt(t,"exit")&&W.animationManager.nextExitAnimationName.set(e+"-off",qt(t,"exit").toString()),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},sTe=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"bgm-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Je.info(`BGM${r}${e}${n}`),ce.dispatch(BG({name:r,url:e,series:n}));const i=ce.getState().userData;return Io.setItem(W.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},lTe=t=>{const e=t.content;let r=t.content,n="default";console.log(t,"cg-sentence"),t.args.forEach(a=>{a.key==="name"&&(r=a.value.toString()),a.key==="series"&&(n=a.value.toString())}),Je.info(`CG${r}${e}${n}`),ce.dispatch(LG({name:r,url:e,series:n}));const i=ce.getState().userData;return Io.setItem(W.gameKey,i).then(()=>{}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},ck=(t,e=!0,r=!0)=>{t&&W.backlogManager.makeBacklogEmpty(),r&&W.videoManager.destroyAll(!0),e&&W.sceneManager.resetScene(),W.gameplay.performController.removeAllPerform(),W.gameplay.resetGamePlay();const n=yn(mG),i=ce.getState().stage.GameVar;ce.dispatch(lg(n)),e||ce.dispatch(Bt({key:"GameVar",value:i})),ce.dispatch(Er.setLoadVideo(!1))},uTe=t=>{ck(!0);const e=ce.dispatch,r=jt("start.txt",Ut.scene);return setTimeout(()=>{W.sceneManager.resetScene()},5),e(Er.resetFastSave()),RH(),Ua(r).then(n=>{W.sceneManager.setCurrentScene(n,"start.txt",r)}),e(yt({component:"showTitle",visibility:!0})),e(yt({component:"isInGaming",visibility:!1})),dk(ce.getState().GUI.titleBgm),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},cTe=t=>(gV(t.content),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),fTe=t=>(W.gameplay.performController.performList.forEach(e=>{if(e.performName.match(/PixiPerform/)){Je.warn("pixi ",e.performName);for(let r=0;r<W.gameplay.performController.performList.length;r++){const n=W.gameplay.performController.performList[r];n.performName===e.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),W.gameplay.performController.performList.splice(r,1),r--)}ce.dispatch(qn.removeAllPixiPerforms())}}),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Dr={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},hTe=t=>(Dr.maxAudioLevel=Math.max(t,Dr.maxAudioLevel),{OPEN_THRESHOLD:Dr.maxAudioLevel*.75,HALF_OPEN_THRESHOLD:Dr.maxAudioLevel*.5}),dTe=t=>{let e=!1;function r(){var n;e||t.animationEndTime&&Date.now()>t.animationEndTime||(e=!0,(n=W.gameplay.pixiStage)==null||n.performBlinkAnimation(t.key,t.animationItem,"closed",t.pos),Dr.blinkTimerID=setTimeout(()=>{var a;(a=W.gameplay.pixiStage)==null||a.performBlinkAnimation(t.key,t.animationItem,"open",t.pos),e=!1;const i=Math.random()*300+3500;Dr.blinkTimerID=setTimeout(r,i)},200))}r()},pTe=(t,e,r)=>{t.getByteFrequencyData(e);let n=0;for(let i=0;i<r;i++)n+=e[i];return n/r},hD=t=>{var h,p;const{audioLevel:e,OPEN_THRESHOLD:r,HALF_OPEN_THRESHOLD:n,currentMouthValue:i,lerpSpeed:a,key:o,animationItem:s,pos:c}=t;let l;e>r?l=1:e>n?l=.5:l=0;const u=i+(l-i)*a;(h=W.gameplay.pixiStage)==null||h.setModelMouthY(o,e);let f;u>.75?f="open":u>.25?f="half_open":f="closed",s!==void 0&&((p=W.gameplay.pixiStage)==null||p.performMouthSyncAnimation(o,s,f,c))};class vTe{constructor(e){ut(this,"subject");ut(this,"result");ut(this,"isEnd",!1);this.subject=e}with(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this}endsWith(e,r){return!this.isEnd&&this.subject===e&&(this.result=r(),this.isEnd=!0),this.evaluate()}default(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}function ub(t){return new vTe(t)}const gTe=t=>{Je.debug("play vocal");const e="vocal-play",r=qt(t,"vocal"),n=qt(t,"volume");let i;i=ce.getState().stage;let a="",o="";const s=i.freeFigure,c=i.figureAssociatedAnimation;let l=0,u=0;const f=1;let h=document.getElementById("currentVocal");W.gameplay.performController.unmountPerform("vocal-play",!0),h!==null&&(h.currentTime=0,h.pause());for(const d of t.args)d.value===!0&&ub(d.key).with("left",()=>{a="left"}).with("right",()=>{a="right"}).endsWith("center",()=>{a="center"}),d.key==="figureId"&&(o=`${d.value.toString()}`);ce.dispatch(Bt({key:"playVocal",value:r})),ce.dispatch(Bt({key:"vocal",value:r}));let p=!1;return{arrangePerformPromise:new Promise(d=>{setTimeout(()=>{let g=document.getElementById("currentVocal");if(typeof n=="number"&&n>=0&&n<=100?ce.dispatch(Bt({key:"vocalVolume",value:n})):ce.dispatch(Bt({key:"vocalVolume",value:100})),g!==null){g.currentTime=0;const m={performName:e,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(Dr.audioLevelInterval),g.pause(),o=o||`fig-${a}`;const _=c.find(y=>y.targetId===o);hD({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:_,pos:a}),clearTimeout(Dr.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!p,skipNextCollect:!0,stopTimeout:void 0};W.gameplay.performController.arrangeNewPerform(m,t,!1),o=o||`fig-${a}`;const v=c.find(_=>_.targetId===o);if(v){const _=s.find(w=>w.key===o);if(_&&(a=_.basePosition),!Dr.audioContext){let w;w=new AudioContext,Dr.analyser=w.createAnalyser(),Dr.analyser.fftSize=256,Dr.dataArray=new Uint8Array(Dr.analyser.frequencyBinCount)}Dr.analyser||(Dr.analyser=Dr.audioContext.createAnalyser(),Dr.analyser.fftSize=256),l=Dr.analyser.frequencyBinCount,Dr.dataArray=new Uint8Array(l);let y=document.getElementById("currentVocal");Dr.source||(Dr.source=Dr.audioContext.createMediaElementSource(y),Dr.source.connect(Dr.analyser)),Dr.analyser.connect(Dr.audioContext.destination),Dr.audioLevelInterval=setInterval(()=>{const w=pTe(Dr.analyser,Dr.dataArray,l),{OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C}=hTe(w);hD({audioLevel:w,OPEN_THRESHOLD:E,HALF_OPEN_THRESHOLD:C,currentMouthValue:u,lerpSpeed:f,key:o,animationItem:v,pos:a})},50);let b;b=Date.now()+1e4,dTe({key:o,animationItem:v,pos:a,animationEndTime:b}),setTimeout(()=>{clearTimeout(Dr.blinkTimerID)},1e4)}g.onloadeddata=()=>{g==null||g.play()},g.onended=()=>{for(const _ of W.gameplay.performController.performList)_.performName===e&&(p=!0,_.stopFunction(),W.gameplay.performController.unmountPerform(_.performName))}}},1)})}};function yH(t){return t===0?3:t===100?80:77*Number(t)/100}function mTe(t){return t===0?800:t===100?200:800-600*Number(t)/100}const _Te=t=>{const e=ce.getState().stage,r=ce.getState().userData,n=ce.dispatch;let i=Math.random().toString(),a=t.content;const o=qt(t,"concat"),s=qt(t,"notend"),c=qt(t,"speaker"),l=qt(t,"clear"),u=qt(t,"vocal"),f=qt(t,"mode");o?(i=e.currentDialogKey,a=e.showText+a,n(Bt({key:"currentConcatDialogPrev",value:e.showText}))):n(Bt({key:"currentConcatDialogPrev",value:""})),n(Bt({key:"showText",value:a})),n(Bt({key:"vocal",value:""})),n(Bt({key:"dialogueMode",value:f})),r.optionData.voiceInterruption===rO.no&&u===null||(n(Bt({key:"playVocal",value:""})),W.gameplay.performController.unmountPerform("vocal-play",!0)),n(Bt({key:"currentDialogKey",value:i}));const p=yH(r.optionData.textSpeed)*t.content.length;for(const v of t.args)if(v.key==="fontSize")switch(v.value){case"default":n(Bt({key:"showTextSize",value:-1}));break;case"small":n(Bt({key:"showTextSize",value:yu.small}));break;case"medium":n(Bt({key:"showTextSize",value:yu.medium}));break;case"large":n(Bt({key:"showTextSize",value:yu.large}));break}let d=e.showName;c!==null&&(d=c),f==="player"&&(d=""),f==="narrator"&&(d=""),l&&(d=""),n(Bt({key:"showName",value:d})),u&&gTe(t);const g=Qa();let m=750-r.optionData.textSpeed/100*2*250;return s&&(m=0),uk(),{performName:g,duration:p+m,isHoldOn:!1,stopFunction:()=>{W.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:s}},yTe=t=>{const e=ce.getState().stage,r=ce.getState().userData,n=ce.dispatch,i={stageGameVar:e.GameVar,globalGameVar:r.globalGameVar};n(Bt({key:"showText",value:JSON.stringify(i)})),n(Bt({key:"showName",value:""})),Je.debug("",i),setTimeout(()=>{W.events.textSettle.emit()},0);const a=Qa(),o=750-r.optionData.textSpeed*250;return{performName:a,duration:o,isHoldOn:!1,stopFunction:()=>{W.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},xTe=t=>{const{content:e}=t,r=e.split(",");for(const n of r){const i=n.split("->");if(i.length>=2){const a=i[0],o=i[1];ce.dispatch(qn.replaceUIlable([a,o]))}}return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},bTe=t=>(console.log(" >>>>>>>> start : ",{sentence:t}),(async()=>{var s,c;await uk(),await lk(),t!=null&&t.content;const r={};if(t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break;case"hideName":r.isHideName=l.value.toString()==="true";break}}),!r.name)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ce.getState().saveData,i=(s=n.unlockStorylineList)==null?void 0:s.findIndex(l=>l.storyLine.name===r.name);let a;i!==-1&&(a=n.unlockStorylineList[i]);const o={name:r.name||"",thumbnailUrl:r.thumbnailUrl||"",x:r.x||0,y:r.y||0,isHideName:r.isHideName||!1,isUnlock:((c=a==null?void 0:a.storyLine)==null?void 0:c.isUnlock)||n.isUnlockStoryline||!1};i===-1?ce.dispatch(Er.addStorylineList({storyLine:o,videoData:ce.getState().saveData.saveVideoData})):ce.dispatch(Er.replaceStorylineList({index:i,data:{storyLine:o,videoData:ce.getState().saveData.saveVideoData}})),vH()})(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),wTe=t=>{var l;console.log(" >>>>>>>> start : ",{sentence:t});let e=(t==null?void 0:t.content)||"";const r={};if(r.url=e,t.args.forEach(u=>{var f,h;switch(u.key){case"unlockname":r.unlockname=((f=u.value)==null?void 0:f.toString())??"";break;case"x":r.x=u.value&&Number(u.value)||0;break;case"y":r.y=u.value&&Number(u.value)||0;break;case"condition":r.condition=((h=u.value)==null?void 0:h.toString())??"";break}}),!r.unlockname||!r.url)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const n=ce.getState().saveData;if(!n.isShowUnlock)return{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};const i=(l=n.unlockAchieveData)==null?void 0:l.findIndex(u=>u.unlockname===r.unlockname&&u.url===r.url);let a;i!==-1&&(a=n.unlockAchieveData[i]);const o=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),s={unlockname:r.unlockname||"",url:r.url||"",x:r.x||0,y:r.y||0,condition:r.condition||"",saveTime:o,isShowUnlock:(a==null?void 0:a.isShowUnlock)||n.isShowUnlock||!1},c=n.allUnlockAchieveList.map(u=>(u.unlockname===r.unlockname&&r.url&&r.url.includes(u.url)&&(u=s),u));return ce.dispatch(Er.saveAllUnlockAchieveList(c)),i===-1?ce.dispatch(Er.addUnlockAchieveData(s)):ce.dispatch(Er.replaceUnlockAchieveData({index:i,data:s})),mH(),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},dD=t=>{const e=/\{(.*?)\}/,r=t.match(e);if(r){const i=r[1].split(","),a={};return i.forEach(o=>{const[s,c]=o.split("=");s&&c&&(a[s.trim()]=isNaN(Number(c.trim()))?c.trim():Number(c.trim()))}),a}};function ETe(t){const e={isShowValueSwitch:!1,showValueName:"",showValueAxisX:0,showValueAxisY:0,showProgress:!1};return t!=null&&t.content&&(e.showValueName=t.content),t.args.forEach(r=>{r.key==="switchValue"?e.isShowValueSwitch=!!r.value:r.key==="x"?e.showValueAxisX=Number(r.value):r.key==="y"?e.showValueAxisY=Number(r.value):r.key==="showProgress"?e.showProgress=!!r.value:r.key==="progressBarBgStyle"?e.progressBarBgStyle=dD(r.value):r.key==="progressBarStyle"?e.progressBarStyle=dD(r.value):r.key==="maxValue"&&(e.maxValue=Number(r.value))}),ce.dispatch(vde(e)),{performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}const STe=t=>{if(ce.getState().storeData.isEditorPreviewMode)return{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=Number(t.content),n=ce.getState().storeData.paymentConfigurationList.find(c=>c.product_id===r);let i=n==null?void 0:n.sales_amount;const a={current:!1};t.args.forEach(c=>{var l;switch(c.key){case"name":(l=c.value)==null||l.toString();break;case"amount":i||(i=isNaN(Number(c.value))?0:Number(c.value));break}});const o=(c=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},c?0:2e3);const l=()=>{es({title:`
`,rightText:"",rightFunc:()=>o(!0)})},u=()=>{MV(r??0).then(async f=>{window.pubsub.publish("loading",{loading:!1}),await K1(2e3),f.code===0?(window.pubsub.publish("toaster",{show:!0,text:""}),W.gameplay.performController.unmountPerform("payProduct")):f.code===10014?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("rechargeModal",{successCallback:o,closeCallback:o})):(window.pubsub.publish("toaster",{show:!0,text:f.message}),o())}).catch(()=>{window.pubsub.publish("loading",{loading:!1})})};rx(r).then(f=>{e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),f.code===0?f.data?W.gameplay.performController.unmountPerform("payProduct"):es({title:"",content:`${i}`,suffixContent:"",leftText:"",rightText:"",type:"pay",leftFunc:()=>{a.current=!0},rightFunc:u}):l()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),l()})};return o(),{performName:"payProduct",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{const c={performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};W.gameplay.performController.arrangeNewPerform(c,t,!1)},blockingNext:()=>(a.current&&(a.current=!1,o()),!0),blockingAuto:()=>!0,stopTimeout:void 0}},CTe=t=>{if(ce.getState().storeData.isEditorPreviewMode)return{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};let e={current:null};const r=ce.getState().storeData.gameInfo;let n=(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===2;const{playSeEnter:i,playSeClick:a}=Wd(),o={current:!1};if(n&&(r!=null&&r.canPlay)||(r==null?void 0:r.isFree)===2||(r==null?void 0:r.isFree)===1&&(r==null?void 0:r.tryPlay)===1&&r.canPlay)return{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};const s=async()=>{a();const u=await LV();window.pubsub.publish("loading",{loading:!1}),await K1(2e3),u.code===0||u.code===10053?(u.code===0&&window.pubsub.publish("toaster",{show:!0}),W.gameplay.performController.unmountPerform("finishTrial")):u.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{successCallback:c,closeCallback:c})):window.pubsub.publish("toaster",{show:!0,text:u.message})},c=(u=!1)=>{e.current=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},u?0:2e3);const f=()=>{es({title:`
`,rightText:"",rightFunc:()=>c(!0)})};GO().then(h=>{if(e.current&&clearTimeout(e.current),window.pubsub.publish("loading",{loading:!1}),h.code===0){const p=h.data;if(!p)return;if(p.isFree===1&&p.tryPlay===2&&p.canPlay)W.gameplay.performController.unmountPerform("finishTrial");else{const d=ce.getState().storeData.gameInfo;es({title:"",type:"pay",content:`${d==null?void 0:d.salesAmount}`,suffixContent:"",leftText:"",rightText:"",leftFunc:()=>{o.current=!0},rightFunc:s})}}else f()}).catch(()=>{window.pubsub.publish("loading",{loading:!1}),f()})};return c(),{performName:"finishTrial",duration:1e3*60*60*24*3650,isHoldOn:!1,stopFunction:()=>{Pu.render(F.jsx("div",{}),document.getElementById("chooseContainer"));const u={performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};W.gameplay.performController.arrangeNewPerform(u,t,!1)},blockingNext:()=>(o.current&&(c(),o.current=!1),!0),blockingAuto:()=>!0,stopTimeout:void 0}};function TTe(t,e,r,n=500){const i=t.scrollLeft,a=t.scrollTop,o=e-i,s=r-a,c=performance.now();function l(f){const h=f-c,p=Math.min(h/n,1),d=u(p);t.scrollTo(i+o*d,a+s*d),h<n&&requestAnimationFrame(l)}function u(f){return f<.5?2*f*f:-1+(4-2*f)*f}requestAnimationFrame(l)}const ATe=t=>{const e=Qa();let r=0,n=0,i=0,a=!1;console.log(" >>>>>>>> start : ",{sentence:t}),t.args.forEach(s=>{s.key==="duration"?r=Number(s.value):s.key==="x"?n=Number(s.value):s.key==="y"?i=Number(s.value):s.key==="next"&&(a=s.value==="true")});const o=document.getElementById("camera");return o&&(Je.info(`${n}${i}`),TTe(o,n,i,r)),{performName:e,duration:r,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}},ITe=t=>{let e=jt(t.content,Ut.ui),r="",n=Date.now(),i="";return t.args.forEach(a=>{a.key==="number"?r=jt(a.value.toString().trim(),Ut.ui):a.key==="sound"&&a.value&&(i=jt(a.value.toString().trim(),Ut.vocal))}),ce.dispatch(mde({rolePicture:e,numberPicture:r,key:n})),i&&dH({command:Lt.playEffect,commandRaw:"playEffect",content:i,sentenceAssets:[],subScene:[],args:[]}),{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0}},zS={performName:"none",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},RTe=t=>{var c;if(console.log(" >>>>>>>> start : ",{sentence:t}),f2e())return zS;let e=(t==null?void 0:t.content)||"";const r={};r.url=e,t.args.forEach(l=>{var u;switch(l.key){case"name":r.name=((u=l.value)==null?void 0:u.toString())??"";break;case"x":r.x=l.value&&Number(l.value)||0;break;case"y":r.y=l.value&&Number(l.value)||0;break}});const n=ce.getState().saveData;if(!r.name||!r.url)return zS;const i=(c=n.unlockAffinityData)==null?void 0:c.findIndex(l=>l.name===r.name&&l.url===r.url),a=new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),o={name:r.name||"",url:r.url||"",x:r.x||0,y:r.y||0,saveTime:a,isUnlocked:!0},s=[...n.unlockAffinityData];return i!==-1?s[i]=o:s.push(o),ce.dispatch(Er.updateAffinityData(s)),XCe(),zS};function PTe(t){let e="center",r=t.content,n=!1,i="",a="",o="",s=500,c="",l="",u="",f="",h="",p="";const d=ce.dispatch;for(const w of t.args)switch(w.key){case"left":w.value===!0&&(e="left");break;case"right":w.value===!0&&(e="right");break;case"clear":w.value===!0&&(r="");break;case"id":n=!0,o=w.value.toString();break;case"motion":i=w.value.toString();break;case"expression":a=w.value.toString();break;case"mouthOpen":c=w.value.toString(),c=jt(c,Ut.image);break;case"mouthClose":l=w.value.toString(),l=jt(l,Ut.image);break;case"mouthHalfOpen":u=w.value.toString(),u=jt(u,Ut.image);break;case"eyesOpen":f=w.value.toString(),f=jt(f,Ut.image);break;case"eyesClose":h=w.value.toString(),h=jt(h,Ut.image);break;case"animationFlag":p=w.value.toString();break;case"none":r="";break}const g=o||`pop-${e}`,v=ce.getState().stage.popUpImageAssociatedAnimation.filter(w=>w.targetId!==g),_={targetId:g,animationFlag:p,mouthAnimation:{open:c,close:l,halfOpen:u},blinkAnimation:{open:f,close:h}};v.push(_),d(Bt({key:"popUpImageAssociatedAnimation",value:v}));let y=!0;if(o!==""){const w=ce.getState().stage.freePopUpImage.find(E=>E.key===o);w&&w.name===t.content&&(y=!1)}else e==="center"&&ce.getState().stage.popUpImageName===t.content&&(y=!1),e==="left"&&ce.getState().stage.popUpImageNameLeft===t.content&&(y=!1),e==="right"&&ce.getState().stage.popUpImageNameRight===t.content&&(y=!1);if(y){const w=`pop-${e}`,E=`${o}`;ce.dispatch(qn.removeEffectByTargetId(w)),ce.dispatch(qn.removeEffectByTargetId(E))}const b=(w,E)=>{const C=qt(E,"transform"),T=qt(E,"duration");T&&typeof T=="number"&&(s=T);let A;if(C){console.log(C);try{const k=JSON.parse(C.toString());A=sf(w,k,s),A[0].alpha=0;const M=(Math.random()*10).toString(16),B={name:M,effects:A};W.animationManager.addAnimation(B),s=Ii(M),W.animationManager.nextEnterAnimationName.set(w,M)}catch{R()}}else R();function R(){A=sf(w,{},s),A[0].alpha=0;const M=(Math.random()*10).toString(16),B={name:M,effects:A};W.animationManager.addAnimation(B),s=Ii(M),W.animationManager.nextEnterAnimationName.set(w,M)}const O=qt(E,"enter"),P=qt(E,"exit");O&&(W.animationManager.nextEnterAnimationName.set(w,O.toString()),s=Ii(O.toString())),P&&(W.animationManager.nextExitAnimationName.set(w+"-off",P.toString()),s=Ii(P.toString()))};if(n){ce.getState().stage.freePopUpImage;const w={key:o,name:r,basePosition:e};b(o,t),i&&d(qn.setPopUpImageLive2dMotion({target:o,motion:i})),a&&d(qn.setPopUpImageLive2dExpression({target:o,expression:a})),d(qn.setFreeFigureByKey(w))}else{const w={center:"pop-center",left:"pop-left",right:"pop-right"},E={center:"popUpImageName",left:"popUpImageNameLeft",right:"popUpImageNameRight"};o=w[e],b(o,t),i&&d(qn.setPopUpImageLive2dMotion({target:o,motion:i})),a&&d(qn.setPopUpImageLive2dExpression({target:o,expression:a})),d(Bt({key:E[e],value:r}))}return{performName:"none",duration:s,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}const cb=()=>{Je.warn("");for(let t=0;t<W.gameplay.performController.performList.length;t++){const e=W.gameplay.performController.performList[t];e.performName.startsWith("videoPlay")?e.stopFunction(!0):e.stopFunction(),clearTimeout(e.stopTimeout),W.gameplay.performController.performList.splice(t,1),t--}};function OTe(t){var i;const e=ce.dispatch,r=ce.getState().stage;cb();const n=((i=t.args.find(a=>a.key==="next"))==null?void 0:i.value)==="true";return e(lg({...r,figNameLeft:"",figNameRight:"",figName:"",popUpImageName:"",popUpImageNameLeft:"",popUpImageNameRight:"",bgName:"",showAffinityChangeList:[],showValueList:[],showName:"",showText:""})),{performName:Qa(),duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:n}}const xH=u2e({intro:Qt(Lt.intro,M2e),changeBg:Qt(Lt.changeBg,TEe),changeFigure:Qt(Lt.changeFigure,AEe),miniAvatar:Qt(Lt.miniAvatar,B2e,{next:!0}),changeScene:Qt(Lt.changeScene,IEe),choose:Qt(Lt.choose,aA),end:Qt(Lt.end,uTe),bgm:Qt(Lt.bgm,xme,{next:!0}),playVideo:Qt(Lt.video,YCe),setComplexAnimation:Qt(Lt.setComplexAnimation,JCe),setFilter:Qt(Lt.setFilter,eTe),pixiInit:Qt(Lt.pixiInit,fTe,{next:!0}),pixiPerform:Qt(Lt.pixi,V2e,{next:!0}),label:Qt(Lt.label,L2e,{next:!0}),jumpLabel:Qt(Lt.jumpLabel,cTe),setVar:Qt(Lt.setVar,xye,{next:!0}),showVars:Qt(Lt.showVars,yTe),unlockCg:Qt(Lt.unlockCg,lTe,{next:!0}),unlockBgm:Qt(Lt.unlockBgm,sTe,{next:!0}),say:Qt(Lt.say,_Te),filmMode:Qt(Lt.filmMode,p2e,{next:!0}),callScene:Qt(Lt.callScene,pxe),setTextbox:Qt(Lt.setTextbox,rTe),setAnimation:Qt(Lt.setAnimation,qCe),playEffect:Qt(Lt.playEffect,dH,{next:!0}),setTempAnimation:Qt(Lt.setTempAnimation,tTe),__commment:Qt(Lt.comment,d2e,{next:!0}),setTransform:Qt(Lt.setTransform,nTe),setTransition:Qt(Lt.setTransition,oTe,{next:!0}),getUserInput:Qt(Lt.getUserInput,b2e),applyStyle:Qt(Lt.applyStyle,xTe,{next:!0}),unlockAchieve:Qt(Lt.unlockAchieve,wTe,{next:!0}),unlockStoryline:Qt(Lt.unlockStoryline,bTe,{next:!0}),showValue:Qt(Lt.showValue,ETe,{next:!0}),payProduct:Qt(Lt.payProduct,STe),finishTrial:Qt(Lt.finishTrial,CTe),moveCamera:Qt(Lt.moveCamera,ATe),changeAffinity:Qt(Lt.changeAffinity,ITe),unlockAffinity:Qt(Lt.unlockAffinity,RTe),popUpImage:Qt(Lt.popUpImage,PTe),clearScreen:Qt(Lt.clearScreen,OTe)}),bH=Object.values(xH),kTe=bH.filter(t=>t.next).map(t=>t.scriptType),fb=new yme(P0e,jt,kTe,bH),yv=(t,e,r)=>{const n=fb.parse(t,e,r);return Je.info(`${e}`,n),n};var So=(t=>(t.Start="start.txt",t.Achieve="achieve.txt",t.Storyline="storyline.txt",t.Affinity="affinity.txt",t))(So||{});const pD={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}};class FTe{constructor(){ut(this,"settledScenes",[]);ut(this,"settledAssets",[]);ut(this,"sceneData",yn(pD));ut(this,"sceneAssetsList",{});ut(this,"sceneAssetsLoadedList",{})}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=yn(pD.currentScene)}setCurrentScene(e,r,n,i=!1){return new Promise(a=>{let o={current:null},s=null;i&&!this.sceneAssetsLoadedList[r]&&(s=setTimeout(()=>{window.pubsub.publish("loading",{loading:!0})},1e3));const c=window.pubsub.subscribe("sceneAssetsLoaded",({sceneName:l})=>{setTimeout(()=>{var u,f;if(r===l){o.current&&(this.sceneData.currentScene=o.current);const h=((f=(u=this.sceneData)==null?void 0:u.currentScene)==null?void 0:f.sentenceList)??[];r==="storyline.txt"?this.getAllStorylineList(h):r==="achieve.txt"?this.getAllUnlockAchieveList(h):r==="affinity.txt"&&gH(),i&&window.pubsub.publish("loading",{loading:!1}),s&&clearTimeout(s),a(o),o.current=null,c()}},16)});o.current=yv(e,r,n)})}async getAllStorylineList(e){await lk();const r=new Map,n=new Map;ce.getState().saveData.unlockStorylineList.forEach(o=>{const{name:s,isUnlock:c=!1}=o.storyLine||{};r.set(s,s),n.set(s,o.videoData)});const i=e.filter(o=>o.command===Lt.unlockStoryline).map(o=>{const s={thumbnailUrl:(o==null?void 0:o.content)??"",name:"",x:0,y:0,isUnlock:!1,isHideName:!1},c={storyLine:{},videoData:null};return o.args.forEach(l=>{l.key==="name"?s.name=l.value.toString():l.key==="x"?s.x=Number(l.value):l.key==="y"?s.y=Number(l.value):l.key==="hideName"&&(s.isHideName=l.value.toString()==="true")}),r.get(s.name)&&n.get(s.name)?(s.isUnlock=!0,c.videoData=n.get(s.name)):s.isUnlock=!1,c.storyLine=s,c});ce.dispatch(Er.saveAllStorylineData(i));const a=i.filter(o=>o.storyLine.isUnlock);ce.dispatch(Er.setStorylineListFromStorage(a)),await vH()}async getAllUnlockAchieveList(e){await WCe();const r=new Map,n=new Map;ce.getState().saveData.unlockAchieveData.forEach(o=>{o.isShowUnlock&&(r.set(o.unlockname,o.isShowUnlock),n.set(o.unlockname,(o==null?void 0:o.saveTime)??""))});const i=e.filter(o=>o.command===Lt.unlockAchieve).map(o=>{const s={url:(o==null?void 0:o.content)??"",unlockname:"",condition:"",saveTime:"",x:0,y:0,isShowUnlock:!1};return o.args.forEach(c=>{c.key==="unlockname"?s.unlockname=c.value.toString():c.key==="x"?s.x=Number(c.value):c.key==="y"?s.y=Number(c.value):c.key==="condition"&&(s.condition=c.value.toString())}),r!=null&&r.get(s==null?void 0:s.unlockname)&&(s.isShowUnlock=!0,s.saveTime=n==null?void 0:n.get(s==null?void 0:s.unlockname)),s});ce.dispatch(Er.saveAllUnlockAchieveList(i));const a=i.filter(o=>o==null?void 0:o.isShowUnlock);ce.dispatch(Er.setUnlockAchieveData(a)),await mH()}compareFilenames(e,r){const n=e.match(/\/?([^/]+)\.\w+$/),i=r.match(/\/?([^/]+)\.\w+$/);return n&&i?n[1]===i[1]:!1}}class NTe{constructor(){ut(this,"nextEnterAnimationName",new Map);ut(this,"nextExitAnimationName",new Map);ut(this,"animations",[])}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}class MTe{constructor(){ut(this,"isAuto",!1);ut(this,"isFast",!1);ut(this,"isSyncingWithOrigine",!1);ut(this,"autoInterval",null);ut(this,"fastInterval",null);ut(this,"autoTimeout",null);ut(this,"pixiStage",null);ut(this,"performController",new CEe)}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;const e=this.autoInterval;e!==null&&clearInterval(e),this.autoInterval=null;const r=this.fastInterval;r!==null&&clearInterval(r),this.fastInterval=null;const n=this.autoTimeout;n!==null&&clearInterval(n),this.autoTimeout=null}}function LTe(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(i){i(r)}),(n=t.get("*"))&&n.slice().map(function(i){i(e,r)})}}}class BTe{constructor(){ut(this,"textSettle",Ym("text-settle"));ut(this,"userInteractNext",Ym("__NEXT"));ut(this,"fullscreenDbClick",Ym("fullscreen-dbclick"));ut(this,"styleUpdate",Ym("style-update"))}}const XS=LTe();function Ym(t){return{on:(e,r)=>{XS.on(`${t}-${r??""}`,e)},emit:(e,r)=>{XS.emit(`${t}-${r??""}`,e)},off:(e,r)=>{XS.off(`${t}-${r??""}`,e)}}}var wH={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(o,s,c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,u){o.exports=u()})(this,function(){function l(Oe){var j=typeof Oe;return Oe!==null&&(j==="object"||j==="function")}function u(Oe){return typeof Oe=="function"}var f=void 0;Array.isArray?f=Array.isArray:f=function(Oe){return Object.prototype.toString.call(Oe)==="[object Array]"};var h=f,p=0,d=void 0,g=void 0,m=function(j,pe){k[p]=j,k[p+1]=pe,p+=2,p===2&&(g?g(M):D())};function v(Oe){g=Oe}function _(Oe){m=Oe}var y=typeof window<"u"?window:void 0,b=y||{},w=b.MutationObserver||b.WebKitMutationObserver,E=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){return function(){return process.nextTick(M)}}function A(){return typeof d<"u"?function(){d(M)}:P()}function R(){var Oe=0,j=new w(M),pe=document.createTextNode("");return j.observe(pe,{characterData:!0}),function(){pe.data=Oe=++Oe%2}}function O(){var Oe=new MessageChannel;return Oe.port1.onmessage=M,function(){return Oe.port2.postMessage(0)}}function P(){var Oe=setTimeout;return function(){return Oe(M,1)}}var k=new Array(1e3);function M(){for(var Oe=0;Oe<p;Oe+=2){var j=k[Oe],pe=k[Oe+1];j(pe),k[Oe]=void 0,k[Oe+1]=void 0}p=0}function B(){try{var Oe=Function("return this")().require("vertx");return d=Oe.runOnLoop||Oe.runOnContext,A()}catch{return P()}}var D=void 0;E?D=T():w?D=R():C?D=O():y===void 0?D=B():D=P();function H(Oe,j){var pe=this,Ce=new this.constructor(Y);Ce[ne]===void 0&&Rt(Ce);var Fe=pe._state;if(Fe){var ae=arguments[Fe-1];m(function(){return Ve(Fe,Ce,ae,pe._result)})}else De(pe,Ce,Oe,j);return Ce}function ee(Oe){var j=this;if(Oe&&typeof Oe=="object"&&Oe.constructor===j)return Oe;var pe=new j(Y);return Le(pe,Oe),pe}var ne=Math.random().toString(36).substring(2);function Y(){}var U=void 0,X=1,V=2;function G(){return new TypeError("You cannot resolve a promise with itself")}function te(){return new TypeError("A promises callback cannot return that same promise.")}function oe(Oe,j,pe,Ce){try{Oe.call(j,pe,Ce)}catch(Fe){return Fe}}function ge(Oe,j,pe){m(function(Ce){var Fe=!1,ae=oe(pe,j,function(Ae){Fe||(Fe=!0,j!==Ae?Le(Ce,Ae):Ee(Ce,Ae))},function(Ae){Fe||(Fe=!0,Se(Ce,Ae))},"Settle: "+(Ce._label||" unknown promise"));!Fe&&ae&&(Fe=!0,Se(Ce,ae))},Oe)}function le(Oe,j){j._state===X?Ee(Oe,j._result):j._state===V?Se(Oe,j._result):De(j,void 0,function(pe){return Le(Oe,pe)},function(pe){return Se(Oe,pe)})}function ye(Oe,j,pe){j.constructor===Oe.constructor&&pe===H&&j.constructor.resolve===ee?le(Oe,j):pe===void 0?Ee(Oe,j):u(pe)?ge(Oe,j,pe):Ee(Oe,j)}function Le(Oe,j){if(Oe===j)Se(Oe,G());else if(l(j)){var pe=void 0;try{pe=j.then}catch(Ce){Se(Oe,Ce);return}ye(Oe,j,pe)}else Ee(Oe,j)}function ke(Oe){Oe._onerror&&Oe._onerror(Oe._result),We(Oe)}function Ee(Oe,j){Oe._state===U&&(Oe._result=j,Oe._state=X,Oe._subscribers.length!==0&&m(We,Oe))}function Se(Oe,j){Oe._state===U&&(Oe._state=V,Oe._result=j,m(ke,Oe))}function De(Oe,j,pe,Ce){var Fe=Oe._subscribers,ae=Fe.length;Oe._onerror=null,Fe[ae]=j,Fe[ae+X]=pe,Fe[ae+V]=Ce,ae===0&&Oe._state&&m(We,Oe)}function We(Oe){var j=Oe._subscribers,pe=Oe._state;if(j.length!==0){for(var Ce=void 0,Fe=void 0,ae=Oe._result,Ae=0;Ae<j.length;Ae+=3)Ce=j[Ae],Fe=j[Ae+pe],Ce?Ve(pe,Ce,Fe,ae):Fe(ae);Oe._subscribers.length=0}}function Ve(Oe,j,pe,Ce){var Fe=u(pe),ae=void 0,Ae=void 0,z=!0;if(Fe){try{ae=pe(Ce)}catch(je){z=!1,Ae=je}if(j===ae){Se(j,te());return}}else ae=Ce;j._state!==U||(Fe&&z?Le(j,ae):z===!1?Se(j,Ae):Oe===X?Ee(j,ae):Oe===V&&Se(j,ae))}function He(Oe,j){try{j(function(Ce){Le(Oe,Ce)},function(Ce){Se(Oe,Ce)})}catch(pe){Se(Oe,pe)}}var qe=0;function Et(){return qe++}function Rt(Oe){Oe[ne]=qe++,Oe._state=void 0,Oe._result=void 0,Oe._subscribers=[]}function ht(){return new Error("Array Methods must be provided an Array")}var dt=function(){function Oe(j,pe){this._instanceConstructor=j,this.promise=new j(Y),this.promise[ne]||Rt(this.promise),h(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),this.length===0?Ee(this.promise,this._result):(this.length=this.length||0,this._enumerate(pe),this._remaining===0&&Ee(this.promise,this._result))):Se(this.promise,ht())}return Oe.prototype._enumerate=function(pe){for(var Ce=0;this._state===U&&Ce<pe.length;Ce++)this._eachEntry(pe[Ce],Ce)},Oe.prototype._eachEntry=function(pe,Ce){var Fe=this._instanceConstructor,ae=Fe.resolve;if(ae===ee){var Ae=void 0,z=void 0,je=!1;try{Ae=pe.then}catch(N){je=!0,z=N}if(Ae===H&&pe._state!==U)this._settledAt(pe._state,Ce,pe._result);else if(typeof Ae!="function")this._remaining--,this._result[Ce]=pe;else if(Fe===bt){var vt=new Fe(Y);je?Se(vt,z):ye(vt,pe,Ae),this._willSettleAt(vt,Ce)}else this._willSettleAt(new Fe(function(N){return N(pe)}),Ce)}else this._willSettleAt(ae(pe),Ce)},Oe.prototype._settledAt=function(pe,Ce,Fe){var ae=this.promise;ae._state===U&&(this._remaining--,pe===V?Se(ae,Fe):this._result[Ce]=Fe),this._remaining===0&&Ee(ae,this._result)},Oe.prototype._willSettleAt=function(pe,Ce){var Fe=this;De(pe,void 0,function(ae){return Fe._settledAt(X,Ce,ae)},function(ae){return Fe._settledAt(V,Ce,ae)})},Oe}();function St(Oe){return new dt(this,Oe).promise}function nr(Oe){var j=this;return h(Oe)?new j(function(pe,Ce){for(var Fe=Oe.length,ae=0;ae<Fe;ae++)j.resolve(Oe[ae]).then(pe,Ce)}):new j(function(pe,Ce){return Ce(new TypeError("You must pass an array to race."))})}function Xt(Oe){var j=this,pe=new j(Y);return Se(pe,Oe),pe}function ir(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Vt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var bt=function(){function Oe(j){this[ne]=Et(),this._result=this._state=void 0,this._subscribers=[],Y!==j&&(typeof j!="function"&&ir(),this instanceof Oe?He(this,j):Vt())}return Oe.prototype.catch=function(pe){return this.then(null,pe)},Oe.prototype.finally=function(pe){var Ce=this,Fe=Ce.constructor;return u(pe)?Ce.then(function(ae){return Fe.resolve(pe()).then(function(){return ae})},function(ae){return Fe.resolve(pe()).then(function(){throw ae})}):Ce.then(pe,pe)},Oe}();bt.prototype.then=H,bt.all=St,bt.race=nr,bt.resolve=ee,bt.reject=Xt,bt._setScheduler=v,bt._setAsap=_,bt._asap=m;function Zt(){var Oe=void 0;if(typeof c.g<"u")Oe=c.g;else if(typeof self<"u")Oe=self;else try{Oe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var j=Oe.Promise;if(j){var pe=null;try{pe=Object.prototype.toString.call(j.resolve())}catch{}if(pe==="[object Promise]"&&!j.cast)return}Oe.Promise=bt}return bt.polyfill=Zt,bt.Promise=bt,bt})},"./node_modules/events/events.js":function(o){var s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(P,k,M){return Function.prototype.apply.call(P,k,M)},l;s&&typeof s.ownKeys=="function"?l=s.ownKeys:Object.getOwnPropertySymbols?l=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:l=function(P){return Object.getOwnPropertyNames(P)};function u(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(P){return P!==P};function h(){h.init.call(this)}o.exports=h,o.exports.once=T,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function d(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");p=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||f(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function g(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return g(this)},h.prototype.emit=function(P){for(var k=[],M=1;M<arguments.length;M++)k.push(arguments[M]);var B=P==="error",D=this._events;if(D!==void 0)B=B&&D.error===void 0;else if(!B)return!1;if(B){var H;if(k.length>0&&(H=k[0]),H instanceof Error)throw H;var ee=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw ee.context=H,ee}var ne=D[P];if(ne===void 0)return!1;if(typeof ne=="function")c(ne,this,k);else for(var Y=ne.length,U=w(ne,Y),M=0;M<Y;++M)c(U[M],this,k);return!0};function m(O,P,k,M){var B,D,H;if(d(k),D=O._events,D===void 0?(D=O._events=Object.create(null),O._eventsCount=0):(D.newListener!==void 0&&(O.emit("newListener",P,k.listener?k.listener:k),D=O._events),H=D[P]),H===void 0)H=D[P]=k,++O._eventsCount;else if(typeof H=="function"?H=D[P]=M?[k,H]:[H,k]:M?H.unshift(k):H.push(k),B=g(O),B>0&&H.length>B&&!H.warned){H.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=O,ee.type=P,ee.count=H.length,u(ee)}return O}h.prototype.addListener=function(P,k){return m(this,P,k,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(P,k){return m(this,P,k,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(O,P,k){var M={fired:!1,wrapFn:void 0,target:O,type:P,listener:k},B=v.bind(M);return B.listener=k,M.wrapFn=B,B}h.prototype.once=function(P,k){return d(k),this.on(P,_(this,P,k)),this},h.prototype.prependOnceListener=function(P,k){return d(k),this.prependListener(P,_(this,P,k)),this},h.prototype.removeListener=function(P,k){var M,B,D,H,ee;if(d(k),B=this._events,B===void 0)return this;if(M=B[P],M===void 0)return this;if(M===k||M.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete B[P],B.removeListener&&this.emit("removeListener",P,M.listener||k));else if(typeof M!="function"){for(D=-1,H=M.length-1;H>=0;H--)if(M[H]===k||M[H].listener===k){ee=M[H].listener,D=H;break}if(D<0)return this;D===0?M.shift():E(M,D),M.length===1&&(B[P]=M[0]),B.removeListener!==void 0&&this.emit("removeListener",P,ee||k)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(P){var k,M,B;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[P]),this;if(arguments.length===0){var D=Object.keys(M),H;for(B=0;B<D.length;++B)H=D[B],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=M[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(B=k.length-1;B>=0;B--)this.removeListener(P,k[B]);return this};function y(O,P,k){var M=O._events;if(M===void 0)return[];var B=M[P];return B===void 0?[]:typeof B=="function"?k?[B.listener||B]:[B]:k?C(B):w(B,B.length)}h.prototype.listeners=function(P){return y(this,P,!0)},h.prototype.rawListeners=function(P){return y(this,P,!1)},h.listenerCount=function(O,P){return typeof O.listenerCount=="function"?O.listenerCount(P):b.call(O,P)},h.prototype.listenerCount=b;function b(O){var P=this._events;if(P!==void 0){var k=P[O];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function w(O,P){for(var k=new Array(P),M=0;M<P;++M)k[M]=O[M];return k}function E(O,P){for(;P+1<O.length;P++)O[P]=O[P+1];O.pop()}function C(O){for(var P=new Array(O.length),k=0;k<P.length;++k)P[k]=O[k].listener||O[k];return P}function T(O,P){return new Promise(function(k,M){function B(H){O.removeListener(P,D),M(H)}function D(){typeof O.removeListener=="function"&&O.removeListener("error",B),k([].slice.call(arguments))}R(O,P,D,{once:!0}),P!=="error"&&A(O,B,{once:!0})})}function A(O,P,k){typeof O.on=="function"&&R(O,"error",P,k)}function R(O,P,k,M){if(typeof O.on=="function")M.once?O.once(P,k):O.on(P,k);else if(typeof O.addEventListener=="function")O.addEventListener(P,function B(D){M.once&&O.removeEventListener(P,B),k(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}},"./node_modules/webworkify-webpack/index.js":function(o,s,c){function l(v){var _={};function y(w){if(_[w])return _[w].exports;var E=_[w]={i:w,l:!1,exports:{}};return v[w].call(E.exports,E,E.exports,y),E.l=!0,E.exports}y.m=v,y.c=_,y.i=function(w){return w},y.d=function(w,E,C){y.o(w,E)||Object.defineProperty(w,E,{configurable:!1,enumerable:!0,get:C})},y.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},y.n=function(w){var E=w&&w.__esModule?function(){return w.default}:function(){return w};return y.d(E,"a",E),E},y.o=function(w,E){return Object.prototype.hasOwnProperty.call(w,E)},y.p="/",y.oe=function(w){throw console.error(w),w};var b=y(y.s=ENTRY_MODULE);return b.default||b}var u="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+u+").*?\\)";function h(v){return(v+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(v){return!isNaN(1*v)}function d(v,_,y){var b={};b[y]=[];var w=_.toString(),E=w.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return b;for(var C=E[1],T=new RegExp("(\\\\n|\\W)"+h(C)+f,"g"),A;A=T.exec(w);)A[3]!=="dll-reference"&&b[y].push(A[3]);for(T=new RegExp("\\("+h(C)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+f,"g");A=T.exec(w);)v[A[2]]||(b[y].push(A[1]),v[A[2]]=c(A[1]).m),b[A[2]]=b[A[2]]||[],b[A[2]].push(A[4]);for(var R=Object.keys(b),O=0;O<R.length;O++)for(var P=0;P<b[R[O]].length;P++)p(b[R[O]][P])&&(b[R[O]][P]=1*b[R[O]][P]);return b}function g(v){var _=Object.keys(v);return _.reduce(function(y,b){return y||v[b].length>0},!1)}function m(v,_){for(var y={main:[_]},b={main:[]},w={main:{}};g(y);)for(var E=Object.keys(y),C=0;C<E.length;C++){var T=E[C],A=y[T],R=A.pop();if(w[T]=w[T]||{},!(w[T][R]||!v[T][R])){w[T][R]=!0,b[T]=b[T]||[],b[T].push(R);for(var O=d(v,v[T][R],T),P=Object.keys(O),k=0;k<P.length;k++)y[P[k]]=y[P[k]]||[],y[P[k]]=y[P[k]].concat(O[P[k]])}}return b}o.exports=function(v,_){_=_||{};var y={main:c.m},b=_.all?{main:Object.keys(y.main)}:m(y,v),w="";Object.keys(b).filter(function(R){return R!=="main"}).forEach(function(R){for(var O=0;b[R][O];)O++;b[R].push(O),y[R][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",w=w+"var "+R+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+b[R].map(function(P){return""+JSON.stringify(P)+": "+y[R][P].toString()}).join(",")+`});
`}),w=w+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(v))+")({"+b.main.map(function(R){return""+JSON.stringify(R)+": "+y.main[R].toString()}).join(",")+"}))(self);";var E=new window.Blob([w],{type:"text/javascript"});if(_.bare)return E;var C=window.URL||window.webkitURL||window.mozURL||window.msURL,T=C.createObjectURL(E),A=new window.Worker(T);return A.objectURL=T,A}},"./src/config.js":function(o,s,c){c.r(s),c.d(s,{defaultConfig:function(){return l},createDefaultConfig:function(){return u}});var l={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function u(){return Object.assign({},l)}},"./src/core/features.js":function(o,s,c){c.r(s);var l=c("./src/io/io-controller.js"),u=c("./src/config.js"),f=function(){function h(){}return h.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},h.supportNetworkStreamIO=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d=="fetch-stream-loader"||d=="xhr-moz-chunked-loader"},h.getNetworkLoaderTypeName=function(){var p=new l.default({},(0,u.createDefaultConfig)()),d=p.loaderType;return p.destroy(),d},h.supportNativeMediaPlayback=function(p){h.videoElement==null&&(h.videoElement=window.document.createElement("video"));var d=h.videoElement.canPlayType(p);return d==="probably"||d=="maybe"},h.getFeatureList=function(){var p={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return p.mseFlvPlayback=h.supportMSEH264Playback(),p.networkStreamIO=h.supportNetworkStreamIO(),p.networkLoaderName=h.getNetworkLoaderTypeName(),p.mseLiveFlvPlayback=p.mseFlvPlayback&&p.networkStreamIO,p.nativeMP4H264Playback=h.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),p.nativeWebmVP8Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),p.nativeWebmVP9Playback=h.supportNativeMediaPlayback('video/webm; codecs="vp9"'),p},h}();s.default=f},"./src/core/media-info.js":function(o,s,c){c.r(s);var l=function(){function u(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return u.prototype.isComplete=function(){var f=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,h=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&f&&h},u.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},u.prototype.getNearestKeyframe=function(f){if(this.keyframesIndex==null)return null;var h=this.keyframesIndex,p=this._search(h.times,f);return{index:p,milliseconds:h.times[p],fileposition:h.filepositions[p]}},u.prototype._search=function(f,h){var p=0,d=f.length-1,g=0,m=0,v=d;for(h<f[0]&&(p=0,m=v+1);m<=v;)if(g=m+Math.floor((v-m)/2),g===d||h>=f[g]&&h<f[g+1]){p=g;break}else f[g]<h?m=g+1:v=g-1;return p},u}();s.default=l},"./src/core/media-segment-info.js":function(o,s,c){c.r(s),c.d(s,{SampleInfo:function(){return l},MediaSegmentInfo:function(){return u},IDRSampleList:function(){return f},MediaSegmentInfoList:function(){return h}});var l=function(){function p(d,g,m,v,_){this.dts=d,this.pts=g,this.duration=m,this.originalDts=v,this.isSyncPoint=_,this.fileposition=null}return p}(),u=function(){function p(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return p.prototype.appendSyncPoint=function(d){d.isSyncPoint=!0,this.syncPoints.push(d)},p}(),f=function(){function p(){this._list=[]}return p.prototype.clear=function(){this._list=[]},p.prototype.appendArray=function(d){var g=this._list;d.length!==0&&(g.length>0&&d[0].originalDts<g[g.length-1].originalDts&&this.clear(),Array.prototype.push.apply(g,d))},p.prototype.getLastSyncPointBeforeDts=function(d){if(this._list.length==0)return null;var g=this._list,m=0,v=g.length-1,_=0,y=0,b=v;for(d<g[0].dts&&(m=0,y=b+1);y<=b;)if(_=y+Math.floor((b-y)/2),_===v||d>=g[_].dts&&d<g[_+1].dts){m=_;break}else g[_].dts<d?y=_+1:b=_-1;return this._list[m]},p}(),h=function(){function p(d){this._type=d,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),p.prototype.isEmpty=function(){return this._list.length===0},p.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},p.prototype._searchNearestSegmentBefore=function(d){var g=this._list;if(g.length===0)return-2;var m=g.length-1,v=0,_=0,y=m,b=0;if(d<g[0].originalBeginDts)return b=-1,b;for(;_<=y;)if(v=_+Math.floor((y-_)/2),v===m||d>g[v].lastSample.originalDts&&d<g[v+1].originalBeginDts){b=v;break}else g[v].originalBeginDts<d?_=v+1:y=v-1;return b},p.prototype._searchNearestSegmentAfter=function(d){return this._searchNearestSegmentBefore(d)+1},p.prototype.append=function(d){var g=this._list,m=d,v=this._lastAppendLocation,_=0;v!==-1&&v<g.length&&m.originalBeginDts>=g[v].lastSample.originalDts&&(v===g.length-1||v<g.length-1&&m.originalBeginDts<g[v+1].originalBeginDts)?_=v+1:g.length>0&&(_=this._searchNearestSegmentBefore(m.originalBeginDts)+1),this._lastAppendLocation=_,this._list.splice(_,0,m)},p.prototype.getLastSegmentBefore=function(d){var g=this._searchNearestSegmentBefore(d);return g>=0?this._list[g]:null},p.prototype.getLastSampleBefore=function(d){var g=this.getLastSegmentBefore(d);return g!=null?g.lastSample:null},p.prototype.getLastSyncPointBefore=function(d){for(var g=this._searchNearestSegmentBefore(d),m=this._list[g].syncPoints;m.length===0&&g>0;)g--,m=this._list[g].syncPoints;return m.length>0?m[m.length-1]:null},p}()},"./src/core/mse-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/mse-events.js"),d=c("./src/core/media-segment-info.js"),g=c("./src/utils/exception.js"),m=function(){function v(_){this.TAG="MSEController",this._config=_,this._emitter=new(u()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new d.IDRSampleList}return v.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},v.prototype.on=function(_,y){this._emitter.addListener(_,y)},v.prototype.off=function(_,y){this._emitter.removeListener(_,y)},v.prototype.attachMediaElement=function(_){if(this._mediaSource)throw new g.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var y=this._mediaSource=new window.MediaSource;y.addEventListener("sourceopen",this.e.onSourceOpen),y.addEventListener("sourceended",this.e.onSourceEnded),y.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=_,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),_.src=this._mediaSourceObjectURL},v.prototype.detachMediaElement=function(){if(this._mediaSource){var _=this._mediaSource;for(var y in this._sourceBuffers){var b=this._pendingSegments[y];b.splice(0,b.length),this._pendingSegments[y]=null,this._pendingRemoveRanges[y]=null,this._lastInitSegments[y]=null;var w=this._sourceBuffers[y];if(w){if(_.readyState!=="closed"){try{_.removeSourceBuffer(w)}catch(E){f.default.e(this.TAG,E.message)}w.removeEventListener("error",this.e.onSourceBufferError),w.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[y]=null,this._sourceBuffers[y]=null}}if(_.readyState==="open")try{_.endOfStream()}catch(E){f.default.e(this.TAG,E.message)}_.removeEventListener("sourceopen",this.e.onSourceOpen),_.removeEventListener("sourceended",this.e.onSourceEnded),_.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},v.prototype.appendInitSegment=function(_,y){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(_),this._pendingSegments[_.type].push(_);return}var b=_,w=""+b.container;b.codec&&b.codec.length>0&&(w+=";codecs="+b.codec);var E=!1;if(f.default.v(this.TAG,"Received Initialization Segment, mimeType: "+w),this._lastInitSegments[b.type]=b,w!==this._mimeTypes[b.type]){if(this._mimeTypes[b.type])f.default.v(this.TAG,"Notice: "+b.type+" mimeType changed, origin: "+this._mimeTypes[b.type]+", target: "+w);else{E=!0;try{var C=this._sourceBuffers[b.type]=this._mediaSource.addSourceBuffer(w);C.addEventListener("error",this.e.onSourceBufferError),C.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(T){f.default.e(this.TAG,T.message),this._emitter.emit(p.default.ERROR,{code:T.code,msg:T.message});return}}this._mimeTypes[b.type]=w}y||this._pendingSegments[b.type].push(b),E||this._sourceBuffers[b.type]&&!this._sourceBuffers[b.type].updating&&this._doAppendSegments(),h.default.safari&&b.container==="audio/mpeg"&&b.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=b.mediaDuration/1e3,this._updateMediaSourceDuration())},v.prototype.appendMediaSegment=function(_){var y=_;this._pendingSegments[y.type].push(y),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var b=this._sourceBuffers[y.type];b&&!b.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},v.prototype.seek=function(_){for(var y in this._sourceBuffers)if(this._sourceBuffers[y]){var b=this._sourceBuffers[y];if(this._mediaSource.readyState==="open")try{b.abort()}catch(R){f.default.e(this.TAG,R.message)}this._idrList.clear();var w=this._pendingSegments[y];if(w.splice(0,w.length),this._mediaSource.readyState!=="closed"){for(var E=0;E<b.buffered.length;E++){var C=b.buffered.start(E),T=b.buffered.end(E);this._pendingRemoveRanges[y].push({start:C,end:T})}if(b.updating||this._doRemoveRanges(),h.default.safari){var A=this._lastInitSegments[y];A&&(this._pendingSegments[y].push(A),b.updating||this._doAppendSegments())}}}},v.prototype.endOfStream=function(){var _=this._mediaSource,y=this._sourceBuffers;if(!_||_.readyState!=="open"){_&&_.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}y.video&&y.video.updating||y.audio&&y.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,_.endOfStream())},v.prototype.getNearestKeyframe=function(_){return this._idrList.getLastSyncPointBeforeDts(_)},v.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var _=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var b=this._sourceBuffers[y];if(b){var w=b.buffered;if(w.length>=1&&_-w.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},v.prototype._doCleanupSourceBuffer=function(){var _=this._mediaElement.currentTime;for(var y in this._sourceBuffers){var b=this._sourceBuffers[y];if(b){for(var w=b.buffered,E=!1,C=0;C<w.length;C++){var T=w.start(C),A=w.end(C);if(T<=_&&_<A+3){if(_-T>=this._config.autoCleanupMaxBackwardDuration){E=!0;var R=_-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[y].push({start:T,end:R})}}else A<_&&(E=!0,this._pendingRemoveRanges[y].push({start:T,end:A}))}E&&!b.updating&&this._doRemoveRanges()}}},v.prototype._updateMediaSourceDuration=function(){var _=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(_.video&&_.video.updating||_.audio&&_.audio.updating)){var y=this._mediaSource.duration,b=this._pendingMediaDuration;b>0&&(isNaN(y)||b>y)&&(f.default.v(this.TAG,"Update MediaSource duration from "+y+" to "+b),this._mediaSource.duration=b),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},v.prototype._doRemoveRanges=function(){for(var _ in this._pendingRemoveRanges)if(!(!this._sourceBuffers[_]||this._sourceBuffers[_].updating))for(var y=this._sourceBuffers[_],b=this._pendingRemoveRanges[_];b.length&&!y.updating;){var w=b.shift();y.remove(w.start,w.end)}},v.prototype._doAppendSegments=function(){var _=this._pendingSegments;for(var y in _)if(!(!this._sourceBuffers[y]||this._sourceBuffers[y].updating)&&_[y].length>0){var b=_[y].shift();if(b.timestampOffset){var w=this._sourceBuffers[y].timestampOffset,E=b.timestampOffset/1e3,C=Math.abs(w-E);C>.1&&(f.default.v(this.TAG,"Update MPEG audio timestampOffset from "+w+" to "+E),this._sourceBuffers[y].timestampOffset=E),delete b.timestampOffset}if(!b.data||b.data.byteLength===0)continue;try{this._sourceBuffers[y].appendBuffer(b.data),this._isBufferFull=!1,y==="video"&&b.hasOwnProperty("info")&&this._idrList.appendArray(b.info.syncPoints)}catch(T){this._pendingSegments[y].unshift(b),T.code===22?(this._isBufferFull||this._emitter.emit(p.default.BUFFER_FULL),this._isBufferFull=!0):(f.default.e(this.TAG,T.message),this._emitter.emit(p.default.ERROR,{code:T.code,msg:T.message}))}}},v.prototype._onSourceOpen=function(){if(f.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var _=this._pendingSourceBufferInit;_.length;){var y=_.shift();this.appendInitSegment(y,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(p.default.SOURCE_OPEN)},v.prototype._onSourceEnded=function(){f.default.v(this.TAG,"MediaSource onSourceEnded")},v.prototype._onSourceClose=function(){f.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},v.prototype._hasPendingSegments=function(){var _=this._pendingSegments;return _.video.length>0||_.audio.length>0},v.prototype._hasPendingRemoveRanges=function(){var _=this._pendingRemoveRanges;return _.video.length>0||_.audio.length>0},v.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(p.default.UPDATE_END)},v.prototype._onSourceBufferError=function(_){f.default.e(this.TAG,"SourceBuffer Error: "+_)},v}();s.default=m},"./src/core/mse-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};s.default=l},"./src/core/transmuxer.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./node_modules/webworkify-webpack/index.js"),h=c.n(f),p=c("./src/utils/logger.js"),d=c("./src/utils/logging-control.js"),g=c("./src/core/transmuxing-controller.js"),m=c("./src/core/transmuxing-events.js"),v=c("./src/core/media-info.js"),_=function(){function y(b,w){if(this.TAG="Transmuxer",this._emitter=new(u()),w.enableWorker&&typeof Worker<"u")try{this._worker=h()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,w]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.default.getConfig()})}catch{p.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new g.default(b,w)}else this._controller=new g.default(b,w);if(this._controller){var E=this._controller;E.on(m.default.IO_ERROR,this._onIOError.bind(this)),E.on(m.default.DEMUX_ERROR,this._onDemuxError.bind(this)),E.on(m.default.INIT_SEGMENT,this._onInitSegment.bind(this)),E.on(m.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),E.on(m.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),E.on(m.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),E.on(m.default.MEDIA_INFO,this._onMediaInfo.bind(this)),E.on(m.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),E.on(m.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),E.on(m.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),E.on(m.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return y.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(b,w){this._emitter.addListener(b,w)},y.prototype.off=function(b,w){this._emitter.removeListener(b,w)},y.prototype.hasWorker=function(){return this._worker!=null},y.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},y.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},y.prototype.seek=function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)},y.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},y.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},y.prototype._onInitSegment=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.INIT_SEGMENT,b,w)})},y.prototype._onMediaSegment=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.MEDIA_SEGMENT,b,w)})},y.prototype._onLoadingComplete=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.LOADING_COMPLETE)})},y.prototype._onRecoveredEarlyEof=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(m.default.RECOVERED_EARLY_EOF)})},y.prototype._onMediaInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.MEDIA_INFO,b)})},y.prototype._onMetaDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.METADATA_ARRIVED,b)})},y.prototype._onScriptDataArrived=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.SCRIPTDATA_ARRIVED,b)})},y.prototype._onStatisticsInfo=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.STATISTICS_INFO,b)})},y.prototype._onIOError=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.IO_ERROR,b,w)})},y.prototype._onDemuxError=function(b,w){var E=this;Promise.resolve().then(function(){E._emitter.emit(m.default.DEMUX_ERROR,b,w)})},y.prototype._onRecommendSeekpoint=function(b){var w=this;Promise.resolve().then(function(){w._emitter.emit(m.default.RECOMMEND_SEEKPOINT,b)})},y.prototype._onLoggingConfigChanged=function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})},y.prototype._onWorkerMessage=function(b){var w=b.data,E=w.data;if(w.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(w.msg){case m.default.INIT_SEGMENT:case m.default.MEDIA_SEGMENT:this._emitter.emit(w.msg,E.type,E.data);break;case m.default.LOADING_COMPLETE:case m.default.RECOVERED_EARLY_EOF:this._emitter.emit(w.msg);break;case m.default.MEDIA_INFO:Object.setPrototypeOf(E,v.default.prototype),this._emitter.emit(w.msg,E);break;case m.default.METADATA_ARRIVED:case m.default.SCRIPTDATA_ARRIVED:case m.default.STATISTICS_INFO:this._emitter.emit(w.msg,E);break;case m.default.IO_ERROR:case m.default.DEMUX_ERROR:this._emitter.emit(w.msg,E.type,E.info);break;case m.default.RECOMMEND_SEEKPOINT:this._emitter.emit(w.msg,E);break;case"logcat_callback":p.default.emitter.emit("log",E.type,E.logcat);break}},y}();s.default=_},"./src/core/transmuxing-controller.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-info.js"),d=c("./src/demux/flv-demuxer.js"),g=c("./src/remux/mp4-remuxer.js"),m=c("./src/demux/demux-errors.js"),v=c("./src/io/io-controller.js"),_=c("./src/core/transmuxing-events.js"),y=function(){function b(w,E){this.TAG="TransmuxingController",this._emitter=new(u()),this._config=E,w.segments||(w.segments=[{duration:w.duration,filesize:w.filesize,url:w.url}]),typeof w.cors!="boolean"&&(w.cors=!0),typeof w.withCredentials!="boolean"&&(w.withCredentials=!1),this._mediaDataSource=w,this._currentSegmentIndex=0;var C=0;this._mediaDataSource.segments.forEach(function(T){T.timestampBase=C,C+=T.duration,T.cors=w.cors,T.withCredentials=w.withCredentials,E.referrerPolicy&&(T.referrerPolicy=E.referrerPolicy)}),!isNaN(C)&&this._mediaDataSource.duration!==C&&(this._mediaDataSource.duration=C),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return b.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(w,E){this._emitter.addListener(w,E)},b.prototype.off=function(w,E){this._emitter.removeListener(w,E)},b.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},b.prototype._loadSegment=function(w,E){this._currentSegmentIndex=w;var C=this._mediaDataSource.segments[w],T=this._ioctl=new v.default(C,this._config,w);T.onError=this._onIOException.bind(this),T.onSeeked=this._onIOSeeked.bind(this),T.onComplete=this._onIOComplete.bind(this),T.onRedirect=this._onIORedirect.bind(this),T.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),E?this._demuxer.bindDataSource(this._ioctl):T.onDataArrival=this._onInitChunkArrival.bind(this),T.open(E)},b.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},b.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},b.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},b.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},b.prototype.seek=function(w){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var E=this._searchSegmentIndexContains(w);if(E===this._currentSegmentIndex){var C=this._mediaInfo.segments[E];if(C==null)this._pendingSeekTime=w;else{var T=C.getNearestKeyframe(w);this._remuxer.seek(T.milliseconds),this._ioctl.seek(T.fileposition),this._pendingResolveSeekPoint=T.milliseconds}}else{var A=this._mediaInfo.segments[E];if(A==null)this._pendingSeekTime=w,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(E);else{var T=A.getNearestKeyframe(w);this._internalAbort(),this._remuxer.seek(w),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[E].timestampBase,this._loadSegment(E,T.fileposition),this._pendingResolveSeekPoint=T.milliseconds,this._reportSegmentMediaInfo(E)}}this._enableStatisticsReporter()}},b.prototype._searchSegmentIndexContains=function(w){for(var E=this._mediaDataSource.segments,C=E.length-1,T=0;T<E.length;T++)if(w<E[T].timestampBase){C=T-1;break}return C},b.prototype._onInitChunkArrival=function(w,E){var C=this,T=null,A=0;if(E>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,A=this._demuxer.parseChunks(w,E);else if((T=d.default.probe(w)).match){this._demuxer=new d.default(T,this._config),this._remuxer||(this._remuxer=new g.default(this._config));var R=this._mediaDataSource;R.duration!=null&&!isNaN(R.duration)&&(this._demuxer.overridedDuration=R.duration),typeof R.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=R.hasAudio),typeof R.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=R.hasVideo),this._demuxer.timestampBase=R.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),A=this._demuxer.parseChunks(w,E)}else T=null,f.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){C._internalAbort()}),this._emitter.emit(_.default.DEMUX_ERROR,m.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),A=0;return A},b.prototype._onMediaInfo=function(w){var E=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},w),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,p.default.prototype));var C=Object.assign({},w);Object.setPrototypeOf(C,p.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=C,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var T=E._pendingSeekTime;E._pendingSeekTime=null,E.seek(T)})},b.prototype._onMetaDataArrived=function(w){this._emitter.emit(_.default.METADATA_ARRIVED,w)},b.prototype._onScriptDataArrived=function(w){this._emitter.emit(_.default.SCRIPTDATA_ARRIVED,w)},b.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},b.prototype._onIOComplete=function(w){var E=w,C=E+1;C<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(C)):(this._remuxer.flushStashedSamples(),this._emitter.emit(_.default.LOADING_COMPLETE),this._disableStatisticsReporter())},b.prototype._onIORedirect=function(w){var E=this._ioctl.extraData;this._mediaDataSource.segments[E].redirectedURL=w},b.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(_.default.RECOVERED_EARLY_EOF)},b.prototype._onIOException=function(w,E){f.default.e(this.TAG,"IOException: type = "+w+", code = "+E.code+", msg = "+E.msg),this._emitter.emit(_.default.IO_ERROR,w,E),this._disableStatisticsReporter()},b.prototype._onDemuxException=function(w,E){f.default.e(this.TAG,"DemuxException: type = "+w+", info = "+E),this._emitter.emit(_.default.DEMUX_ERROR,w,E)},b.prototype._onRemuxerInitSegmentArrival=function(w,E){this._emitter.emit(_.default.INIT_SEGMENT,w,E)},b.prototype._onRemuxerMediaSegmentArrival=function(w,E){if(this._pendingSeekTime==null&&(this._emitter.emit(_.default.MEDIA_SEGMENT,w,E),this._pendingResolveSeekPoint!=null&&w==="video")){var C=E.info.syncPoints,T=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,h.default.safari&&C.length>0&&C[0].originalDts===T&&(T=C[0].pts),this._emitter.emit(_.default.RECOMMEND_SEEKPOINT,T)}},b.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},b.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype._reportSegmentMediaInfo=function(w){var E=this._mediaInfo.segments[w],C=Object.assign({},E);C.duration=this._mediaInfo.duration,C.segmentCount=this._mediaInfo.segmentCount,delete C.segments,delete C.keyframesIndex,this._emitter.emit(_.default.MEDIA_INFO,C)},b.prototype._reportStatisticsInfo=function(){var w={};w.url=this._ioctl.currentURL,w.hasRedirect=this._ioctl.hasRedirect,w.hasRedirect&&(w.redirectedURL=this._ioctl.currentRedirectedURL),w.speed=this._ioctl.currentSpeed,w.loaderType=this._ioctl.loaderType,w.currentSegmentIndex=this._currentSegmentIndex,w.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(_.default.STATISTICS_INFO,w)},b}();s.default=y},"./src/core/transmuxing-events.js":function(o,s,c){c.r(s);var l={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};s.default=l},"./src/core/transmuxing-worker.js":function(o,s,c){c.r(s);var l=c("./src/utils/logging-control.js"),u=c("./src/utils/polyfill.js"),f=c("./src/core/transmuxing-controller.js"),h=c("./src/core/transmuxing-events.js"),p=function(d){var g=null,m=P.bind(this);u.default.install(),d.addEventListener("message",function(k){switch(k.data.cmd){case"init":g=new f.default(k.data.param[0],k.data.param[1]),g.on(h.default.IO_ERROR,A.bind(this)),g.on(h.default.DEMUX_ERROR,R.bind(this)),g.on(h.default.INIT_SEGMENT,v.bind(this)),g.on(h.default.MEDIA_SEGMENT,_.bind(this)),g.on(h.default.LOADING_COMPLETE,y.bind(this)),g.on(h.default.RECOVERED_EARLY_EOF,b.bind(this)),g.on(h.default.MEDIA_INFO,w.bind(this)),g.on(h.default.METADATA_ARRIVED,E.bind(this)),g.on(h.default.SCRIPTDATA_ARRIVED,C.bind(this)),g.on(h.default.STATISTICS_INFO,T.bind(this)),g.on(h.default.RECOMMEND_SEEKPOINT,O.bind(this));break;case"destroy":g&&(g.destroy(),g=null),d.postMessage({msg:"destroyed"});break;case"start":g.start();break;case"stop":g.stop();break;case"seek":g.seek(k.data.param);break;case"pause":g.pause();break;case"resume":g.resume();break;case"logging_config":{var M=k.data.param;l.default.applyConfig(M),M.enableCallback===!0?l.default.addLogListener(m):l.default.removeLogListener(m);break}}});function v(k,M){var B={msg:h.default.INIT_SEGMENT,data:{type:k,data:M}};d.postMessage(B,[M.data])}function _(k,M){var B={msg:h.default.MEDIA_SEGMENT,data:{type:k,data:M}};d.postMessage(B,[M.data])}function y(){var k={msg:h.default.LOADING_COMPLETE};d.postMessage(k)}function b(){var k={msg:h.default.RECOVERED_EARLY_EOF};d.postMessage(k)}function w(k){var M={msg:h.default.MEDIA_INFO,data:k};d.postMessage(M)}function E(k){var M={msg:h.default.METADATA_ARRIVED,data:k};d.postMessage(M)}function C(k){var M={msg:h.default.SCRIPTDATA_ARRIVED,data:k};d.postMessage(M)}function T(k){var M={msg:h.default.STATISTICS_INFO,data:k};d.postMessage(M)}function A(k,M){d.postMessage({msg:h.default.IO_ERROR,data:{type:k,info:M}})}function R(k,M){d.postMessage({msg:h.default.DEMUX_ERROR,data:{type:k,info:M}})}function O(k){d.postMessage({msg:h.default.RECOMMEND_SEEKPOINT,data:k})}function P(k,M){d.postMessage({msg:"logcat_callback",data:{type:k,logcat:M}})}};s.default=p},"./src/demux/amf-parser.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/utils/utf8-conv.js"),f=c("./src/utils/exception.js"),h=function(){var d=new ArrayBuffer(2);return new DataView(d).setInt16(0,256,!0),new Int16Array(d)[0]===256}(),p=function(){function d(){}return d.parseScriptData=function(g,m,v){var _={};try{var y=d.parseValue(g,m,v),b=d.parseValue(g,m+y.size,v-y.size);_[y.data]=b.data}catch(w){l.default.e("AMF",w.toString())}return _},d.parseObject=function(g,m,v){if(v<3)throw new f.IllegalStateException("Data not enough when parse ScriptDataObject");var _=d.parseString(g,m,v),y=d.parseValue(g,m+_.size,v-_.size),b=y.objectEnd;return{data:{name:_.data,value:y.data},size:_.size+y.size,objectEnd:b}},d.parseVariable=function(g,m,v){return d.parseObject(g,m,v)},d.parseString=function(g,m,v){if(v<2)throw new f.IllegalStateException("Data not enough when parse String");var _=new DataView(g,m,v),y=_.getUint16(0,!h),b;return y>0?b=(0,u.default)(new Uint8Array(g,m+2,y)):b="",{data:b,size:2+y}},d.parseLongString=function(g,m,v){if(v<4)throw new f.IllegalStateException("Data not enough when parse LongString");var _=new DataView(g,m,v),y=_.getUint32(0,!h),b;return y>0?b=(0,u.default)(new Uint8Array(g,m+4,y)):b="",{data:b,size:4+y}},d.parseDate=function(g,m,v){if(v<10)throw new f.IllegalStateException("Data size invalid when parse Date");var _=new DataView(g,m,v),y=_.getFloat64(0,!h),b=_.getInt16(8,!h);return y+=b*60*1e3,{data:new Date(y),size:8+2}},d.parseValue=function(g,m,v){if(v<1)throw new f.IllegalStateException("Data not enough when parse Value");var _=new DataView(g,m,v),y=1,b=_.getUint8(0),w,E=!1;try{switch(b){case 0:w=_.getFloat64(1,!h),y+=8;break;case 1:{var C=_.getUint8(1);w=!!C,y+=1;break}case 2:{var T=d.parseString(g,m+1,v-1);w=T.data,y+=T.size;break}case 3:{w={};var A=0;for((_.getUint32(v-4,!h)&16777215)===9&&(A=3);y<v-4;){var R=d.parseObject(g,m+y,v-y-A);if(R.objectEnd)break;w[R.data.name]=R.data.value,y+=R.size}if(y<=v-3){var O=_.getUint32(y-1,!h)&16777215;O===9&&(y+=3)}break}case 8:{w={},y+=4;var A=0;for((_.getUint32(v-4,!h)&16777215)===9&&(A=3);y<v-8;){var P=d.parseVariable(g,m+y,v-y-A);if(P.objectEnd)break;w[P.data.name]=P.data.value,y+=P.size}if(y<=v-3){var O=_.getUint32(y-1,!h)&16777215;O===9&&(y+=3)}break}case 9:w=void 0,y=1,E=!0;break;case 10:{w=[];var k=_.getUint32(1,!h);y+=4;for(var M=0;M<k;M++){var B=d.parseValue(g,m+y,v-y);w.push(B.data),y+=B.size}break}case 11:{var D=d.parseDate(g,m+1,v-1);w=D.data,y+=D.size;break}case 12:{var H=d.parseString(g,m+1,v-1);w=H.data,y+=H.size;break}default:y=v,l.default.w("AMF","Unsupported AMF value type "+b)}}catch(ee){l.default.e("AMF",ee.toString())}return{data:w,size:y,objectEnd:E}},d}();s.default=p},"./src/demux/demux-errors.js":function(o,s,c){c.r(s);var l={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};s.default=l},"./src/demux/exp-golomb.js":function(o,s,c){c.r(s);var l=c("./src/utils/exception.js"),u=function(){function f(h){this.TAG="ExpGolomb",this._buffer=h,this._buffer_index=0,this._total_bytes=h.byteLength,this._total_bits=h.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return f.prototype.destroy=function(){this._buffer=null},f.prototype._fillCurrentWord=function(){var h=this._total_bytes-this._buffer_index;if(h<=0)throw new l.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var p=Math.min(4,h),d=new Uint8Array(4);d.set(this._buffer.subarray(this._buffer_index,this._buffer_index+p)),this._current_word=new DataView(d.buffer).getUint32(0,!1),this._buffer_index+=p,this._current_word_bits_left=p*8},f.prototype.readBits=function(h){if(h>32)throw new l.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(h<=this._current_word_bits_left){var p=this._current_word>>>32-h;return this._current_word<<=h,this._current_word_bits_left-=h,p}var d=this._current_word_bits_left?this._current_word:0;d=d>>>32-this._current_word_bits_left;var g=h-this._current_word_bits_left;this._fillCurrentWord();var m=Math.min(g,this._current_word_bits_left),v=this._current_word>>>32-m;return this._current_word<<=m,this._current_word_bits_left-=m,d=d<<m|v,d},f.prototype.readBool=function(){return this.readBits(1)===1},f.prototype.readByte=function(){return this.readBits(8)},f.prototype._skipLeadingZero=function(){var h;for(h=0;h<this._current_word_bits_left;h++)if(this._current_word&2147483648>>>h)return this._current_word<<=h,this._current_word_bits_left-=h,h;return this._fillCurrentWord(),h+this._skipLeadingZero()},f.prototype.readUEG=function(){var h=this._skipLeadingZero();return this.readBits(h+1)-1},f.prototype.readSEG=function(){var h=this.readUEG();return h&1?h+1>>>1:-1*(h>>>1)},f}();s.default=u},"./src/demux/flv-demuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/demux/amf-parser.js"),f=c("./src/demux/sps-parser.js"),h=c("./src/demux/demux-errors.js"),p=c("./src/core/media-info.js"),d=c("./src/utils/exception.js");function g(v,_){return v[_]<<24|v[_+1]<<16|v[_+2]<<8|v[_+3]}var m=function(){function v(_,y){this.TAG="FLVDemuxer",this._config=y,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=_.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=_.hasAudioTrack,this._hasVideo=_.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new p.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]===256}()}return v.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},v.probe=function(_){var y=new Uint8Array(_),b={match:!1};if(y[0]!==70||y[1]!==76||y[2]!==86||y[3]!==1)return b;var w=(y[4]&4)>>>2!==0,E=(y[4]&1)!==0,C=g(y,5);return C<9?b:{match:!0,consumed:C,dataOffset:C,hasAudioTrack:w,hasVideoTrack:E}},v.prototype.bindDataSource=function(_){return _.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(v.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(_){this._onTrackMetadata=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(_){this._onMediaInfo=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(_){this._onMetaDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(_){this._onScriptDataArrived=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onError",{get:function(){return this._onError},set:function(_){this._onError=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(_){this._onDataAvailable=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(_){this._timestampBase=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedDuration",{get:function(){return this._duration},set:function(_){this._durationOverrided=!0,this._duration=_,this._mediaInfo.duration=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasAudio",{set:function(_){this._hasAudioFlagOverrided=!0,this._hasAudio=_,this._mediaInfo.hasAudio=_},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"overridedHasVideo",{set:function(_){this._hasVideoFlagOverrided=!0,this._hasVideo=_,this._mediaInfo.hasVideo=_},enumerable:!1,configurable:!0}),v.prototype.resetMediaInfo=function(){this._mediaInfo=new p.default},v.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},v.prototype.parseChunks=function(_,y){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new d.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var b=0,w=this._littleEndian;if(y===0)if(_.byteLength>13){var E=v.probe(_);b=E.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,y+b!==this._dataOffset&&l.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var C=new DataView(_,b),T=C.getUint32(0,!w);T!==0&&l.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),b+=4}for(;b<_.byteLength;){this._dispatch=!0;var C=new DataView(_,b);if(b+11+4>_.byteLength)break;var A=C.getUint8(0),R=C.getUint32(0,!w)&16777215;if(b+11+R+4>_.byteLength)break;if(A!==8&&A!==9&&A!==18){l.default.w(this.TAG,"Unsupported tag type "+A+", skipped"),b+=11+R+4;continue}var O=C.getUint8(4),P=C.getUint8(5),k=C.getUint8(6),M=C.getUint8(7),B=k|P<<8|O<<16|M<<24,D=C.getUint32(7,!w)&16777215;D!==0&&l.default.w(this.TAG,"Meet tag which has StreamID != 0!");var H=b+11;switch(A){case 8:this._parseAudioData(_,H,R,B);break;case 9:this._parseVideoData(_,H,R,B,y+b);break;case 18:this._parseScriptData(_,H,R);break}var ee=C.getUint32(11+R,!w);ee!==11+R&&l.default.w(this.TAG,"Invalid PrevTagSize "+ee),b+=11+R+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),b},v.prototype._parseScriptData=function(_,y,b){var w=u.default.parseScriptData(_,y,b);if(w.hasOwnProperty("onMetaData")){if(w.onMetaData==null||typeof w.onMetaData!="object"){l.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&l.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=w;var E=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},E)),typeof E.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=E.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof E.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=E.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof E.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=E.audiodatarate),typeof E.videodatarate=="number"&&(this._mediaInfo.videoDataRate=E.videodatarate),typeof E.width=="number"&&(this._mediaInfo.width=E.width),typeof E.height=="number"&&(this._mediaInfo.height=E.height),typeof E.duration=="number"){if(!this._durationOverrided){var C=Math.floor(E.duration*this._timescale);this._duration=C,this._mediaInfo.duration=C}}else this._mediaInfo.duration=0;if(typeof E.framerate=="number"){var T=Math.floor(E.framerate*1e3);if(T>0){var A=T/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=A,this._referenceFrameRate.fps_num=T,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=A}}if(typeof E.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var R=E.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(R),E.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=E,l.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(w).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},w))},v.prototype._parseKeyframesIndex=function(_){for(var y=[],b=[],w=1;w<_.times.length;w++){var E=this._timestampBase+Math.floor(_.times[w]*1e3);y.push(E),b.push(_.filepositions[w])}return{times:y,filepositions:b}},v.prototype._parseAudioData=function(_,y,b,w){if(b<=1){l.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var E=new DataView(_,y,b),C=E.getUint8(0),T=C>>>4;if(T!==2&&T!==10){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+T);return}var A=0,R=(C&12)>>>2;if(R>=0&&R<=4)A=this._flvSoundRateTable[R];else{this._onError(h.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+R);return}var O=C&1,P=this._audioMetadata,k=this._audioTrack;if(P||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),P=this._audioMetadata={},P.type="audio",P.id=k.id,P.timescale=this._timescale,P.duration=this._duration,P.audioSampleRate=A,P.channelCount=O===0?1:2),T===10){var M=this._parseAACAudioData(_,y+1,b-1);if(M==null)return;if(M.packetType===0){P.config&&l.default.w(this.TAG,"Found another AudioSpecificConfig!");var B=M.data;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.config=B.config,P.refSampleDuration=1024/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",P);var D=this._mediaInfo;D.audioCodec=P.originalCodec,D.audioSampleRate=P.audioSampleRate,D.audioChannelCount=P.channelCount,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}else if(M.packetType===1){var H=this._timestampBase+w,ee={unit:M.data,length:M.data.byteLength,dts:H,pts:H};k.samples.push(ee),k.length+=M.data.length}else l.default.e(this.TAG,"Flv: Unsupported AAC data type "+M.packetType)}else if(T===2){if(!P.codec){var B=this._parseMP3AudioData(_,y+1,b-1,!0);if(B==null)return;P.audioSampleRate=B.samplingRate,P.channelCount=B.channelCount,P.codec=B.codec,P.originalCodec=B.originalCodec,P.refSampleDuration=1152/P.audioSampleRate*P.timescale,l.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",P);var D=this._mediaInfo;D.audioCodec=P.codec,D.audioSampleRate=P.audioSampleRate,D.audioChannelCount=P.channelCount,D.audioDataRate=B.bitRate,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}var ne=this._parseMP3AudioData(_,y+1,b-1,!1);if(ne==null)return;var H=this._timestampBase+w,Y={unit:ne,length:ne.byteLength,dts:H,pts:H};k.samples.push(Y),k.length+=ne.length}}},v.prototype._parseAACAudioData=function(_,y,b){if(b<=1){l.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var w={},E=new Uint8Array(_,y,b);return w.packetType=E[0],E[0]===0?w.data=this._parseAACAudioSpecificConfig(_,y+1,b-1):w.data=E.subarray(1),w},v.prototype._parseAACAudioSpecificConfig=function(_,y,b){var w=new Uint8Array(_,y,b),E=null,C=0,T=0,A=0,R=null;if(C=T=w[0]>>>3,A=(w[0]&7)<<1|w[1]>>>7,A<0||A>=this._mpegSamplingRates.length){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var O=this._mpegSamplingRates[A],P=(w[1]&120)>>>3;if(P<0||P>=8){this._onError(h.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}C===5&&(R=(w[1]&7)<<1|w[2]>>>7,(w[2]&124)>>>2);var k=self.navigator.userAgent.toLowerCase();return k.indexOf("firefox")!==-1?A>=6?(C=5,E=new Array(4),R=A-3):(C=2,E=new Array(2),R=A):k.indexOf("android")!==-1?(C=2,E=new Array(2),R=A):(C=5,R=A,E=new Array(4),A>=6?R=A-3:P===1&&(C=2,E=new Array(2),R=A)),E[0]=C<<3,E[0]|=(A&15)>>>1,E[1]=(A&15)<<7,E[1]|=(P&15)<<3,C===5&&(E[1]|=(R&15)>>>1,E[2]=(R&1)<<7,E[2]|=8,E[3]=0),{config:E,samplingRate:O,channelCount:P,codec:"mp4a.40."+C,originalCodec:"mp4a.40."+T}},v.prototype._parseMP3AudioData=function(_,y,b,w){if(b<4){l.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var E=new Uint8Array(_,y,b),C=null;if(w){if(E[0]!==255)return;var T=E[1]>>>3&3,A=(E[1]&6)>>1,R=(E[2]&240)>>>4,O=(E[2]&12)>>>2,P=E[3]>>>6&3,k=P!==3?2:1,M=0,B=0,D="mp3";switch(T){case 0:M=this._mpegAudioV25SampleRateTable[O];break;case 2:M=this._mpegAudioV20SampleRateTable[O];break;case 3:M=this._mpegAudioV10SampleRateTable[O];break}switch(A){case 1:R<this._mpegAudioL3BitRateTable.length&&(B=this._mpegAudioL3BitRateTable[R]);break;case 2:R<this._mpegAudioL2BitRateTable.length&&(B=this._mpegAudioL2BitRateTable[R]);break;case 3:R<this._mpegAudioL1BitRateTable.length&&(B=this._mpegAudioL1BitRateTable[R]);break}C={bitRate:B,samplingRate:M,channelCount:k,codec:D,originalCodec:D}}else C=E;return C},v.prototype._parseVideoData=function(_,y,b,w,E){if(b<=1){l.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var C=new Uint8Array(_,y,b)[0],T=(C&240)>>>4,A=C&15;if(A!==7){this._onError(h.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+A);return}this._parseAVCVideoPacket(_,y+1,b-1,w,E,T)}},v.prototype._parseAVCVideoPacket=function(_,y,b,w,E,C){if(b<4){l.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var T=this._littleEndian,A=new DataView(_,y,b),R=A.getUint8(0),O=A.getUint32(0,!T)&16777215,P=O<<8>>8;if(R===0)this._parseAVCDecoderConfigurationRecord(_,y+4,b-4);else if(R===1)this._parseAVCVideoData(_,y+4,b-4,w,E,C,P);else if(R!==2){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid video packet type "+R);return}},v.prototype._parseAVCDecoderConfigurationRecord=function(_,y,b){if(b<7){l.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var w=this._videoMetadata,E=this._videoTrack,C=this._littleEndian,T=new DataView(_,y,b);w?typeof w.avcc<"u"&&l.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),w=this._videoMetadata={},w.type="video",w.id=E.id,w.timescale=this._timescale,w.duration=this._duration);var A=T.getUint8(0),R=T.getUint8(1);if(T.getUint8(2),T.getUint8(3),A!==1||R===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(T.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(h.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var O=T.getUint8(5)&31;if(O===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else O>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+O);for(var P=6,k=0;k<O;k++){var M=T.getUint16(P,!C);if(P+=2,M!==0){var B=new Uint8Array(_,y+P,M);P+=M;var D=f.default.parseSPS(B);if(k===0){w.codecWidth=D.codec_size.width,w.codecHeight=D.codec_size.height,w.presentWidth=D.present_size.width,w.presentHeight=D.present_size.height,w.profile=D.profile_string,w.level=D.level_string,w.bitDepth=D.bit_depth,w.chromaFormat=D.chroma_format,w.sarRatio=D.sar_ratio,w.frameRate=D.frame_rate,(D.frame_rate.fixed===!1||D.frame_rate.fps_num===0||D.frame_rate.fps_den===0)&&(w.frameRate=this._referenceFrameRate);var H=w.frameRate.fps_den,ee=w.frameRate.fps_num;w.refSampleDuration=w.timescale*(H/ee);for(var ne=B.subarray(1,4),Y="avc1.",U=0;U<3;U++){var X=ne[U].toString(16);X.length<2&&(X="0"+X),Y+=X}w.codec=Y;var V=this._mediaInfo;V.width=w.codecWidth,V.height=w.codecHeight,V.fps=w.frameRate.fps,V.profile=w.profile,V.level=w.level,V.refFrames=D.ref_frames,V.chromaFormat=D.chroma_format_string,V.sarNum=w.sarRatio.width,V.sarDen=w.sarRatio.height,V.videoCodec=Y,V.hasAudio?V.audioCodec!=null&&(V.mimeType='video/x-flv; codecs="'+V.videoCodec+","+V.audioCodec+'"'):V.mimeType='video/x-flv; codecs="'+V.videoCodec+'"',V.isComplete()&&this._onMediaInfo(V)}}}var G=T.getUint8(P);if(G===0){this._onError(h.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else G>1&&l.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+G);P++;for(var k=0;k<G;k++){var M=T.getUint16(P,!C);P+=2,M!==0&&(P+=M)}w.avcc=new Uint8Array(b),w.avcc.set(new Uint8Array(_,y,b),0),l.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",w)},v.prototype._parseAVCVideoData=function(_,y,b,w,E,C,T){for(var A=this._littleEndian,R=new DataView(_,y,b),O=[],P=0,k=0,M=this._naluLengthSize,B=this._timestampBase+w,D=C===1;k<b;){if(k+4>=b){l.default.w(this.TAG,"Malformed Nalu near timestamp "+B+", offset = "+k+", dataSize = "+b);break}var H=R.getUint32(k,!A);if(M===3&&(H>>>=8),H>b-M){l.default.w(this.TAG,"Malformed Nalus near timestamp "+B+", NaluSize > DataSize!");return}var ee=R.getUint8(k+M)&31;ee===5&&(D=!0);var ne=new Uint8Array(_,y+k,M+H),Y={type:ee,data:ne};O.push(Y),P+=ne.byteLength,k+=M+H}if(O.length){var U=this._videoTrack,X={units:O,length:P,isKeyframe:D,dts:B,cts:T,pts:B+T};D&&(X.fileposition=E),U.samples.push(X),U.length+=P}},v}();s.default=m},"./src/demux/sps-parser.js":function(o,s,c){c.r(s);var l=c("./src/demux/exp-golomb.js"),u=function(){function f(){}return f._ebsp2rbsp=function(h){for(var p=h,d=p.byteLength,g=new Uint8Array(d),m=0,v=0;v<d;v++)v>=2&&p[v]===3&&p[v-1]===0&&p[v-2]===0||(g[m]=p[v],m++);return new Uint8Array(g.buffer,0,m)},f.parseSPS=function(h){var p=f._ebsp2rbsp(h),d=new l.default(p);d.readByte();var g=d.readByte();d.readByte();var m=d.readByte();d.readUEG();var v=f.getProfileString(g),_=f.getLevelString(m),y=1,b=420,w=[0,420,422,444],E=8;if((g===100||g===110||g===122||g===244||g===44||g===83||g===86||g===118||g===128||g===138||g===144)&&(y=d.readUEG(),y===3&&d.readBits(1),y<=3&&(b=w[y]),E=d.readUEG()+8,d.readUEG(),d.readBits(1),d.readBool()))for(var C=y!==3?8:12,T=0;T<C;T++)d.readBool()&&(T<6?f._skipScalingList(d,16):f._skipScalingList(d,64));d.readUEG();var A=d.readUEG();if(A===0)d.readUEG();else if(A===1){d.readBits(1),d.readSEG(),d.readSEG();for(var R=d.readUEG(),T=0;T<R;T++)d.readSEG()}var O=d.readUEG();d.readBits(1);var P=d.readUEG(),k=d.readUEG(),M=d.readBits(1);M===0&&d.readBits(1),d.readBits(1);var B=0,D=0,H=0,ee=0,ne=d.readBool();ne&&(B=d.readUEG(),D=d.readUEG(),H=d.readUEG(),ee=d.readUEG());var Y=1,U=1,X=0,V=!0,G=0,te=0,oe=d.readBool();if(oe){if(d.readBool()){var ge=d.readByte(),le=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ye=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];ge>0&&ge<16?(Y=le[ge-1],U=ye[ge-1]):ge===255&&(Y=d.readByte()<<8|d.readByte(),U=d.readByte()<<8|d.readByte())}if(d.readBool()&&d.readBool(),d.readBool()&&(d.readBits(4),d.readBool()&&d.readBits(24)),d.readBool()&&(d.readUEG(),d.readUEG()),d.readBool()){var Le=d.readBits(32),ke=d.readBits(32);V=d.readBool(),G=ke,te=Le*2,X=G/te}}var Ee=1;(Y!==1||U!==1)&&(Ee=Y/U);var Se=0,De=0;if(y===0)Se=1,De=2-M;else{var We=y===3?1:2,Ve=y===1?2:1;Se=We,De=Ve*(2-M)}var He=(P+1)*16,qe=(2-M)*((k+1)*16);He-=(B+D)*Se,qe-=(H+ee)*De;var Et=Math.ceil(He*Ee);return d.destroy(),d=null,{profile_string:v,level_string:_,bit_depth:E,ref_frames:O,chroma_format:b,chroma_format_string:f.getChromaFormatString(b),frame_rate:{fixed:V,fps:X,fps_den:te,fps_num:G},sar_ratio:{width:Y,height:U},codec_size:{width:He,height:qe},present_size:{width:Et,height:qe}}},f._skipScalingList=function(h,p){for(var d=8,g=8,m=0,v=0;v<p;v++)g!==0&&(m=h.readSEG(),g=(d+m+256)%256),d=g===0?d:g},f.getProfileString=function(h){switch(h){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},f.getLevelString=function(h){return(h/10).toFixed(1)},f.getChromaFormatString=function(h){switch(h){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},f}();s.default=u},"./src/flv.js":function(o,s,c){c.r(s);var l=c("./src/utils/polyfill.js"),u=c("./src/core/features.js"),f=c("./src/io/loader.js"),h=c("./src/player/flv-player.js"),p=c("./src/player/native-player.js"),d=c("./src/player/player-events.js"),g=c("./src/player/player-errors.js"),m=c("./src/utils/logging-control.js"),v=c("./src/utils/exception.js");l.default.install();function _(E,C){var T=E;if(T==null||typeof T!="object")throw new v.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!T.hasOwnProperty("type"))throw new v.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(T.type){case"flv":return new h.default(T,C);default:return new p.default(T,C)}}function y(){return u.default.supportMSEH264Playback()}function b(){return u.default.getFeatureList()}var w={};w.createPlayer=_,w.isSupported=y,w.getFeatureList=b,w.BaseLoader=f.BaseLoader,w.LoaderStatus=f.LoaderStatus,w.LoaderErrors=f.LoaderErrors,w.Events=d.default,w.ErrorTypes=g.ErrorTypes,w.ErrorDetails=g.ErrorDetails,w.FlvPlayer=h.default,w.NativePlayer=p.default,w.LoggingControl=m.default,Object.defineProperty(w,"version",{enumerable:!0,get:function(){return"1.6.2"}}),s.default=w},"./src/index.js":function(o,s,c){o.exports=c("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/browser.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),p=function(d){h(g,d);function g(m,v){var _=d.call(this,"fetch-stream-loader")||this;return _.TAG="FetchStreamLoader",_._seekHandler=m,_._config=v,_._needStash=!0,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return g.isSupported=function(){try{var m=l.default.msedge&&l.default.version.minor>=15048,v=l.default.msedge?m:!0;return self.fetch&&self.ReadableStream&&v}catch{return!1}},g.prototype.destroy=function(){this.isWorking()&&this.abort(),d.prototype.destroy.call(this)},g.prototype.open=function(m,v){var _=this;this._dataSource=m,this._range=v;var y=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(y=m.redirectedURL);var b=this._seekHandler.getConfig(y,v),w=new self.Headers;if(typeof b.headers=="object"){var E=b.headers;for(var C in E)E.hasOwnProperty(C)&&w.append(C,E[C])}var T={method:"GET",headers:w,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var C in this._config.headers)w.append(C,this._config.headers[C]);m.cors===!1&&(T.mode="same-origin"),m.withCredentials&&(T.credentials="include"),m.referrerPolicy&&(T.referrerPolicy=m.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,T.signal=this._abortController.signal),this._status=u.LoaderStatus.kConnecting,self.fetch(b.url,T).then(function(A){if(_._requestAbort){_._status=u.LoaderStatus.kIdle,A.body.cancel();return}if(A.ok&&A.status>=200&&A.status<=299){if(A.url!==b.url&&_._onURLRedirect){var R=_._seekHandler.removeURLParameters(A.url);_._onURLRedirect(R)}var O=A.headers.get("Content-Length");return O!=null&&(_._contentLength=parseInt(O),_._contentLength!==0&&_._onContentLengthKnown&&_._onContentLengthKnown(_._contentLength)),_._pump.call(_,A.body.getReader())}else if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:A.status,msg:A.statusText});else throw new f.RuntimeException("FetchStreamLoader: Http code invalid, "+A.status+" "+A.statusText)}).catch(function(A){if(!(_._abortController&&_._abortController.signal.aborted))if(_._status=u.LoaderStatus.kError,_._onError)_._onError(u.LoaderErrors.EXCEPTION,{code:-1,msg:A.message});else throw A})},g.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==u.LoaderStatus.kBuffering||!l.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},g.prototype._pump=function(m){var v=this;return m.read().then(function(_){if(_.done)if(v._contentLength!==null&&v._receivedLength<v._contentLength){v._status=u.LoaderStatus.kError;var y=u.LoaderErrors.EARLY_EOF,b={code:-1,msg:"Fetch stream meet Early-EOF"};if(v._onError)v._onError(y,b);else throw new f.RuntimeException(b.msg)}else v._status=u.LoaderStatus.kComplete,v._onComplete&&v._onComplete(v._range.from,v._range.from+v._receivedLength-1);else{if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}else if(v._requestAbort===!0)return v._status=u.LoaderStatus.kComplete,m.cancel();v._status=u.LoaderStatus.kBuffering;var w=_.value.buffer,E=v._range.from+v._receivedLength;v._receivedLength+=w.byteLength,v._onDataArrival&&v._onDataArrival(w,E,v._receivedLength),v._pump(m)}}).catch(function(_){if(v._abortController&&v._abortController.signal.aborted){v._status=u.LoaderStatus.kComplete;return}if(!(_.code===11&&l.default.msedge)){v._status=u.LoaderStatus.kError;var y=0,b=null;if((_.code===19||_.message==="network error")&&(v._contentLength===null||v._contentLength!==null&&v._receivedLength<v._contentLength)?(y=u.LoaderErrors.EARLY_EOF,b={code:_.code,msg:"Fetch stream meet Early-EOF"}):(y=u.LoaderErrors.EXCEPTION,b={code:_.code,msg:_.message}),v._onError)v._onError(y,b);else throw new f.RuntimeException(b.msg)}})},g}(u.BaseLoader);s.default=p},"./src/io/io-controller.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/io/fetch-stream-loader.js"),p=c("./src/io/xhr-moz-chunked-loader.js"),d=c("./src/io/xhr-range-loader.js"),g=c("./src/io/websocket-loader.js"),m=c("./src/io/range-seek-handler.js"),v=c("./src/io/param-seek-handler.js"),_=c("./src/utils/exception.js"),y=function(){function b(w,E,C){this.TAG="IOController",this._config=E,this._extraData=C,this._stashInitialSize=1024*384,E.stashInitialSize!=null&&E.stashInitialSize>0&&(this._stashInitialSize=E.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,E.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=w,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(w.url),this._refTotalLength=w.filesize?w.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new u.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return b.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},b.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},b.prototype.isPaused=function(){return this._paused},Object.defineProperty(b.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extraData",{get:function(){return this._extraData},set:function(w){this._extraData=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(w){this._onDataArrival=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(w){this._onSeeked=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(w){this._onError=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onComplete",{get:function(){return this._onComplete},set:function(w){this._onComplete=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(w){this._onRedirect=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(w){this._onRecoveredEarlyEof=w},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentSpeed",{get:function(){return this._loaderClass===d.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),b.prototype._selectSeekHandler=function(){var w=this._config;if(w.seekType==="range")this._seekHandler=new m.default(this._config.rangeLoadZeroStart);else if(w.seekType==="param"){var E=w.seekParamStart||"bstart",C=w.seekParamEnd||"bend";this._seekHandler=new v.default(E,C)}else if(w.seekType==="custom"){if(typeof w.customSeekHandler!="function")throw new _.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new w.customSeekHandler}else throw new _.InvalidArgumentException("Invalid seekType in config: "+w.seekType)},b.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=g.default;else if(h.default.isSupported())this._loaderClass=h.default;else if(p.default.isSupported())this._loaderClass=p.default;else if(d.default.isSupported())this._loaderClass=d.default;else throw new _.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},b.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},b.prototype.open=function(w){this._currentRange={from:0,to:-1},w&&(this._currentRange.from=w),this._speedSampler.reset(),w||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},b.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},b.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},b.prototype.resume=function(){if(this._paused){this._paused=!1;var w=this._resumeFrom;this._resumeFrom=0,this._internalSeek(w,!0)}},b.prototype.seek=function(w){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(w,!0)},b.prototype._internalSeek=function(w,E){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(E),this._loader.destroy(),this._loader=null;var C={from:w,to:-1};this._currentRange={from:C.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,C),this._onSeeked&&this._onSeeked()},b.prototype.updateUrl=function(w){if(!w||typeof w!="string"||w.length===0)throw new _.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=w},b.prototype._expandBuffer=function(w){for(var E=this._stashSize;E+1024*1024*1<w;)E*=2;if(E+=1024*1024*1,E!==this._bufferSize){var C=new ArrayBuffer(E);if(this._stashUsed>0){var T=new Uint8Array(this._stashBuffer,0,this._stashUsed),A=new Uint8Array(C,0,E);A.set(T,0)}this._stashBuffer=C,this._bufferSize=E}},b.prototype._normalizeSpeed=function(w){var E=this._speedNormalizeList,C=E.length-1,T=0,A=0,R=C;if(w<E[0])return E[0];for(;A<=R;){if(T=A+Math.floor((R-A)/2),T===C||w>=E[T]&&w<E[T+1])return E[T];E[T]<w?A=T+1:R=T-1}},b.prototype._adjustStashSize=function(w){var E=0;this._config.isLive||w<512?E=w:w>=512&&w<=1024?E=Math.floor(w*1.5):E=w*2,E>8192&&(E=8192);var C=E*1024+1024*1024*1;this._bufferSize<C&&this._expandBuffer(C),this._stashSize=E*1024},b.prototype._dispatchChunks=function(w,E){return this._currentRange.to=E+w.byteLength-1,this._onDataArrival(w,E)},b.prototype._onURLRedirect=function(w){this._redirectedURL=w,this._onRedirect&&this._onRedirect(w)},b.prototype._onContentLengthKnown=function(w){w&&this._fullRequestFlag&&(this._totalLength=w,this._fullRequestFlag=!1)},b.prototype._onLoaderChunkArrival=function(w,E,C){if(!this._onDataArrival)throw new _.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(w.byteLength);var T=this._speedSampler.lastSecondKBps;if(T!==0){var A=this._normalizeSpeed(T);this._speedNormalized!==A&&(this._speedNormalized=A,this._adjustStashSize(A))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=E),this._stashUsed+w.byteLength<=this._stashSize){var P=new Uint8Array(this._stashBuffer,0,this._stashSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var M=this._stashBuffer.slice(0,this._stashUsed),R=this._dispatchChunks(M,this._stashByteStart);if(R<M.byteLength){if(R>0){var k=new Uint8Array(M,R);P.set(k,0),this._stashUsed=k.byteLength,this._stashByteStart+=R}}else this._stashUsed=0,this._stashByteStart+=R;this._stashUsed+w.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+w.byteLength),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength}else{var R=this._dispatchChunks(w,E);if(R<w.byteLength){var O=w.byteLength-R;O>this._bufferSize&&(this._expandBuffer(O),P=new Uint8Array(this._stashBuffer,0,this._bufferSize)),P.set(new Uint8Array(w,R),0),this._stashUsed+=O,this._stashByteStart=E+R}}}else if(this._stashUsed===0){var R=this._dispatchChunks(w,E);if(R<w.byteLength){var O=w.byteLength-R;O>this._bufferSize&&this._expandBuffer(O);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w,R),0),this._stashUsed+=O,this._stashByteStart=E+R}}else{this._stashUsed+w.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+w.byteLength);var P=new Uint8Array(this._stashBuffer,0,this._bufferSize);P.set(new Uint8Array(w),this._stashUsed),this._stashUsed+=w.byteLength;var R=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(R<this._stashUsed&&R>0){var k=new Uint8Array(this._stashBuffer,R);P.set(k,0)}this._stashUsed-=R,this._stashByteStart+=R}}},b.prototype._flushStashBuffer=function(w){if(this._stashUsed>0){var E=this._stashBuffer.slice(0,this._stashUsed),C=this._dispatchChunks(E,this._stashByteStart),T=E.byteLength-C;if(C<E.byteLength)if(w)l.default.w(this.TAG,T+" bytes unconsumed data remain when flush buffer, dropped");else{if(C>0){var A=new Uint8Array(this._stashBuffer,0,this._bufferSize),R=new Uint8Array(E,C);A.set(R,0),this._stashUsed=R.byteLength,this._stashByteStart+=C}return 0}return this._stashUsed=0,this._stashByteStart=0,T}return 0},b.prototype._onLoaderComplete=function(w,E){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},b.prototype._onLoaderError=function(w,E){switch(l.default.e(this.TAG,"Loader error, code = "+E.code+", msg = "+E.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF),w){case f.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var C=this._currentRange.to+1;C<this._totalLength&&(l.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(C,!1));return}w=f.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case f.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case f.LoaderErrors.CONNECTING_TIMEOUT:case f.LoaderErrors.HTTP_STATUS_CODE_INVALID:case f.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(w,E);else throw new _.RuntimeException("IOException: "+E.msg)},b}();s.default=y},"./src/io/loader.js":function(o,s,c){c.r(s),c.d(s,{LoaderStatus:function(){return u},LoaderErrors:function(){return f},BaseLoader:function(){return h}});var l=c("./src/utils/exception.js"),u={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},h=function(){function p(d){this._type=d||"undefined",this._status=u.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return p.prototype.destroy=function(){this._status=u.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},p.prototype.isWorking=function(){return this._status===u.kConnecting||this._status===u.kBuffering},Object.defineProperty(p.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(d){this._onContentLengthKnown=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(d){this._onURLRedirect=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(d){this._onDataArrival=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(d){this._onError=d},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onComplete",{get:function(){return this._onComplete},set:function(d){this._onComplete=d},enumerable:!1,configurable:!0}),p.prototype.open=function(d,g){throw new l.NotImplementedException("Unimplemented abstract function!")},p.prototype.abort=function(){throw new l.NotImplementedException("Unimplemented abstract function!")},p}()},"./src/io/param-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f,h){this._startName=f,this._endName=h}return u.prototype.getConfig=function(f,h){var p=f;if(h.from!==0||h.to!==-1){var d=!0;p.indexOf("?")===-1&&(p+="?",d=!1),d&&(p+="&"),p+=this._startName+"="+h.from.toString(),h.to!==-1&&(p+="&"+this._endName+"="+h.to.toString())}return{url:p,headers:{}}},u.prototype.removeURLParameters=function(f){var h=f.split("?")[0],p=void 0,d=f.indexOf("?");d!==-1&&(p=f.substring(d+1));var g="";if(p!=null&&p.length>0)for(var m=p.split("&"),v=0;v<m.length;v++){var _=m[v].split("="),y=v>0;_[0]!==this._startName&&_[0]!==this._endName&&(y&&(g+="&"),g+=m[v])}return g.length===0?h:h+"?"+g},u}();s.default=l},"./src/io/range-seek-handler.js":function(o,s,c){c.r(s);var l=function(){function u(f){this._zeroStart=f||!1}return u.prototype.getConfig=function(f,h){var p={};if(h.from!==0||h.to!==-1){var d=void 0;h.to!==-1?d="bytes="+h.from.toString()+"-"+h.to.toString():d="bytes="+h.from.toString()+"-",p.Range=d}else this._zeroStart&&(p.Range="bytes=0-");return{url:f,headers:p}},u.prototype.removeURLParameters=function(f){return f},u}();s.default=l},"./src/io/speed-sampler.js":function(o,s,c){c.r(s);var l=function(){function u(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return u.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},u.prototype.addBytes=function(f){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=f,this._totalBytes+=f):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=f,this._totalBytes+=f):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=f,this._totalBytes+=f,this._lastCheckpoint=this._now())},Object.defineProperty(u.prototype,"currentKBps",{get:function(){this.addBytes(0);var f=(this._now()-this._lastCheckpoint)/1e3;return f==0&&(f=1),this._intervalBytes/f/1024},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"averageKBps",{get:function(){var f=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/f/1024},enumerable:!1,configurable:!0}),u}();s.default=l},"./src/io/websocket-loader.js":function(o,s,c){c.r(s);var l=c("./src/io/loader.js"),u=c("./src/utils/exception.js"),f=function(){var p=function(d,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(m[_]=v[_])},p(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(d,g);function m(){this.constructor=d}d.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),h=function(p){f(d,p);function d(){var g=p.call(this,"websocket-loader")||this;return g.TAG="WebSocketLoader",g._needStash=!0,g._ws=null,g._requestAbort=!1,g._receivedLength=0,g}return d.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},d.prototype.destroy=function(){this._ws&&this.abort(),p.prototype.destroy.call(this)},d.prototype.open=function(g){try{var m=this._ws=new self.WebSocket(g.url);m.binaryType="arraybuffer",m.onopen=this._onWebSocketOpen.bind(this),m.onclose=this._onWebSocketClose.bind(this),m.onmessage=this._onWebSocketMessage.bind(this),m.onerror=this._onWebSocketError.bind(this),this._status=l.LoaderStatus.kConnecting}catch(_){this._status=l.LoaderStatus.kError;var v={code:_.code,msg:_.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,v);else throw new u.RuntimeException(v.msg)}},d.prototype.abort=function(){var g=this._ws;g&&(g.readyState===0||g.readyState===1)&&(this._requestAbort=!0,g.close()),this._ws=null,this._status=l.LoaderStatus.kComplete},d.prototype._onWebSocketOpen=function(g){this._status=l.LoaderStatus.kBuffering},d.prototype._onWebSocketClose=function(g){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=l.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},d.prototype._onWebSocketMessage=function(g){var m=this;if(g.data instanceof ArrayBuffer)this._dispatchArrayBuffer(g.data);else if(g.data instanceof Blob){var v=new FileReader;v.onload=function(){m._dispatchArrayBuffer(v.result)},v.readAsArrayBuffer(g.data)}else{this._status=l.LoaderStatus.kError;var _={code:-1,msg:"Unsupported WebSocket message type: "+g.data.constructor.name};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,_);else throw new u.RuntimeException(_.msg)}},d.prototype._dispatchArrayBuffer=function(g){var m=g,v=this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,v,this._receivedLength)},d.prototype._onWebSocketError=function(g){this._status=l.LoaderStatus.kError;var m={code:g.code,msg:g.message};if(this._onError)this._onError(l.LoaderErrors.EXCEPTION,m);else throw new u.RuntimeException(m.msg)},d}(l.BaseLoader);s.default=h},"./src/io/xhr-moz-chunked-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/loader.js"),f=c("./src/utils/exception.js"),h=function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),p=function(d){h(g,d);function g(m,v){var _=d.call(this,"xhr-moz-chunked-loader")||this;return _.TAG="MozChunkedLoader",_._seekHandler=m,_._config=v,_._needStash=!0,_._xhr=null,_._requestAbort=!1,_._contentLength=null,_._receivedLength=0,_}return g.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="moz-chunked-arraybuffer",m.responseType==="moz-chunked-arraybuffer"}catch(v){return l.default.w("MozChunkedLoader",v.message),!1}},g.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),d.prototype.destroy.call(this)},g.prototype.open=function(m,v){this._dataSource=m,this._range=v;var _=m.url;this._config.reuseRedirectedURL&&m.redirectedURL!=null&&(_=m.redirectedURL);var y=this._seekHandler.getConfig(_,v);this._requestURL=y.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",y.url,!0),b.responseType="moz-chunked-arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onloadend=this._onLoadEnd.bind(this),b.onerror=this._onXhrError.bind(this),m.withCredentials&&(b.withCredentials=!0),typeof y.headers=="object"){var w=y.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}if(typeof this._config.headers=="object"){var w=this._config.headers;for(var E in w)w.hasOwnProperty(E)&&b.setRequestHeader(E,w[E])}this._status=u.LoaderStatus.kConnecting,b.send()},g.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=u.LoaderStatus.kComplete},g.prototype._onReadyStateChange=function(m){var v=m.target;if(v.readyState===2){if(v.responseURL!=null&&v.responseURL!==this._requestURL&&this._onURLRedirect){var _=this._seekHandler.removeURLParameters(v.responseURL);this._onURLRedirect(_)}if(v.status!==0&&(v.status<200||v.status>299))if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:v.status,msg:v.statusText});else throw new f.RuntimeException("MozChunkedLoader: Http code invalid, "+v.status+" "+v.statusText);else this._status=u.LoaderStatus.kBuffering}},g.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){this._contentLength===null&&m.total!==null&&m.total!==0&&(this._contentLength=m.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var v=m.target.response,_=this._range.from+this._receivedLength;this._receivedLength+=v.byteLength,this._onDataArrival&&this._onDataArrival(v,_,this._receivedLength)}},g.prototype._onLoadEnd=function(m){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===u.LoaderStatus.kError)return;this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},g.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var v=0,_=null;if(this._contentLength&&m.loaded<this._contentLength?(v=u.LoaderErrors.EARLY_EOF,_={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(v=u.LoaderErrors.EXCEPTION,_={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(v,_);else throw new f.RuntimeException(_.msg)},g}(u.BaseLoader);s.default=p},"./src/io/xhr-range-loader.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/io/speed-sampler.js"),f=c("./src/io/loader.js"),h=c("./src/utils/exception.js"),p=function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(_[b]=y[b])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function _(){this.constructor=m}m.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}(),d=function(g){p(m,g);function m(v,_){var y=g.call(this,"xhr-range-loader")||this;return y.TAG="RangeLoader",y._seekHandler=v,y._config=_,y._needStash=!1,y._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],y._currentChunkSizeKB=384,y._currentSpeedNormalized=0,y._zeroSpeedChunkCount=0,y._xhr=null,y._speedSampler=new u.default,y._requestAbort=!1,y._waitForTotalLength=!1,y._totalLengthReceived=!1,y._currentRequestURL=null,y._currentRedirectedURL=null,y._currentRequestRange=null,y._totalLength=null,y._contentLength=null,y._receivedLength=0,y._lastTimeLoaded=0,y}return m.isSupported=function(){try{var v=new XMLHttpRequest;return v.open("GET","https://example.com",!0),v.responseType="arraybuffer",v.responseType==="arraybuffer"}catch(_){return l.default.w("RangeLoader",_.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),g.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(v,_){this._dataSource=v,this._range=_,this._status=f.LoaderStatus.kConnecting;var y=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(y=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!y?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},m.prototype._openSubRange=function(){var v=this._currentChunkSizeKB*1024,_=this._range.from+this._receivedLength,y=_+v;this._contentLength!=null&&y-this._range.from>=this._contentLength&&(y=this._range.from+this._contentLength-1),this._currentRequestRange={from:_,to:y},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(v,_){this._lastTimeLoaded=0;var y=v.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?y=this._currentRedirectedURL:v.redirectedURL!=null&&(y=v.redirectedURL));var b=this._seekHandler.getConfig(y,_);this._currentRequestURL=b.url;var w=this._xhr=new XMLHttpRequest;if(w.open("GET",b.url,!0),w.responseType="arraybuffer",w.onreadystatechange=this._onReadyStateChange.bind(this),w.onprogress=this._onProgress.bind(this),w.onload=this._onLoad.bind(this),w.onerror=this._onXhrError.bind(this),v.withCredentials&&(w.withCredentials=!0),typeof b.headers=="object"){var E=b.headers;for(var C in E)E.hasOwnProperty(C)&&w.setRequestHeader(C,E[C])}if(typeof this._config.headers=="object"){var E=this._config.headers;for(var C in E)E.hasOwnProperty(C)&&w.setRequestHeader(C,E[C])}w.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=f.LoaderStatus.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(v){var _=v.target;if(_.readyState===2){if(_.responseURL!=null){var y=this._seekHandler.removeURLParameters(_.responseURL);_.responseURL!==this._currentRequestURL&&y!==this._currentRedirectedURL&&(this._currentRedirectedURL=y,this._onURLRedirect&&this._onURLRedirect(y))}if(_.status>=200&&_.status<=299){if(this._waitForTotalLength)return;this._status=f.LoaderStatus.kBuffering}else if(this._status=f.LoaderStatus.kError,this._onError)this._onError(f.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new h.RuntimeException("RangeLoader: Http code invalid, "+_.status+" "+_.statusText)}},m.prototype._onProgress=function(v){if(this._status!==f.LoaderStatus.kError){if(this._contentLength===null){var _=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,_=!0;var y=v.total;this._internalAbort(),y!=null&y!==0&&(this._totalLength=y)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,_){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var b=v.loaded-this._lastTimeLoaded;this._lastTimeLoaded=v.loaded,this._speedSampler.addBytes(b)}},m.prototype._normalizeSpeed=function(v){var _=this._chunkSizeKBList,y=_.length-1,b=0,w=0,E=y;if(v<_[0])return _[0];for(;w<=E;){if(b=w+Math.floor((E-w)/2),b===y||v>=_[b]&&v<_[b+1])return _[b];_[b]<v?w=b+1:E=b-1}},m.prototype._onLoad=function(v){if(this._status!==f.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var _=this._speedSampler.lastSecondKBps;if(_===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(_=this._speedSampler.currentKBps)),_!==0){var y=this._normalizeSpeed(_);this._currentSpeedNormalized!==y&&(this._currentSpeedNormalized=y,this._currentChunkSizeKB=y)}var b=v.target.response,w=this._range.from+this._receivedLength;this._receivedLength+=b.byteLength;var E=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():E=!0,this._onDataArrival&&this._onDataArrival(b,w,this._receivedLength),E&&(this._status=f.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(v){this._status=f.LoaderStatus.kError;var _=0,y=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(_=f.LoaderErrors.EARLY_EOF,y={code:-1,msg:"RangeLoader meet Early-Eof"}):(_=f.LoaderErrors.EXCEPTION,y={code:-1,msg:v.constructor.name+" "+v.type}),this._onError)this._onError(_,y);else throw new h.RuntimeException(y.msg)},m}(f.BaseLoader);s.default=d},"./src/player/flv-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=c("./src/utils/browser.js"),p=c("./src/player/player-events.js"),d=c("./src/core/transmuxer.js"),g=c("./src/core/transmuxing-events.js"),m=c("./src/core/mse-controller.js"),v=c("./src/core/mse-events.js"),_=c("./src/player/player-errors.js"),y=c("./src/config.js"),b=c("./src/utils/exception.js"),w=function(){function E(C,T){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(u()),this._config=(0,y.createDefaultConfig)(),typeof T=="object"&&Object.assign(this._config,T),C.type.toLowerCase()!=="flv")throw new b.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");C.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=C,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var A=h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661);this._alwaysSeekKeyframe=!!(A||h.default.msedge||h.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return E.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},E.prototype.on=function(C,T){var A=this;C===p.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){A._emitter.emit(p.default.MEDIA_INFO,A.mediaInfo)}):C===p.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){A._emitter.emit(p.default.STATISTICS_INFO,A.statisticsInfo)}),this._emitter.addListener(C,T)},E.prototype.off=function(C,T){this._emitter.removeListener(C,T)},E.prototype.attachMediaElement=function(C){var T=this;if(this._mediaElement=C,C.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),C.addEventListener("seeking",this.e.onvSeeking),C.addEventListener("canplay",this.e.onvCanPlay),C.addEventListener("stalled",this.e.onvStalled),C.addEventListener("progress",this.e.onvProgress),this._msectl=new m.default(this._config),this._msectl.on(v.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(v.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(v.default.SOURCE_OPEN,function(){T._mseSourceOpened=!0,T._hasPendingLoad&&(T._hasPendingLoad=!1,T.load())}),this._msectl.on(v.default.ERROR,function(A){T._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,_.ErrorDetails.MEDIA_MSE_ERROR,A)}),this._msectl.attachMediaElement(C),this._pendingSeekTime!=null)try{C.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},E.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},E.prototype.load=function(){var C=this;if(!this._mediaElement)throw new b.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new b.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new d.default(this._mediaDataSource,this._config),this._transmuxer.on(g.default.INIT_SEGMENT,function(T,A){C._msectl.appendInitSegment(A)}),this._transmuxer.on(g.default.MEDIA_SEGMENT,function(T,A){if(C._msectl.appendMediaSegment(A),C._config.lazyLoad&&!C._config.isLive){var R=C._mediaElement.currentTime;A.info.endDts>=(R+C._config.lazyLoadMaxDuration)*1e3&&C._progressChecker==null&&(f.default.v(C.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),C._suspendTransmuxer())}}),this._transmuxer.on(g.default.LOADING_COMPLETE,function(){C._msectl.endOfStream(),C._emitter.emit(p.default.LOADING_COMPLETE)}),this._transmuxer.on(g.default.RECOVERED_EARLY_EOF,function(){C._emitter.emit(p.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(g.default.IO_ERROR,function(T,A){C._emitter.emit(p.default.ERROR,_.ErrorTypes.NETWORK_ERROR,T,A)}),this._transmuxer.on(g.default.DEMUX_ERROR,function(T,A){C._emitter.emit(p.default.ERROR,_.ErrorTypes.MEDIA_ERROR,T,{code:-1,msg:A})}),this._transmuxer.on(g.default.MEDIA_INFO,function(T){C._mediaInfo=T,C._emitter.emit(p.default.MEDIA_INFO,Object.assign({},T))}),this._transmuxer.on(g.default.METADATA_ARRIVED,function(T){C._emitter.emit(p.default.METADATA_ARRIVED,T)}),this._transmuxer.on(g.default.SCRIPTDATA_ARRIVED,function(T){C._emitter.emit(p.default.SCRIPTDATA_ARRIVED,T)}),this._transmuxer.on(g.default.STATISTICS_INFO,function(T){C._statisticsInfo=C._fillStatisticsInfo(T),C._emitter.emit(p.default.STATISTICS_INFO,Object.assign({},C._statisticsInfo))}),this._transmuxer.on(g.default.RECOMMEND_SEEKPOINT,function(T){C._mediaElement&&!C._config.accurateSeek&&(C._requestSetTime=!0,C._mediaElement.currentTime=T/1e3)}),this._transmuxer.open()}},E.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},E.prototype.play=function(){return this._mediaElement.play()},E.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(E.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(C){this._mediaElement.volume=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(C){this._mediaElement.muted=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(C){this._mediaElement?this._internalSeek(C):this._pendingSeekTime=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),E.prototype._fillStatisticsInfo=function(C){if(C.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return C;var T=!0,A=0,R=0;if(this._mediaElement.getVideoPlaybackQuality){var O=this._mediaElement.getVideoPlaybackQuality();A=O.totalVideoFrames,R=O.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(A=this._mediaElement.webkitDecodedFrameCount,R=this._mediaElement.webkitDroppedFrameCount):T=!1;return T&&(C.decodedFrames=A,C.droppedFrames=R),C},E.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var C=this._mediaElement.buffered,T=this._mediaElement.currentTime,A=0,R=0;R<C.length;R++){var O=C.start(R),P=C.end(R);if(O<=T&&T<P){A=P;break}}A>=T+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(f.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},E.prototype._onmseBufferFull=function(){f.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},E.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},E.prototype._checkProgressAndResume=function(){for(var C=this._mediaElement.currentTime,T=this._mediaElement.buffered,A=!1,R=0;R<T.length;R++){var O=T.start(R),P=T.end(R);if(C>=O&&C<P){C>=P-this._config.lazyLoadRecoverDuration&&(A=!0);break}}A&&(window.clearInterval(this._progressChecker),this._progressChecker=null,A&&(f.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},E.prototype._isTimepointBuffered=function(C){for(var T=this._mediaElement.buffered,A=0;A<T.length;A++){var R=T.start(A),O=T.end(A);if(C>=R&&C<O)return!0}return!1},E.prototype._internalSeek=function(C){var T=this._isTimepointBuffered(C),A=!1,R=0;if(C<1&&this._mediaElement.buffered.length>0){var O=this._mediaElement.buffered.start(0);(O<1&&C<O||h.default.safari)&&(A=!0,R=h.default.safari?.1:O)}if(A)this._requestSetTime=!0,this._mediaElement.currentTime=R;else if(T){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=C;else{var P=this._msectl.getNearestKeyframe(Math.floor(C*1e3));this._requestSetTime=!0,P!=null?this._mediaElement.currentTime=P.dts/1e3:this._mediaElement.currentTime=C}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C)},E.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var C=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(C)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(C),this._transmuxer.seek(Math.floor(C*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=C))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._checkAndResumeStuckPlayback=function(C){var T=this._mediaElement;if(C||!this._receivedCanPlay||T.readyState<2){var A=T.buffered;A.length>0&&T.currentTime<A.start(0)&&(f.default.w(this.TAG,"Playback seems stuck at "+T.currentTime+", seek to "+A.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=A.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},E.prototype._onvLoadedMetadata=function(C){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},E.prototype._onvSeeking=function(C){var T=this._mediaElement.currentTime,A=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(T<1&&A.length>0){var R=A.start(0);if(R<1&&T<R||h.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=h.default.safari?.1:R;return}}if(this._isTimepointBuffered(T)){if(this._alwaysSeekKeyframe){var O=this._msectl.getNearestKeyframe(Math.floor(T*1e3));O!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=O.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:T,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},E.prototype._onvCanPlay=function(C){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},E.prototype._onvStalled=function(C){this._checkAndResumeStuckPlayback(!0)},E.prototype._onvProgress=function(C){this._checkAndResumeStuckPlayback()},E}();s.default=w},"./src/player/native-player.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/player/player-events.js"),h=c("./src/config.js"),p=c("./src/utils/exception.js"),d=function(){function g(m,v){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(u()),this._config=(0,h.createDefaultConfig)(),typeof v=="object"&&Object.assign(this._config,v),m.type.toLowerCase()==="flv")throw new p.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(m.hasOwnProperty("segments"))throw new p.InvalidArgumentException("NativePlayer("+m.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=m,this._mediaElement=null}return g.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},g.prototype.on=function(m,v){var _=this;m===f.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.MEDIA_INFO,_.mediaInfo)}):m===f.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){_._emitter.emit(f.default.STATISTICS_INFO,_.statisticsInfo)}),this._emitter.addListener(m,v)},g.prototype.off=function(m,v){this._emitter.removeListener(m,v)},g.prototype.attachMediaElement=function(m){if(this._mediaElement=m,m.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{m.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},g.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},g.prototype.load=function(){if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},g.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},g.prototype.play=function(){return this._mediaElement.play()},g.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(g.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(m){this._mediaElement.volume=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(m){this._mediaElement.muted=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(m){this._mediaElement?this._mediaElement.currentTime=m:this._pendingSeekTime=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"mediaInfo",{get:function(){var m=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",v={mimeType:m+this._mediaDataSource.type};return this._mediaElement&&(v.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(v.width=this._mediaElement.videoWidth,v.height=this._mediaElement.videoHeight)),v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"statisticsInfo",{get:function(){var m={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return m;var v=!0,_=0,y=0;if(this._mediaElement.getVideoPlaybackQuality){var b=this._mediaElement.getVideoPlaybackQuality();_=b.totalVideoFrames,y=b.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(_=this._mediaElement.webkitDecodedFrameCount,y=this._mediaElement.webkitDroppedFrameCount):v=!1;return v&&(m.decodedFrames=_,m.droppedFrames=y),m},enumerable:!1,configurable:!0}),g.prototype._onvLoadedMetadata=function(m){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(f.default.MEDIA_INFO,this.mediaInfo)},g.prototype._reportStatisticsInfo=function(){this._emitter.emit(f.default.STATISTICS_INFO,this.statisticsInfo)},g}();s.default=d},"./src/player/player-errors.js":function(o,s,c){c.r(s),c.d(s,{ErrorTypes:function(){return f},ErrorDetails:function(){return h}});var l=c("./src/io/loader.js"),u=c("./src/demux/demux-errors.js"),f={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},h={NETWORK_EXCEPTION:l.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:u.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:u.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:u.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,s,c){c.r(s);var l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};s.default=l},"./src/remux/aac-silent.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.getSilentFrame=function(f,h){if(f==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},u}();s.default=l},"./src/remux/mp4-generator.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.init=function(){u.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var f in u.types)u.types.hasOwnProperty(f)&&(u.types[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);var h=u.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},u.box=function(f){for(var h=8,p=null,d=Array.prototype.slice.call(arguments,1),g=d.length,m=0;m<g;m++)h+=d[m].byteLength;p=new Uint8Array(h),p[0]=h>>>24&255,p[1]=h>>>16&255,p[2]=h>>>8&255,p[3]=h&255,p.set(f,4);for(var v=8,m=0;m<g;m++)p.set(d[m],v),v+=d[m].byteLength;return p},u.generateInitSegment=function(f){var h=u.box(u.types.ftyp,u.constants.FTYP),p=u.moov(f),d=new Uint8Array(h.byteLength+p.byteLength);return d.set(h,0),d.set(p,h.byteLength),d},u.moov=function(f){var h=u.mvhd(f.timescale,f.duration),p=u.trak(f),d=u.mvex(f);return u.box(u.types.moov,h,p,d)},u.mvhd=function(f,h){return u.box(u.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},u.trak=function(f){return u.box(u.types.trak,u.tkhd(f),u.mdia(f))},u.tkhd=function(f){var h=f.id,p=f.duration,d=f.presentWidth,g=f.presentHeight;return u.box(u.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>>8&255,d&255,0,0,g>>>8&255,g&255,0,0]))},u.mdia=function(f){return u.box(u.types.mdia,u.mdhd(f),u.hdlr(f),u.minf(f))},u.mdhd=function(f){var h=f.timescale,p=f.duration;return u.box(u.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,85,196,0,0]))},u.hdlr=function(f){var h=null;return f.type==="audio"?h=u.constants.HDLR_AUDIO:h=u.constants.HDLR_VIDEO,u.box(u.types.hdlr,h)},u.minf=function(f){var h=null;return f.type==="audio"?h=u.box(u.types.smhd,u.constants.SMHD):h=u.box(u.types.vmhd,u.constants.VMHD),u.box(u.types.minf,h,u.dinf(),u.stbl(f))},u.dinf=function(){var f=u.box(u.types.dinf,u.box(u.types.dref,u.constants.DREF));return f},u.stbl=function(f){var h=u.box(u.types.stbl,u.stsd(f),u.box(u.types.stts,u.constants.STTS),u.box(u.types.stsc,u.constants.STSC),u.box(u.types.stsz,u.constants.STSZ),u.box(u.types.stco,u.constants.STCO));return h},u.stsd=function(f){return f.type==="audio"?f.codec==="mp3"?u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp3(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.mp4a(f)):u.box(u.types.stsd,u.constants.STSD_PREFIX,u.avc1(f))},u.mp3=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types[".mp3"],d)},u.mp4a=function(f){var h=f.channelCount,p=f.audioSampleRate,d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,p>>>8&255,p&255,0,0]);return u.box(u.types.mp4a,d,u.esds(f))},u.esds=function(f){var h=f.config||[],p=h.length,d=new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(h).concat([6,1,2]));return u.box(u.types.esds,d)},u.avc1=function(f){var h=f.avcc,p=f.codecWidth,d=f.codecHeight,g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,p>>>8&255,p&255,d>>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return u.box(u.types.avc1,g,u.box(u.types.avcC,h))},u.mvex=function(f){return u.box(u.types.mvex,u.trex(f))},u.trex=function(f){var h=f.id,p=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return u.box(u.types.trex,p)},u.moof=function(f,h){return u.box(u.types.moof,u.mfhd(f.sequenceNumber),u.traf(f,h))},u.mfhd=function(f){var h=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255]);return u.box(u.types.mfhd,h)},u.traf=function(f,h){var p=f.id,d=u.box(u.types.tfhd,new Uint8Array([0,0,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255])),g=u.box(u.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,h&255])),m=u.sdtp(f),v=u.trun(f,m.byteLength+16+16+8+16+8+8);return u.box(u.types.traf,d,g,v,m)},u.sdtp=function(f){for(var h=f.samples||[],p=h.length,d=new Uint8Array(4+p),g=0;g<p;g++){var m=h[g].flags;d[g+4]=m.isLeading<<6|m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy}return u.box(u.types.sdtp,d)},u.trun=function(f,h){var p=f.samples||[],d=p.length,g=12+16*d,m=new Uint8Array(g);h+=8+g,m.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255],0);for(var v=0;v<d;v++){var _=p[v].duration,y=p[v].size,b=p[v].flags,w=p[v].cts;m.set([_>>>24&255,_>>>16&255,_>>>8&255,_&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,b.isLeading<<2|b.dependsOn,b.isDependedOn<<6|b.hasRedundancy<<4|b.isNonSync,0,0,w>>>24&255,w>>>16&255,w>>>8&255,w&255],12+16*v)}return u.box(u.types.trun,m)},u.mdat=function(f){return u.box(u.types.mdat,f)},u}();l.init(),s.default=l},"./src/remux/mp4-remuxer.js":function(o,s,c){c.r(s);var l=c("./src/utils/logger.js"),u=c("./src/remux/mp4-generator.js"),f=c("./src/remux/aac-silent.js"),h=c("./src/utils/browser.js"),p=c("./src/core/media-segment-info.js"),d=c("./src/utils/exception.js"),g=function(){function m(v){this.TAG="MP4Remuxer",this._config=v,this._isLive=v.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new p.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new p.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(h.default.chrome&&(h.default.version.major<50||h.default.version.major===50&&h.default.version.build<2661)),this._fillSilentAfterSeek=h.default.msedge||h.default.msie,this._mp3UseMpegAudio=!h.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return m.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},m.prototype.bindDataSource=function(v){return v.onDataAvailable=this.remux.bind(this),v.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(m.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(v){this._onInitSegment=v},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(v){this._onMediaSegment=v},enumerable:!1,configurable:!0}),m.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},m.prototype.seek=function(v){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},m.prototype.remux=function(v,_){if(!this._onMediaSegment)throw new d.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(v,_),this._remuxVideo(_),this._remuxAudio(v)},m.prototype._onTrackMetadataReceived=function(v,_){var y=null,b="mp4",w=_.codec;if(v==="audio")this._audioMeta=_,_.codec==="mp3"&&this._mp3UseMpegAudio?(b="mpeg",w="",y=new Uint8Array):y=u.default.generateInitSegment(_);else if(v==="video")this._videoMeta=_,y=u.default.generateInitSegment(_);else return;if(!this._onInitSegment)throw new d.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(v,{type:v,data:y.buffer,codec:w,container:v+"/"+b,mediaDuration:_.duration})},m.prototype._calculateDtsBase=function(v,_){this._dtsBaseInited||(v.samples&&v.samples.length&&(this._audioDtsBase=v.samples[0].dts),_.samples&&_.samples.length&&(this._videoDtsBase=_.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},m.prototype.flushStashedSamples=function(){var v=this._videoStashedLastSample,_=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};v!=null&&(y.samples.push(v),y.length=v.length);var b={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};_!=null&&(b.samples.push(_),b.length=_.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(b,!0)},m.prototype._remuxAudio=function(v,_){if(this._audioMeta!=null){var y=v,b=y.samples,w=void 0,E=-1,C=-1,T=this._audioMeta.refSampleDuration,A=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,R=this._dtsBaseInited&&this._audioNextDts===void 0,O=!1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var P=0,k=null,M=0;A?(P=0,M=y.length):(P=8,M=8+y.length);var B=null;if(b.length>1&&(B=b.pop(),M-=B.length),this._audioStashedLastSample!=null){var D=this._audioStashedLastSample;this._audioStashedLastSample=null,b.unshift(D),M+=D.length}B!=null&&(this._audioStashedLastSample=B);var H=b[0].dts-this._dtsBase;if(this._audioNextDts)w=H-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())w=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(O=!0);else{var ee=this._audioSegmentInfoList.getLastSampleBefore(H);if(ee!=null){var ne=H-(ee.originalDts+ee.duration);ne<=3&&(ne=0);var Y=ee.dts+ee.duration+ne;w=H-Y}else w=0}if(O){var U=H-w,X=this._videoSegmentInfoList.getLastSegmentBefore(H);if(X!=null&&X.beginDts<U){var V=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(V){var G=X.beginDts,te=U-X.beginDts;l.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+G+", duration: "+te),b.unshift({unit:V,dts:G,pts:G}),M+=V.byteLength}}else O=!1}for(var oe=[],ge=0;ge<b.length;ge++){var D=b[ge],le=D.unit,ye=D.dts-this._dtsBase,G=ye,Le=!1,ke=null,Ee=0;if(!(ye<-.001)){if(this._audioMeta.codec!=="mp3"){var Se=ye,De=3;if(this._audioNextDts&&(Se=this._audioNextDts),w=ye-Se,w<=-De*T){l.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+ye+" ms ,curRefDts: "+Se+" ms)  due to dtsCorrection: "+w+" ms overlap.");continue}else if(w>=De*T&&this._fillAudioTimestampGap&&!h.default.safari){Le=!0;var We=Math.floor(w/T);l.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+ye+" ms, curRefDts: "+Se+" ms, ")+("dtsCorrection: "+Math.round(w)+" ms, generate: "+We+" frames")),G=Math.floor(Se),Ee=Math.floor(Se+T)-G;var V=f.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);V==null&&(l.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),V=le),ke=[];for(var Ve=0;Ve<We;Ve++){Se=Se+T;var He=Math.floor(Se),qe=Math.floor(Se+T)-He,Et={dts:He,pts:He,cts:0,unit:V,size:V.byteLength,duration:qe,originalDts:ye,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};ke.push(Et),M+=Et.size}this._audioNextDts=Se+T}else G=Math.floor(Se),Ee=Math.floor(Se+T)-G,this._audioNextDts=Se+T}else{if(G=ye-w,ge!==b.length-1){var Rt=b[ge+1].dts-this._dtsBase-w;Ee=Rt-G}else if(B!=null){var Rt=B.dts-this._dtsBase-w;Ee=Rt-G}else oe.length>=1?Ee=oe[oe.length-1].duration:Ee=Math.floor(T);this._audioNextDts=G+Ee}E===-1&&(E=G),oe.push({dts:G,pts:G,cts:0,unit:D.unit,size:D.unit.byteLength,duration:Ee,originalDts:ye,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Le&&oe.push.apply(oe,ke)}}if(oe.length===0){y.samples=[],y.length=0;return}A?k=new Uint8Array(M):(k=new Uint8Array(M),k[0]=M>>>24&255,k[1]=M>>>16&255,k[2]=M>>>8&255,k[3]=M&255,k.set(u.default.types.mdat,4));for(var ge=0;ge<oe.length;ge++){var le=oe[ge].unit;k.set(le,P),P+=le.byteLength}var ht=oe[oe.length-1];C=ht.dts+ht.duration;var dt=new p.MediaSegmentInfo;dt.beginDts=E,dt.endDts=C,dt.beginPts=E,dt.endPts=C,dt.originalBeginDts=oe[0].originalDts,dt.originalEndDts=ht.originalDts+ht.duration,dt.firstSample=new p.SampleInfo(oe[0].dts,oe[0].pts,oe[0].duration,oe[0].originalDts,!1),dt.lastSample=new p.SampleInfo(ht.dts,ht.pts,ht.duration,ht.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(dt),y.samples=oe,y.sequenceNumber++;var St=null;A?St=new Uint8Array:St=u.default.moof(y,E),y.samples=[],y.length=0;var nr={type:"audio",data:this._mergeBoxes(St,k).buffer,sampleCount:oe.length,info:dt};A&&R&&(nr.timestampOffset=E),this._onMediaSegment("audio",nr)}}},m.prototype._remuxVideo=function(v,_){if(this._videoMeta!=null){var y=v,b=y.samples,w=void 0,E=-1,C=-1,T=-1,A=-1;if(!(!b||b.length===0)&&!(b.length===1&&!_)){var R=8,O=null,P=8+v.length,k=null;if(b.length>1&&(k=b.pop(),P-=k.length),this._videoStashedLastSample!=null){var M=this._videoStashedLastSample;this._videoStashedLastSample=null,b.unshift(M),P+=M.length}k!=null&&(this._videoStashedLastSample=k);var B=b[0].dts-this._dtsBase;if(this._videoNextDts)w=B-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())w=0;else{var D=this._videoSegmentInfoList.getLastSampleBefore(B);if(D!=null){var H=B-(D.originalDts+D.duration);H<=3&&(H=0);var ee=D.dts+D.duration+H;w=B-ee}else w=0}for(var ne=new p.MediaSegmentInfo,Y=[],U=0;U<b.length;U++){var M=b[U],X=M.dts-this._dtsBase,V=M.isKeyframe,G=X-w,te=M.cts,oe=G+te;E===-1&&(E=G,T=oe);var ge=0;if(U!==b.length-1){var le=b[U+1].dts-this._dtsBase-w;ge=le-G}else if(k!=null){var le=k.dts-this._dtsBase-w;ge=le-G}else Y.length>=1?ge=Y[Y.length-1].duration:ge=Math.floor(this._videoMeta.refSampleDuration);if(V){var ye=new p.SampleInfo(G,oe,ge,M.dts,!0);ye.fileposition=M.fileposition,ne.appendSyncPoint(ye)}Y.push({dts:G,pts:oe,cts:te,units:M.units,size:M.length,isKeyframe:V,duration:ge,originalDts:X,flags:{isLeading:0,dependsOn:V?2:1,isDependedOn:V?1:0,hasRedundancy:0,isNonSync:V?0:1}})}O=new Uint8Array(P),O[0]=P>>>24&255,O[1]=P>>>16&255,O[2]=P>>>8&255,O[3]=P&255,O.set(u.default.types.mdat,4);for(var U=0;U<Y.length;U++)for(var Le=Y[U].units;Le.length;){var ke=Le.shift(),Ee=ke.data;O.set(Ee,R),R+=Ee.byteLength}var Se=Y[Y.length-1];if(C=Se.dts+Se.duration,A=Se.pts+Se.duration,this._videoNextDts=C,ne.beginDts=E,ne.endDts=C,ne.beginPts=T,ne.endPts=A,ne.originalBeginDts=Y[0].originalDts,ne.originalEndDts=Se.originalDts+Se.duration,ne.firstSample=new p.SampleInfo(Y[0].dts,Y[0].pts,Y[0].duration,Y[0].originalDts,Y[0].isKeyframe),ne.lastSample=new p.SampleInfo(Se.dts,Se.pts,Se.duration,Se.originalDts,Se.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ne),y.samples=Y,y.sequenceNumber++,this._forceFirstIDR){var De=Y[0].flags;De.dependsOn=2,De.isNonSync=0}var We=u.default.moof(y,E);y.samples=[],y.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(We,O).buffer,sampleCount:Y.length,info:ne})}}},m.prototype._mergeBoxes=function(v,_){var y=new Uint8Array(v.byteLength+_.byteLength);return y.set(v,0),y.set(_,v.byteLength),y},m}();s.default=g},"./src/utils/browser.js":function(o,s,c){c.r(s);var l={};function u(){var f=self.navigator.userAgent.toLowerCase(),h=/(edge)\/([\w.]+)/.exec(f)||/(opr)[\/]([\w.]+)/.exec(f)||/(chrome)[ \/]([\w.]+)/.exec(f)||/(iemobile)[\/]([\w.]+)/.exec(f)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(f)||[],p=/(ipad)/.exec(f)||/(ipod)/.exec(f)||/(windows phone)/.exec(f)||/(iphone)/.exec(f)||/(kindle)/.exec(f)||/(android)/.exec(f)||/(windows)/.exec(f)||/(mac)/.exec(f)||/(linux)/.exec(f)||/(cros)/.exec(f)||[],d={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",majorVersion:h[4]||h[2]||"0",platform:p[0]||""},g={};if(d.browser){g[d.browser]=!0;var m=d.majorVersion.split(".");g.version={major:parseInt(d.majorVersion,10),string:d.version},m.length>1&&(g.version.minor=parseInt(m[1],10)),m.length>2&&(g.version.build=parseInt(m[2],10))}if(d.platform&&(g[d.platform]=!0),(g.chrome||g.opr||g.safari)&&(g.webkit=!0),g.rv||g.iemobile){g.rv&&delete g.rv;var v="msie";d.browser=v,g[v]=!0}if(g.edge){delete g.edge;var _="msedge";d.browser=_,g[_]=!0}if(g.opr){var y="opera";d.browser=y,g[y]=!0}if(g.safari&&g.android){var b="android";d.browser=b,g[b]=!0}g.name=d.browser,g.platform=d.platform;for(var w in l)l.hasOwnProperty(w)&&delete l[w];Object.assign(l,g)}u(),s.default=l},"./src/utils/exception.js":function(o,s,c){c.r(s),c.d(s,{RuntimeException:function(){return u},IllegalStateException:function(){return f},InvalidArgumentException:function(){return h},NotImplementedException:function(){return p}});var l=function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(v[y]=_[y])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),u=function(){function d(g){this._message=g}return Object.defineProperty(d.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return this.name+": "+this.message},d}(),f=function(d){l(g,d);function g(m){return d.call(this,m)||this}return Object.defineProperty(g.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),g}(u),h=function(d){l(g,d);function g(m){return d.call(this,m)||this}return Object.defineProperty(g.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),g}(u),p=function(d){l(g,d);function g(m){return d.call(this,m)||this}return Object.defineProperty(g.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),g}(u)},"./src/utils/logger.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=function(){function h(){}return h.e=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","error",g),h.ENABLE_ERROR&&(console.error?console.error(g):console.warn?console.warn(g):console.log(g))},h.i=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","info",g),h.ENABLE_INFO&&(console.info?console.info(g):console.log(g))},h.w=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","warn",g),h.ENABLE_WARN&&(console.warn?console.warn(g):console.log(g))},h.d=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","debug",g),h.ENABLE_DEBUG&&(console.debug?console.debug(g):console.log(g))},h.v=function(p,d){(!p||h.FORCE_GLOBAL_TAG)&&(p=h.GLOBAL_TAG);var g="["+p+"] > "+d;h.ENABLE_CALLBACK&&h.emitter.emit("log","verbose",g),h.ENABLE_VERBOSE&&console.log(g)},h}();f.GLOBAL_TAG="flv.js",f.FORCE_GLOBAL_TAG=!1,f.ENABLE_ERROR=!0,f.ENABLE_INFO=!0,f.ENABLE_WARN=!0,f.ENABLE_DEBUG=!0,f.ENABLE_VERBOSE=!0,f.ENABLE_CALLBACK=!1,f.emitter=new(u()),s.default=f},"./src/utils/logging-control.js":function(o,s,c){c.r(s);var l=c("./node_modules/events/events.js"),u=c.n(l),f=c("./src/utils/logger.js"),h=function(){function p(){}return Object.defineProperty(p,"forceGlobalTag",{get:function(){return f.default.FORCE_GLOBAL_TAG},set:function(d){f.default.FORCE_GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"globalTag",{get:function(){return f.default.GLOBAL_TAG},set:function(d){f.default.GLOBAL_TAG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableAll",{get:function(){return f.default.ENABLE_VERBOSE&&f.default.ENABLE_DEBUG&&f.default.ENABLE_INFO&&f.default.ENABLE_WARN&&f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_VERBOSE=d,f.default.ENABLE_DEBUG=d,f.default.ENABLE_INFO=d,f.default.ENABLE_WARN=d,f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableDebug",{get:function(){return f.default.ENABLE_DEBUG},set:function(d){f.default.ENABLE_DEBUG=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableVerbose",{get:function(){return f.default.ENABLE_VERBOSE},set:function(d){f.default.ENABLE_VERBOSE=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableInfo",{get:function(){return f.default.ENABLE_INFO},set:function(d){f.default.ENABLE_INFO=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableWarn",{get:function(){return f.default.ENABLE_WARN},set:function(d){f.default.ENABLE_WARN=d,p._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(p,"enableError",{get:function(){return f.default.ENABLE_ERROR},set:function(d){f.default.ENABLE_ERROR=d,p._notifyChange()},enumerable:!1,configurable:!0}),p.getConfig=function(){return{globalTag:f.default.GLOBAL_TAG,forceGlobalTag:f.default.FORCE_GLOBAL_TAG,enableVerbose:f.default.ENABLE_VERBOSE,enableDebug:f.default.ENABLE_DEBUG,enableInfo:f.default.ENABLE_INFO,enableWarn:f.default.ENABLE_WARN,enableError:f.default.ENABLE_ERROR,enableCallback:f.default.ENABLE_CALLBACK}},p.applyConfig=function(d){f.default.GLOBAL_TAG=d.globalTag,f.default.FORCE_GLOBAL_TAG=d.forceGlobalTag,f.default.ENABLE_VERBOSE=d.enableVerbose,f.default.ENABLE_DEBUG=d.enableDebug,f.default.ENABLE_INFO=d.enableInfo,f.default.ENABLE_WARN=d.enableWarn,f.default.ENABLE_ERROR=d.enableError,f.default.ENABLE_CALLBACK=d.enableCallback},p._notifyChange=function(){var d=p.emitter;if(d.listenerCount("change")>0){var g=p.getConfig();d.emit("change",g)}},p.registerListener=function(d){p.emitter.addListener("change",d)},p.removeListener=function(d){p.emitter.removeListener("change",d)},p.addLogListener=function(d){f.default.emitter.addListener("log",d),f.default.emitter.listenerCount("log")>0&&(f.default.ENABLE_CALLBACK=!0,p._notifyChange())},p.removeLogListener=function(d){f.default.emitter.removeListener("log",d),f.default.emitter.listenerCount("log")===0&&(f.default.ENABLE_CALLBACK=!1,p._notifyChange())},p}();h.emitter=new(u()),s.default=h},"./src/utils/polyfill.js":function(o,s,c){c.r(s);var l=function(){function u(){}return u.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f},Object.assign=Object.assign||function(f){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(f),p=1;p<arguments.length;p++){var d=arguments[p];if(d!=null)for(var g in d)d.hasOwnProperty(g)&&(h[g]=d[g])}return h},typeof self.Promise!="function"&&c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},u}();l.install(),s.default=l},"./src/utils/utf8-conv.js":function(o,s,c){c.r(s);function l(f,h,p){var d=f;if(h+p<d.length){for(;p--;)if((d[++h]&192)!==128)return!1;return!0}else return!1}function u(f){for(var h=[],p=f,d=0,g=f.length;d<g;){if(p[d]<128){h.push(String.fromCharCode(p[d])),++d;continue}else if(!(p[d]<192)){if(p[d]<224){if(l(p,d,1)){var m=(p[d]&31)<<6|p[d+1]&63;if(m>=128){h.push(String.fromCharCode(m&65535)),d+=2;continue}}}else if(p[d]<240){if(l(p,d,2)){var m=(p[d]&15)<<12|(p[d+1]&63)<<6|p[d+2]&63;if(m>=2048&&(m&63488)!==55296){h.push(String.fromCharCode(m&65535)),d+=3;continue}}}else if(p[d]<248&&l(p,d,3)){var m=(p[d]&7)<<18|(p[d+1]&63)<<12|(p[d+2]&63)<<6|p[d+3]&63;if(m>65536&&m<1114112){m-=65536,h.push(String.fromCharCode(m>>>10|55296)),h.push(String.fromCharCode(m&1023|56320)),d+=4;continue}}}h.push(String.fromCharCode(65533)),++d}return h.join("")}s.default=u}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var c=n[o]={exports:{}};return r[o].call(c.exports,c,c.exports,i),c.exports}i.m=r,function(){i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,{a:s}),s}}(),function(){i.d=function(o,s){for(var c in s)i.o(s,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:s[c]})}}(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),function(){i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var a=i("./src/index.js");return a}()})})(wH);var DTe=wH.exports;const fA=Yi(DTe);var EH={exports:{}},WS={exports:{}};const UTe={},jTe=Object.freeze(Object.defineProperty({__proto__:null,default:UTe},Symbol.toStringTag,{value:"Module"})),SH=Xte(jTe);var vD;function Tr(){return vD||(vD=1,function(t,e){(function(r,n){t.exports=n()})(At,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof At<"u"&&At.crypto&&(a=At.crypto),!a&&typeof wh=="function")try{a=SH}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function _(){}return function(y){var b;return _.prototype=y,b=new _,_.prototype=null,b}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(_){var y=s(this);return _&&y.mixIn(_),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var y in _)_.hasOwnProperty(y)&&(this[y]=_[y]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(_,y){_=this.words=_||[],y!=i?this.sigBytes=y:this.sigBytes=_.length*4},toString:function(_){return(_||p).stringify(this)},concat:function(_){var y=this.words,b=_.words,w=this.sigBytes,E=_.sigBytes;if(this.clamp(),w%4)for(var C=0;C<E;C++){var T=b[C>>>2]>>>24-C%4*8&255;y[w+C>>>2]|=T<<24-(w+C)%4*8}else for(var A=0;A<E;A+=4)y[w+A>>>2]=b[A>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,y=this.sigBytes;_[y>>>2]&=4294967295<<32-y%4*8,_.length=n.ceil(y/4)},clone:function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var y=[],b=0;b<_;b+=4)y.push(o());return new f.init(y,_)}}),h=c.enc={},p=h.Hex={stringify:function(_){for(var y=_.words,b=_.sigBytes,w=[],E=0;E<b;E++){var C=y[E>>>2]>>>24-E%4*8&255;w.push((C>>>4).toString(16)),w.push((C&15).toString(16))}return w.join("")},parse:function(_){for(var y=_.length,b=[],w=0;w<y;w+=2)b[w>>>3]|=parseInt(_.substr(w,2),16)<<24-w%8*4;return new f.init(b,y/2)}},d=h.Latin1={stringify:function(_){for(var y=_.words,b=_.sigBytes,w=[],E=0;E<b;E++){var C=y[E>>>2]>>>24-E%4*8&255;w.push(String.fromCharCode(C))}return w.join("")},parse:function(_){for(var y=_.length,b=[],w=0;w<y;w++)b[w>>>2]|=(_.charCodeAt(w)&255)<<24-w%4*8;return new f.init(b,y)}},g=h.Utf8={stringify:function(_){try{return decodeURIComponent(escape(d.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return d.parse(unescape(encodeURIComponent(_)))}},m=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var y,b=this._data,w=b.words,E=b.sigBytes,C=this.blockSize,T=C*4,A=E/T;_?A=n.ceil(A):A=n.max((A|0)-this._minBufferSize,0);var R=A*C,O=n.min(R*4,E);if(R){for(var P=0;P<R;P+=C)this._doProcessBlock(w,P);y=w.splice(0,R),b.sigBytes-=O}return new f.init(y,O)},clone:function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});l.Hasher=m.extend({cfg:u.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(_){return function(y,b){return new _.init(b).finalize(y)}},_createHmacHelper:function(_){return function(y,b){return new v.HMAC.init(_,b).finalize(y)}}});var v=c.algo={};return c}(Math);return r})}(WS)),WS.exports}var YS={exports:{}},gD;function hb(){return gD||(gD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=i.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var p=l[h];f.push(p.high),f.push(p.low)}return s.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(YS)),YS.exports}var qS={exports:{}},mD;function $Te(){return mD||(mD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(qS)),qS.exports}var KS={exports:{}},_D;function GTe(){return _D||(_D=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var p=s(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=s(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(KS)),KS.exports}var ZS={exports:{}},yD;function wf(){return yD||(yD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],p=0;p<u;p+=3)for(var d=l[p>>>2]>>>24-p%4*8&255,g=l[p+1>>>2]>>>24-(p+1)%4*8&255,m=l[p+2>>>2]>>>24-(p+2)%4*8&255,v=d<<16|g<<8|m,_=0;_<4&&p+_*.75<u;_++)h.push(f.charAt(v>>>6*(3-_)&63));var y=f.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var d=c.indexOf(p);d!==-1&&(l=d)}return s(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,g=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|g;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64})}(ZS)),ZS.exports}var JS={exports:{}},xD;function VTe(){return xD||(xD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var p=[],d=0;d<f;d+=3)for(var g=u[d>>>2]>>>24-d%4*8&255,m=u[d+1>>>2]>>>24-(d+1)%4*8&255,v=u[d+2>>>2]>>>24-(d+2)%4*8&255,_=g<<16|m<<8|v,y=0;y<4&&d+y*.75<f;y++)p.push(h.charAt(_>>>6*(3-y)&63));var b=h.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<f.length;p++)h[f.charCodeAt(p)]=p}var d=f.charAt(64);if(d){var g=c.indexOf(d);g!==-1&&(u=g)}return s(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,l,u){for(var f=[],h=0,p=0;p<l;p++)if(p%4){var d=u[c.charCodeAt(p-1)]<<p%4*2,g=u[c.charCodeAt(p)]>>>6-p%4*2,m=d|g;f[h>>>2]|=m<<24-h%4*8,h++}return a.create(f,h)}}(),r.enc.Base64url})}(JS)),JS.exports}var QS={exports:{}},bD;function Ef(){return bD||(bD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=n.abs(n.sin(g+1))*4294967296|0})();var u=c.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var v=0;v<16;v++){var _=m+v,y=g[_];g[_]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var b=this._hash.words,w=g[m+0],E=g[m+1],C=g[m+2],T=g[m+3],A=g[m+4],R=g[m+5],O=g[m+6],P=g[m+7],k=g[m+8],M=g[m+9],B=g[m+10],D=g[m+11],H=g[m+12],ee=g[m+13],ne=g[m+14],Y=g[m+15],U=b[0],X=b[1],V=b[2],G=b[3];U=f(U,X,V,G,w,7,l[0]),G=f(G,U,X,V,E,12,l[1]),V=f(V,G,U,X,C,17,l[2]),X=f(X,V,G,U,T,22,l[3]),U=f(U,X,V,G,A,7,l[4]),G=f(G,U,X,V,R,12,l[5]),V=f(V,G,U,X,O,17,l[6]),X=f(X,V,G,U,P,22,l[7]),U=f(U,X,V,G,k,7,l[8]),G=f(G,U,X,V,M,12,l[9]),V=f(V,G,U,X,B,17,l[10]),X=f(X,V,G,U,D,22,l[11]),U=f(U,X,V,G,H,7,l[12]),G=f(G,U,X,V,ee,12,l[13]),V=f(V,G,U,X,ne,17,l[14]),X=f(X,V,G,U,Y,22,l[15]),U=h(U,X,V,G,E,5,l[16]),G=h(G,U,X,V,O,9,l[17]),V=h(V,G,U,X,D,14,l[18]),X=h(X,V,G,U,w,20,l[19]),U=h(U,X,V,G,R,5,l[20]),G=h(G,U,X,V,B,9,l[21]),V=h(V,G,U,X,Y,14,l[22]),X=h(X,V,G,U,A,20,l[23]),U=h(U,X,V,G,M,5,l[24]),G=h(G,U,X,V,ne,9,l[25]),V=h(V,G,U,X,T,14,l[26]),X=h(X,V,G,U,k,20,l[27]),U=h(U,X,V,G,ee,5,l[28]),G=h(G,U,X,V,C,9,l[29]),V=h(V,G,U,X,P,14,l[30]),X=h(X,V,G,U,H,20,l[31]),U=p(U,X,V,G,R,4,l[32]),G=p(G,U,X,V,k,11,l[33]),V=p(V,G,U,X,D,16,l[34]),X=p(X,V,G,U,ne,23,l[35]),U=p(U,X,V,G,E,4,l[36]),G=p(G,U,X,V,A,11,l[37]),V=p(V,G,U,X,P,16,l[38]),X=p(X,V,G,U,B,23,l[39]),U=p(U,X,V,G,ee,4,l[40]),G=p(G,U,X,V,w,11,l[41]),V=p(V,G,U,X,T,16,l[42]),X=p(X,V,G,U,O,23,l[43]),U=p(U,X,V,G,M,4,l[44]),G=p(G,U,X,V,H,11,l[45]),V=p(V,G,U,X,Y,16,l[46]),X=p(X,V,G,U,C,23,l[47]),U=d(U,X,V,G,w,6,l[48]),G=d(G,U,X,V,P,10,l[49]),V=d(V,G,U,X,ne,15,l[50]),X=d(X,V,G,U,R,21,l[51]),U=d(U,X,V,G,H,6,l[52]),G=d(G,U,X,V,T,10,l[53]),V=d(V,G,U,X,B,15,l[54]),X=d(X,V,G,U,E,21,l[55]),U=d(U,X,V,G,k,6,l[56]),G=d(G,U,X,V,Y,10,l[57]),V=d(V,G,U,X,O,15,l[58]),X=d(X,V,G,U,ee,21,l[59]),U=d(U,X,V,G,A,6,l[60]),G=d(G,U,X,V,D,10,l[61]),V=d(V,G,U,X,C,15,l[62]),X=d(X,V,G,U,M,21,l[63]),b[0]=b[0]+U|0,b[1]=b[1]+X|0,b[2]=b[2]+V|0,b[3]=b[3]+G|0},_doFinalize:function(){var g=this._data,m=g.words,v=this._nDataBytes*8,_=g.sigBytes*8;m[_>>>5]|=128<<24-_%32;var y=n.floor(v/4294967296),b=v;m[(_+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var w=this._hash,E=w.words,C=0;C<4;C++){var T=E[C];E[C]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return w},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});function f(g,m,v,_,y,b,w){var E=g+(m&v|~m&_)+y+w;return(E<<b|E>>>32-b)+m}function h(g,m,v,_,y,b,w){var E=g+(m&_|v&~_)+y+w;return(E<<b|E>>>32-b)+m}function p(g,m,v,_,y,b,w){var E=g+(m^v^_)+y+w;return(E<<b|E>>>32-b)+m}function d(g,m,v,_,y,b,w){var E=g+(v^(m|~_))+y+w;return(E<<b|E>>>32-b)+m}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5})}(QS)),QS.exports}var e2={exports:{}},wD;function CH(){return wD||(wD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,c=[],l=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,p=h[0],d=h[1],g=h[2],m=h[3],v=h[4],_=0;_<80;_++){if(_<16)c[_]=u[f+_]|0;else{var y=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=y<<1|y>>>31}var b=(p<<5|p>>>27)+v+c[_];_<20?b+=(d&g|~d&m)+1518500249:_<40?b+=(d^g^m)+1859775393:_<60?b+=(d&g|d&m|g&m)-1894007588:b+=(d^g^m)-899497514,v=m,m=g,g=d<<30|d>>>2,d=p,p=b}h[0]=h[0]+p|0,h[1]=h[1]+d|0,h[2]=h[2]+g|0,h[3]=h[3]+m|0,h[4]=h[4]+v|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(e2)),e2.exports}var t2={exports:{}},ED;function fk(){return ED||(ED=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=[],u=[];(function(){function p(v){for(var _=n.sqrt(v),y=2;y<=_;y++)if(!(v%y))return!1;return!0}function d(v){return(v-(v|0))*4294967296|0}for(var g=2,m=0;m<64;)p(g)&&(m<8&&(l[m]=d(n.pow(g,1/2))),u[m]=d(n.pow(g,1/3)),m++),g++})();var f=[],h=c.SHA256=s.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,d){for(var g=this._hash.words,m=g[0],v=g[1],_=g[2],y=g[3],b=g[4],w=g[5],E=g[6],C=g[7],T=0;T<64;T++){if(T<16)f[T]=p[d+T]|0;else{var A=f[T-15],R=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,O=f[T-2],P=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[T]=R+f[T-7]+P+f[T-16]}var k=b&w^~b&E,M=m&v^m&_^v&_,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),D=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=C+D+k+u[T]+f[T],ee=B+M;C=E,E=w,w=b,b=y+H|0,y=_,_=v,v=m,m=H+ee|0}g[0]=g[0]+m|0,g[1]=g[1]+v|0,g[2]=g[2]+_|0,g[3]=g[3]+y|0,g[4]=g[4]+b|0,g[5]=g[5]+w|0,g[6]=g[6]+E|0,g[7]=g[7]+C|0},_doFinalize:function(){var p=this._data,d=p.words,g=this._nDataBytes*8,m=p.sigBytes*8;return d[m>>>5]|=128<<24-m%32,d[(m+64>>>9<<4)+14]=n.floor(g/4294967296),d[(m+64>>>9<<4)+15]=g,p.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=s._createHelper(h),i.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256})}(t2)),t2.exports}var r2={exports:{}},SD;function HTe(){return SD||(SD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),fk())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,c=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=s._createHelper(c),n.HmacSHA224=s._createHmacHelper(c)}(),r.SHA224})}(r2)),r2.exports}var n2={exports:{}},CD;function TH(){return CD||(CD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),hb())})(At,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,c=o.WordArray,l=n.algo;function u(){return s.create.apply(s,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var d=0;d<80;d++)h[d]=u()})();var p=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(d,g){for(var m=this._hash.words,v=m[0],_=m[1],y=m[2],b=m[3],w=m[4],E=m[5],C=m[6],T=m[7],A=v.high,R=v.low,O=_.high,P=_.low,k=y.high,M=y.low,B=b.high,D=b.low,H=w.high,ee=w.low,ne=E.high,Y=E.low,U=C.high,X=C.low,V=T.high,G=T.low,te=A,oe=R,ge=O,le=P,ye=k,Le=M,ke=B,Ee=D,Se=H,De=ee,We=ne,Ve=Y,He=U,qe=X,Et=V,Rt=G,ht=0;ht<80;ht++){var dt,St,nr=h[ht];if(ht<16)St=nr.high=d[g+ht*2]|0,dt=nr.low=d[g+ht*2+1]|0;else{var Xt=h[ht-15],ir=Xt.high,Vt=Xt.low,bt=(ir>>>1|Vt<<31)^(ir>>>8|Vt<<24)^ir>>>7,Zt=(Vt>>>1|ir<<31)^(Vt>>>8|ir<<24)^(Vt>>>7|ir<<25),Oe=h[ht-2],j=Oe.high,pe=Oe.low,Ce=(j>>>19|pe<<13)^(j<<3|pe>>>29)^j>>>6,Fe=(pe>>>19|j<<13)^(pe<<3|j>>>29)^(pe>>>6|j<<26),ae=h[ht-7],Ae=ae.high,z=ae.low,je=h[ht-16],vt=je.high,N=je.low;dt=Zt+z,St=bt+Ae+(dt>>>0<Zt>>>0?1:0),dt=dt+Fe,St=St+Ce+(dt>>>0<Fe>>>0?1:0),dt=dt+N,St=St+vt+(dt>>>0<N>>>0?1:0),nr.high=St,nr.low=dt}var Re=Se&We^~Se&He,Pe=De&Ve^~De&qe,q=te&ge^te&ye^ge&ye,ue=oe&le^oe&Le^le&Le,Te=(te>>>28|oe<<4)^(te<<30|oe>>>2)^(te<<25|oe>>>7),pt=(oe>>>28|te<<4)^(oe<<30|te>>>2)^(oe<<25|te>>>7),Qe=(Se>>>14|De<<18)^(Se>>>18|De<<14)^(Se<<23|De>>>9),st=(De>>>14|Se<<18)^(De>>>18|Se<<14)^(De<<23|Se>>>9),kt=f[ht],Gn=kt.high,lr=kt.low,Ct=Rt+st,Ar=Et+Qe+(Ct>>>0<Rt>>>0?1:0),Ct=Ct+Pe,Ar=Ar+Re+(Ct>>>0<Pe>>>0?1:0),Ct=Ct+lr,Ar=Ar+Gn+(Ct>>>0<lr>>>0?1:0),Ct=Ct+dt,Ar=Ar+St+(Ct>>>0<dt>>>0?1:0),un=pt+ue,ni=Te+q+(un>>>0<pt>>>0?1:0);Et=He,Rt=qe,He=We,qe=Ve,We=Se,Ve=De,De=Ee+Ct|0,Se=ke+Ar+(De>>>0<Ee>>>0?1:0)|0,ke=ye,Ee=Le,ye=ge,Le=le,ge=te,le=oe,oe=Ct+un|0,te=Ar+ni+(oe>>>0<Ct>>>0?1:0)|0}R=v.low=R+oe,v.high=A+te+(R>>>0<oe>>>0?1:0),P=_.low=P+le,_.high=O+ge+(P>>>0<le>>>0?1:0),M=y.low=M+Le,y.high=k+ye+(M>>>0<Le>>>0?1:0),D=b.low=D+Ee,b.high=B+ke+(D>>>0<Ee>>>0?1:0),ee=w.low=ee+De,w.high=H+Se+(ee>>>0<De>>>0?1:0),Y=E.low=Y+Ve,E.high=ne+We+(Y>>>0<Ve>>>0?1:0),X=C.low=X+qe,C.high=U+He+(X>>>0<qe>>>0?1:0),G=T.low=G+Rt,T.high=V+Et+(G>>>0<Rt>>>0?1:0)},_doFinalize:function(){var d=this._data,g=d.words,m=this._nDataBytes*8,v=d.sigBytes*8;g[v>>>5]|=128<<24-v%32,g[(v+128>>>10<<5)+30]=Math.floor(m/4294967296),g[(v+128>>>10<<5)+31]=m,d.sigBytes=g.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d},blockSize:1024/32});n.SHA512=a._createHelper(p),n.HmacSHA512=a._createHmacHelper(p)}(),r.SHA512})}(n2)),n2.exports}var i2={exports:{}},TD;function zTe(){return TD||(TD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),hb(),TH())})(At,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,c=s.SHA512,l=s.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(i2)),i2.exports}var a2={exports:{}},AD;function XTe(){return AD||(AD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),hb())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],h=[],p=[];(function(){for(var m=1,v=0,_=0;_<24;_++){f[m+5*v]=(_+1)*(_+2)/2%64;var y=v%5,b=(2*m+3*v)%5;m=y,v=b}for(var m=0;m<5;m++)for(var v=0;v<5;v++)h[m+5*v]=v+(2*m+3*v)%5*5;for(var w=1,E=0;E<24;E++){for(var C=0,T=0,A=0;A<7;A++){if(w&1){var R=(1<<A)-1;R<32?T^=1<<R:C^=1<<R-32}w&128?w=w<<1^113:w<<=1}p[E]=l.create(C,T)}})();var d=[];(function(){for(var m=0;m<25;m++)d[m]=l.create()})();var g=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],v=0;v<25;v++)m[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,v){for(var _=this._state,y=this.blockSize/2,b=0;b<y;b++){var w=m[v+2*b],E=m[v+2*b+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var C=_[b];C.high^=E,C.low^=w}for(var T=0;T<24;T++){for(var A=0;A<5;A++){for(var R=0,O=0,P=0;P<5;P++){var C=_[A+5*P];R^=C.high,O^=C.low}var k=d[A];k.high=R,k.low=O}for(var A=0;A<5;A++)for(var M=d[(A+4)%5],B=d[(A+1)%5],D=B.high,H=B.low,R=M.high^(D<<1|H>>>31),O=M.low^(H<<1|D>>>31),P=0;P<5;P++){var C=_[A+5*P];C.high^=R,C.low^=O}for(var ee=1;ee<25;ee++){var R,O,C=_[ee],ne=C.high,Y=C.low,U=f[ee];U<32?(R=ne<<U|Y>>>32-U,O=Y<<U|ne>>>32-U):(R=Y<<U-32|ne>>>64-U,O=ne<<U-32|Y>>>64-U);var X=d[h[ee]];X.high=R,X.low=O}var V=d[0],G=_[0];V.high=G.high,V.low=G.low;for(var A=0;A<5;A++)for(var P=0;P<5;P++){var ee=A+5*P,C=_[ee],te=d[ee],oe=d[(A+1)%5+5*P],ge=d[(A+2)%5+5*P];C.high=te.high^~oe.high&ge.high,C.low=te.low^~oe.low&ge.low}var C=_[0],le=p[T];C.high^=le.high,C.low^=le.low}},_doFinalize:function(){var m=this._data,v=m.words;this._nDataBytes*8;var _=m.sigBytes*8,y=this.blockSize*32;v[_>>>5]|=1<<24-_%32,v[(n.ceil((_+1)/y)*y>>>5)-1]|=128,m.sigBytes=v.length*4,this._process();for(var b=this._state,w=this.cfg.outputLength/8,E=w/8,C=[],T=0;T<E;T++){var A=b[T],R=A.high,O=A.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,C.push(O),C.push(R)}return new o.init(C,w)},clone:function(){for(var m=s.clone.call(this),v=m._state=this._state.slice(0),_=0;_<25;_++)v[_]=v[_].clone();return m}});i.SHA3=s._createHelper(g),i.HmacSHA3=s._createHmacHelper(g)}(Math),r.SHA3})}(a2)),a2.exports}var o2={exports:{}},ID;function WTe(){return ID||(ID=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,c=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=c.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,C){for(var T=0;T<16;T++){var A=C+T,R=E[A];E[A]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var O=this._hash.words,P=p.words,k=d.words,M=l.words,B=u.words,D=f.words,H=h.words,ee,ne,Y,U,X,V,G,te,oe,ge;V=ee=O[0],G=ne=O[1],te=Y=O[2],oe=U=O[3],ge=X=O[4];for(var le,T=0;T<80;T+=1)le=ee+E[C+M[T]]|0,T<16?le+=m(ne,Y,U)+P[0]:T<32?le+=v(ne,Y,U)+P[1]:T<48?le+=_(ne,Y,U)+P[2]:T<64?le+=y(ne,Y,U)+P[3]:le+=b(ne,Y,U)+P[4],le=le|0,le=w(le,D[T]),le=le+X|0,ee=X,X=U,U=w(Y,10),Y=ne,ne=le,le=V+E[C+B[T]]|0,T<16?le+=b(G,te,oe)+k[0]:T<32?le+=y(G,te,oe)+k[1]:T<48?le+=_(G,te,oe)+k[2]:T<64?le+=v(G,te,oe)+k[3]:le+=m(G,te,oe)+k[4],le=le|0,le=w(le,H[T]),le=le+ge|0,V=ge,ge=oe,oe=w(te,10),te=G,G=le;le=O[1]+Y+oe|0,O[1]=O[2]+U+ge|0,O[2]=O[3]+X+V|0,O[3]=O[4]+ee+G|0,O[4]=O[0]+ne+te|0,O[0]=le},_doFinalize:function(){var E=this._data,C=E.words,T=this._nDataBytes*8,A=E.sigBytes*8;C[A>>>5]|=128<<24-A%32,C[(A+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,E.sigBytes=(C.length+1)*4,this._process();for(var R=this._hash,O=R.words,P=0;P<5;P++){var k=O[P];O[P]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return R},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,C,T){return E^C^T}function v(E,C,T){return E&C|~E&T}function _(E,C,T){return(E|~C)^T}function y(E,C,T){return E&T|C&~T}function b(E,C,T){return E^(C|~T)}function w(E,C){return E<<C|E>>>32-C}i.RIPEMD160=s._createHelper(g),i.HmacRIPEMD160=s._createHmacHelper(g)}(),r.RIPEMD160})}(o2)),o2.exports}var s2={exports:{}},RD;function hk(){return RD||(RD=1,function(t,e){(function(r,n){t.exports=n(Tr())})(At,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=s.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),d=this._iKey=u.clone(),g=p.words,m=d.words,v=0;v<f;v++)g[v]^=1549556828,m[v]^=909522486;p.sigBytes=d.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(s2)),s2.exports}var l2={exports:{}},PD;function YTe(){return PD||(PD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),fk(),hk())})(At,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.SHA256,l=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var p=this.cfg,d=l.create(p.hasher,f),g=o.create(),m=o.create([1]),v=g.words,_=m.words,y=p.keySize,b=p.iterations;v.length<y;){var w=d.update(h).finalize(m);d.reset();for(var E=w.words,C=E.length,T=w,A=1;A<b;A++){T=d.finalize(T),d.reset();for(var R=T.words,O=0;O<C;O++)E[O]^=R[O]}g.concat(w),_[0]++}return g.sigBytes=y*4,g}});n.PBKDF2=function(f,h,p){return u.create(p).compute(f,h)}}(),r.PBKDF2})}(l2)),l2.exports}var u2={exports:{}},OD;function zu(){return OD||(OD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),CH(),hk())})(At,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,c=s.MD5,l=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,p=this.cfg,d=p.hasher.create(),g=o.create(),m=g.words,v=p.keySize,_=p.iterations;m.length<v;){h&&d.update(h),h=d.update(u).finalize(f),d.reset();for(var y=1;y<_;y++)h=d.finalize(h),d.reset();g.concat(h)}return g.sigBytes=v*4,g}});n.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(u2)),u2.exports}var c2={exports:{}},kD;function Ni(){return kD||(kD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),zu())})(At,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,h=f.EvpKDF,p=a.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(R,O){return this.create(this._ENC_XFORM_MODE,R,O)},createDecryptor:function(R,O){return this.create(this._DEC_XFORM_MODE,R,O)},init:function(R,O,P){this.cfg=this.cfg.extend(P),this._xformMode=R,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(O){return typeof O=="string"?A:E}return function(O){return{encrypt:function(P,k,M){return R(k).encrypt(O,P,k,M)},decrypt:function(P,k,M){return R(k).decrypt(O,P,k,M)}}}}()});a.StreamCipher=p.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var d=i.mode={},g=a.BlockCipherMode=o.extend({createEncryptor:function(R,O){return this.Encryptor.create(R,O)},createDecryptor:function(R,O){return this.Decryptor.create(R,O)},init:function(R,O){this._cipher=R,this._iv=O}}),m=d.CBC=function(){var R=g.extend();R.Encryptor=R.extend({processBlock:function(P,k){var M=this._cipher,B=M.blockSize;O.call(this,P,k,B),M.encryptBlock(P,k),this._prevBlock=P.slice(k,k+B)}}),R.Decryptor=R.extend({processBlock:function(P,k){var M=this._cipher,B=M.blockSize,D=P.slice(k,k+B);M.decryptBlock(P,k),O.call(this,P,k,B),this._prevBlock=D}});function O(P,k,M){var B,D=this._iv;D?(B=D,this._iv=n):B=this._prevBlock;for(var H=0;H<M;H++)P[k+H]^=B[H]}return R}(),v=i.pad={},_=v.Pkcs7={pad:function(R,O){for(var P=O*4,k=P-R.sigBytes%P,M=k<<24|k<<16|k<<8|k,B=[],D=0;D<k;D+=4)B.push(M);var H=s.create(B,k);R.concat(H)},unpad:function(R){var O=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=O}};a.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:_}),reset:function(){var R;p.reset.call(this);var O=this.cfg,P=O.iv,k=O.mode;this._xformMode==this._ENC_XFORM_MODE?R=k.createEncryptor:(R=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,P&&P.words):(this._mode=R.call(k,this,P&&P.words),this._mode.__creator=R)},_doProcessBlock:function(R,O){this._mode.processBlock(R,O)},_doFinalize:function(){var R,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),O.unpad(R)),R},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),b=i.format={},w=b.OpenSSL={stringify:function(R){var O,P=R.ciphertext,k=R.salt;return k?O=s.create([1398893684,1701076831]).concat(k).concat(P):O=P,O.toString(u)},parse:function(R){var O,P=u.parse(R),k=P.words;return k[0]==1398893684&&k[1]==1701076831&&(O=s.create(k.slice(2,4)),k.splice(0,4),P.sigBytes-=16),y.create({ciphertext:P,salt:O})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var M=R.createEncryptor(P,k),B=M.finalize(O),D=M.cfg;return y.create({ciphertext:B,key:P,iv:D.iv,algorithm:R,mode:D.mode,padding:D.padding,blockSize:R.blockSize,formatter:k.format})},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var M=R.createDecryptor(P,k).finalize(O.ciphertext);return M},_parse:function(R,O){return typeof R=="string"?O.parse(R,this):R}}),C=i.kdf={},T=C.OpenSSL={execute:function(R,O,P,k,M){if(k||(k=s.random(64/8)),M)var B=h.create({keySize:O+P,hasher:M}).compute(R,k);else var B=h.create({keySize:O+P}).compute(R,k);var D=s.create(B.words.slice(O),P*4);return B.sigBytes=O*4,y.create({key:B,iv:D,salt:k})}},A=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:T}),encrypt:function(R,O,P,k){k=this.cfg.extend(k);var M=k.kdf.execute(P,R.keySize,R.ivSize,k.salt,k.hasher);k.iv=M.iv;var B=E.encrypt.call(this,R,O,M.key,k);return B.mixIn(M),B},decrypt:function(R,O,P,k){k=this.cfg.extend(k),O=this._parse(O,k.format);var M=k.kdf.execute(P,R.keySize,R.ivSize,O.salt,k.hasher);k.iv=M.iv;var B=E.decrypt.call(this,R,O,M.key,k);return B}})}()})}(c2)),c2.exports}var f2={exports:{}},FD;function qTe(){return FD||(FD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize;i.call(this,a,o,c,s),this._prevBlock=a.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=a.slice(o,o+c);i.call(this,a,o,c,s),this._prevBlock=l}});function i(a,o,s,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<s;f++)a[o+f]^=l[f]}return n}(),r.mode.CFB})}(f2)),f2.exports}var h2={exports:{}},ND;function KTe(){return ND||(ND=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);s.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)a[o+h]^=f[h]}});return n.Decryptor=i,n}(),r.mode.CTR})}(h2)),h2.exports}var d2={exports:{}},MD;function ZTe(){return MD||(MD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var c=s>>16&255,l=s>>8&255,u=s&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,s=0,s+=c<<16,s+=l<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),a(h);var p=h.slice(0);l.encryptBlock(p,0);for(var d=0;d<u;d++)s[c+d]^=p[d]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(d2)),d2.exports}var p2={exports:{}},LD;function JTe(){return LD||(LD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,c=s.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var f=0;f<c;f++)a[o+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(p2)),p2.exports}var v2={exports:{}},BD;function QTe(){return BD||(BD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(v2)),v2.exports}var g2={exports:{}},DD;function eAe(){return DD||(DD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,c=a+s-1;n.clamp(),n.words[c>>>2]|=s<<24-c%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(g2)),g2.exports}var m2={exports:{}},UD;function tAe(){return UD||(UD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(m2)),m2.exports}var _2={exports:{}},jD;function rAe(){return jD||(jD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(_2)),_2.exports}var y2={exports:{}},$D;function nAe(){return $D||($D=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(y2)),y2.exports}var x2={exports:{}},GD;function iAe(){return GD||(GD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(x2)),x2.exports}var b2={exports:{}},VD;function aAe(){return VD||(VD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),Ni())})(At,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,c=s.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(b2)),b2.exports}var w2={exports:{}},HD;function oAe(){return HD||(HD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),wf(),Ef(),zu(),Ni())})(At,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],c=[],l=[],u=[],f=[],h=[],p=[],d=[],g=[],m=[];(function(){for(var y=[],b=0;b<256;b++)b<128?y[b]=b<<1:y[b]=b<<1^283;for(var w=0,E=0,b=0;b<256;b++){var C=E^E<<1^E<<2^E<<3^E<<4;C=C>>>8^C&255^99,s[w]=C,c[C]=w;var T=y[w],A=y[T],R=y[A],O=y[C]*257^C*16843008;l[w]=O<<24|O>>>8,u[w]=O<<16|O>>>16,f[w]=O<<8|O>>>24,h[w]=O;var O=R*16843009^A*65537^T*257^w*16843008;p[C]=O<<24|O>>>8,d[C]=O<<16|O>>>16,g[C]=O<<8|O>>>24,m[C]=O,w?(w=T^y[y[y[R^T]]],E^=y[y[E]]):w=E=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,w=b.words,E=b.sigBytes/4,C=this._nRounds=E+6,T=(C+1)*4,A=this._keySchedule=[],R=0;R<T;R++)R<E?A[R]=w[R]:(y=A[R-1],R%E?E>6&&R%E==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=v[R/E|0]<<24),A[R]=A[R-E]^y);for(var O=this._invKeySchedule=[],P=0;P<T;P++){var R=T-P;if(P%4)var y=A[R];else var y=A[R-4];P<4||R<=4?O[P]=y:O[P]=p[s[y>>>24]]^d[s[y>>>16&255]]^g[s[y>>>8&255]]^m[s[y&255]]}}},encryptBlock:function(y,b){this._doCryptBlock(y,b,this._keySchedule,l,u,f,h,s)},decryptBlock:function(y,b){var w=y[b+1];y[b+1]=y[b+3],y[b+3]=w,this._doCryptBlock(y,b,this._invKeySchedule,p,d,g,m,c);var w=y[b+1];y[b+1]=y[b+3],y[b+3]=w},_doCryptBlock:function(y,b,w,E,C,T,A,R){for(var O=this._nRounds,P=y[b]^w[0],k=y[b+1]^w[1],M=y[b+2]^w[2],B=y[b+3]^w[3],D=4,H=1;H<O;H++){var ee=E[P>>>24]^C[k>>>16&255]^T[M>>>8&255]^A[B&255]^w[D++],ne=E[k>>>24]^C[M>>>16&255]^T[B>>>8&255]^A[P&255]^w[D++],Y=E[M>>>24]^C[B>>>16&255]^T[P>>>8&255]^A[k&255]^w[D++],U=E[B>>>24]^C[P>>>16&255]^T[k>>>8&255]^A[M&255]^w[D++];P=ee,k=ne,M=Y,B=U}var ee=(R[P>>>24]<<24|R[k>>>16&255]<<16|R[M>>>8&255]<<8|R[B&255])^w[D++],ne=(R[k>>>24]<<24|R[M>>>16&255]<<16|R[B>>>8&255]<<8|R[P&255])^w[D++],Y=(R[M>>>24]<<24|R[B>>>16&255]<<16|R[P>>>8&255]<<8|R[k&255])^w[D++],U=(R[B>>>24]<<24|R[P>>>16&255]<<16|R[k>>>8&255]<<8|R[M&255])^w[D++];y[b]=ee,y[b+1]=ne,y[b+2]=Y,y[b+3]=U},keySize:256/32});n.AES=a._createHelper(_)}(),r.AES})}(w2)),w2.exports}var E2={exports:{}},zD;function sAe(){return zD||(zD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),wf(),Ef(),zu(),Ni())})(At,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var v=this._key,_=v.words,y=[],b=0;b<56;b++){var w=c[b]-1;y[b]=_[w>>>5]>>>31-w%32&1}for(var E=this._subKeys=[],C=0;C<16;C++){for(var T=E[C]=[],A=u[C],b=0;b<24;b++)T[b/6|0]|=y[(l[b]-1+A)%28]<<31-b%6,T[4+(b/6|0)]|=y[28+(l[b+24]-1+A)%28]<<31-b%6;T[0]=T[0]<<1|T[0]>>>31;for(var b=1;b<7;b++)T[b]=T[b]>>>(b-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var R=this._invSubKeys=[],b=0;b<16;b++)R[b]=E[15-b]},encryptBlock:function(v,_){this._doCryptBlock(v,_,this._subKeys)},decryptBlock:function(v,_){this._doCryptBlock(v,_,this._invSubKeys)},_doCryptBlock:function(v,_,y){this._lBlock=v[_],this._rBlock=v[_+1],d.call(this,4,252645135),d.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),d.call(this,1,1431655765);for(var b=0;b<16;b++){for(var w=y[b],E=this._lBlock,C=this._rBlock,T=0,A=0;A<8;A++)T|=f[A][((C^w[A])&h[A])>>>0];this._lBlock=C,this._rBlock=E^T}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,d.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),v[_]=this._lBlock,v[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function d(v,_){var y=(this._lBlock>>>v^this._rBlock)&_;this._rBlock^=y,this._lBlock^=y<<v}function g(v,_){var y=(this._rBlock>>>v^this._lBlock)&_;this._lBlock^=y,this._rBlock^=y<<v}n.DES=o._createHelper(p);var m=s.TripleDES=o.extend({_doReset:function(){var v=this._key,_=v.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=_.slice(0,2),b=_.length<4?_.slice(0,2):_.slice(2,4),w=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=p.createEncryptor(a.create(y)),this._des2=p.createEncryptor(a.create(b)),this._des3=p.createEncryptor(a.create(w))},encryptBlock:function(v,_){this._des1.encryptBlock(v,_),this._des2.decryptBlock(v,_),this._des3.encryptBlock(v,_)},decryptBlock:function(v,_){this._des3.decryptBlock(v,_),this._des2.encryptBlock(v,_),this._des1.decryptBlock(v,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(E2)),E2.exports}var S2={exports:{}},XD;function lAe(){return XD||(XD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),wf(),Ef(),zu(),Ni())})(At,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,p=this._S=[],d=0;d<256;d++)p[d]=d;for(var d=0,g=0;d<256;d++){var m=d%h,v=f[m>>>2]>>>24-m%4*8&255;g=(g+p[d]+v)%256;var _=p[d];p[d]=p[g],p[g]=_}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,p=0,d=0;d<4;d++){f=(f+1)%256,h=(h+u[f])%256;var g=u[f];u[f]=u[h],u[h]=g,p|=u[(u[f]+u[h])%256]<<24-d*8}return this._i=f,this._j=h,p}n.RC4=a._createHelper(s);var l=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(S2)),S2.exports}var C2={exports:{}},WD;function uAe(){return WD||(WD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),wf(),Ef(),zu(),Ni())})(At,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,d=0;d<4;d++)h[d]=(h[d]<<8|h[d]>>>24)&16711935|(h[d]<<24|h[d]>>>8)&4278255360;var g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var d=0;d<4;d++)f.call(this);for(var d=0;d<8;d++)m[d]^=g[d+4&7];if(p){var v=p.words,_=v[0],y=v[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=b>>>16|w&4294901760,C=w<<16|b&65535;m[0]^=b,m[1]^=E,m[2]^=w,m[3]^=C,m[4]^=b,m[5]^=E,m[6]^=w,m[7]^=C;for(var d=0;d<4;d++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,h[p+g]^=s[g]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var g=h[d]+p[d],m=g&65535,v=g>>>16,_=((m*m>>>17)+m*v>>>15)+v*v,y=((g&4294901760)*g|0)+((g&65535)*g|0);l[d]=_^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(C2)),C2.exports}var T2={exports:{}},YD;function cAe(){return YD||(YD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),wf(),Ef(),zu(),Ni())})(At,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],c=[],l=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,d=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)g[m]^=d[m+4&7];if(p){var v=p.words,_=v[0],y=v[1],b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,w=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=b>>>16|w&4294901760,C=w<<16|b&65535;g[0]^=b,g[1]^=E,g[2]^=w,g[3]^=C,g[4]^=b,g[5]^=E,g[6]^=w,g[7]^=C;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(h,p){var d=this._X;f.call(this),s[0]=d[0]^d[5]>>>16^d[3]<<16,s[1]=d[2]^d[7]>>>16^d[5]<<16,s[2]=d[4]^d[1]>>>16^d[7]<<16,s[3]=d[6]^d[3]>>>16^d[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,h[p+g]^=s[g]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,d=0;d<8;d++)c[d]=p[d];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<c[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<c[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<c[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<c[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<c[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<c[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<c[6]>>>0?1:0)|0,this._b=p[7]>>>0<c[7]>>>0?1:0;for(var d=0;d<8;d++){var g=h[d]+p[d],m=g&65535,v=g>>>16,_=((m*m>>>17)+m*v>>>15)+v*v,y=((g&4294901760)*g|0)+((g&65535)*g|0);l[d]=_^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(T2)),T2.exports}var A2={exports:{}},qD;function fAe(){return qD||(qD=1,function(t,e){(function(r,n,i){t.exports=n(Tr(),wf(),Ef(),zu(),Ni())})(At,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(m,v){let _=v>>24&255,y=v>>16&255,b=v>>8&255,w=v&255,E=m.sbox[0][_]+m.sbox[1][y];return E=E^m.sbox[2][b],E=E+m.sbox[3][w],E}function h(m,v,_){let y=v,b=_,w;for(let E=0;E<s;++E)y=y^m.pbox[E],b=f(m,y)^b,w=y,y=b,b=w;return w=y,y=b,b=w,b=b^m.pbox[s],y=y^m.pbox[s+1],{left:y,right:b}}function p(m,v,_){let y=v,b=_,w;for(let E=s+1;E>1;--E)y=y^m.pbox[E],b=f(m,y)^b,w=y,y=b,b=w;return w=y,y=b,b=w,b=b^m.pbox[1],y=y^m.pbox[0],{left:y,right:b}}function d(m,v,_){for(let C=0;C<4;C++){m.sbox[C]=[];for(let T=0;T<256;T++)m.sbox[C][T]=l[C][T]}let y=0;for(let C=0;C<s+2;C++)m.pbox[C]=c[C]^v[y],y++,y>=_&&(y=0);let b=0,w=0,E=0;for(let C=0;C<s+2;C+=2)E=h(m,b,w),b=E.left,w=E.right,m.pbox[C]=b,m.pbox[C+1]=w;for(let C=0;C<4;C++)for(let T=0;T<256;T+=2)E=h(m,b,w),b=E.left,w=E.right,m.sbox[C][T]=b,m.sbox[C][T+1]=w;return!0}var g=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,v=m.words,_=m.sigBytes/4;d(u,v,_)}},encryptBlock:function(m,v){var _=h(u,m[v],m[v+1]);m[v]=_.left,m[v+1]=_.right},decryptBlock:function(m,v){var _=p(u,m[v],m[v+1]);m[v]=_.left,m[v+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(g)}(),r.Blowfish})}(A2)),A2.exports}(function(t,e){(function(r,n,i){t.exports=n(Tr(),hb(),$Te(),GTe(),wf(),VTe(),Ef(),CH(),fk(),HTe(),TH(),zTe(),XTe(),WTe(),hk(),YTe(),zu(),Ni(),qTe(),KTe(),ZTe(),JTe(),QTe(),eAe(),tAe(),rAe(),nAe(),iAe(),aAe(),oAe(),sAe(),lAe(),uAe(),cAe(),fAe())})(At,function(r){return r})})(EH);var hAe=EH.exports;const oy=Yi(hAe);function dAe(t){const e=new Uint8Array(t),r=[];for(let n=0;n<e.length;n+=4)r.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return oy.lib.WordArray.create(r,e.length)}async function AH(t,e,r,n){const i=oy.enc.Hex.parse(e),a=oy.enc.Hex.parse(r),o=dAe(t),s=oy.AES.decrypt({ciphertext:o},i,{iv:a}),c=new Uint8Array(s.sigBytes);for(let l=0;l<s.sigBytes;l++)c[l]=s.words[l>>>2]>>>24-l%4*8&255;return new Blob([c],{type:`video/${n==="mp4"?"mp4":"x-flv"}`})}class pAe{constructor(){ut(this,"videosByKey");ut(this,"idURLMap",{});ut(this,"currentPlayingVideo","");ut(this,"videoIndex",0);this.videosByKey={},this.currentPlayingVideo=""}preloadVideo(e,r=!1){var c;if(this.videosByKey[e])return;console.info("",e);const n="video-"+this.videoIndex++,i=document.createElement("div"),a=document.createElement("video"),o=e.endsWith(".flv")?"flv":"mp4";i.setAttribute("id",n),i.style.width="100%",i.style.height="100%",i.style.zIndex="-99",i.style.display="block",i.style.opacity="0",i.style.background="#000",i.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.zIndex="11",a.style.position="absolute",a.style.display="block",a.playsInline=!0,a.controls=!1,a.addEventListener("play",function(){a.controls=!1}),a.addEventListener("pause",function(){a.controls=!1}),a.volume=0;const s=()=>{this.videosByKey[e].events.ended.callbacks.forEach(u=>u())};i.appendChild(a),(c=document.getElementById("videoContainer"))==null||c.appendChild(i),this.videosByKey[e]={player:null,id:n,progressTimer:null,waitCommands:{},events:{ended:{callbacks:[],handler:s}}},r&&(this.videosByKey[e].waitCommands={playVideo:!0,showVideo:!0}),fetch(e).then(l=>l.status>200?null:l.arrayBuffer()).then(async l=>{if(!l)return;const u="ENCRYPTED",f=u.length,h=new Uint8Array(l.slice(0,f));let p=!1;for(let v=0;v<f;v++){if(String.fromCharCode(h[v])!==u[v]){p=!1;break}p=!0}let d;if(p){const v=l.slice(f);d=await AH(v,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",o)}else d=new Blob([new Uint8Array(l)],{type:`video/${o==="mp4"?"mp4":"x-flv"}`});const g=fA.createPlayer({type:e.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(d)});g.attachMediaElement(a),g.load();const m={...this.videosByKey[e],player:g};this.videosByKey[e]=m,a.onloadeddata=()=>{const v=Object.keys(m.waitCommands);if(m){const _=document.createElement("canvas"),y=_.getContext("2d");_.width=480,_.height=270,y.drawImage(a,0,0,480,270);const b=_.toDataURL("image/webp",.5);_.remove(),m.poster=b}v.length&&v.forEach(_=>{if(!m){console.log("",e);return}this[_](e,m.waitCommands[_])})}})}pauseVideo(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.pause()}showVideo(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.style.opacity="1",i.style.zIndex=r?"6":"11")}else n?n.waitCommands.showVideo=!0:this.preloadVideo(e,!0)}playVideo(e){const r=this.videosByKey[e];this.currentPlayingVideo=e,r!=null&&r.player?(r.player.play(),this.checkProgress(e)):r?r.waitCommands.playVideo=!0:this.preloadVideo(e,!0)}setLoop(e,r){const n=this.videosByKey[e];if(n!=null&&n.player){const i=document.getElementById(n.id);i&&(i.loop=r)}else n.waitCommands.setLoop=r}seek(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.currentTime=r:n.waitCommands.seek=r}backward(e){const r=this.videosByKey[e];r!=null&&r.player&&r.player.currentTime>0&&(r.player.currentTime-=1)}forward(e){const r=this.videosByKey[e];r!=null&&r.player&&(r.player.currentTime+=1)}setVolume(e,r){const n=this.videosByKey[e];n!=null&&n.player?n.player.volume=r:n.waitCommands.setVolume=r}setUrlIdMap(e,r){this.idURLMap[e]=r}destroy(e,r=!1,n=!1){const i=this.videosByKey[e];if(i!=null&&i.player){i.player.pause(),i.player.volume=0;const a=document.getElementById(i.id);a&&(a.style.opacity="0",a.style.zIndex="-99"),i!=null&&i.progressTimer&&clearTimeout(i.progressTimer),setTimeout(()=>{var o;try{const s=a==null?void 0:a.getElementsByTagName("video");s!=null&&s.length&&((o=i.player)==null||o.destroy())}catch(s){console.warn(s)}setTimeout(()=>{a==null||a.remove()},r?0:500),delete this.videosByKey[e]},r?0:2e3)}}destroyAll(e=!1){Object.keys(this.videosByKey).forEach(r=>{this.destroy(r,e)})}onEnded(e,r){this.videosByKey[e].events.ended.callbacks.push(r)}getDuration(e){const r=this.videosByKey[e];if(r!=null&&r.player)return r.player.duration}destroyExcept(e){Object.keys(this.videosByKey).forEach(r=>{e.includes(r)||this.destroy(r)})}checkProgress(e){const r=this.videosByKey[e];if(r!=null&&r.player){const n=r.player,i=n.currentTime;if(n.duration-i<=.03){clearTimeout(r.progressTimer),r.progressTimer=null,r.events.ended.handler();return}r.progressTimer=setTimeout(()=>{this.checkProgress(e)},100)}}}class vAe{constructor(){ut(this,"sceneManager",new FTe);ut(this,"backlogManager",new R0e(this.sceneManager));ut(this,"animationManager",new NTe);ut(this,"gameplay",new MTe);ut(this,"gameName","");ut(this,"gameKey","");ut(this,"gameId",0);ut(this,"events",new BTe);ut(this,"videoManager",new pAe)}}const W=new vAe,ji=IH(()=>{const t=ce.getState().userData;af.setItem(W.gameKey,t).then(()=>{Je.info("")})},100),lx=IH(()=>{af.getItem(W.gameKey).then(t=>{if(t&&t.token&&delete t.token,!t||!PH(t)){Je.warn(""),ji();return}ce.dispatch(nO(t))})},100);function IH(t,e){let r;function n(...i){clearTimeout(r);let a;return r=setTimeout(()=>{a=t.apply(n,i)},e),a}return n}const RH=()=>{const t=ce.getState().userData;af.setItem(W.gameKey,t).then(()=>{af.getItem(W.gameKey).then(e=>{if(e&&e.token&&delete e.token,!e){ji();return}ce.dispatch(nO(e))}),Je.info("")})};function PH(t){let e=!0;for(const r in GT)t.hasOwnProperty(r)||(e=!1);return e}async function gAe(){const t=await af.getItem(W.gameKey);if(!t||!PH(t)){const e=ce.getState().userData;return Je.warn(""),await af.setItem(W.gameKey,e)}else ce.dispatch(nO(t))}var $r=(t=>(t[t.Save=0]="Save",t[t.Load=1]="Load",t[t.Option=2]="Option",t))($r||{}),xc=(t=>(t.Esc_continueGame_button="Esc_continueGame_button",t.Esc_backToLevel_button="Esc_backToLevel_button",t.Esc_setting_button="Esc_setting_button",t.Esc_exitGame_button="Esc_exitGame_button",t))(xc||{}),bc=(t=>(t.Achievement_back_button="Achievement_back_button",t.Achievement_title="Achievement_title",t.Achievement_progress_bg="Achievement_progress_bg",t.Achievement_progress_text="Achievement_progress_text",t.Achievement_progress="Achievement_progress",t.Achievement_notUnlock="Achievement_notUnlock",t))(bc||{});const Jf={content:"",args:{hide:!0,style:{},hoverStyle:{}}},qm={content:"",args:{hide:!1,style:{x:0,y:0,scale:1,fontSize:0,fontColor:"",btnImage:"",btnSound:"",btnPosition:"",align:"",fontFamily:""}}},ux={isInGaming:!1,showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:$r.Option,titleBg:"",titleBgm:"",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0,showStoryLine:!1,showAchievement:!1,showFavorited:!1,gameUIConfigs:ZSe,showBeautyGuide:!1,showBeautyGuideDetail:!1,showBeautyGuideImageDialog:!1,isShowR18Modal:!1,openR18Modal:!1,showProgressAndAchievement:!1,showAffinity:!1,isShowGameMenu:!1,escMenus:{Esc_continueGame_button:qm,Esc_backToLevel_button:qm,Esc_setting_button:qm,Esc_exitGame_button:qm},achievementUI:{Achievement_progress_bg:Jf,Achievement_progress_text:Jf,Achievement_progress:Jf,Achievement_notUnlock:Jf,Achievement_back_button:Jf,Achievement_title:Jf}},OH=ag({name:"gui",initialState:ux,reducers:{setVisibility:(t,e)=>{lx();const{component:r,visibility:n}=e.payload;t[r]=n},setMenuPanelTag:(t,e)=>{lx(),t.currentMenuTag=e.payload},setGuiAsset:(t,e)=>{const{asset:r,value:n}=e.payload;t[r]=n},setLogoImage:(t,e)=>{t.logoImage=[...e.payload]},setShowStoryLine:(t,e)=>{t.showStoryLine=e.payload},setshowFavorited:(t,e)=>{t.showFavorited=e.payload},setGameUIConfigs:(t,e)=>{t.gameUIConfigs=e.payload},setGameR18:(t,e)=>{t.isShowR18Modal=e.payload},setEscMenus:(t,e)=>{t.escMenus=e.payload},setAchievementUI:(t,e)=>{t.achievementUI=e.payload}}}),{setVisibility:yt,setMenuPanelTag:Yc,setGuiAsset:hA,setLogoImage:mAe,setShowStoryLine:dA,setshowFavorited:pA,setGameUIConfigs:_Ae,setGameR18:kH,setEscMenus:yAe,setAchievementUI:xAe}=OH.actions,bAe=OH.reducer,ce=Bie({reducer:{stage:yde,GUI:bAe,userData:A0e,saveData:ISe,storeData:n2e},middleware:z$({serializableCheck:!1})});let KD;function dk(t,e=0,r=100){if(Je.info("playing bgm"+t),t===""){KD=setTimeout(()=>{ce.dispatch(Bt({key:"bgm",value:{src:"",enter:0,volume:100}}))},e);const i=ce.getState().stage.bgm.src;ce.dispatch(Bt({key:"bgm",value:{src:i,enter:-e,volume:r}}))}else clearTimeout(KD),ce.dispatch(Bt({key:"bgm",value:{src:t,enter:e,volume:r}}));const n=document.getElementById("currentBgm");n.src&&(n==null||n.play())}function xg(t){const e=document.getElementById("ebg");e&&(e.style.backgroundImage=`url("${t}")`)}const pk=()=>{ce.getState().stage.PerformList.forEach(e=>{m1(e.script)})},wAe=t=>{const e=ce.dispatch,r=W.backlogManager.getBacklog()[t];Je.debug("backlog",r),Ua(r.saveScene.sceneUrl).then(async i=>{if(await W.sceneManager.setCurrentScene(i,r.saveScene.sceneName,r.saveScene.sceneUrl)){const o=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(W.sceneManager.sceneData.currentScene.sceneUrl);const s=fg(o);Xd(s)}}),W.sceneManager.sceneData.currentSentenceId=r.saveScene.currentSentenceId,W.sceneManager.sceneData.sceneStack=yn(r.saveScene.sceneStack),cb();for(let i=W.backlogManager.getBacklog().length-1;i>t;i--)W.backlogManager.getBacklog().pop();W.backlogManager.isSaveBacklogNext=!0;const n=yn(r.currentStageState);e(lg(n)),setTimeout(pk,0),e(yt({component:"showBacklog",visibility:!1})),e(yt({component:"showTextBox",visibility:!0}))},EAe=(t,e=!1)=>{const n=ce.getState().saveData.saveData[t];Je.debug("",n),vk(n,e)};async function vk(t,e=!1){if(!t){Je.info("");return}const r=t;try{const o=await Ua(r.sceneData.sceneUrl);if(!await W.sceneManager.setCurrentScene(o,r.sceneData.sceneName,r.sceneData.sceneUrl,!0))return;const c=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(W.sceneManager.sceneData.currentScene.sceneUrl);const l=fg(c);Xd(l)}catch(o){Je.error("",o);return}W.sceneManager.sceneData.currentSentenceId=r.sceneData.currentSentenceId,W.sceneManager.sceneData.sceneStack=yn(r.sceneData.sceneStack),cb();const n=r.backlog;W.backlogManager.getBacklog().splice(0,W.backlogManager.getBacklog().length);for(const o of n)W.backlogManager.getBacklog().push(o);const i=yn(r.nowStageState),a=ce.dispatch;a(lg(i)),e?(a(Er.setLoadVideo(!0)),r.nowStageState.PerformList.forEach(o=>{m1(o.script)})):setTimeout(pk,0),a(yt({component:"showTitle",visibility:!1})),a(yt({component:"showMenuPanel",visibility:!1})),a(yt({component:"showExtra",visibility:!1})),xg(ce.getState().stage.bgName)}function SAe(){`${W.gameName}${W.gameKey}`,`${W.gameName}${W.gameKey}`}async function CAe(){const t=await _H(-1,!1),e=yn(t);ce.dispatch(Er.setFastSave(e)),await zCe()}async function TAe(){return await gAe(),ce.getState().saveData.quickSaveData!==null}async function AAe(){await pH();const t=ce.getState().saveData.quickSaveData;t&&vk(t)}const IAe=t=>{const e=document.body;t=typeof t=="string"?Number(t):t,e&&(e.style.opacity=(t/100).toFixed(2))},RAe=()=>{const t=ce.getState().storeData.gameInfo,e=()=>{ck(!0,!0,!1);const r=jt("start.txt",Ut.scene);Ua(r).then(n=>{W.sceneManager.setCurrentScene(n,"start.txt",r,!0).then(i=>{i&&ti()})}),ce.dispatch(Er.setIsShowUnlock(!0)),ce.dispatch(Er.setShowStoryline(!0)),ce.dispatch(yt({component:"showTitle",visibility:!1})),ce.dispatch(yt({component:"isInGaming",visibility:!0})),IAe(ce.getState().userData.optionData.uiLight)};if(ce.getState().storeData.isEditorPreviewMode){e();return}if(!t){es({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}});return}if(t.isFree===1&&t.tryPlay===1&&!t.canPlay){const r=()=>{es({type:"pay",title:"",content:""+t.salesAmount,suffixContent:"",rightText:"",rightFunc:()=>{window.pubsub.publish("showBuyGameModal",{buyGameCallback:r,startGameCallback:e})}})};r();return}e()};async function PAe(){if(xg(ce.getState().stage.bgName),await TAe()&&W.sceneManager.sceneData.currentSentenceId===0){await AAe();return}W.sceneManager.sceneData.currentSentenceId===0&&W.sceneManager.sceneData.currentScene.sceneName==="start.txt"?ti():pk()}const vA=async()=>{const t=jt(So.Storyline,Ut.scene);W.sceneManager.resetScene();const e=await Ua(t);ce.dispatch(dA(!0)),ce.dispatch(yt({component:"showTitle",visibility:!1})),await W.sceneManager.setCurrentScene(e,So.Storyline,t),ti(),ce.dispatch(yt({component:"showMenuPanel",visibility:!1})),ce.dispatch(yt({component:"showTextBox",visibility:!1}))},OAe=async()=>{const t=jt(So.Affinity,Ut.scene);W.sceneManager.resetScene();const e=await Ua(t);ce.dispatch(yt({component:"showAffinity",visibility:!0})),ce.dispatch(yt({component:"showTitle",visibility:!1})),await W.sceneManager.setCurrentScene(e,So.Affinity,t),ti(),ce.dispatch(yt({component:"showMenuPanel",visibility:!1})),ce.dispatch(yt({component:"showTextBox",visibility:!1}))},kAe=()=>{ce.dispatch(yt({component:"showBeautyGuide",visibility:!0}))};function FAe(t){return fb.parseScssToWebgalStyleObj(t)}function Bu(t){const[e,r]=de.useState(t);return{_value:e,set:function(n){this._value=n,r(n)},get value(){return this._value},set value(n){this.set(n)}}}function NAe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function MAe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var LAe=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(MAe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=NAe(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ea="-ms-",cx="-moz-",Mr="-webkit-",FH="comm",gk="rule",mk="decl",BAe="@import",NH="@keyframes",DAe="@layer",UAe=Math.abs,db=String.fromCharCode,jAe=Object.assign;function $Ae(t,e){return $i(t,0)^45?(((e<<2^$i(t,0))<<2^$i(t,1))<<2^$i(t,2))<<2^$i(t,3):0}function MH(t){return t.trim()}function GAe(t,e){return(t=e.exec(t))?t[0]:t}function Lr(t,e,r){return t.replace(e,r)}function gA(t,e){return t.indexOf(e)}function $i(t,e){return t.charCodeAt(e)|0}function xv(t,e,r){return t.slice(e,r)}function _s(t){return t.length}function _k(t){return t.length}function Km(t,e){return e.push(t),t}function VAe(t,e){return t.map(e).join("")}var pb=1,vd=1,LH=0,La=0,ci=0,Qd="";function vb(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:pb,column:vd,length:o,return:""}}function X0(t,e){return jAe(vb("",null,null,"",null,null,0),t,{length:-t.length},e)}function HAe(){return ci}function zAe(){return ci=La>0?$i(Qd,--La):0,vd--,ci===10&&(vd=1,pb--),ci}function eo(){return ci=La<LH?$i(Qd,La++):0,vd++,ci===10&&(vd=1,pb++),ci}function Rs(){return $i(Qd,La)}function sy(){return La}function bg(t,e){return xv(Qd,t,e)}function bv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BH(t){return pb=vd=1,LH=_s(Qd=t),La=0,[]}function DH(t){return Qd="",t}function ly(t){return MH(bg(La-1,mA(t===91?t+2:t===40?t+1:t)))}function XAe(t){for(;(ci=Rs())&&ci<33;)eo();return bv(t)>2||bv(ci)>3?"":" "}function WAe(t,e){for(;--e&&eo()&&!(ci<48||ci>102||ci>57&&ci<65||ci>70&&ci<97););return bg(t,sy()+(e<6&&Rs()==32&&eo()==32))}function mA(t){for(;eo();)switch(ci){case t:return La;case 34:case 39:t!==34&&t!==39&&mA(ci);break;case 40:t===41&&mA(t);break;case 92:eo();break}return La}function YAe(t,e){for(;eo()&&t+ci!==47+10;)if(t+ci===42+42&&Rs()===47)break;return"/*"+bg(e,La-1)+"*"+db(t===47?t:eo())}function qAe(t){for(;!bv(Rs());)eo();return bg(t,La)}function KAe(t){return DH(uy("",null,null,null,[""],t=BH(t),0,[0],t))}function uy(t,e,r,n,i,a,o,s,c){for(var l=0,u=0,f=o,h=0,p=0,d=0,g=1,m=1,v=1,_=0,y="",b=i,w=a,E=n,C=y;m;)switch(d=_,_=eo()){case 40:if(d!=108&&$i(C,f-1)==58){gA(C+=Lr(ly(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=ly(_);break;case 9:case 10:case 13:case 32:C+=XAe(d);break;case 92:C+=WAe(sy()-1,7);continue;case 47:switch(Rs()){case 42:case 47:Km(ZAe(YAe(eo(),sy()),e,r),c);break;default:C+="/"}break;case 123*g:s[l++]=_s(C)*v;case 125*g:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+u:v==-1&&(C=Lr(C,/\f/g,"")),p>0&&_s(C)-f&&Km(p>32?JD(C+";",n,r,f-1):JD(Lr(C," ","")+";",n,r,f-2),c);break;case 59:C+=";";default:if(Km(E=ZD(C,e,r,l,u,i,s,y,b=[],w=[],f),a),_===123)if(u===0)uy(C,e,E,E,b,a,f,s,w);else switch(h===99&&$i(C,3)===110?100:h){case 100:case 108:case 109:case 115:uy(t,E,E,n&&Km(ZD(t,E,E,0,0,i,s,y,i,b=[],f),w),i,w,f,s,n?b:w);break;default:uy(C,E,E,E,[""],w,0,s,w)}}l=u=p=0,g=v=1,y=C="",f=o;break;case 58:f=1+_s(C),p=d;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&zAe()==125)continue}switch(C+=db(_),_*g){case 38:v=u>0?1:(C+="\f",-1);break;case 44:s[l++]=(_s(C)-1)*v,v=1;break;case 64:Rs()===45&&(C+=ly(eo())),h=Rs(),u=f=_s(y=C+=qAe(sy())),_++;break;case 45:d===45&&_s(C)==2&&(g=0)}}return a}function ZD(t,e,r,n,i,a,o,s,c,l,u){for(var f=i-1,h=i===0?a:[""],p=_k(h),d=0,g=0,m=0;d<n;++d)for(var v=0,_=xv(t,f+1,f=UAe(g=o[d])),y=t;v<p;++v)(y=MH(g>0?h[v]+" "+_:Lr(_,/&\f/g,h[v])))&&(c[m++]=y);return vb(t,e,r,i===0?gk:s,c,l,u)}function ZAe(t,e,r){return vb(t,e,r,FH,db(HAe()),xv(t,2,-2),0)}function JD(t,e,r,n){return vb(t,e,r,mk,xv(t,0,n),xv(t,n+1,-1),n)}function Qh(t,e){for(var r="",n=_k(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function JAe(t,e,r,n){switch(t.type){case DAe:if(t.children.length)break;case BAe:case mk:return t.return=t.return||t.value;case FH:return"";case NH:return t.return=t.value+"{"+Qh(t.children,n)+"}";case gk:t.value=t.props.join(",")}return _s(r=Qh(t.children,n))?t.return=t.value+"{"+r+"}":""}function QAe(t){var e=_k(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function eIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function tIe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var rIe=function(e,r,n){for(var i=0,a=0;i=a,a=Rs(),i===38&&a===12&&(r[n]=1),!bv(a);)eo();return bg(e,La)},nIe=function(e,r){var n=-1,i=44;do switch(bv(i)){case 0:i===38&&Rs()===12&&(r[n]=1),e[n]+=rIe(La-1,r,n);break;case 2:e[n]+=ly(i);break;case 4:if(i===44){e[++n]=Rs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=db(i)}while(i=eo());return e},iIe=function(e,r){return DH(nIe(BH(e),r))},QD=new WeakMap,aIe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!QD.get(n))&&!i){QD.set(e,!0);for(var a=[],o=iIe(r,a),s=n.props,c=0,l=0;c<o.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=a[c]?o[c].replace(/&\f/g,s[u]):s[u]+" "+o[c]}}},oIe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function UH(t,e){switch($Ae(t,e)){case 5103:return Mr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Mr+t+cx+t+ea+t+t;case 6828:case 4268:return Mr+t+ea+t+t;case 6165:return Mr+t+ea+"flex-"+t+t;case 5187:return Mr+t+Lr(t,/(\w+).+(:[^]+)/,Mr+"box-$1$2"+ea+"flex-$1$2")+t;case 5443:return Mr+t+ea+"flex-item-"+Lr(t,/flex-|-self/,"")+t;case 4675:return Mr+t+ea+"flex-line-pack"+Lr(t,/align-content|flex-|-self/,"")+t;case 5548:return Mr+t+ea+Lr(t,"shrink","negative")+t;case 5292:return Mr+t+ea+Lr(t,"basis","preferred-size")+t;case 6060:return Mr+"box-"+Lr(t,"-grow","")+Mr+t+ea+Lr(t,"grow","positive")+t;case 4554:return Mr+Lr(t,/([^-])(transform)/g,"$1"+Mr+"$2")+t;case 6187:return Lr(Lr(Lr(t,/(zoom-|grab)/,Mr+"$1"),/(image-set)/,Mr+"$1"),t,"")+t;case 5495:case 3959:return Lr(t,/(image-set\([^]*)/,Mr+"$1$`$1");case 4968:return Lr(Lr(t,/(.+:)(flex-)?(.*)/,Mr+"box-pack:$3"+ea+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mr+t+t;case 4095:case 3583:case 4068:case 2532:return Lr(t,/(.+)-inline(.+)/,Mr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_s(t)-1-e>6)switch($i(t,e+1)){case 109:if($i(t,e+4)!==45)break;case 102:return Lr(t,/(.+:)(.+)-([^]+)/,"$1"+Mr+"$2-$3$1"+cx+($i(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gA(t,"stretch")?UH(Lr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($i(t,e+1)!==115)break;case 6444:switch($i(t,_s(t)-3-(~gA(t,"!important")&&10))){case 107:return Lr(t,":",":"+Mr)+t;case 101:return Lr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mr+($i(t,14)===45?"inline-":"")+"box$3$1"+Mr+"$2$3$1"+ea+"$2box$3")+t}break;case 5936:switch($i(t,e+11)){case 114:return Mr+t+ea+Lr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Mr+t+ea+Lr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Mr+t+ea+Lr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Mr+t+ea+t+t}return t}var sIe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case mk:e.return=UH(e.value,e.length);break;case NH:return Qh([X0(e,{value:Lr(e.value,"@","@"+Mr)})],i);case gk:if(e.length)return VAe(e.props,function(a){switch(GAe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qh([X0(e,{props:[Lr(a,/:(read-\w+)/,":"+cx+"$1")]})],i);case"::placeholder":return Qh([X0(e,{props:[Lr(a,/:(plac\w+)/,":"+Mr+"input-$1")]}),X0(e,{props:[Lr(a,/:(plac\w+)/,":"+cx+"$1")]}),X0(e,{props:[Lr(a,/:(plac\w+)/,ea+"input-$1")]})],i)}return""})}},lIe=[sIe],uIe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||lIe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),v=1;v<m.length;v++)a[m[v]]=!0;s.push(g)});var c,l=[aIe,oIe];{var u,f=[JAe,eIe(function(g){u.insert(g)})],h=QAe(l.concat(i,f)),p=function(m){return Qh(KAe(m),h)};c=function(m,v,_,y){u=_,p(m?m+"{"+v.styles+"}":v.styles),y&&(d.inserted[v.name]=!0)}}var d={key:r,sheet:new LAe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return d.sheet.hydrate(s),d};function cIe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var fIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hIe=/[A-Z]|^ms/g,dIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jH=function(e){return e.charCodeAt(1)===45},e8=function(e){return e!=null&&typeof e!="boolean"},I2=tIe(function(t){return jH(t)?t:t.replace(hIe,"-$&").toLowerCase()}),t8=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(dIe,function(n,i,a){return ys={name:i,styles:a,next:ys},i})}return fIe[e]!==1&&!jH(e)&&typeof r=="number"&&r!==0?r+"px":r};function wv(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ys={name:r.name,styles:r.styles,next:ys},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ys={name:n.name,styles:n.styles,next:ys},n=n.next;var i=r.styles+";";return i}return pIe(t,e,r)}case"function":{if(t!==void 0){var a=ys,o=r(t);return ys=a,wv(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function pIe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=wv(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":e8(o)&&(n+=I2(a)+":"+t8(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)e8(o[s])&&(n+=I2(a)+":"+t8(a,o[s])+";");else{var c=wv(t,e,o);switch(a){case"animation":case"animationName":{n+=I2(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var r8=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ys,R2=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ys=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=wv(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=wv(n,r,e[s]),i&&(a+=o[s]);r8.lastIndex=0;for(var c="",l;(l=r8.exec(a))!==null;)c+="-"+l[1];var u=cIe(a)+c;return{name:u,styles:a,next:ys}},vIe=!0;function $H(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var gIe=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||vIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},mIe=function(e,r,n){gIe(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function n8(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function i8(t,e,r){var n=[],i=$H(t,n,r);return n.length<2?r:i+e(n)}var _Ie=function(e){var r=uIe(e);r.sheet.speedy=function(s){this.isSpeedy=s},r.compat=!0;var n=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=R2(l,r.registered,void 0);return mIe(r,f,!1),r.key+"-"+f.name},i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=R2(l,r.registered),h="animation-"+f.name;return n8(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var f=R2(l,r.registered);n8(r,f)},o=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return i8(r.registered,n,yIe(l))};return{css:n,cx:o,injectGlobal:a,keyframes:i,hydrate:function(c){c.forEach(function(l){r.inserted[l]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:$H.bind(null,r.registered),merge:i8.bind(null,r.registered,n)}},yIe=function t(e){for(var r="",n=0;n<e.length;n++){var i=e[n];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=t(i);else{a="";for(var o in i)i[o]&&o&&(a&&(a+=" "),a+=o)}break}default:a=i}a&&(r&&(r+=" "),r+=a)}}return r},GH=_Ie({key:"css"}),xIe=GH.injectGlobal,bIe=GH.css;function VH(t){const e=Bu({classNameStyles:{},others:""}),r=ft(a=>a.stage.replacedUIlable),n=(a,o)=>{var c;const s=(r==null?void 0:r[a])??a;if(Object.keys(e.value.classNameStyles).includes(s)){const l=bIe(((c=e.value.classNameStyles)==null?void 0:c[s])??"");return`${o} ${l}`}return o},i=async()=>{Je.debug(" Scss ",t);const o=(await fd.get(`game/template/${t}`)).data;e.set(FAe(o))};return de.useEffect(()=>{i()},[]),de.useEffect(()=>{xIe(e.value.others)},[e.value.others]),wIe(i),n}function wIe(t){const e=()=>{t()};de.useEffect(()=>(W.events.styleUpdate.on(e),()=>W.events.styleUpdate.off(e)),[])}function e0(t){const e=ft(t),r=de.useRef(e);return de.useEffect(()=>{r.current=e},[e]),r}function t0(t){de.useEffect(()=>{t()},[])}function r0(t){de.useEffect(()=>function(){t()},[])}function EIe(t){de.useEffect(()=>{t()})}const SIe="_main_1qr2u_1",CIe="_singleButton_1qr2u_12",TIe="_singleButton_fast_1qr2u_19",AIe="_singleButton_auto_1qr2u_23",IIe="_singleButton_auto_active_1qr2u_27",RIe="_singleButton_fast_active_1qr2u_31",PIe="_autoIcon_1qr2u_35",OIe="_fastIcon_1qr2u_48",kIe="_historyIcon_1qr2u_61",FIe="_fastSlPreview_1qr2u_74",NIe="_fastSlEnter_1qr2u_1",MIe="_fastsave_1qr2u_88",LIe="_fastSPreview_1qr2u_88",BIe="_fastload_1qr2u_92",DIe="_fastLPreview_1qr2u_92",UIe="_slPreviewMain_1qr2u_104",jIe="_imgContainer_1qr2u_112",$Ie="_textContainer_1qr2u_120",Xr={main:SIe,singleButton:CIe,singleButton_fast:TIe,singleButton_auto:AIe,singleButton_auto_active:IIe,singleButton_fast_active:RIe,autoIcon:PIe,fastIcon:OIe,historyIcon:kIe,fastSlPreview:FIe,fastSlEnter:NIe,fastsave:MIe,fastSPreview:LIe,fastload:BIe,fastLPreview:DIe,slPreviewMain:UIe,imgContainer:jIe,textContainer:$Ie},HH=t=>{const e=document.getElementById("Button_ControlPanel_auto");if(e){let r=Xr.singleButton+" "+Xr.singleButton_auto;t?e.className=r+" "+Xr.singleButton_auto_active:e.className=r}},gb=()=>{W.gameplay.isAuto=!1,HH(!1),W.gameplay.autoInterval!==null&&(clearInterval(W.gameplay.autoInterval),W.gameplay.autoInterval=null),W.gameplay.autoTimeout!==null&&(clearTimeout(W.gameplay.autoTimeout),W.gameplay.autoTimeout=null)},zH=()=>{W.gameplay.isAuto?gb():(W.gameplay.isAuto=!0,HH(!0),W.gameplay.autoInterval=setInterval(VIe,100))},GIe=()=>{ti(),W.gameplay.autoTimeout=null},VIe=()=>{const e=750-250*ce.getState().userData.optionData.autoSpeed;let r=!1;W.gameplay.performController.performList.forEach(n=>{n.blockingAuto()&&(r=!0)}),!r&&W.gameplay.autoTimeout===null&&(W.gameplay.autoTimeout=setTimeout(GIe,e))},XH=t=>{const e=document.getElementById("Button_ControlPanel_fast"),r=Xr.singleButton+" "+Xr.singleButton_fast;e&&(t?e.className=r+" "+Xr.singleButton_fast_active:e.className=r)},ed=()=>{YH()&&(W.gameplay.isFast=!1,XH(!1),W.gameplay.fastInterval!==null&&(clearInterval(W.gameplay.fastInterval),W.gameplay.fastInterval=null))},WH=()=>{YH()||(W.gameplay.isFast=!0,XH(!0),W.gameplay.fastInterval=setInterval(()=>{console.log(""),ti()},DG.fast_timeout))},YH=function(){return W.gameplay.isFast},yk=()=>{ed(),gb()},qH=()=>{W.gameplay.isFast?ed():WH()},HIe="_Backlog_main_1bt22_2",zIe="_backlog_soft_in_1bt22_1",XIe="_Backlog_main_out_1bt22_17",WIe="_backlog_soft_out_1bt22_1",YIe="_Backlog_main_out_IndexHide_1bt22_30",qIe="_Backlog_main_DisableScroll_1bt22_34",KIe="_backlog_top_icon_1bt22_38",ZIe="_backlog_title_1bt22_62",JIe="_backlog_content_1bt22_74",QIe="_backlog_item_1bt22_100",eRe="_backlog_item_in_1bt22_1",tRe="_backlog_item_button_element_1bt22_112",rRe="_backlog_item_out_1bt22_142",nRe="_backlog_func_area_1bt22_151",iRe="_backlog_item_content_name_1bt22_157",aRe="_backlog_item_content_1bt22_157",oRe="_backlog_content_container_1bt22_177",sRe="_sound_icon_1bt22_194",lRe="_backlog_item_content_text_1bt22_207",uRe="_backlog_icon_softin_1bt22_1",ai={Backlog_main:HIe,backlog_soft_in:zIe,Backlog_main_out:XIe,backlog_soft_out:WIe,Backlog_main_out_IndexHide:YIe,Backlog_main_DisableScroll:qIe,backlog_top_icon:KIe,backlog_title:ZIe,backlog_content:JIe,backlog_item:QIe,backlog_item_in:eRe,backlog_item_button_element:tRe,backlog_item_out:rRe,backlog_func_area:nRe,backlog_item_content_name:iRe,backlog_item_content:aRe,backlog_content_container:oRe,sound_icon:sRe,backlog_item_content_text:lRe,backlog_icon_softin:uRe};var cRe=rs,fRe=function(){return cRe.Date.now()},hRe=fRe,dRe=/\s/;function pRe(t){for(var e=t.length;e--&&dRe.test(t.charAt(e)););return e}var vRe=pRe,gRe=vRe,mRe=/^\s+/;function _Re(t){return t&&t.slice(0,gRe(t)+1).replace(mRe,"")}var yRe=_Re,xRe=yRe,a8=Ds,bRe=w1,o8=0/0,wRe=/^[-+]0x[0-9a-f]+$/i,ERe=/^0b[01]+$/i,SRe=/^0o[0-7]+$/i,CRe=parseInt;function TRe(t){if(typeof t=="number")return t;if(bRe(t))return o8;if(a8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=a8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xRe(t);var r=ERe.test(t);return r||SRe.test(t)?CRe(t.slice(2),r?2:8):wRe.test(t)?o8:+t}var ARe=TRe,IRe=Ds,P2=hRe,s8=ARe,RRe="Expected a function",PRe=Math.max,ORe=Math.min;function kRe(t,e,r){var n,i,a,o,s,c,l=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(RRe);e=s8(e)||0,IRe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?PRe(s8(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(E){var C=n,T=i;return n=i=void 0,l=E,o=t.apply(T,C),o}function d(E){return l=E,s=setTimeout(v,e),u?p(E):o}function g(E){var C=E-c,T=E-l,A=e-C;return f?ORe(A,a-T):A}function m(E){var C=E-c,T=E-l;return c===void 0||C>=e||C<0||f&&T>=a}function v(){var E=P2();if(m(E))return _(E);s=setTimeout(v,g(E))}function _(E){return s=void 0,h&&n?p(E):(n=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,n=c=i=s=void 0}function b(){return s===void 0?o:_(P2())}function w(){var E=P2(),C=m(E);if(n=arguments,i=this,c=E,C){if(s===void 0)return d(c);if(f)return clearTimeout(s),s=setTimeout(v,e),p(c)}return s===void 0&&(s=setTimeout(v,e)),o}return w.cancel=y,w.flush=b,w}var FRe=kRe,NRe=FRe,MRe=Ds,LRe="Expected a function";function BRe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(LRe);return MRe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),NRe(t,e,{leading:n,maxWait:e,trailing:i})}var DRe=BRe;const URe=Yi(DRe),Rh="keyboard"in navigator&&navigator.keyboard;function jRe(t){$Re(),VRe(),zRe(),HRe(),XRe(),ZRe(),QRe()}function $Re(){const t=e0(c=>c.GUI),e=_b(),r=mb(t),n=KH(t),i=WRe(t),a=qRe(t),o=YRe(t),s=de.useCallback(c=>i()?(e("showGlobalDialog",!1),c.preventDefault(),!1):(o()&&e("showExtra",!1),r()&&e("showTextBox",!t.current.showTextBox),n()&&(e("showBacklog",!1),e("showTextBox",!0)),a()&&e("showMenuPanel",!1),c.preventDefault(),!1),[]);t0(()=>{document.addEventListener("contextmenu",s)}),r0(()=>{document.removeEventListener("contextmenu",s)})}let GRe=setTimeout(()=>{},0);function VRe(){const t=e0(s=>s.GUI),e=_b(),r=mb(t),n=KH(t),i=ZH(t),a=de.useCallback(URe(()=>{ti()},100),[]),o=de.useRef(0);de.useCallback(s=>{if(i())return;const c=s.wheelDelta&&(s.wheelDelta>0?"up":"down")||s.detail&&(s.detail<0?"up":"down")||"down",l=s.ctrlKey,u=document.querySelector(`.${ai.backlog_content}`);if(r()&&c==="up"&&!l)e("showBacklog",!0),e("showTextBox",!1);else if(n()&&c==="down"&&!l){if(u){let f=JRe(u),h=new Date().getTime();f&&h-o.current>100&&(e("showBacklog",!1),e("showTextBox",!0)),o.current=h}}else r()&&c==="down"&&!l&&(clearTimeout(GRe),W.gameplay.isFast=!0,setTimeout(()=>{W.gameplay.isFast=!1},150),a())},[]),t0(()=>{}),r0(()=>{})}function HRe(){const t=["Escape","Backquote"],e=s=>!s.isComposing&&!s.defaultPrevented&&t.includes(s.code),r=e0(s=>s.GUI),n=de.useCallback(()=>r.current.showTitle,[r]),i=ZH(r),a=_b(),o=de.useCallback(s=>{!e(s)||n()||(i()?a("showPanicOverlay",!1):(a("showPanicOverlay",!0),yk()))},[]);t0(()=>{document.addEventListener("keyup",o)}),r0(()=>{document.removeEventListener("keyup",o)})}function zRe(){const t=e0(o=>o.GUI),e=mb(t),r=de.useCallback(o=>o.keyCode===17,[]),n=de.useCallback(o=>{r(o)&&e()&&WH()},[]),i=de.useCallback(o=>{r(o)&&e()&&ed()},[]),a=de.useCallback(o=>{ed()},[]);t0(()=>{document.addEventListener("keydown",n),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),r0(()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),EIe(()=>{e()||ed()})}function XRe(){const t=KRe(),e=de.useCallback(async r=>{t()&&await CAe()},[]);t0(()=>{window.addEventListener("beforeunload",e)}),r0(()=>{window.removeEventListener("beforeunload",e)})}function mb(t){return de.useCallback(()=>!t.current.showTitle&&!t.current.showMenuPanel&&!t.current.showBacklog&&!t.current.showPanicOverlay,[t])}function KH(t){return de.useCallback(()=>t.current.showBacklog,[t])}function WRe(t){return de.useCallback(()=>t.current.showGlobalDialog,[t])}function YRe(t){return de.useCallback(()=>t.current.showExtra,[t])}function ZH(t){return de.useCallback(()=>t.current.showPanicOverlay,[t])}function qRe(t){return de.useCallback(()=>[$r.Save,$r.Load,$r.Option].includes(t.current.currentMenuTag),[t])}function KRe(){return de.useCallback(()=>W.sceneManager.sceneData.currentSentenceId!==0,[W.sceneManager.sceneData])}function _b(){const t=en();return(e,r)=>{t(yt({component:e,visibility:r}))}}function ZRe(){const t=e0(c=>c.GUI),e=mb(t),r=_b(),n=de.useRef(!1),i=de.useCallback(c=>c.keyCode===32||c.keyCode===13,[]),a=de.useCallback(c=>{if(i(c)&&e()&&!n.current){if(!t.current.showTextBox){r("showTextBox",!0);return}yk(),ti(),n.current=!0}},[]),o=de.useCallback(c=>{i(c)&&e()&&(n.current=!1)},[]),s=de.useCallback(c=>{n.current=!1},[]);t0(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",o),document.addEventListener("blur",s)}),r0(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",o),document.removeEventListener("blur",s)})}function JRe(t){const{scrollTop:e,clientHeight:r,scrollHeight:n}=t;return e===0}function QRe(){const t=ft(n=>n.userData),e=en(),r=t.optionData.fullScreen;de.useEffect(()=>{const n=i=>{i.code==="F11"&&(i.preventDefault(),r!==Is.on?(e(Vo({key:"fullScreen",value:Is.on})),ji()):(e(Vo({key:"fullScreen",value:Is.off})),ji()))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[r])}const JH=async()=>{ce.dispatch(Er.setIsShowUnlock(!1));const t=jt(So.Achieve,Ut.scene);W.sceneManager.resetScene(),Ua(t).then(e=>{W.sceneManager.setCurrentScene(e,So.Achieve,t).then(r=>{r&&ti()})}),ce.dispatch(yt({component:"showTitle",visibility:!1})),ce.dispatch(yt({component:"showMenuPanel",visibility:!1})),ce.dispatch(yt({component:"showTextBox",visibility:!1})),ce.dispatch(yt({component:"showAchievement",visibility:!0}))},qc={height:1440,width:2560};function Vp(t){const e=t||window.localStorage.getItem("game-screen-size"),r=(e==null?void 0:e.split("x"))??[];return(r==null?void 0:r.length)>0&&(qc.width=Number(r[0])*2,qc.height=Number(r[1])*2),qc}const ePe=({text:t,defaultClass:e,defaultHoverClass:r,style:n,hoverStyle:i,onMouseEnter:a,onMouseLeave:o,onClick:s})=>{const[c,l]=de.useState(!1);let u=e,f=n;const h=Yd.debounce(()=>{i&&l(!0),a&&a()},100),p=()=>{l(!1),o&&o()};return c&&(u=`${e} ${r}`,f={...n,...i}),F.jsx("span",{className:u,onMouseEnter:h,onMouseLeave:p,onClick:s,style:f,children:t})},QH=({src:t,hoverSrc:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onClick:c,nId:l,draggable:u})=>{const[f,h]=de.useState(!1),[p,d]=de.useState(0),g=()=>d(w=>w+1),m=de.useRef({width:void 0,height:void 0});let v=r,_=i||{};const y=Yd.debounce(()=>{(e||a)&&h(!0),o&&o()},100),b=()=>{h(!1),s&&s()};return f&&(v=`${r||""} ${n||""}`,_={...i,...a}),_.width===void 0&&(_.width=m.current.width,_.height=m.current.height),F.jsx("img",{id:l,src:f&&e?e:t,className:v,onMouseEnter:y,onMouseLeave:b,draggable:u,style:_,onClick:c,onLoad:w=>{_.width===void 0&&(m.current.width=w.currentTarget.naturalWidth,m.current.height=w.currentTarget.naturalHeight,g())}})},ez=({item:t,children:e,defaultClass:r,defaultHoverClass:n,style:i,hoverStyle:a,onMouseEnter:o,onMouseLeave:s,onMouseDown:c,onMouseUp:l,onClick:u,id:f})=>{const[h,p]=de.useState(!1);let d=r,g=i,m=a;if(t){if(t.args.hide)return null;g||(g=Fa(t.args.style)),m||(m=Fa(t.args.hoverStyle))}const v=Yd.debounce(()=>{m&&p(!0),o&&o()},100),_=()=>{p(!1),s&&s()};return h&&(d=`${r||""} ${n||""}`,g={...g,...m}),F.jsx("div",{className:d,onMouseEnter:v,onMouseLeave:_,onClick:u,style:g,id:f,onMouseDown:c,onMouseUp:l,children:e})},hl=({item:t,defaultClass:e,key:r})=>{var a,o;if(t.args.hide)return null;const n=Fa(t.args.style),i=jt(((a=t.args.style)==null?void 0:a.image)||"",Ut.background);return(o=t.args.style)!=null&&o.image?F.jsx(QH,{defaultClass:e,src:i,style:n},r):F.jsx("div",{className:e,style:n,draggable:"false"})},Jn=({item:t,defaultClass:e,defaultTextClass:r,key:n,defaultHoverClass:i,onMouseEnter:a,onMouseLeave:o,onClick:s,type:c="button",checked:l=!1,onChecked:u=()=>{},text:f="",style:h,defaultText:p=""})=>{var M,B,D,H;if(t.args.hide)return null;const[d,g]=de.useState(!1),m=Fa(t.args.style),v=Fa(t.args.hoverStyle),{playSeClick:_}=On(),y=((M=t.args.style)==null?void 0:M.image)||"",b=(D=(B=t.args)==null?void 0:B.btnSound)!=null&&D.clickSound?jt(t.args.btnSound.clickSound,Ut.bgm):"",w=((H=t.args.hoverStyle)==null?void 0:H.image)||y,E=t,C={},T=de.useRef(),A=de.useRef(0),R=y?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:{},O={...m,...h};O.width&&(C.width=O.width),O.height&&(C.height=O.height),y&&(O.backgroundImage="none");const P=()=>{c==="checkbox"&&(_(b),u(!l)),s&&(_(b),s())},k=typeof s=="function"&&typeof a=="function";return F.jsxs(ez,{onMouseEnter:a,onMouseLeave:o,onMouseDown:k?()=>{clearTimeout(T.current),g(!0),A.current=Date.now()}:void 0,onMouseUp:k?()=>{const ee=Date.now()-A.current;setTimeout(()=>{g(!1),setTimeout(()=>{P()},320)},ee-350>0?0:350-ee)}:void 0,defaultClass:`${e} ${d?"btn-clicked":""}`,defaultHoverClass:i,style:O,hoverStyle:v,children:[!!y&&F.jsx(QH,{nId:n,src:jt(l?w:y,Ut.ui),hoverSrc:w?jt(w,Ut.ui):"",style:C,onMouseEnter:a,onMouseLeave:o}),E.content?F.jsx(ePe,{text:E.content,defaultClass:r,style:R}):!y&&p]},n)},tPe=()=>{const t=ft(l=>l.userData),e=ft(l=>l.GUI),r=en(),n=t.optionData.fullScreen,{playSeEnter:i,playSeClick:a}=On(),o=e.gameUIConfigs[Ln.title],s=VH("UI/Title/title.scss"),c={[Ia.Game_start_button]:()=>{RAe(),r(pA(!1))},[Ia.Game_achievement_button]:()=>{JH()},[Ia.Game_storyline_button]:()=>{vA()},[Ia.Game_extra_button]:()=>{r(yt({component:"showExtra",visibility:!0}))},[Ia.Game_collection_button]:()=>{kAe()},[Ia.Game_continue_button]:()=>{r(yt({component:"showTitle",visibility:!1})),r(yt({component:"isInGaming",visibility:!0})),PAe()},[Ia.Game_option_button]:()=>{r(yt({component:"showMenuPanel",visibility:!0})),r(Yc($r.Option))},[Ia.Game_load_button]:()=>{r(yt({component:"showMenuPanel",visibility:!0})),r(Yc($r.Load))},[Ia.Game_progression_button]:()=>{r(yt({component:"showProgressAndAchievement",visibility:!0}))},[Ia.Game_affinity_button]:()=>{r(yt({component:"showAffinity",visibility:!0}))}};return F.jsxs(F.Fragment,{children:[e.showTitle&&F.jsx("div",{className:s("Title_backup_background",U0.Title_backup_background)}),F.jsx("div",{id:"enter_game_target",onClick:()=>{dk(e.titleBgm),r(yt({component:"isEnterGame",visibility:!0})),n===Is.on&&(document.documentElement.requestFullscreen(),Rh&&Rh.lock(["Escape","F11"]))},onMouseEnter:i}),e.showTitle&&F.jsxs("div",{children:[F.jsx(hl,{defaultClass:s("Title_main",U0.Title_main),item:o.other[gv.Title_img]}),F.jsx("div",{className:s("Title_buttonList",U0.Title_buttonList),children:Object.keys(o.buttons).map(l=>{let u=l,f=o.buttons[u];return F.jsx(Jn,{item:f,defaultClass:`${U0.Title_button} interactive`,defaultTextClass:U0.Title_button_text,onClick:c[u],onMouseEnter:i},u)})})]})]})},rPe="_Logo_main_y88l5_1",nPe="_overlay_y88l5_14",iPe="_Logo_Back_y88l5_61",aPe="_animationActive_y88l5_75",oPe="_fadeout_y88l5_1",Zm={Logo_main:rPe,"change-img-anim":"_change-img-anim_y88l5_1",overlay:nPe,"fade-in":"_fade-in_y88l5_1",Logo_Back:iPe,animationActive:aPe,fadeout:oPe,"fade-in-out":"_fade-in-out_y88l5_1"},sPe=()=>{const t=en(),e=ft(l=>l.GUI),r=e.logoImage,n=e.isEnterGame,i=Bu(-1),a=Bu(-1),o=5e3,s=()=>{clearTimeout(a.value),i.value<r.length-1?(i.set(i.value+1),a.set(setTimeout(s,o))):(e!=null&&e.isShowR18Modal&&t(yt({component:"openR18Modal",visibility:!0})),i.set(-1))};de.useEffect(()=>{n&&r.length>0&&(i.set(0),a.set(setTimeout(s,o)))},[n,r]);const c=i.value===-1?"":r[i.value];return F.jsxs(F.Fragment,{children:[i.value!==-1&&F.jsx("div",{className:Zm.Logo_Back+" "+(i.value===r.length-1?Zm.animationActive:""),style:{animationDuration:`${o}ms`}},i.value+"wh"),c!==""&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:Zm.Logo_main,onClick:s,style:{backgroundImage:`url("${c}")`,animationDuration:`${o}ms`}},i.value+"bg"),F.jsx("div",{className:Zm.overlay})]})]})};Y_.slider,Y_.sliderBg,Y_.sliderThumb;const Ph=new Map([["true",!0],["false",!1],[!0,!0],[!1,!1]]),lPe=t=>{const e=ce.getState().GUI,r=ce.dispatch;fd.get(t).then(n=>{var o;let i=n.data;const a=fb.parseConfig(i);if(Je.info("",a),e){const s={...e.gameUIConfigs},c={};let l=!1;const u={};let f=!1;a.forEach(h=>{const{command:p,args:d,options:g}=h;switch(p){case"Title_img":{const m=jt(d.join(""),Ut.background);r(hA({asset:"titleBg",value:m})),xg(m);break}case"Game_Logo":{const m=d.map(v=>jt(v,Ut.background));r(mAe(m));break}case"Game_cursor":{let m="{}",v="{}";g.forEach(b=>{b.key==="normal"?m=b.value:b.key==="active"&&(v=b.value)});const _=JSON.parse(m),y=JSON.parse(v);ZB(_,"normal"),ZB(y,"active");break}case"Title_bgm":{const m=jt(d[0],Ut.bgm);r(hA({asset:"titleBgm",value:m}));break}case"Game_name":{W.gameName=d[0],document.title=d[0];break}case"Game_key":{W.gameKey=d[0],lx(),pH(),sk(0,0);break}case"Game_id":{W.gameId=isNaN(Number(d[0]))?0:Number(d[0]);break}case"Game_r18":{(d==null?void 0:d.length)>0&&r(kH(!!Ph.get(d[0])));break}case"Game_sound":{if((g==null?void 0:g.length)>0){const m=l8(g);r(Er.setSaveStatus({key:"gameScounds",value:m}))}break}case"Menu_sound":{if((g==null?void 0:g.length)>0){const m=l8(g);r(Er.setSaveStatus({key:"menuScounds",value:m}))}break}case"Game_Icon":{if(d[0]){const m=jt(d[0],Ut.background),v=document.getElementById("dynamic-favicon");v&&(v.href=m+`?t=${new Date().getTime()}`)}break}case xc.Esc_continueGame_button:case xc.Esc_backToLevel_button:case xc.Esc_setting_button:case xc.Esc_exitGame_button:{if(!(g!=null&&g.length))break;let m="",v=!1;const _={},y=["x","y","scale","fontSize"];g==null||g.forEach(w=>{var E,C;typeof(w==null?void 0:w.value)=="string"&&((C=(E=w.value)==null?void 0:E.split(","))==null||C.forEach(T=>{const[A,R]=(T==null?void 0:T.split("="))||[];A==="name"?m=R:A==="hide"?v=(Ph==null?void 0:Ph.get(R))??!1:_[A]=y.includes(A)?Number(R):R}))});const b={...ux.escMenus[xc[p]].args.style};c[xc[p]]={content:m,args:{hide:v,style:{...b,..._}}},l=!0;break}case bc.Achievement_progress_bg:case bc.Achievement_progress_text:case bc.Achievement_notUnlock:case bc.Achievement_progress:{u[bc[p]]=uPe(bc[p],d,g),f=!0;break}}if((Ia[p]||gv[p])&&p!==gv.Title_bgm){const m=Ln.title;Js(s,m,h)}else if(FO[p]||Y1[p]){const m=Ln.load;Js(s,m,h)}else if(NO[p]||$O[p]){const m=Ln.storyline;Js(s,m,h)}else if(MO[p]||jO[p]){const m=Ln.achievement;Js(s,m,h)}else if(X1[p]||W1[p]){const m=Ln.option;Js(s,m,h)}else if(LO[p]||z1[p]){const m=Ln.extra;Js(s,m,h)}else if(UO[p]||dn[p]){const m=Ln.collection;Js(s,m,h)}else if(BO[p]||pv[p]){const m=Ln.progressAndAchievement;Js(s,m,h)}else if(DO[p]||vv[p]){const m=Ln.affinity;Js(s,m,h)}}),r(_Ae(s)),l&&r(yAe(c)),f&&r(xAe(u))}(o=window==null?void 0:window.renderPromise)==null||o.call(window),window.pubsub.publish("gameReady"),delete window.renderPromise,SAe()})};function Js(t,e,r){const n=(i,a="")=>{const o=l=>{let u={};const f=/\{(.*?)\}/,h=l.match(f);if(h){const d=h[1].split(","),g={};d.forEach(m=>{const[v,_]=m.split("=");v&&_&&(g[v.trim()]=isNaN(Number(_.trim()))?_.trim():Number(_.trim()))}),u=g}return u},s={hide:!1,style:{}},c=["info","images","btnSound"];return i.forEach(l=>{if(l.key==="hide")s.hide=l.value===!0;else if(l.key.toLowerCase().endsWith("style")){const u=o(l.value);l.key==="style"&&a&&(u.image=a),s[l.key]=u}else if(c.includes(l.key)){const u=o(l.value);s[l.key]=u}}),s};if(mS[e]){if(t[e]={...t[e]},r.options=r.options??[],r.options.some(a=>a.key==="style")||r.options.push({key:"style",value:"{}"}),mS[e].buttons[r.command])t[e].buttons={...t[e].buttons},t[e].buttons[r.command]={key:r.command,content:r.args[0]??"",args:n(r.options??[])};else if(mS[e].other[r.command]){let a=!1;JSe[r.command]&&(a=!0),t[e].other={...t[e].other},t[e].other[r.command]={key:r.command,content:a?"":r.args[0]??"",args:n(r.options??[],r.args[0])}}}return t}function uPe(t,e,r){var l,u,f;const n=((l=r.find(h=>h.key==="hide"))==null?void 0:l.value)||!1,i=((u=r.find(h=>h.key==="style"))==null?void 0:u.value)||"",a=((f=r.find(h=>h.key==="hoverStyle"))==null?void 0:f.value)||"";let o={...ux.achievementUI[t].args.style},s={...ux.achievementUI[t].args.hoverStyle};o=c(i),s=c(a);function c(h){const p=/\{(.*?)\}/,d=h.match(p);if(d){const m=d[1].split(","),v={};return m.forEach(_=>{const[y,b]=_.split("=");y&&b&&(v[y.trim()]=isNaN(Number(b.trim()))?b.trim():Number(b.trim()))}),v}}return{content:e!=null&&e.length?e[0]:"",args:{hide:n,style:o,hoverStyle:s}}}function l8(t){const e={};return t.forEach(r=>{var n;if(typeof r.value=="string"){const i=((n=r.value)==null?void 0:n.split(","))??[];e[r.key]=i!=null&&i.length?!!Ph.get(i[0])||jt(i[1],Ut.bgm):!1}else e[r.key]=typeof r.value=="boolean"?!!Ph.get(r.value):!1}),e}const cPe=(t,e)=>{Je.warn(""+t+":"+e);const r=ce.dispatch;r(yt({component:"showTitle",visibility:!1})),r(yt({component:"showMenuPanel",visibility:!1})),r(yt({component:"isShowLogo",visibility:!1}));const n=document.getElementById("Title_enter_page");n&&(n.style.display="none"),ck(!0);const i=jt(t,Ut.scene);setTimeout(()=>{Ua(i).then(async a=>{if(!await W.sceneManager.setCurrentScene(a,"start.txt",i))return;const s=W.sceneManager.sceneData.currentScene.sceneName;W.gameplay.isFast=!0,W.gameplay.isSyncingWithOrigine=!0,xk(e,s)})},16)};function xk(t,e){W.sceneManager.sceneData.currentSentenceId<t&&W.sceneManager.sceneData.currentScene.sceneName===e?(ti(),setTimeout(()=>xk(t,e),100)):(W.gameplay.isSyncingWithOrigine=!1,W.gameplay.isFast=!1)}const fPe=()=>{window.JMP=xk};var mp=(t=>(t[t.JUMP=0]="JUMP",t[t.SYNCFC=1]="SYNCFC",t[t.SYNCFE=2]="SYNCFE",t[t.EXE_COMMAND=3]="EXE_COMMAND",t[t.REFETCH_TEMPLATE_FILES=4]="REFETCH_TEMPLATE_FILES",t))(mp||{});const hPe=()=>{const t=window.location.hostname,e=window.location.protocol,r=window.location.port;let n="";if(r&&r!=="80"&&r!=="443"&&(n=`:${r}`),e!=="http:"&&e!=="https:")return;let i=`ws://${t}:9999`;e==="https:"&&(i=`wss://${t}${n}/api/webgalsync`),Je.info("socket"+i);const a=new WebSocket(i);a.onopen=()=>{Je.info("socket"),window.pubsub.publish("isPreviewMode",!0);function o(){const s={event:"message",data:{command:mp.SYNCFC,sceneMsg:{scene:W.sceneManager.sceneData.currentScene.sceneName,sentence:W.sceneManager.sceneData.currentSentenceId},stageSyncMsg:ce.getState().stage,message:"sync"}};a.send(JSON.stringify(s)),setTimeout(o,1e3)}o()},a.onmessage=o=>{const s=o.data,l=JSON.parse(s).data;if(l.command===mp.JUMP&&cPe(l.sceneMsg.scene,l.sceneMsg.sentence),l.command===mp.EXE_COMMAND){const u=l.message,h=fb.parse(u,"temp.txt","temp.txt").sentenceList[0];m1(h)}if(l.command===mp.REFETCH_TEMPLATE_FILES){const u=document.getElementById("Title_enter_page");u&&(u.style.display="none"),W.events.styleUpdate.emit()}},a.onerror=o=>{window.pubsub.publish("isPreviewMode",!1),Je.info(" Terre ")}},dPe={version:"IdolTime 1.0.0"},pPe=navigator.userAgent,bk=!!pPe.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),vPe=()=>{Je.info(dPe.version),Je.info("Made with  by IdolTime"),bk&&alert(`iOS 
| iOS `),gPe("./game/userStyleSheet.css"),mPe(),lPe("./game/config.txt");const t=jt("start.txt",Ut.scene);Ua(t).then(async e=>{const r=await W.sceneManager.setCurrentScene(e,"start.txt",t);if(!r)return;const n=W.sceneManager.sceneData.currentScene.subSceneList;W.sceneManager.settledScenes.push(t);const i=fg(n);Xd(i);const a=(r==null?void 0:r.sentenceList)??[],o=a==null?void 0:a.filter(s=>(s==null?void 0:s.commandRaw)==="unlockAchieve");ce.dispatch(Er.setUnlockAchieveAllTotal((o==null?void 0:o.length)??0))}),fPe(),hPe()};function gPe(t){const e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function mPe(){fd.get("./game/animation/animationTable.json").then(t=>{const e=t.data;for(const r of e)fd.get(`./game/animation/${r}.json`).then(n=>{if(n.data){const i={name:r,effects:n.data};W.animationManager.addAnimation(i)}})})}function _Pe(){var t;(t=document.getElementById("root"))==null||t.addEventListener("click",function(e){e.target;const r=document.body,n=document.createElement("div");n.classList.add("click-frame");const{clientX:i,clientY:a}=e;n.style.left=`${i-36}px`,n.style.top=`${a-36.25}px`,r==null||r.appendChild(n);let o=0;const s=()=>{o>9?setTimeout(()=>{r==null||r.removeChild(n)},0):(n.style.backgroundImage=`url('./assets/click${o}.png')`,o++,setTimeout(s,35))};setTimeout(s,35)})}const yPe="_Menu_main_x2m75_1",xPe="_Menu_ShowSoftly_x2m75_1",bPe="_Menu_TagContent_x2m75_10",u8={Menu_main:yPe,Menu_ShowSoftly:xPe,Menu_TagContent:bPe},wPe="_MenuPanel_main_1c9ky_1",EPe="_MenuPanel_button_1c9ky_10",SPe="_MenuPanel_button_icon_1c9ky_38",CPe="_MenuPanel_button_hl_1c9ky_44",Oh={MenuPanel_main:wPe,MenuPanel_button:EPe,MenuPanel_button_icon:SPe,MenuPanel_button_hl:CPe};var TPe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){APe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function APe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IPe(t,e){if(t==null)return{};var r=RPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RPe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var PPe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function OPe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function kPe(t,e,r){var n=typeof e.fill=="string"?[e.fill]:e.fill||[],i=[],a=e.theme||r.theme;switch(a){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:e.size||r.size,strokeWidth:e.strokeWidth||r.strokeWidth,strokeLinecap:e.strokeLinecap||r.strokeLinecap,strokeLinejoin:e.strokeLinejoin||r.strokeLinejoin,colors:i,id:t}}var tz=de.createContext(PPe);tz.Provider;function n0(t,e,r){return function(n){var i=n.size,a=n.strokeWidth,o=n.strokeLinecap,s=n.strokeLinejoin,c=n.theme,l=n.fill,u=n.className,f=n.spin,h=IPe(n,TPe),p=de.useContext(tz),d=de.useMemo(OPe,[]),g=kPe(d,{size:i,strokeWidth:a,strokeLinecap:o,strokeLinejoin:s,theme:c,fill:l},p),m=[p.prefix+"-icon"];return m.push(p.prefix+"-icon-"+t),e&&p.rtl&&m.push(p.prefix+"-icon-rtl"),f&&m.push(p.prefix+"-icon-spin"),u&&m.push(u),Gr.createElement("span",f8(f8({},h),{},{className:m.join(" ")}),r(g))}}const FPe=n0("folder-open",!0,function(t){return Gr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gr.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),NPe=n0("hamburger-button",!1,function(t){return Gr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gr.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),MPe=n0("home",!1,function(t){return Gr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gr.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M19 29V42H29V29H19Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M9 42H39",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap}))}),LPe=n0("logout",!0,function(t){return Gr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gr.createElement("path",{d:"M23.9917 6H6V42H24",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M33 33L42 24L33 15",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M16 23.9917H42",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),BPe=n0("save",!0,function(t){return Gr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gr.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:t.colors[3]}),Gr.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M9 6H34.2814",stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M14 26H34",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M14 34H24.0083",stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinecap:t.strokeLinecap,strokeLinejoin:t.strokeLinejoin}))}),DPe=n0("setting-two",!1,function(t){return Gr.createElement("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},Gr.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:t.colors[1],stroke:t.colors[0],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}),Gr.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:t.colors[3],stroke:t.colors[2],strokeWidth:t.strokeWidth,strokeLinejoin:t.strokeLinejoin}))}),UPe=t=>{let e;switch(t.iconName){case"save":e=F.jsx(BPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"load":e=F.jsx(FPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"option":e=F.jsx(DPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"title":e=F.jsx(MPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;case"exit":e=F.jsx(LPe,{theme:"outline",size:"1.2em",fill:t.iconColor,strokeWidth:2});break;default:e=F.jsx("div",{})}return e},W0=t=>{const{playSePageChange:e,playSeEnter:r}=On();let n=Oh.MenuPanel_button;return t.hasOwnProperty("buttonOnClassName")&&(n=n+t.buttonOnClassName),F.jsxs("div",{className:n,onClick:()=>{t.clickFunc()},onMouseEnter:r,style:{...t.style,color:t.tagColor},children:[F.jsx("div",{className:Oh.MenuPanel_button_icon,children:F.jsx(UPe,{iconName:t.iconName,iconColor:t.iconColor})}),t.tagName]})},Sf=()=>{const t=ce.dispatch;cb(),gb(),ed(),t(Bt({key:"playVocal",value:""})),t(yt({component:"showTitle",visibility:!0})),t(Er.setIsShowUnlock(!1)),t(Er.setShowStoryline(!1)),xg(ce.getState().GUI.titleBg)};function wk(t,e){if(t==null)return{};var r=uSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var jPe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const $Pe=Yi(jPe);var GPe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function h8(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],($Pe[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(GPe),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var VPe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,HPe=/^\s*$/,zPe=Object.create(null);function rz(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(rz,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var XPe={parse:function(t,e){e||(e={}),e.components||(e.components=zPe);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(VPe,function(c,l){if(o){if(c!=="</"+r.name+">")return;o=!1}var u,f=c.charAt(1)!=="/",h=c.startsWith("<!--"),p=l+c.length,d=t.charAt(p);if(h){var g=h8(c);return a<0?(n.push(g),n):((u=i[a]).children.push(g),n)}if(f&&(a++,(r=h8(c)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!d||d==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&d!=="<"&&d)){u=a===-1?n:i[a].children;var m=t.indexOf("<",p),v=t.slice(p,m===-1?void 0:m);HPe.test(v)&&(v=" "),(m>-1&&a+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+rz("",r)},"")}};function cy(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var d8={};function fx(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&d8[e[0]]||(typeof e[0]=="string"&&(d8[e[0]]=new Date),cy.apply(void 0,e))}var nz=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function p8(t,e,r){t.loadNamespaces(e,nz(t,r))}function v8(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,nz(t,n))}function WPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function YPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return fx("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):WPe(t,e,r)}var qPe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,KPe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ZPe=function(e){return KPe[e]},JPe=function(e){return e.replace(qPe,ZPe)};function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _A={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:JPe};function QPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_A=m8(m8({},_A),t)}function iz(){return _A}var az;function eOe(t){az=t}function Ek(){return az}var tOe=["format"],rOe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O2(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function k2(t){return t?t.props?t.props.children:t.children:[]}function nOe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return de.isValidElement(e)})}function _p(t){return Array.isArray(t)?t:[t]}function iOe(t,e){var r=vi({},e);return r.props=Object.assign(t.props,e.props),r}function oz(t,e){if(!t)return"";var r="",n=_p(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(de.isValidElement(a)){var s=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&s===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(c&&s===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=oz(l,e);r+="<".concat(o,">").concat(u,"</").concat(o,">")}}else if(a===null)cy("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Ai(a)==="object"){var f=a.format,h=wk(a,tOe),p=Object.keys(h);if(p.length===1){var d=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(d,"}}")}else cy("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else cy("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function aOe(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var c={};function l(m){var v=_p(m);v.forEach(function(_){typeof _!="string"&&(O2(_)?l(k2(_)):Ai(_)==="object"&&!de.isValidElement(_)&&Object.assign(c,_))})}l(t);var u=XPe.parse("<0>".concat(e,"</0>")),f=vi(vi({},c),i);function h(m,v,_){var y=k2(m),b=d(y,v.children,_);return nOe(y)&&b.length===0?y:b}function p(m,v,_,y,b){m.dummy&&(m.children=v),_.push(de.cloneElement(m,vi(vi({},m.props),{},{key:y}),b?void 0:v))}function d(m,v,_){var y=_p(m),b=_p(v);return b.reduce(function(w,E,C){var T=E.children&&E.children[0]&&E.children[0].content&&r.services.interpolator.interpolate(E.children[0].content,f,r.language);if(E.type==="tag"){var A=y[parseInt(E.name,10)];!A&&_.length===1&&_[0][E.name]&&(A=_[0][E.name]),A||(A={});var R=Object.keys(E.attrs).length!==0?iOe({props:E.attrs},A):A,O=de.isValidElement(R),P=O&&O2(E,!0)&&!E.voidElement,k=s&&Ai(R)==="object"&&R.dummy&&!O,M=Ai(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,E.name);if(typeof R=="string"){var B=r.services.interpolator.interpolate(R,f,r.language);w.push(B)}else if(O2(R)||P){var D=h(R,E,_);p(R,D,w,C)}else if(k){var H=d(y,E.children,_);w.push(de.cloneElement(R,vi(vi({},R.props),{},{key:C}),H))}else if(Number.isNaN(parseFloat(E.name)))if(M){var ee=h(R,E,_);p(R,ee,w,C,E.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(E.name)>-1)if(E.voidElement)w.push(de.createElement(E.name,{key:"".concat(E.name,"-").concat(C)}));else{var ne=d(y,E.children,_);w.push(de.createElement(E.name,{key:"".concat(E.name,"-").concat(C)},ne))}else if(E.voidElement)w.push("<".concat(E.name," />"));else{var Y=d(y,E.children,_);w.push("<".concat(E.name,">").concat(Y,"</").concat(E.name,">"))}else if(Ai(R)==="object"&&!O){var U=E.children[0]?T:null;U&&w.push(U)}else E.children.length===1&&T?w.push(de.cloneElement(R,vi(vi({},R.props),{},{key:C}),T)):w.push(de.cloneElement(R,vi(vi({},R.props),{},{key:C})))}else if(E.type==="text"){var X=n.transWrapTextNodes,V=a?n.unescape(r.services.interpolator.interpolate(E.content,f,r.language)):r.services.interpolator.interpolate(E.content,f,r.language);X?w.push(de.createElement(X,{key:"".concat(E.name,"-").concat(C)},V)):w.push(V)}return w},[])}var g=d([{dummy:!0,children:t||[]}],u,_p(t||[]));return k2(g[0])}function oOe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,g=wk(t,rOe),m=h||Ek();if(!m)return fx("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=p||m.t.bind(m)||function(P){return P};a&&(s.context=a);var _=vi(vi({},iz()),m.options&&m.options.react),y=f||v.ns||m.options&&m.options.defaultNS;y=typeof y=="string"?[y]:y||["translation"];var b=l||oz(e,_)||_.transEmptyNodeValue||i,w=_.hashTransKey,E=i||(w?w(b):b),C=c?s.interpolation:{interpolation:vi(vi({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},T=vi(vi(vi(vi({},s),{},{count:r},c),C),{},{defaultValue:b,ns:y}),A=E?v(E,T):b,R=aOe(u||e,A,m,_,T,d),O=n!==void 0?n:_.defaultTransParent;return O?de.createElement(O,g,R):R}function is(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j$(n.key),n)}}function as(t,e,r){return e&&y8(t.prototype,e),r&&y8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var sOe={type:"3rdParty",init:function(e){QPe(e.options.react),eOe(e)}},sz=de.createContext(),lOe=function(){function t(){is(this,t),this.usedNamespaces={}}return as(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),uOe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fOe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,c=t.values,l=t.defaults,u=t.components,f=t.ns,h=t.i18n,p=t.t,d=t.shouldUnescape,g=wk(t,uOe),m=de.useContext(sz)||{},v=m.i18n,_=m.defaultNS,y=h||v||Ek(),b=p||y&&y.t.bind(y);return oOe(cOe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:c,defaults:l,components:u,ns:f||b&&b.ns||_||y&&y.options&&y.options.defaultNS,i18n:y,t:p,shouldUnescape:d},g))}function lz(t){if(Array.isArray(t))return t}function hOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function b8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uz(t,e){if(t){if(typeof t=="string")return b8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b8(t,e)}}function cz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(t,e){return lz(t)||hOe(t,e)||uz(t,e)||cz()}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pOe=function(e,r){var n=de.useRef();return de.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function yb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=de.useContext(sz)||{},i=n.i18n,a=n.defaultNS,o=r||i||Ek();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new lOe),!o){fx("You will need to pass in an i18next instance by using initReactI18next");var s=function(A,R){return typeof R=="string"?R:R&&Ai(R)==="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(A)?A[A.length-1]:A},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}o.options.react&&o.options.react.wait!==void 0&&fx("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=F2(F2(F2({},iz()),o.options.react),e),u=l.useSuspense,f=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var p=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(T){return YPe(T,o,l)});function d(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],f)}var g=de.useState(d),m=dOe(g,2),v=m[0],_=m[1],y=h.join();e.lng&&(y="".concat(e.lng).concat(y));var b=pOe(y),w=de.useRef(!0);de.useEffect(function(){var T=l.bindI18n,A=l.bindI18nStore;w.current=!0,!p&&!u&&(e.lng?v8(o,e.lng,h,function(){w.current&&_(d)}):p8(o,h,function(){w.current&&_(d)})),p&&b&&b!==y&&w.current&&_(d);function R(){w.current&&_(d)}return T&&o&&o.on(T,R),A&&o&&o.store.on(A,R),function(){w.current=!1,T&&o&&T.split(" ").forEach(function(O){return o.off(O,R)}),A&&o&&A.split(" ").forEach(function(O){return o.store.off(O,R)})}},[o,y]);var E=de.useRef(!0);de.useEffect(function(){w.current&&!E.current&&_(d),E.current=!1},[o,f]);var C=[v,o,p];if(C.t=v,C.i18n=o,C.ready=p,p||!p&&!u)return C;throw new Promise(function(T){e.lng?v8(o,e.lng,h,function(){return T()}):p8(o,h,function(){return T()})})}function Du(t){const{t:e}=yb(),r=i=>e(i[0]==="$"?i.slice(1):t+i);function n(i,...a){return a.length?[r(i),...a.map(o=>r(o))]:r(i)}return n}const vOe=()=>{const t=Du("menu."),{playSeClick:e,playSeDialogOpen:r,playSePageChange:n}=On(),i=ft(g=>g.GUI),a=en(),o=i.currentMenuTag===$r.Save?` ${Oh.MenuPanel_button_hl}`:"",s=i.currentMenuTag===$r.Load?` ${Oh.MenuPanel_button_hl}`:"",c=i.currentMenuTag===$r.Option?` ${Oh.MenuPanel_button_hl}`:"",l=i.currentMenuTag===$r.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",u=i.currentMenuTag===$r.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",f=i.currentMenuTag===$r.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)",h=i.currentMenuTag===$r.Save?"rgba(74, 34, 93, 0.9)":"rgba(123,144,169,1)",p=i.currentMenuTag===$r.Load?"rgba(11, 52, 110, 0.9)":"rgba(123,144,169,1)",d=i.currentMenuTag===$r.Option?"rgba(81, 110, 65, 0.9)":"rgba(123,144,169,1)";return F.jsxs("div",{className:Oh.MenuPanel_main,children:[F.jsx(W0,{iconName:"save",buttonOnClassName:o,iconColor:h,tagColor:l,clickFunc:()=>{n(),!i.showTitle&&a(Yc($r.Save))},tagName:t("saving.title")},"saveButton"),F.jsx(W0,{iconName:"load",buttonOnClassName:s,iconColor:p,tagColor:u,clickFunc:()=>{n(),a(Yc($r.Load))},tagName:t("loadSaving.title")},"loadButton"),F.jsx(W0,{iconName:"title",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{r(),es({title:t("$gaming.buttons.titleTips"),leftText:t("$common.no"),rightText:t("$common.yes"),leftFunc:()=>{},rightFunc:()=>{Sf(),a(yt({component:"showMenuPanel",visibility:!1}))}})},tagName:t("title.title")},"titleIcon"),F.jsx(W0,{iconName:"option",style:{marginLeft:"auto"},buttonOnClassName:c,iconColor:d,tagColor:f,clickFunc:()=>{n(),a(Yc($r.Option))},tagName:t("options.title")},"optionButton"),F.jsx(W0,{iconName:"exit",iconColor:"rgba(123,144,169,1)",tagColor:"rgba(123,144,169,1)",clickFunc:()=>{e(),a(yt({component:"showMenuPanel",visibility:!1}))},tagName:t("exit.title")},"exitIcon")]})},gOe="_Save_Load_main_1252o_2",mOe="_Common_back_1252o_13",_Oe="_Common_title_1252o_30",yOe="_Save_title_1252o_41",xOe="_Load_title_1252o_45",bOe="_Save_Load_top_buttonList_1252o_49",wOe="_Save_Load_indicator_container_1252o_59",EOe="_Save_Load_top_button_1252o_49",SOe="_Save_Load_indicator_default_1252o_74",COe="_Save_Load_indicator_active_1252o_83",TOe="_Save_Load_content_1252o_92",AOe="_Save_Load_content_element_1252o_105",IOe="_Elements_in_1252o_1",ROe="_Elements_in_transform_1252o_1",POe="_Save_Load_content_element_top_1252o_120",OOe="_Save_Load_info_1252o_127",kOe="_Save_Load_content_ele_1252o_105",FOe="_Save_Load_bg_1252o_158",NOe="_Save_Load_content_miniRen_bg_1252o_170",MOe="_Save_Load_border_1252o_181",LOe="_Btn_1252o_195",BOe="_Btn_r_1252o_209",fr={Save_Load_main:gOe,Common_back:mOe,Common_title:_Oe,Save_title:yOe,Load_title:xOe,Save_Load_top_buttonList:bOe,Save_Load_indicator_container:wOe,Save_Load_top_button:EOe,Save_Load_indicator_default:SOe,Save_Load_indicator_active:COe,Save_Load_content:TOe,Save_Load_content_element:AOe,Elements_in:IOe,Elements_in_transform:ROe,Save_Load_content_element_top:POe,Save_Load_info:OOe,Save_Load_content_ele:kOe,Save_Load_bg:FOe,Save_Load_content_miniRen_bg:NOe,Save_Load_border:MOe,Btn:LOe,Btn_r:BOe},DOe=()=>{const{playSeClick:t,playSePageChange:e,playSeEnter:r,playSeDialogOpen:n}=On(),i=ft(v=>v.userData),a=ft(v=>v.saveData),o=en(),s=[],l=ft(v=>v.GUI).gameUIConfigs[Ln.load];for(let v=1;v<=4;v++){const _=F.jsx("div",{onClick:()=>{o(Yy(v)),ji(),e()},onMouseEnter:r,className:`${fr.Save_Load_top_button} interactive`,children:F.jsx("div",{className:v===i.optionData.slPage?fr.Save_Load_indicator_active:fr.Save_Load_indicator_default})},"Load_element_page"+v);s.push(_)}const u=Du("common."),f=[],h=(i.optionData.slPage-1)*6+1,p=h+5;de.useEffect(()=>{sk(h,p)},[h,p]);let d=0;for(let v=h;v<=p;v++){d++;const _=a.saveData[v];let y=F.jsx("div",{className:fr.Save_Load_content_ele});_&&(y=F.jsxs(F.Fragment,{children:[F.jsx("div",{className:fr.Save_Load_bg}),F.jsx("div",{className:fr.Save_Load_border}),F.jsx("img",{className:fr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:_.previewImage}),F.jsxs("div",{className:fr.Save_Load_info,children:[_.saveTime,F.jsx("br",{}),F.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Tt(300)},children:_.nowStageState.showText})]})]}));const b=F.jsx("div",{onClick:()=>{a.saveData[v]?(n(),es({title:g("saving.isOverwrite"),leftText:u("no"),rightText:u("yes"),leftFunc:()=>{},rightFunc:()=>{fD(v),ji()}})):(e(),fD(v))},onMouseEnter:r,className:`${fr.Save_Load_content_element} interactive`,style:{animationDelay:`${d*30}ms`},children:y},"saveElement_"+v);f.push(b)}const g=Du("menu."),m=v=>{let y=i.optionData.slPage;v==="left"?y=y>1?y-1:4:y=y<4?y+1:1,o(Yy(y)),ji(),e()};return F.jsxs("div",{className:fr.Save_Load_main,children:[F.jsx(Jn,{item:l.buttons.Load_back_button,defaultClass:`${fr.Common_back} interactive`,onClick:()=>{o(yt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:r}),F.jsx("div",{className:`${fr.Common_title} ${fr.Save_title}`}),F.jsx("div",{className:fr.Save_Load_content,id:"Save_content_page_"+i.optionData.slPage,children:f}),F.jsxs("div",{className:fr.Save_Load_top_buttonList,children:[F.jsx("div",{className:`${fr.Btn} interactive`,onMouseEnter:r,onClick:()=>m("left")}),F.jsx("div",{className:fr.Save_Load_indicator_container,children:s}),F.jsx("div",{className:`${fr.Btn} ${fr.Btn_r} interactive`,onMouseEnter:r,onClick:()=>m("right")})]})]})},UOe=()=>{const{playSeClick:t,playSeEnter:e,playSePageChange:r}=On(),n=ft(d=>d.userData),i=ft(d=>d.saveData),a=en(),o=ft(d=>d.GUI),s=[],c=o.gameUIConfigs[Ln.load];for(let d=1;d<=4;d++){const g=F.jsx("div",{onClick:()=>{a(Yy(d)),ji(),r()},onMouseEnter:e,className:`${fr.Save_Load_top_button} interactive`,children:F.jsx("div",{className:d===n.optionData.slPage?fr.Save_Load_indicator_active:fr.Save_Load_indicator_default})},"Load_element_page"+d);s.push(g)}const l=[],u=(n.optionData.slPage-1)*6+1,f=u+5;de.useEffect(()=>{sk(u,f)},[u,f]);let h=0;for(let d=u;d<=f;d++){h++;const g=i.saveData[d];let m=F.jsx("div",{className:fr.Save_Load_content_ele});g&&(m=F.jsxs(F.Fragment,{children:[F.jsx("div",{className:fr.Save_Load_bg}),F.jsx("img",{className:fr.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:g.previewImage}),F.jsx("div",{className:fr.Save_Load_border}),F.jsxs("div",{className:fr.Save_Load_info,children:[g.saveTime,F.jsx("br",{}),F.jsx("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:Tt(300)},children:g.nowStageState.showText})]})]}));const v=F.jsx("div",{onClick:()=>{EAe(d),t()},onMouseEnter:e,className:`${fr.Save_Load_content_element} interactive`,style:{animationDelay:`${h*30}ms`},children:m},"loadElement_"+d);l.push(v)}Du("menu.");const p=d=>{let m=n.optionData.slPage;d==="left"?m=m>1?m-1:4:m=m<4?m+1:1,a(Yy(m)),ji(),r()};return F.jsxs("div",{className:fr.Save_Load_main,children:[F.jsx(Jn,{item:c.buttons.Load_back_button,defaultClass:`${fr.Common_back} interactive`,onClick:()=>{a(yt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e}),F.jsx(Jn,{item:c.other[Y1.Load_title],defaultClass:`${fr.Common_title} ${fr.Load_title}`}),F.jsx("div",{className:fr.Save_Load_content,id:"Load_content_page_"+n.optionData.slPage,children:l}),F.jsxs("div",{className:fr.Save_Load_top_buttonList,children:[F.jsx("div",{className:`${fr.Btn} interactive`,onMouseEnter:e,onClick:()=>p("left")}),F.jsx("div",{className:fr.Save_Load_indicator_container,children:s}),F.jsx("div",{className:`${fr.Btn} ${fr.Btn_r} interactive`,onMouseEnter:e,onClick:()=>p("right")})]})]})},jOe="_Options_main_z372r_1",$Oe="_Options_top_z372r_12",GOe="_Options_page_container_z372r_25",VOe="_Options_left_z372r_31",HOe="_title_base_z372r_36",zOe="_Options_right_z372r_46",XOe="_Label_z372r_50",WOe="_title_voice_z372r_55",YOe="_Label_fullscreen_z372r_74",qOe="_Label_window_z372r_79",KOe="_Label_text_speed_z372r_84",ZOe="_Label_row_z372r_88",JOe="_Label_row_right_z372r_96",QOe="_Label_row_text_z372r_101",eke="_Label_row_decoration_z372r_108",tke="_Check_row_z372r_120",rke="_Check_row_option_z372r_129",nke="_Check_row_prefix_z372r_134",ike="_Check_row_box_z372r_149",ake="_mt48_z372r_161",oke="_mt32_z372r_165",ske="_mt22_z372r_170",lke="_Slider_wrapper_z372r_175",uke="_Check_row_box_checked_z372r_179",cke="_Save_back_z372r_193",Mt={Options_main:jOe,Options_top:$Oe,Options_page_container:GOe,Options_left:VOe,title_base:HOe,Options_right:zOe,Label:XOe,title_voice:WOe,Label_fullscreen:YOe,Label_window:qOe,Label_text_speed:KOe,Label_row:ZOe,Label_row_right:JOe,Label_row_text:QOe,Label_row_decoration:eke,Check_row:tke,Check_row_option:rke,Check_row_prefix:nke,Check_row_box:ike,mt48:ake,mt32:oke,mt22:ske,Slider_wrapper:lke,Check_row_box_checked:uke,Save_back:cke};const Y0=t=>{const{playSeEnter:e}=On();de.useEffect(()=>{setTimeout(()=>{const n=document.getElementById(t.uniqueID);n!==null&&n.setAttribute("value",(t.initValue||0).toString()),r()},1)},[]),de.useEffect(()=>{r()},[t.initValue]);function r(){var i;const n=document.getElementById(`${t.uniqueID}-bg`);if(n!==null&&t.uniqueID==="light"){const o=(Number(t.initValue)-50)/50*684+"px";n.style.width=o}else n!==null&&(n.style.width=Number((i=t.initValue)==null?void 0:i.toString())/100*342/.5+"px")}return F.jsxs("div",{className:"Option_WebGAL_slider",children:[F.jsx("input",{className:"Rang_input",id:t.uniqueID,type:"range",min:(t==null?void 0:t.min)??0,max:(t==null?void 0:t.max)??100,onChange:t.onChange,onFocus:e,onMouseEnter:e}),F.jsxs("div",{className:"Slider_group",children:[F.jsx("div",{className:"Slider_bg",id:`${t.uniqueID}-bg`}),F.jsx("div",{className:"Slider_bg_under"})]})]})},fke=()=>{de.useEffect(lx,[]);const{playSeClick:t,playSeEnter:e}=On(),r=ft(o=>o.userData),n=en(),a=ft(o=>o.GUI).gameUIConfigs[Ln.option];return F.jsxs("div",{className:Mt.Options_main,children:[F.jsx(Jn,{item:a.buttons[X1.Option_back_button],defaultClass:`${Mt.Save_back} interactive`,onClick:()=>{n(yt({component:"showMenuPanel",visibility:!1}))},onMouseEnter:e}),F.jsx(Jn,{item:a.other[W1.Option_title],defaultClass:Mt.Options_top}),F.jsxs("div",{className:Mt.Options_page_container,children:[F.jsxs("div",{className:Mt.Options_left,children:[F.jsx("div",{className:Mt.title_base}),F.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt48}`,children:[F.jsx("span",{className:Mt.Label_row_text,children:""}),F.jsx("span",{className:Mt.Label_row_decoration})]}),F.jsxs("div",{className:Mt.Check_row,children:[F.jsxs("div",{className:Mt.Check_row_option,children:[F.jsx("span",{className:Mt.Check_row_prefix,children:""}),F.jsx("div",{className:`${Mt.Check_row_box} interactive`,onClick:()=>{n(Vo({key:"fullScreen",value:Is.on})),ji()},children:r.optionData.fullScreen?null:F.jsx("div",{className:Mt.Check_row_box_checked})})]}),F.jsxs("div",{className:Mt.Check_row_option,children:[F.jsx("span",{className:Mt.Check_row_prefix,children:""}),F.jsx("div",{className:`${Mt.Check_row_box} interactive`,onClick:()=>{n(Vo({key:"fullScreen",value:Is.off})),ji()},children:r.optionData.fullScreen?F.jsx("div",{className:Mt.Check_row_box_checked}):null})]})]}),F.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt48}`,children:[F.jsx("span",{className:Mt.Label_row_text,children:""}),F.jsx("span",{className:Mt.Label_row_decoration})]}),F.jsx(Y0,{initValue:r.optionData.textSpeed,uniqueID:"",onChange:o=>{const s=o.target.value;n(Vo({key:"textSpeed",value:Number(s)})),ji()}})]}),F.jsxs("div",{className:Mt.Options_right,children:[F.jsx("div",{className:Mt.title_voice}),F.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt32} ${Mt.Label_row_right}`,children:[F.jsx("span",{className:Mt.Label_row_text,children:""}),F.jsx("span",{className:Mt.Label_row_decoration})]}),F.jsx("div",{className:Mt.Slider_wrapper,children:F.jsx(Y0,{initValue:r.optionData.volumeMain,uniqueID:"",onChange:o=>{const s=o.target.value;n(Vo({key:"volumeMain",value:Number(s)})),ji()}})}),F.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt32} ${Mt.Label_row_right}`,children:[F.jsx("span",{className:Mt.Label_row_text,children:""}),F.jsx("span",{className:Mt.Label_row_decoration})]}),F.jsx("div",{className:Mt.Slider_wrapper,children:F.jsx(Y0,{initValue:r.optionData.bgmVolume,uniqueID:"",onChange:o=>{const s=o.target.value;n(Vo({key:"bgmVolume",value:Number(s)})),ji()}})}),F.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt32} ${Mt.Label_row_right}`,children:[F.jsx("span",{className:Mt.Label_row_text,children:""}),F.jsx("span",{className:Mt.Label_row_decoration})]}),F.jsx("div",{className:Mt.Slider_wrapper,children:F.jsx(Y0,{initValue:r.optionData.seVolume,uniqueID:"",onChange:o=>{const s=o.target.value;n(Vo({key:"seVolume",value:Number(s)})),n(Vo({key:"uiSeVolume",value:Number(s)})),ji()}})}),F.jsxs("div",{className:`${Mt.Label_row} ${Mt.mt22} ${Mt.Label_row_right}`,children:[F.jsx("span",{className:Mt.Label_row_text,children:""}),F.jsx("span",{className:Mt.Label_row_decoration})]}),F.jsx("div",{className:Mt.Slider_wrapper,children:F.jsx(Y0,{initValue:r.optionData.vocalVolume,uniqueID:"",onChange:o=>{const s=o.target.value;n(Vo({key:"vocalVolume",value:Number(s)})),ji()}})})]})]})]})},hke=()=>{const t=ft(r=>r.GUI);let e;switch(t.currentMenuTag){case $r.Save:e=F.jsx(DOe,{});break;case $r.Load:e=F.jsx(UOe,{});break;case $r.Option:e=F.jsx(fke,{});break}return F.jsx(F.Fragment,{children:t.showMenuPanel&&F.jsxs("div",{className:u8.Menu_main,children:[F.jsx("div",{className:u8.Menu_TagContent,children:e}),$r.Option?null:F.jsx(vOe,{})]})})},dke="_MainStage_main_9enex_1",pke="_MainStage_main_container_9enex_10",vke="_MainStage_bgContainer_9enex_17",gke="_MainStage_showBgSoftly_9enex_1",mke="_MainStage_bgContainer_Settled_9enex_27",_ke="_MainStage_oldBgContainer_9enex_37",yke="_MainStage_oldBgFadeout_9enex_1",xke="_MainStage_oldBgContainer_Settled_9enex_47",bke="_pixiContainer_9enex_72",wke="_chooseContainer_9enex_77",N2={MainStage_main:dke,MainStage_main_container:pke,MainStage_bgContainer:vke,MainStage_showBgSoftly:gke,MainStage_bgContainer_Settled:mke,MainStage_oldBgContainer:_ke,MainStage_oldBgFadeout:yke,MainStage_oldBgContainer_Settled:xke,pixiContainer:bke,chooseContainer:wke};function Eke(){const t=ft(r=>r.userData.optionData.textboxFont);function e(){return ub(t).with(Hc.song,()=>'"", serif').with(Hc.lxgw,()=>'"LXGW", serif').with(Hc.hei,()=>'"WebgalUI", serif').default(()=>'"WebgalUI", serif')}return e()}function E8(t){switch(t){case 0:return 150;case 1:return 205;case 2:return 240;default:return 205}}const Ske="_TextBox_EventHandler_3ooeu_1",Cke="_TextBox_Container_3ooeu_9",Tke="_showSoftly_3ooeu_1",Ake="_TextBox_main_3ooeu_24",Ike="_TextBox_textElement_start_3ooeu_50",Rke="_TextDelayShow_3ooeu_1",Pke="_outer_3ooeu_56",Oke="_inner_3ooeu_65",kke="_zhanwei_3ooeu_74",Fke="_TextBox_textElement_Settled_3ooeu_79",Nke="_TextBox_showName_3ooeu_84",Mke="_outerName_3ooeu_94",Lke="_TextBox_showName_avatar_3ooeu_98",Bke="_TextBox_showName_player_3ooeu_104",Dke="_TextBox_ShowName_Background_3ooeu_110",Uke="_miniAvatarContainer_3ooeu_122",jke="_miniAvatarImg_3ooeu_142",$ke="_nameContainer_3ooeu_147",Gke="_innerName_3ooeu_160",Vke="_line_3ooeu_167",Hke="_line_avatar_3ooeu_175",zke="_line_hide_3ooeu_179",Xke="_text_3ooeu_183",qr={TextBox_EventHandler:Ske,TextBox_Container:Cke,showSoftly:Tke,TextBox_main:Ake,TextBox_textElement_start:Ike,TextDelayShow:Rke,outer:Pke,inner:Oke,zhanwei:kke,TextBox_textElement_Settled:Fke,TextBox_showName:Nke,outerName:Mke,TextBox_showName_avatar:Lke,TextBox_showName_player:Bke,TextBox_ShowName_Background:Dke,miniAvatarContainer:Uke,miniAvatarImg:jke,nameContainer:$ke,innerName:Gke,line:Vke,line_avatar:Hke,line_hide:zke,text:Xke};function Wke(t){const{textArray:e,textDelay:r,currentConcatDialogPrev:n,currentDialogKey:i,isText:a,isSafari:o,isFirefox:s,fontSize:c,miniAvatar:l,showName:u,font:f,textDuration:h,isUseStroke:p,textboxOpacity:d,dialogueMode:g,textAlign:m}=t,v=VH("Stage/TextBox/textbox.scss");de.useEffect(()=>{function b(){[...document.querySelectorAll(".Textelement_start")].forEach(C=>{C.className=v("TextBox_textElement_Settled",qr.TextBox_textElement_Settled)})}return W.events.textSettle.on(b),()=>{W.events.textSettle.off(b)}},[]);let _=0;const y=e.map((b,w)=>{const E=b.map((C,T)=>{let A=_*r;_++;let R=n.length;return n!==""&&T>=R&&(A=A-R*r),T<R?F.jsx("span",{id:`${A}`,className:v("TextBox_textElement_Settled",qr.TextBox_textElement_Settled),style:{animationDelay:`${A}ms`,animationDuration:`${h}ms`},children:F.jsxs("span",{className:qr.zhanwei,children:[C,F.jsx("span",{className:v("outer",qr.outer),children:C}),p&&F.jsx("span",{className:v("inner",qr.inner),children:C})]})},i+T):F.jsx("span",{"data-text":C,id:`${A}`,className:`${v("TextBox_textElement_start",qr.TextBox_textElement_start)} Textelement_start`,style:{animationDelay:`${A}ms`,position:"relative"},children:F.jsxs("span",{className:qr.zhanwei,children:[C,F.jsx("span",{className:v("outer",qr.outer),children:C}),p&&F.jsx("span",{className:v("inner",qr.inner),children:C})]})},i+T)});return F.jsx("div",{style:{wordBreak:o||t.isFirefox?"break-all":void 0,display:o?"flex":void 0,flexWrap:o?"wrap":void 0},children:E},`text-line-${w}`)});return F.jsx(F.Fragment,{children:a&&F.jsxs("div",{className:qr.TextBox_Container,children:[F.jsx("div",{className:v("TextBox_main",qr.TextBox_main),style:{opacity:`${d/100}`}}),F.jsxs("div",{id:"textBoxMain",className:qr.TextBox_main,style:{fontFamily:f},children:[F.jsxs("div",{id:"miniAvatar",className:v("miniAvatarContainer",qr.miniAvatarContainer),children:[l!==""&&F.jsx("div",{}),l!==""&&F.jsx("img",{className:v("miniAvatarImg",qr.miniAvatarImg),alt:"miniAvatar",src:l})]}),u!==""&&g!=="narrator"&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:v("TextBox_showName",qr.TextBox_showName),style:{opacity:`${d/100}`,fontSize:"200%"},children:F.jsx("div",{style:{opacity:0},children:u.split("").map((b,w)=>F.jsx("span",{style:{position:"relative"},children:F.jsxs("span",{className:qr.zhanwei,children:[b,F.jsx("span",{className:v("outerName",qr.outerName),children:b}),p&&F.jsx("span",{className:v("innerName",qr.innerName),children:b})]})},b+w))})}),F.jsx("div",{className:`${qr.TextBox_showName} ${l?qr.TextBox_showName_avatar:""}`,children:u.split("").map((b,w)=>F.jsx("span",{style:{position:"relative"},children:F.jsxs("span",{className:qr.zhanwei,children:[b,F.jsx("span",{className:v("outerName",qr.outerName),children:b}),p&&F.jsx("span",{className:v("innerName",qr.innerName),children:b})]})},b+w))},u)]}),F.jsx("div",{className:`${qr.line} ${g==="narrator"?qr.line_hide:""} ${l?qr.line_avatar:""}`}),F.jsx("div",{className:v("text",qr.text),style:{flexFlow:"column",overflow:"hidden",textAlign:m||g==="narrator"?"center":"left"},children:y})]})]})})}const fz=navigator.userAgent,Yke=/firefox/i.test(fz),qke=/^((?!chrome|android).)*safari/i.test(fz),Kke=()=>{const[t,e]=de.useState(!0);de.useEffect(()=>{const y=()=>{const b=Vp().height||qc.height,w=Vp().width||qc.width,E=window.innerHeight,C=window.innerWidth,T=E/b,A=C/w,R=C/b,O=E/w;[T,A,R,O].forEach(P=>{P<=.2?e(!1):e(!0)})};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]);const r=ft(y=>y.stage),n=ft(y=>y.userData),i=yH(n.optionData.textSpeed),a=mTe(n.optionData.textSpeed);let o=E8(n.optionData.textSize)+"%";const s=Eke(),c=r.showText!==""||r.showName!=="";let l=n.optionData.textSize;c&&r.showTextSize!==-1&&(o=E8(r.showTextSize)+"%",l=r.showTextSize);const u=ub(n.optionData.textSize).with(yu.small,()=>3).with(yu.medium,()=>2).with(yu.large,()=>2).default(()=>2),f=hz(r.showText,u),h=r.showName,p=r.currentConcatDialogPrev,d=r.currentDialogKey,g=r.miniAvatar,m=n.optionData.textboxOpacity,v=r.dialogueMode,_=Wke;return F.jsx(_,{textArray:f,isText:c,textDelay:i,showName:h,currentConcatDialogPrev:p,fontSize:o,currentDialogKey:d,isSafari:qke,isFirefox:Yke,miniAvatar:g,textDuration:a,font:s,textSizeState:l,lineLimit:u,isUseStroke:t,textboxOpacity:m,dialogueMode:v})};function S8(t){return!!t.match(/[\u4e00-\u9fa5]|[\u0800-\u4e00]|[\uac00-\ud7ff]/)}function hz(t,e,r){return t.split("|").map(o=>Jke(o)).map(o=>{const s=[];return o.forEach((c,l)=>{ub(c.type).with("SegmentType.String",()=>{const u=Zke(c.value);s.push(...u)}).endsWith("SegmentType.Link",()=>{const u=c.value,f=F.jsxs("ruby",{children:[u.text,F.jsx("rt",{children:u.link})]},l+u.text);s.push(f)})}),s}).slice(0,r?void 0:e)}function Zke(t){if(!t)return[];const e=[];let r="",n=S8(t[0]);const i=a=>/[!-\/:-@\[-`{-~\u2000-\u206F\u3000-\u303F\uff00-\uffef]/g.test(a);for(const a of t)if(a===" ")r&&(e.push(r),r=""),e.push(""),n=!1;else if(S8(a)&&!i(a))!n&&r&&(e.push(r),r=""),e.push(a),n=!0;else{if(i(a)){r?(r+=a,e.push(r),r=""):e.length>0?e[e.length-1]+=a:e.push(a);continue}n&&r&&(e.push(r),r=""),r+=a,n=!1}return r&&e.push(r),e}function Jke(t){const e=/(\[(.*?)\]\((.*?)\))|([^\[\]]+)/g,r=[];let n;for(;(n=e.exec(t))!==null;)if(n[1]){const i=n[2],a=n[3];r.push({type:"SegmentType.Link",value:{text:i,link:a}})}else{const i=n[0];r.push({type:"SegmentType.String",value:i})}return r}const Qke=()=>{var y;const t=ft(b=>b.stage),e=ft(b=>b.GUI.titleBgm),r=ft(b=>b.GUI.showTitle),n=ft(b=>b.userData),i=n.optionData.volumeMain,a=i*.01*n.optionData.vocalVolume*.01*t.vocalVolume*.01,o=i*.01*n.optionData.bgmVolume*.01*t.bgm.volume*.01,s=t.bgm.enter,c=t.uiSe,l=i*.01*(((y=n.optionData)==null?void 0:y.seVolume)??100)*.01,u=i*.01*(n.optionData.uiSeVolume??50)*.01,f=ft(b=>b.GUI.isEnterGame),[h,p]=de.useState(""),[d,g]=de.useState(""),[m,v]=de.useState(setTimeout(()=>{},0)),_=(b,w,E)=>{E>=0?b.volume=0:b.volume=w;const C=10,T=w/E*C,A=()=>{const R=setTimeout(()=>{b.volume+T>=w?b.volume=w:b.volume+T<=0?(b.volume=0,ce.dispatch(Bt({key:"bgm",value:{src:"",enter:0,volume:100}}))):(b.volume+=T,A())},C);v(R)};A()};return de.useEffect(()=>{clearTimeout(m);const b=document.getElementById("currentBgm");b&&(s===0?b.volume=o:_(b,o,s))},[h,o,s]),de.useEffect(()=>{(async()=>{var E;const w=await Gp(r?e:t.bgm.src);p(w),(E=document.getElementById("currentBgm"))==null||E.load()})()},[r,e,t.bgm.src]),de.useEffect(()=>{Je.debug(`${o}`)},[o]),de.useEffect(()=>{Je.debug(`: ${s}`)},[s]),de.useEffect(()=>{Je.debug(`${a}`);const b=document.getElementById("currentVocal");b&&(b.volume=a.toString())},[a]),de.useEffect(()=>{if(c==="")return;(async()=>{var C;const w=await Gp(c),E=document.createElement("audio");E.src=w,ce.dispatch(Er.setSaveStatus({key:"uiSeAudioElement",value:E})),E.load(),E.loop=!1,isNaN(u)?(Je.error("UI SE Vol is NaN"),E.volume=isNaN(l)?i/100:l/100):E.volume=u,(C=E==null?void 0:E.play)==null||C.call(E),E.addEventListener("ended",()=>{var T;(T=E==null?void 0:E.remove)==null||T.call(E)}),ce.dispatch(Bt({key:"uiSe",value:""}))})()},[c]),de.useEffect(()=>{Je.debug(`: ${l}`)},[l]),de.useEffect(()=>{Je.debug(`: ${u}`)},[u]),de.useEffect(()=>{Je.debug(`: ${t.playVocal}`),Gp(t.playVocal).then(b=>{g(b),document.getElementById("currentVocal").load()})},[t.playVocal]),F.jsxs("div",{children:[F.jsx("audio",{id:"currentBgm",src:h,loop:!0,autoPlay:f},r.toString()+h),F.jsx("audio",{id:"currentVocal",src:d})]})},e3e=()=>{const t=ft(i=>i.stage);let e="100%",r="100%",n="0";return t.enableFilm!==""&&(r="76%",n="12%"),F.jsx("div",{className:Xl.FullScreenPerform_main,style:{width:e,height:r,top:n},children:F.jsx("div",{id:"videoContainer"})})},t3e="_TextBox_EventHandler_449dq_2",r3e="_TextBox_main_449dq_10",n3e="_showSoftly_449dq_1",i3e="_TextBox_textElement_449dq_38",a3e="_TextBox_textElement_start_449dq_43",o3e="_TextDelayShow_449dq_1",s3e="_TextBox_textElement_Settled_449dq_48",l3e="_TextBox_showName_449dq_52",u3e="_miniAvatarContainer_449dq_68",c3e="_miniAvatarImg_449dq_76",M2={TextBox_EventHandler:t3e,TextBox_main:r3e,showSoftly:n3e,TextBox_textElement:i3e,TextBox_textElement_start:a3e,TextDelayShow:o3e,TextBox_textElement_Settled:s3e,TextBox_showName:l3e,miniAvatarContainer:u3e,miniAvatarImg:c3e},f3e=()=>{const t=ft(o=>o.stage),e=ft(o=>o.userData);de.useEffect(()=>{});const r=I0e.textInitialDelay-20*e.optionData.textSpeed,n=e.optionData.textSize*50+200+"%",a=t.showText.split("").map((o,s)=>{let c=s*r,l=t.currentConcatDialogPrev.length;return t.currentConcatDialogPrev!==""&&s>=l&&(c=c-l*r),s<l?F.jsx("span",{id:`${c}`,className:M2.TextBox_textElement_Settled,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s):F.jsx("span",{id:`${c}`,className:M2.TextBox_textElement_start,style:{animationDelay:`${c}ms`},children:o},t.currentDialogKey+s)});return F.jsx("div",{id:"textBoxMain",className:M2.TextBox_main,children:F.jsx("div",{style:{fontSize:n},children:a})})};function h3e(t){const e=t.bgName;de.useEffect(()=>{var n,i,a;const r="bg-main";if(e!==""){const{bgX:o,bgY:s}=t,c=(n=W.gameplay.pixiStage)==null?void 0:n.getStageObjByKey(r);c&&c.sourceUrl!==e&&C8(c),(i=W.gameplay.pixiStage)==null||i.addBg(r,e,o,s),xg(e),Je.debug(""),setTimeout(()=>{const{duration:l,animation:u}=Oa("bg-main","enter",!0);W.gameplay.pixiStage.registerPresetAnimation(u,"bg-main-softin",r,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects("bg-main-softin"),l)},0)}else{const o=(a=W.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(r);o&&C8(o)}},[e])}function C8(t){var i,a;(i=W.gameplay.pixiStage)==null||i.removeAnimationWithSetEffects("bg-main-softin");const e=t.key;t.key="bg-main-off",(a=W.gameplay.pixiStage)==null||a.removeStageObjectByKey(e);const{duration:r,animation:n}=Oa("bg-main-off","exit",!0);W.gameplay.pixiStage.registerAnimation(n,"bg-main-softoff","bg-main-off"),setTimeout(()=>{var o,s;(o=W.gameplay.pixiStage)==null||o.removeAnimation("bg-main-softoff"),(s=W.gameplay.pixiStage)==null||s.removeStageObjectByKey("bg-main-off")},r)}async function dz(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file: ${e.status} ${e.statusText}`);const r=await e.arrayBuffer();return new Uint8Array(r)}function d3e(t){const{figNameLeft:e,figName:r,figNameRight:n,freeFigure:i,live2dMotion:a,live2dExpression:o}=t;de.useEffect(()=>{var s;for(const c of a)(s=W.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),de.useEffect(()=>{var s;for(const c of o)(s=W.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),de.useEffect(()=>{var l,u;const s="fig-center",c="fig-center-softin";if(r!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&Qs(f,c,t.effects),q0(void 0,s,r,"center"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Oa(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&Qs(f,c,t.effects)}},[r]),de.useEffect(()=>{var l,u;const s="fig-left",c="fig-left-softin";if(e!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==e&&Qs(f,c,t.effects),q0(void 0,s,e,"left"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Oa(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==e&&Qs(f,c,t.effects)}},[e]),de.useEffect(()=>{var l,u;const s="fig-right",c="fig-right-softin";if(n!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&Qs(f,c,t.effects),q0(void 0,s,n,"right"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Oa(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&Qs(f,c,t.effects)}},[n]),de.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=W.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(Qs(d,p,t.effects),q0(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:g,animation:m}=Oa(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(p),g)},32)):(q0(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:g,animation:m}=Oa(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(p),g)},32))}else{const d=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&Qs(d,p,t.effects)}}const s=(u=W.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="popImg-left"||f.key==="popImg-center"||f.key==="popImg-right"||f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;Qs(f,d,t.effects)}}}},[i])}function Qs(t,e,r){var c,l,u;if((c=W.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),W.gameplay.isFast){Je.info(""),(l=W.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=W.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Oa(i,"exit");W.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.removeAnimation(a),(h=W.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function q0(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return p3e(...e);if(r.endsWith(".skel"))return(n=W.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png"))dz(r).then(a=>{var o;return(o=W.gameplay.pixiStage)==null?void 0:o.addFigure(...e,v3e(a))});else return(i=W.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function p3e(...t){}function v3e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}const g3e=""+new URL("popupImageBorder.png",import.meta.url).href;function m3e(t){const{popUpImageName:e,popUpImageNameLeft:r,popUpImageNameRight:n,freePopUpImage:i,popImgLive2dMotion:a,popImgLive2dExpression:o}=t;de.useEffect(()=>{var s;for(const c of a)(s=W.gameplay.pixiStage)==null||s.changeModelMotionByKey(c.target,c.motion)},[a]),de.useEffect(()=>{var s;for(const c of o)(s=W.gameplay.pixiStage)==null||s.changeModelExpressionByKey(c.target,c.expression)},[o]),de.useEffect(()=>{var u,f;const s="popImg-center",c="popImg-center-softin",l="bg-popImg";if(e!==""){Qf("image",l,g3e,"center");const h=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);h&&h.sourceUrl!==e&&el(h,c,t.effects),Qf(void 0,s,e,"center"),Je.debug(""),setTimeout(()=>{const{duration:p,animation:d}=Oa(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(d,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),p)},32)}else{Je.debug("");const h=(f=W.gameplay.pixiStage)==null?void 0:f.getStageObjByKey(s);h&&h.sourceUrl!==e&&el(h,c,t.effects)}},[e]),de.useEffect(()=>{var l,u;const s="popImg-left",c="popImg-left-softin";if(r!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==r&&el(f,c,t.effects),Qf(void 0,s,r,"left"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Oa(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{Je.debug("");const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==r&&el(f,c,t.effects)}},[r]),de.useEffect(()=>{var l,u;const s="popImg-right",c="popImg-right-softin";if(n!==""){const f=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(s);f&&f.sourceUrl!==n&&el(f,c,t.effects),Qf(void 0,s,n,"right"),Je.debug(""),setTimeout(()=>{const{duration:h,animation:p}=Oa(s,"enter");W.gameplay.pixiStage.registerPresetAnimation(p,c,s,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(c),h)},32)}else{const f=(u=W.gameplay.pixiStage)==null?void 0:u.getStageObjByKey(s);f&&f.sourceUrl!==n&&el(f,c,t.effects)}},[n]),de.useEffect(()=>{var c,l,u;for(const f of i){const h=`${f.key}`,p=`${f.key}-softin`;if(f.name!==""){const d=(c=W.gameplay.pixiStage)==null?void 0:c.getStageObjByKey(h);d?d.sourceUrl!==f.name&&(el(d,p,t.effects),Qf(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:g,animation:m}=Oa(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(p),g)},32)):(Qf(void 0,h,f.name,f.basePosition),Je.debug(`${f.key}`),setTimeout(()=>{const{duration:g,animation:m}=Oa(h,"enter");W.gameplay.pixiStage.registerPresetAnimation(m,p,h,t.effects),setTimeout(()=>W.gameplay.pixiStage.removeAnimationWithSetEffects(p),g)},32))}else{const d=(l=W.gameplay.pixiStage)==null?void 0:l.getStageObjByKey(h);d&&d.sourceUrl!==f.name&&el(d,p,t.effects)}}const s=(u=W.gameplay.pixiStage)==null?void 0:u.getFigureObjects();if(s){for(const f of s)if(!(f.key==="popImg-left"||f.key==="popImg-center"||f.key==="popImg-right"||f.key==="fig-left"||f.key==="fig-center"||f.key==="fig-right"||f.key.endsWith("-off"))){const h=f.key;if(i.findIndex(d=>d.key===h)<0){const d=`${f.key}-softin`;el(f,d,t.effects)}}}},[i])}function el(t,e,r){var c,l,u;if((c=W.gameplay.pixiStage)==null||c.removeAnimationWithSetEffects(e),W.gameplay.isFast){Je.info(""),(l=W.gameplay.pixiStage)==null||l.removeStageObjectByKey(t.key);return}const n=t.key;t.key=t.key+"-off",(u=W.gameplay.pixiStage)==null||u.removeStageObjectByKey(n);const i=t.key,a=i+"-softoff",{duration:o,animation:s}=Oa(i,"exit");W.gameplay.pixiStage.registerPresetAnimation(s,a,i,r),setTimeout(()=>{var f,h;(f=W.gameplay.pixiStage)==null||f.removeAnimation(a),(h=W.gameplay.pixiStage)==null||h.removeStageObjectByKey(i)},o)}function Qf(t,...e){var n,i;const r=e[1];if(r.endsWith(".json"))return _3e(...e);if(r.endsWith(".skel"))return(n=W.gameplay.pixiStage)==null?void 0:n.addSpineFigure(...e);if(r.endsWith(".png")||r.endsWith(".webp"))dz(r).then(a=>{var o;return(o=W.gameplay.pixiStage)==null?void 0:o.addFigure(...e,y3e(a))});else return(i=W.gameplay.pixiStage)==null?void 0:i.addFigure(...e)}function _3e(...t){}function y3e(t){const e=new Uint8Array([137,80,78,71,13,10,26,10]);if(!t.slice(0,8).every((i,a)=>i===e[a]))return!1;const r=new Uint8Array([97,99,84,76]),n=37;return!!t.slice(n,n+4).every((i,a)=>i===r[a])}function x3e(t){const e=t.effects;setTimeout(()=>{b3e(e)},10)}function b3e(t){var r,n,i,a;const e=((r=W.gameplay.pixiStage)==null?void 0:r.getAllStageObj())??[];for(const o of e){const s=o.key,c=t.find(u=>u.target===s);if(!(((n=W.gameplay.pixiStage)==null?void 0:n.getAllLockedObject())??[]).includes(s))if(c){const u=(i=W.gameplay.pixiStage)==null?void 0:i.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,T8(c.transform))}}else{const u=(a=W.gameplay.pixiStage)==null?void 0:a.getStageObjByKey(s);if(u){const f=u.pixiContainer;Object.assign(f,T8(xO))}}}}function T8(t){if(!t)return{};const{position:e,...r}=t;return{...r,x:e.x,y:e.y}}function w3e(){const t=ft(e=>e.stage);return h3e(t),d3e(t),m3e(t),x3e(t),F.jsx("div",{style:{display:"none"}})}const E3e="_introContainer_119k8_1",S3e={introContainer:E3e};function C3e(){return F.jsx("div",{className:S3e.introContainer,id:"introContainer"})}const T3e="_variableNameWrapper_1e7yn_1",A3e="_progressBarBg_1e7yn_10",I3e="_progressBar_1e7yn_10",R3e="_affinityWrapper_1e7yn_21",P3e="_bounceIn_1e7yn_57",O3e="_fadeOutUp_1e7yn_72",Ql={variableNameWrapper:T3e,progressBarBg:A3e,progressBar:I3e,affinityWrapper:R3e,bounceIn:P3e,fadeOutUp:O3e},pz=()=>{const t=ft(s=>s.stage),e=ft(s=>s.GUI),[r,n]=de.useState([]),[i,a]=de.useState([]),o=de.useMemo(()=>{const s=new Map,c=t.showValues;return c!=null&&c.length&&c.forEach(l=>{s.set(l.key,l.value)}),s},[t]);return de.useEffect(()=>{t.showValueList.forEach((s,c)=>{if(s.isShowValueSwitch&&i[c]){const l=o.get(s.showValueName);s.showProgress&&typeof l=="number"&&setTimeout(()=>{const u=document.getElementById(`myRect-${c}`),f=l/(s.maxValue??100)*i[c].width;u==null||u.setAttribute("width",f.toString())},16)}})},[t.showValueList,i]),F.jsxs(F.Fragment,{children:[t.showValueList.map((s,c)=>{if(s.isShowValueSwitch){const l=r[c]||{width:0,height:0},u=i[c]||{width:0,height:0};return F.jsxs("div",{className:Ql.variableNameWrapper,style:{position:e.showProgressAndAchievement?"absolute":"fixed",left:Tt(s.showValueAxisX)+"px",top:Tt(s.showValueAxisY)+"px",backgroundColor:s.showProgress?"transparent":"#08c"},children:[!s.showProgress&&(String(o.get(s.showValueName))||""),s.showProgress&&s.progressBarBgStyle&&F.jsx("img",{src:jt(s.progressBarBgStyle.image,Ut.ui),alt:"progress",className:Ql.progressBarBg,style:l.width?{width:l.width,height:l.height,opacity:1}:void 0,onLoad:f=>{n([...r,{width:Tt(f.currentTarget.naturalWidth),height:Tt(f.currentTarget.naturalHeight)}])}}),s.showProgress&&s.progressBarStyle&&F.jsxs(F.Fragment,{children:[F.jsx("img",{src:jt(s.progressBarStyle.image,Ut.ui),alt:"progress",className:Ql.progressBar,style:u.width?{width:u.width,height:u.height,opacity:1,clipPath:`url(#myClip-${c})`}:void 0,onLoad:f=>{a([...i,{width:Tt(f.currentTarget.naturalWidth),height:Tt(f.currentTarget.naturalHeight)}])}}),F.jsx("svg",{width:"0",height:"0",children:F.jsx("defs",{children:F.jsx("clipPath",{id:`myClip-${c}`,children:F.jsx("rect",{id:`myRect-${c}`,width:"0",height:u.height,style:{fill:"#ffffff"}})})})})]})]},s.showValueName+c.toString())}return null}),t.showAffinityChangeList.map((s,c)=>F.jsx(k3e,{item:s},s.key))]})};function k3e({item:t}){const[e,r]=de.useState(!1),[n,i]=de.useState({width:0,height:0}),[a,o]=de.useState({width:0,height:0});return de.useEffect(()=>{n.width&&a.width&&(setTimeout(()=>{r(!0)},1e3),setTimeout(()=>{const c=ce.getState().stage.showAffinityChangeList.filter(l=>l.key!==t.key);ce.dispatch(_de(c))},3032))},[n,a]),F.jsxs("div",{className:`${Ql.affinityWrapper} ${n.width&&a.width?Ql.bounceIn:""} ${e?Ql.fadeOutUp:""}`,children:[F.jsx("img",{src:t.rolePicture,alt:"affinity",className:Ql.affinityRole,style:n.width?n:void 0,onLoad:s=>{i({width:Tt(s.currentTarget.naturalWidth),height:Tt(s.currentTarget.naturalHeight)})}}),F.jsx("img",{src:t.numberPicture,alt:"affinity number",className:Ql.affinityNumber,style:a.width?a:void 0,onLoad:s=>{o({width:Tt(s.currentTarget.naturalWidth),height:Tt(s.currentTarget.naturalHeight)})}})]})}function A8(t){const e=document.getElementById("textBoxMain");if(!e)return!1;let r=e.getBoundingClientRect();return t.clientX>r.left&&t.clientX<r.right&&t.clientY>r.top&&t.clientY<r.bottom}function F3e(t,e,r){!e.controlsVisibility&&A8(t)&&r(yt({component:"controlsVisibility",visibility:!0})),e.controlsVisibility&&!A8(t)&&r(yt({component:"controlsVisibility",visibility:!1}))}function N3e(t,e){var i;return!!(!e.showTextBox||t.isDisableTextbox||!(t.showText!==""||t.showName!=="")||((i=document.getElementById("introContainer"))==null?void 0:i.style.display)==="block")}let L2=null;function M3e(t,e,r,n){N3e(e,r)?(L2&&clearTimeout(L2),n(yt({component:"controlsVisibility",visibility:!0})),L2=setTimeout(()=>{n(yt({component:"controlsVisibility",visibility:!1}))},1e3)):F3e(t,r,n)}const L3e=()=>{const t=ft(n=>n.stage),e=ft(n=>n.GUI),r=en();return jRe(),F.jsxs("div",{className:N2.MainStage_main,children:[F.jsx(e3e,{}),F.jsx(w3e,{}),F.jsx("div",{id:"pixiContianer",className:N2.pixiContainer,style:{zIndex:bk?"-5":void 0}}),F.jsx("div",{id:"chooseContainer",className:N2.chooseContainer}),e.showTextBox&&t.enableFilm===""&&!t.isDisableTextbox&&F.jsx(Kke,{}),e.showTextBox&&t.enableFilm!==""&&F.jsx(f3e,{}),F.jsx(Qke,{}),F.jsx("div",{onClick:()=>{if(!e.showTextBox){r(yt({component:"showTextBox",visibility:!0}));return}yk(),ti()},onDoubleClick:()=>{W.events.fullscreenDbClick.emit()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"},onMouseMove:n=>!e.showControls&&M3e(n,t,e,r)}),F.jsx(C3e,{}),!e.showProgressAndAchievement&&F.jsx(pz,{})]})},B3e=()=>{const t=Du("gaming."),{i18n:e}=yb(),{playSeEnter:r,playSeClick:n,playSeDialogOpen:i}=On();e.language;const a=de.useRef(0),o=ft(f=>f.GUI),s=ft(f=>f.stage),c=en(),l=(f,h)=>{c(yt({component:f,visibility:h}))},u=ft(f=>f.saveData.saveData);if(t("noSaving"),u[0]){const f=u[0];Xr.slPreviewMain,Xr.imgContainer,f.previewImage,Xr.textContainer,f.nowStageState.showName,f.nowStageState.showText}return F.jsx(F.Fragment,{children:o.showTextBox&&s.enableFilm===""&&F.jsxs("div",{className:Xr.main,style:{visibility:o.controlsVisibility?"visible":"hidden"},children:[F.jsx("span",{id:"Button_ControlPanel_auto",className:`${Xr.singleButton} ${Xr.singleButton_auto} interactive`,title:"",onClick:()=>{zH(),n()},onMouseDown:f=>{const h=f.currentTarget;h.className=`${Xr.singleButton} ${Xr.singleButton_auto} interactive btn-clicked`,a.current=Date.now()},onMouseUp:f=>{const h=Date.now()-a.current;let p=f.currentTarget;setTimeout(()=>{p.className=`${Xr.singleButton} ${Xr.singleButton_auto} interactive`,p=null},h-350>0?0:350-h)},onMouseEnter:r,children:F.jsx("span",{className:Xr.autoIcon})}),F.jsx("span",{id:"Button_ControlPanel_fast",className:`${Xr.singleButton} ${Xr.singleButton_fast} interactive`,title:"",onClick:()=>{qH(),n()},onMouseDown:f=>{const h=f.currentTarget;h.className=`${Xr.singleButton} ${Xr.singleButton_fast} interactive btn-clicked`,a.current=Date.now()},onMouseUp:f=>{const h=Date.now()-a.current;let p=f.currentTarget;setTimeout(()=>{p.className=`${Xr.singleButton} ${Xr.singleButton_fast} interactive`,p=null},h-350>0?0:350-h)},onMouseEnter:r,children:F.jsx("span",{className:Xr.fastIcon})}),F.jsx("span",{className:`${Xr.singleButton} interactive`,title:"",onClick:()=>{W.gameplay.isAuto&&gb(),l("showBacklog",!0),l("showTextBox",!1),n()},onMouseDown:f=>{const h=f.currentTarget;h.className=`${Xr.singleButton} interactive btn-clicked`,a.current=Date.now()},onMouseUp:f=>{const h=Date.now()-a.current;let p=f.currentTarget;setTimeout(()=>{p.className=`${Xr.singleButton} interactive`,p=null},h-350>0?0:350-h)},onMouseEnter:r,children:F.jsx("span",{className:Xr.historyIcon})})]})})},D3e=()=>{var p,d;Du("gaming.");const{playSeEnter:t,playSeClick:e}=On(),r=ft(g=>g.GUI),n=en(),[i,a]=de.useState(!1),[o,s]=de.useState(!1);let c=de.useRef();const[l,u]=de.useState(""),f=de.useRef(0),h=de.useMemo(()=>{let g=[];for(let m=0;m<W.backlogManager.getBacklog().length;m++){const v=W.backlogManager.getBacklog()[m],_=hz(v.currentStageState.showText,3,!0),b=U3e(_).map((E,C)=>F.jsx("div",{children:E.map((T,A)=>T==="<br />"?F.jsx("br",{},`br${A}`):T)},`backlog-line-${C}`)),w=F.jsxs("div",{className:ai.backlog_item,style:{animationDelay:`${20*(W.backlogManager.getBacklog().length-m)}ms`},children:[F.jsxs("div",{className:ai.backlog_content_container,children:[F.jsxs("div",{className:ai.backlog_func_area,children:[F.jsx("div",{className:ai.backlog_item_content_name,children:v.currentStageState.showName&&`${v.currentStageState.showName}`||""}),v.currentStageState.vocal?F.jsx("div",{onMouseDown:E=>{const C=E.currentTarget;C.className=`${ai.backlog_item_button_element} interactive btn-clicked`,f.current=Date.now()},onMouseUp:E=>{const C=Date.now()-f.current;let T=E.currentTarget;setTimeout(()=>{T.className=`${ai.backlog_item_button_element} interactive`,T=null},C-350>0?0:350-C)},onClick:E=>{e(),E.preventDefault(),E.stopPropagation();const C=document.getElementById("backlog_audio_play_element_"+m);if(C){C.currentTime=0;const T=ce.getState().userData,A=T.optionData.volumeMain;C.volume=A*.01*T.optionData.vocalVolume*.01,Gp(v.currentStageState.vocal).then(()=>{u(l),C.load(),C&&(C.onloadeddata=()=>{C.play()})})}},onMouseEnter:t,className:`${ai.backlog_item_button_element} interactive`,children:F.jsx("span",{className:ai.sound_icon})}):null]}),F.jsx("div",{className:ai.backlog_item_content,onClick:E=>{e(),wAe(m),E.preventDefault(),E.stopPropagation()},children:F.jsx("span",{className:ai.backlog_item_content_text,children:b})})]}),F.jsx("audio",{id:"backlog_audio_play_element_"+m,src:l})]},"backlogItem"+v.currentStageState.showText+v.saveScene.currentSentenceId);g.unshift(w)}return g},[((d=(p=W.backlogManager.getBacklog()[W.backlogManager.getBacklog().length-1])==null?void 0:p.saveScene)==null?void 0:d.currentSentenceId)??0]);return de.useEffect(()=>{r.showBacklog?(c.current&&clearTimeout(c.current),a(!1),s(!0),setTimeout(()=>{s(!1)},0)):c.current=setTimeout(()=>{a(!0),c.current=void 0},700+80)},[r.showBacklog]),F.jsx(F.Fragment,{children:F.jsxs("div",{className:`
          ${r.showBacklog?ai.Backlog_main:ai.Backlog_main_out}
          ${i?ai.Backlog_main_out_IndexHide:""}
          `,children:[F.jsx("div",{className:ai.backlog_title,onClick:()=>{Je.info("Rua! Testing")},children:F.jsx("div",{className:`${ai.backlog_top_icon} interactive`,onMouseDown:g=>{const m=g.currentTarget;m.className=`${ai.backlog_top_icon} interactive btn-clicked`,f.current=Date.now()},onMouseUp:g=>{const m=Date.now()-f.current;let v=g.currentTarget;setTimeout(()=>{v.className=`${ai.backlog_top_icon} interactive`,v=null,setTimeout(()=>{e(),n(yt({component:"showBacklog",visibility:!1})),n(yt({component:"showTextBox",visibility:!0}))},320)},m-350>0?0:350-m)},onMouseEnter:t})}),r.showBacklog&&F.jsx("div",{className:`${ai.backlog_content} ${o?ai.Backlog_main_DisableScroll:""}`,children:h})]})})};function U3e(t){let e=[],r="";for(let n=0;n<t.length;n++){const i=t[n];typeof i=="string"?r+=i:(r!==""&&(e.push(r),r=""),e.push(i))}return r!==""&&e.push(r),e}const j3e="_extra_1mkz8_2",$3e="_extraTop_1mkz8_12",G3e="_backIcon_1mkz8_24",V3e="_mainContainer_1mkz8_46",H3e="_mainTab_1mkz8_53",z3e="_mainTab_bgm_1mkz8_61",X3e="_mainTab_unselect_bgm_1mkz8_71",W3e="_mainTab_cg_1mkz8_81",Y3e="_mainTab_unselect_cg_1mkz8_91",q3e="_bgmContainer_1mkz8_101",K3e="_bgmListContainer_1mkz8_107",Z3e="_bgmElement_1mkz8_115",J3e="_bgmName_1mkz8_126",Q3e="_bgm_item_name_1mkz8_136",e4e="_bgm_sound_wrapper_1mkz8_144",t4e="_bgm_sound_unselect_1mkz8_152",r4e="_bgm_sound_select_1mkz8_157",n4e="_bgmLocked_1mkz8_162",i4e="_bgmUnlocked_1mkz8_166",a4e="_footer_1mkz8_175",o4e="_footer_page_container_1mkz8_185",s4e="_footer_page_indicator_1mkz8_190",l4e="_footer_page_icon_checked_1mkz8_199",u4e="_footer_page_icon_unchecked_1mkz8_204",c4e="_cgMain_1mkz8_217",f4e="_cgContainer_1mkz8_222",h4e="_cgElement_1mkz8_230",d4e="_cgUnLockElement_1mkz8_237",p4e="_unlockedCGImg_1mkz8_242",v4e="_cgShowDiv_1mkz8_249",g4e="_cgShowDivWarpper_1mkz8_258",m4e="_cgNav_1mkz8_267",_4e="_cgNav_active_1mkz8_286",y4e="_showFullContainer_1mkz8_296",x4e="_showFullCgMain_1mkz8_309",b4e="_fullCgIn_1mkz8_1",w4e="_Btn_1mkz8_330",E4e="_Btn_r_1mkz8_344",S4e="_extra_icon_softin_1mkz8_1",C4e="_bgmElement_In_1mkz8_1",zt={extra:j3e,extraTop:$3e,backIcon:G3e,mainContainer:V3e,mainTab:H3e,mainTab_bgm:z3e,mainTab_unselect_bgm:X3e,mainTab_cg:W3e,mainTab_unselect_cg:Y3e,bgmContainer:q3e,bgmListContainer:K3e,bgmElement:Z3e,bgmName:J3e,bgm_item_name:Q3e,bgm_sound_wrapper:e4e,bgm_sound_unselect:t4e,bgm_sound_select:r4e,bgmLocked:n4e,bgmUnlocked:i4e,footer:a4e,footer_page_container:o4e,footer_page_indicator:s4e,footer_page_icon_checked:l4e,footer_page_icon_unchecked:u4e,cgMain:c4e,cgContainer:f4e,cgElement:h4e,cgUnLockElement:d4e,unlockedCGImg:p4e,cgShowDiv:v4e,cgShowDivWarpper:g4e,cgNav:m4e,cgNav_active:_4e,showFullContainer:y4e,showFullCgMain:x4e,fullCgIn:b4e,Btn:w4e,Btn_r:E4e,extra_icon_softin:S4e,bgmElement_In:C4e},T4e=""+new URL("sound-icon.png",import.meta.url).href,A4e=""+new URL("sound-choose.png",import.meta.url).href,I4e=""+new URL("bgm-locked-bg.png",import.meta.url).href,R4e=""+new URL("bgm-unlock-bg.png",import.meta.url).href,vz=""+new URL("point-active.png",import.meta.url).href,gz=""+new URL("point-default.png",import.meta.url).href;function P4e(){const{playSeClick:t,playSeEnter:e}=On(),[r,n]=de.useState(1),[i,a]=de.useState([]),o=ft(d=>d.GUI.titleBgm),s=ft(d=>d.userData.appreciationData),c="Title_BGM";let l=c;const u=s.bgm.length;s.bgm.forEach((d,g)=>{d.url===o&&(l=d.name)});const f=Math.ceil(u/8)||1,h=Bu("");l!==c&&l!==h.value&&h.set(l);const p=en();return de.useEffect(()=>{a(s.bgm.slice((r-1)*8,r*8)||[])},[s.bgm,r]),F.jsxs("div",{className:zt.bgmContainer,children:[F.jsxs("div",{className:zt.bgmListContainer,children:[i.map((d,g)=>F.jsxs("div",{onClick:()=>{t(),h.set(d.name),p(hA({asset:"titleBgm",value:d.url}))},className:`${zt.bgmElement} interactive`,onMouseEnter:e,children:[F.jsxs("div",{className:zt.bgmName,children:[F.jsx("div",{className:zt.bgm_item_name,children:d.name}),F.jsx("div",{className:zt.bgm_sound_wrapper,children:F.jsx("img",{src:d.name===h.value?A4e:T4e,alt:"",className:d.name===h.value?zt.bgm_sound_select:zt.bgm_sound_unselect})})]}),F.jsx("img",{src:R4e,className:zt.bgmUnlocked,alt:""})]},d.name)),Array.from({length:8-i.length}).map((d,g)=>F.jsx("div",{className:`${zt.bgmElement}`,style:{cursor:"default"},children:F.jsx("img",{src:I4e,alt:"",className:zt.bgmLocked})},g))]}),F.jsxs("div",{className:zt.footer,children:[F.jsx("div",{className:`${zt.Btn} interactive`,onMouseEnter:e,onClick:()=>{t(),r>1&&n(r-1)}}),F.jsx("div",{className:zt.footer_page_container,children:Array.from({length:f}).map((d,g)=>F.jsx("div",{className:`${zt.footer_page_indicator} interactive`,onMouseEnter:e,onClick:()=>{t(),n(g+1)},children:F.jsx("img",{src:g+1===r?vz:gz,alt:"",className:g+1===r?zt.footer_page_icon_checked:zt.footer_page_icon_unchecked})},g))}),F.jsx("div",{className:`${zt.Btn} ${zt.Btn_r} interactive`,onMouseEnter:e,onClick:()=>{t(),r!==f&&n(r+1)}})]})]})}function O4e(t){const e=Bu(!1),{playSeEnter:r,playSeClick:n}=On();return F.jsxs(F.Fragment,{children:[e.value&&F.jsx("div",{onClick:()=>{e.set(!e.value),n()},className:`${zt.showFullContainer} interactive`,onMouseEnter:r,children:F.jsx("div",{className:zt.showFullCgMain,children:F.jsx("div",{style:{backgroundImage:`url('${t.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),F.jsx("div",{onClick:()=>{e.set(!e.value),n()},onMouseEnter:r,className:`${zt.cgElement} ${zt.cgUnLockElement} interactive`,children:F.jsx("div",{className:zt.unlockedCGImg,style:{background:`url('${t.imgUrl}') no-repeat center center`,backgroundSize:"cover"}})},t.name)]})}const k4e=""+new URL("cg-lock.png",import.meta.url).href;function F4e(){const t=ft(l=>l.userData.appreciationData),{playSeEnter:e,playSeClick:r}=On(),[n,i]=de.useState(1),[a,o]=de.useState([]),s=t.cg.length,c=Math.ceil(s/6)||1;return de.useEffect(()=>{o(t.cg.slice((n-1)*6,n*6)||[])},[t.cg,n]),F.jsxs("div",{className:zt.cgMain,children:[F.jsxs("div",{className:zt.cgContainer,children:[a.map((l,u)=>F.jsx(O4e,{name:l.name,imgUrl:l.url},u.toString()+l.url)),Array.from({length:6-a.length}).map((l,u)=>F.jsx("div",{className:zt.cgElement,style:{cursor:"default"},children:F.jsx("img",{src:k4e,alt:"",style:{width:"100%"}})},u))]}),F.jsxs("div",{className:zt.footer,children:[F.jsx("div",{className:`${zt.Btn} interactive`,onMouseEnter:e,onClick:()=>{r(),n>1&&i(n-1)}}),F.jsx("div",{className:zt.footer_page_container,children:Array.from({length:c}).map((l,u)=>F.jsx("div",{className:`${zt.footer_page_indicator} interactive`,onMouseEnter:e,onClick:()=>{r(),i(u+1)},children:F.jsx("img",{src:u+1===n?vz:gz,alt:"",className:u+1===n?zt.footer_page_icon_checked:zt.footer_page_icon_unchecked})},u))}),F.jsx("div",{className:`${zt.Btn} ${zt.Btn_r} interactive`,onMouseEnter:e,onClick:()=>{r(),n!==c&&i(n+1)}})]})]})}const N4e=""+new URL("gallery-bg.webp",import.meta.url).href;function M4e(){const{playSeClick:t,playSeEnter:e}=On(),r=ft(c=>c.GUI.showExtra),n=en(),[i,a]=de.useState("bgm"),o=ft(c=>c.GUI.gameUIConfigs[Ln.extra]);de.useEffect(()=>{document.getElementById("currentBgm").pause()},[]),de.useEffect(()=>{r&&n(Er.setLoadVideo(!0))},[r]);const s=()=>{n(yt({component:"showExtra",visibility:!1})),n(Er.setLoadVideo(!1))};return F.jsx(F.Fragment,{children:r&&F.jsxs("div",{className:zt.extra,style:{background:`url(${N4e}) no-repeat center center`,backgroundSize:"cover"},children:[F.jsx(Jn,{item:o.buttons.Extra_back_button,defaultClass:`${zt.backIcon} interactive`,onClick:s,onMouseEnter:e}),F.jsx(Jn,{item:o.other[z1.Extra_title],defaultClass:zt.extraTop}),F.jsxs("div",{className:zt.mainContainer,children:[F.jsxs("div",{className:zt.mainTab,children:[i==="bgm"?F.jsx("span",{className:`${zt.mainTab_bgm} interactive`}):F.jsx("span",{className:`${zt.mainTab_unselect_bgm} interactive`,onClick:()=>{a("bgm"),t()},onMouseEnter:e}),i==="cg"?F.jsx("span",{className:`${zt.mainTab_cg} interactive`}):F.jsx("span",{className:`${zt.mainTab_unselect_cg} interactive`,onClick:()=>{a("cg"),t()},onMouseEnter:e})]}),i==="bgm"?F.jsx(P4e,{}):F.jsx(F4e,{})]})]})})}const L4e="_tag_yghix_2",B4e="_container_yghix_17",D4e="_showContainer_yghix_1",U4e="_singleButton_yghix_33",j4e="_button_text_yghix_37",Ei={tag:L4e,container:B4e,showContainer:D4e,singleButton:U4e,button_text:j4e},$4e=()=>{const t=Bu(!1),e=ft(a=>a.stage),r=en(),n=(a,o)=>{r(yt({component:a,visibility:o}))},i=a=>{r(Yc(a))};return F.jsx(F.Fragment,{children:e.enableFilm!==""&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:Ei.tag,onClick:()=>{t.set(!t.value)},children:F.jsx(NPe,{theme:"outline",size:"32",fill:"#fff"})}),t.value&&F.jsxs("div",{className:Ei.container,children:[F.jsx("span",{className:Ei.singleButton,onClick:()=>{n("showBacklog",!0),n("showTextBox",!1),t.set(!t.value)},children:F.jsx("span",{className:Ei.button_text,children:" / BACKLOG"})}),F.jsx("span",{className:Ei.singleButton,onClick:()=>{t.set(!t.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a==null||a.play())},children:F.jsx("span",{className:Ei.button_text,children:" / REPLAY VOICE"})}),F.jsx("span",{id:"Button_ControlPanel_auto",className:Ei.singleButton,onClick:()=>{zH(),t.set(!t.value)},children:F.jsx("span",{className:Ei.button_text,children:" / AUTO"})}),F.jsx("span",{id:"Button_ControlPanel_fast",className:Ei.singleButton,onClick:()=>{qH(),t.set(!t.value)},children:F.jsx("span",{className:Ei.button_text,children:" / FAST"})}),F.jsx("span",{className:Ei.singleButton,onClick:()=>{t.set(!t.value),i($r.Save),n("showMenuPanel",!0)},children:F.jsx("span",{className:Ei.button_text,children:" / SAVE"})}),F.jsx("span",{className:Ei.singleButton,onClick:()=>{t.set(!t.value),i($r.Load),n("showMenuPanel",!0)},children:F.jsx("span",{className:Ei.button_text,children:" / LOAD"})}),F.jsx("span",{className:Ei.singleButton,onClick:()=>{t.set(!t.value),i($r.Option),n("showMenuPanel",!0)},children:F.jsx("span",{className:Ei.button_text,children:" / OPTIONS"})}),F.jsx("span",{className:Ei.singleButton,onClick:()=>{t.set(!t.value),Sf()},children:F.jsx("span",{className:Ei.button_text,children:" / TITLE"})})]})]})})},G4e="_devPanelMain_11x6i_1",V4e="_devPanelOpener_11x6i_13",I8={devPanelMain:G4e,devPanelOpener:V4e};function H4e(){document.getElementById("pixiCanvas").toBlob(e=>{if(e){const r=document.createElement("a");document.body.append(r),r.download="screenshot",r.href=URL.createObjectURL(e),r.click(),r.remove()}},"image/png")}function z4e(){function t(){return!!window.location.hash.match(/dev/)}const e=Bu(!1),r=Bu(window.location.hash),n=ft(c=>c.stage);de.useEffect(()=>{window.onhashchange=()=>{r.set(window.location.hash)}},[]);const i=t(),{t:a,i18n:o}=yb(),s=F.jsxs(F.Fragment,{children:[F.jsx("div",{onClick:()=>H4e(),children:"Save PIXI Screenshot"}),F.jsxs("div",{children:["Current Language:",o.language]}),F.jsx("div",{onClick:()=>{var c;return(c=W.gameplay.pixiStage)==null?void 0:c.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),F.jsx("div",{children:"Stage State"}),F.jsx("div",{children:JSON.stringify(n,null,"  ")})]});return F.jsxs(F.Fragment,{children:[i&&e.value&&F.jsxs("div",{className:I8.devPanelMain,children:[F.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[F.jsx("div",{onClick:()=>e.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:""}),F.jsx("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),F.jsx("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:s})]}),!e.value&&i&&F.jsx("div",{onClick:()=>e.set(!0),className:I8.devPanelOpener,children:"Open Dev Panel"})]})}function X4e(t){return jd[t]}function W4e(){const{i18n:t}=yb(),e=e0(n=>n.userData),r=en();return(n,i=!0)=>{var s;const a=n??((s=e.current)==null?void 0:s.optionData.language)??jd.zhCn,o=X4e(a);t.changeLanguage(o),r(Vo({key:"language",value:a})),Je.info(": "+o),window==null||window.localStorage.setItem("lang",a.toString()),i&&ji()}}const Y4e="_trans_8uz61_2",q4e="_langWrapper_8uz61_10",K4e="_lang_8uz61_10",Z4e="_langSelect_8uz61_29",J4e="_langSelectButton_8uz61_35",K0={trans:Y4e,langWrapper:q4e,lang:K4e,langSelect:Z4e,langSelectButton:J4e};function Q4e(){const t=W4e(),[e,r]=de.useState(!1);de.useEffect(()=>{(window==null?void 0:window.localStorage.getItem("lang"))||"0"?t(Number(window==null?void 0:window.localStorage.getItem("lang")),!1):r(!0)},[]);const n=i=>{r(!1),t(i)};return F.jsx(F.Fragment,{children:e&&F.jsx("div",{className:K0.trans,children:F.jsxs("div",{className:K0.langWrapper,children:[F.jsx("div",{className:K0.lang,children:"LANGUAGE SELECT"}),F.jsx("div",{className:K0.langSelect,children:Object.keys(rB).map(i=>F.jsx("div",{className:K0.langSelectButton,onClick:()=>n(jd[i]),children:rB[i]},i))})]})})})}const eFe=()=>{const t=ft(n=>n.GUI),[e,r]=de.useState(!1);return de.useEffect(()=>{r(t.showPanicOverlay)},[t.showPanicOverlay]),null};function tFe(){const t=ft(i=>i.userData),e=ft(i=>i.GUI);en();const r=t.optionData.fullScreen,n=e.isEnterGame;de.useEffect(()=>{switch(r){case Is.on:{n&&(document.documentElement.requestFullscreen(),Rh&&Rh.lock(["Escape","F11"]));break}case Is.off:{document.fullscreenElement&&(document.exitFullscreen(),Rh&&Rh.unlock());break}}},[r])}const rFe="_gameMenuPanelWrapper_1bdvx_1",nFe="_gameMenuPanel_1bdvx_1",iFe="_menuButton_1bdvx_12",aFe="_gameMenuPanelContentWrapper_1bdvx_26",oFe="_mask_1bdvx_34",sFe="_gameMenuPanelContent_1bdvx_26",lFe="_buttonswrapper_1bdvx_54",uFe="_button_1bdvx_54",Sn={gameMenuPanelWrapper:rFe,gameMenuPanel:nFe,menuButton:iFe,gameMenuPanelContentWrapper:aFe,mask:oFe,gameMenuPanelContent:sFe,buttonswrapper:lFe,button:uFe},cFe=()=>{const t=Du("gaming."),{playSeEnter:e,playSeClick:r,playSeDialogOpen:n}=On(),i=ft(v=>v.GUI),[a,o]=de.useState(!1),s=de.useRef(0);de.useEffect(()=>{o(i.isShowGameMenu)},[i.isShowGameMenu]);const c=en(),l=(v,_)=>{c(yt({component:v,visibility:_}))};de.useEffect(()=>{const v=_=>{_.keyCode===27&&(r(),l("isShowGameMenu",!i.isShowGameMenu))};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[]);const u=v=>{c(Yc(v))},f=()=>{r(),l("isShowGameMenu",!0)},h=()=>{r(),l("isShowGameMenu",!1)},p=()=>{r(),u($r.Save),l("isShowGameMenu",!1),l("showMenuPanel",!0)},d=()=>{u($r.Load),l("isShowGameMenu",!1),l("showMenuPanel",!0),r()},g=()=>{u($r.Option),l("isShowGameMenu",!1),l("showMenuPanel",!0),r()},m=()=>{n(),es({title:t("buttons.quitTips"),leftText:t("$common.cancel"),rightText:t("$common.confirm"),leftFunc:()=>{},rightFunc:()=>{l("isShowGameMenu",!1),l("isInGaming",!1),Sf()}})};return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:Sn.gameMenuPanel,children:F.jsx("div",{className:`${Sn.menuButton} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.menuButton} interactive btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.menuButton} interactive`,y=null,setTimeout(f,320)},_-350>0?0:350-_)}})}),a&&F.jsxs("div",{className:Sn.gameMenuPanelContentWrapper,children:[F.jsx("div",{className:Sn.mask}),F.jsx("div",{className:Sn.gameMenuPanelContent,children:F.jsxs("div",{className:Sn.buttonswrapper,children:[F.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} interactive btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(h,320)},_-350>0?0:350-_)},children:t("buttons.backToGame")}),F.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(p,320)},_-350>0?0:350-_)},children:t("buttons.preserve")}),F.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(d,320)},_-350>0?0:350-_)},children:t("buttons.read")}),F.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(g,320)},_-350>0?0:350-_)},children:t("buttons.setting")}),F.jsx("span",{className:`${Sn.button} interactive`,onMouseEnter:e,onMouseDown:v=>{const _=v.currentTarget;_.className=`${Sn.button} btn-clicked`,s.current=Date.now()},onMouseUp:v=>{const _=Date.now()-s.current;let y=v.currentTarget;setTimeout(()=>{y.className=`${Sn.button} interactive`,y=null,setTimeout(m,320)},_-350>0?0:350-_)},children:t("buttons.backToTitle")})]})})]})]})},fFe="_Loading_container_jqbjc_2",hFe="_spin_jqbjc_1",dFe={Loading_container:fFe,spin:hFe};function pFe(){const[t,e]=de.useState(!1);return de.useEffect(()=>window.pubsub.subscribe("loading",({loading:n})=>{e(n)}),[]),t?F.jsx("div",{className:dFe.Loading_container,children:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"116",height:"116",viewBox:"0 0 116 116",fill:"none",children:[F.jsxs("g",{filter:"url(#filter0_f_44_50)",children:[F.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"})]}),F.jsx("path",{d:"M58 33V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M58 73V83",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M83 58H73",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M43 58H33",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M40.3223 40.3224L47.3933 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M68.6067 68.6067L75.6777 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M75.6777 40.3224L68.6067 47.3934",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{d:"M47.3933 68.6067L40.3223 75.6777",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("defs",{children:F.jsxs("filter",{id:"filter0_f_44_50",x:"0.5",y:"0.5",width:"115",height:"115",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[F.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),F.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),F.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_44_50"})]})})]})}):null}const vFe="_storyLine_1jdwq_2",gFe="_bg_animation_1jdwq_1",mFe="_goBack_1jdwq_16",_Fe="_storyLine_item_1jdwq_34",yFe="_playButton_icon_1jdwq_47",xFe="_name_1jdwq_65",eh={storyLine:vFe,bg_animation:gFe,goBack:mFe,storyLine_item:_Fe,playButton_icon:yFe,name:xFe},Ev=t=>{const[e,r]=de.useState();return F.jsx("img",{...t,style:e?{...t.style,width:e.width,height:e.height}:t.style,onLoad:n=>{r({width:Tt(n.currentTarget.naturalWidth),height:Tt(n.currentTarget.naturalHeight)})}})},mz=()=>{const{playSeClick:t,playSeEnter:e}=On(),r=en(),n=ft(h=>h.GUI),i=ft(h=>h.stage),a=ft(h=>h.saveData.allStorylineData),o=ft(h=>h.GUI.gameUIConfigs[Ln.storyline]);de.useEffect(()=>{lk(),n.showStoryLine&&r(Er.setShowStoryline(!1))},[n.showStoryLine]);const s=()=>{Sf(),r(dA(!1))},c=(h,p)=>{h.stopPropagation(),r(dA(!1)),r(Er.setIsShowUnlock(!0)),vk(p.videoData)};function l(h){return jt(h,Ut.ui)}const u=!!i.storyLineBg,f=typeof i.storyLineBgX=="number"&&typeof i.storyLineBgY=="number"?{width:Tt(i.storyLineBgX),height:Tt(i.storyLineBgY)}:{};return F.jsx(F.Fragment,{children:n.showStoryLine&&F.jsxs("div",{className:eh.storyLine,style:u?{backgroundImage:"none"}:{},id:"camera",children:[!n.showProgressAndAchievement&&F.jsx(Jn,{item:o.buttons.Storyline_back_button,defaultClass:`${eh.goBack} interactive`,onClick:s,onMouseEnter:e}),F.jsx(Ev,{src:i.storyLineBg,style:f}),(a==null?void 0:a.map((h,p)=>{const{name:d,thumbnailUrl:g,x:m,y:v,isUnlock:_,isHideName:y}=h.storyLine;return _?F.jsxs("div",{className:eh.storyLine_item,style:g?{top:`${Tt(v)}px`,left:`${Tt(m)}px`}:{},onClick:b=>c(b,h),children:[F.jsx(Ev,{src:l(g)}),F.jsxs("div",{className:eh.info_card,children:[F.jsx("span",{className:eh.playButton_icon,style:{width:y?"100%":"50%"}}),y?null:F.jsx("span",{className:eh.name,children:d})]})]},`storyLine-${p}`):null}))??null]})})},bFe="_achievement_imme9_1",wFe="_bg_animation_imme9_1",EFe="_goback_imme9_14",SFe="_achievement_content_imme9_32",CFe="_achievement_current_imme9_68",TFe="_text_imme9_81",AFe="_number_imme9_86",IFe="_pregessBar_imme9_91",RFe="_pregressBar_inner_imme9_100",PFe="_achievement_content_bg_imme9_109",OFe="_achievement_item_imme9_118",kFe="_achievement_list_imme9_131",FFe="_ripple_imme9_141",NFe="_info_card_imme9_144",MFe="_unlockname_imme9_149",LFe="_condition_imme9_201",BFe="_condition_bg_active_imme9_210",DFe="_time_imme9_213",UFe="_description_imme9_214",jFe="_info_card_position_right_imme9_219",$Fe="_achievement_item_bg_active_imme9_223",ii={achievement:bFe,bg_animation:wFe,goback:EFe,achievement_content:SFe,achievement_current:CFe,text:TFe,number:AFe,pregessBar:IFe,pregressBar_inner:RFe,achievement_content_bg:PFe,achievement_item:OFe,achievement_list:kFe,ripple:FFe,"ripple-effect":"_ripple-effect_imme9_1",info_card:NFe,unlockname:MFe,condition:LFe,condition_bg_active:BFe,time:DFe,description:UFe,info_card_position_right:jFe,achievement_item_bg_active:$Fe},GFe={achieveBg:"",achieveBgX:1280,achieveBgY:720},_z=()=>{var R,O;const{playSeClick:t,playSeEnter:e}=On(),r=ft(P=>P.GUI);ft(P=>P.stage);const n=ft(P=>P.saveData),i=en(),[a,o]=de.useState(null),[s,c]=de.useState(null),[l,u]=de.useState(null),[f,h]=de.useState(null),[p,d]=de.useState(GFe),[g,m]=de.useState({unlocked:0,allTotal:0,currentProgress:"0%"}),v=ft(P=>P.GUI.gameUIConfigs[Ln.achievement]);de.useEffect(()=>{r.showAchievement&&(r.achievementUI.Achievement_progress_text&&o(r.achievementUI.Achievement_progress_text),r.achievementUI.Achievement_progress_bg&&c(r.achievementUI.Achievement_progress_bg),r.achievementUI.Achievement_progress&&u(r.achievementUI.Achievement_progress),r.achievementUI.Achievement_notUnlock&&h(r.achievementUI.Achievement_notUnlock),ce.dispatch(Er.setIsShowUnlock(!1)),_())},[r.showAchievement]);async function _(){var D,H,ee,ne;const P=jt(So.Achieve,Ut.scene),k=await Ua(P),B=yv(k,So.Achieve,P).sentenceList;if((B==null?void 0:B.length)>0&&((D=B[0])==null?void 0:D.commandRaw)==="changeBg"){const Y=((H=B[0])==null?void 0:H.content)??"";let U=1280,X=720;const V=window.localStorage.getItem("game-screen-size"),G=(V==null?void 0:V.split("x"))??[];(G==null?void 0:G.length)>0&&G[0]==="1920"&&(U=Number(G[0]),X=Number(G[1])),(ne=(ee=B[0])==null?void 0:ee.args)==null||ne.forEach(te=>{(te==null?void 0:te.key)==="x"?U=Number(te==null?void 0:te.value):(te==null?void 0:te.key)==="y"&&(X=Number(te==null?void 0:te.value))}),d({achieveBg:Y,achieveBgX:U,achieveBgY:X})}setTimeout(()=>{y()},100)}async function y(){var D;const P=ce.getState().saveData.allUnlockAchieveList,k=((D=ce.getState().saveData.unlockAchieveData)==null?void 0:D.length)??0,M=P.length||0,B=(k/M*100).toFixed(2)+"%";m({unlocked:k,allTotal:M,currentProgress:B})}const b=P=>jt(P,Ut.ui),w=(P,k)=>P+500>=k,E=(P,k)=>P>=k?k-100:P,C=()=>{t(),Sf(),i(yt({component:"showAchievement",visibility:!1}))},T=()=>{var Y,U,X,V,G,te,oe,ge,le,ye,Le,ke,Ee,Se,De,We,Ve,He,qe,Et,Rt,ht,dt,St,nr,Xt,ir,Vt,bt,Zt,Oe,j,pe,Ce,Fe,ae,Ae;const P=(Y=a==null?void 0:a.args)!=null&&Y.hide?"":(a==null?void 0:a.content)??"",k=s!=null&&s.content?jt(s==null?void 0:s.content,Ut.background):"",M=(X=(U=l==null?void 0:l.args)==null?void 0:U.style)!=null&&X.image?jt(l.args.style.image,Ut.ui):"",B=(G=(V=l==null?void 0:l.args)==null?void 0:V.hoverStyle)!=null&&G.image?jt(l==null?void 0:l.args.hoverStyle.image,Ut.ui):"",D=!((te=s==null?void 0:s.args)!=null&&te.hide)&&k?{...(oe=s==null?void 0:s.args)==null?void 0:oe.style,backgroundImage:`url(${k})`,transform:((ge=s==null?void 0:s.args.style)==null?void 0:ge.scale)&&`scale(${(le=s==null?void 0:s.args.style)==null?void 0:le.scale})`,width:((ye=s==null?void 0:s.args.style)==null?void 0:ye.width)&&`${Tt((Le=s==null?void 0:s.args.style)==null?void 0:Le.width)}px`,height:((ke=s==null?void 0:s.args.style)==null?void 0:ke.height)&&`${Tt((Ee=s==null?void 0:s.args.style)==null?void 0:Ee.height)}px`}:{},H=(Se=a==null?void 0:a.args)!=null&&Se.hide?{}:{...(De=a==null?void 0:a.args)==null?void 0:De.style,color:(Ve=(We=a==null?void 0:a.args)==null?void 0:We.style)==null?void 0:Ve.fontColor,transform:(He=a==null?void 0:a.args.style)!=null&&He.scale?`scale(${a.args.style.scale})`:""},ee=(qe=l==null?void 0:l.args)!=null&&qe.hide?{}:{backgroundImage:`url(${M})`,transform:(Rt=(Et=l==null?void 0:l.args)==null?void 0:Et.style)!=null&&Rt.scale?`scale(${l.args.style.scale})`:void 0,width:(dt=(ht=l==null?void 0:l.args)==null?void 0:ht.style)!=null&&dt.width?`${Tt(l.args.style.width)}px`:void 0,height:(nr=(St=l==null?void 0:l.args)==null?void 0:St.style)!=null&&nr.height?`${Tt(l.args.style.height)}px`:void 0,top:(ir=(Xt=l==null?void 0:l.args)==null?void 0:Xt.style)!=null&&ir.y?`${Tt(l.args.style.y)}px`:void 0,left:(bt=(Vt=l==null?void 0:l.args)==null?void 0:Vt.style)!=null&&bt.x?`${Tt(l.args.style.x)}px`:void 0},ne=(Zt=l==null?void 0:l.args)!=null&&Zt.hide?{}:{backgroundImage:`url(${B})`,transform:(j=(Oe=l==null?void 0:l.args)==null?void 0:Oe.hoverStyle)!=null&&j.scale?`scale(${(pe=l.args.hoverStyle)==null?void 0:pe.scale})`:void 0,width:(Fe=(Ce=l==null?void 0:l.args)==null?void 0:Ce.hoverStyle)!=null&&Fe.width?`${Tt(l.args.hoverStyle.width)}px`:void 0,height:(Ae=(ae=l==null?void 0:l.args)==null?void 0:ae.hoverStyle)!=null&&Ae.height?`${Tt(l.args.hoverStyle.height)}px`:void 0};return F.jsx("div",{className:ii.achievement_content,children:F.jsxs("div",{className:ii.achievement_current,style:D||{},children:[F.jsx("span",{className:ii.text,style:H||{},children:P}),F.jsx("span",{className:ii.number,style:H||{},children:`${g.unlocked}/${g.allTotal}`}),F.jsx("span",{className:ii.pregessBar,style:ee||{},children:F.jsx("span",{className:ii.pregressBar_inner,style:{...ne,width:g.currentProgress}})})]})})},A=p==null?void 0:p.achieveBg;return F.jsx(F.Fragment,{children:r.showAchievement&&F.jsxs("div",{className:ii.achievement,style:A?{backgroundImage:"none"}:{},id:"camera",children:[!r.showProgressAndAchievement&&F.jsx(Jn,{item:v.buttons.Achievement_back_button,defaultClass:`${ii.goback} interactive`,onClick:C,onMouseEnter:e}),T(),F.jsx("div",{className:ii.achievement_content_bg,style:{width:p!=null&&p.achieveBgX?Tt(p.achieveBgX):"100%",height:(p==null?void 0:p.achieveBgY)>720?Tt(p.achieveBgY):"100%",backgroundImage:`url("${p==null?void 0:p.achieveBg}")`,backgroundSize:(p==null?void 0:p.achieveBgX)&&(p==null?void 0:p.achieveBgY)&&`${Tt(p.achieveBgX)}px ${Tt(p.achieveBgY)}px`},children:((R=n.allUnlockAchieveList)==null?void 0:R.length)>0&&F.jsx("div",{className:ii.achievement_list,children:((O=n.allUnlockAchieveList)==null?void 0:O.map(({unlockname:P,x:k,y:M,url:B,isShowUnlock:D,saveTime:H,condition:ee},ne)=>{var U,X,V,G,te,oe,ge,le,ye,Le;const Y=f!=null&&f.args.hide?{}:{width:(X=(U=f==null?void 0:f.args)==null?void 0:U.style)!=null&&X.width?`${Tt(f.args.style.width)}px`:void 0,height:(G=(V=f==null?void 0:f.args)==null?void 0:V.style)!=null&&G.height?`${Tt(f.args.style.height)}px`:void 0};return F.jsxs("div",{className:`${ii.achievement_item} ${D?ii.achievement_item_bg_active:""}`,style:{top:`${Tt(M)}px`,left:`${E(Tt(k),Tt((p==null?void 0:p.achieveBgX)??""))}px`,backgroundImage:`url("${b(D?B:!(f!=null&&f.args.hide)&&((oe=(te=f==null?void 0:f.args)==null?void 0:te.style)!=null&&oe.image)?(le=(ge=f==null?void 0:f.args)==null?void 0:ge.style)==null?void 0:le.image:"")}")`,transform:` scale(${(Le=(ye=f==null?void 0:f.args)==null?void 0:ye.style)==null?void 0:Le.scale})`,...Y},children:[D&&F.jsx("div",{className:ii.ripple}),D&&F.jsx("span",{className:ii.unlockname,children:P}),F.jsxs("div",{className:`${ii.info_card} ${w(Tt(k),Tt((p==null?void 0:p.achieveBgX)??0))?ii.info_card_position_right:""}`,children:[ee&&F.jsx("span",{className:`${ii.condition} ${D?ii.condition_bg_active:""}`,children:ee}),H&&F.jsx("span",{className:ii.time,children:`${H}`}),F.jsxs("span",{className:ii.description,children:[`${Math.floor(Math.random()*101)}%`,""]})]})]},`unlockAchieveItem-${ne}`)}))??null})})]})})};var eu=(t=>(t.Video="video",t.Image="image",t.Placeholder="placeholder",t))(eu||{});const VFe="_beautyGuideImageDialog_1l7ut_1",HFe="_mark_1l7ut_10",zFe="_content_1l7ut_21",XFe="_content_bg_1l7ut_35",WFe="_imgWrapper_1l7ut_57",YFe="_fade_1l7ut_1",qFe="_btnsWrapper_1l7ut_70",KFe="_btn_1l7ut_70",ZFe="_btn_prev_disabled_1l7ut_90",JFe="_btn_next_disabled_1l7ut_91",QFe="_btn_txt_1l7ut_94",eNe="_hideButtonBgc_1l7ut_101",pa={beautyGuideImageDialog:VFe,mark:HFe,content:zFe,content_bg:XFe,imgWrapper:WFe,fade:YFe,btnsWrapper:qFe,btn:KFe,btn_prev_disabled:ZFe,btn_next_disabled:JFe,btn_txt:QFe,hideButtonBgc:eNe},yA=({url:t,videoPlayerRef:e,...r})=>{const n=de.useRef(null);return de.useEffect(()=>{if(fA.isSupported()&&n.current){const i=t.endsWith(".flv")?"flv":"mp4";fetch(t).then(a=>a.status>200?null:a.arrayBuffer()).then(async a=>{if(!a)return;const o="ENCRYPTED",s=o.length,c=new Uint8Array(a.slice(0,s));let l=!1;for(let h=0;h<s;h++){if(String.fromCharCode(c[h])!==o[h]){l=!1;break}l=!0}let u;if(l){const h=a.slice(s);u=await AH(h,"40e6ad429a13020a07be290c5ef1d7dc7e45e5c4bf34d54a5664282627946e4d","9d6bac74c64ee8714e7959cef75271d0",i)}else u=new Blob([new Uint8Array(a)],{type:`video/${i==="mp4"?"mp4":"x-flv"}`});const f=fA.createPlayer({type:t.endsWith(".mp4")?"mp4":"flv",url:URL.createObjectURL(u)});e&&(e.current=f),f.attachMediaElement(n.current),f.load()})}return()=>{}},[t]),F.jsx("video",{ref:n,...r,style:{width:"100%",height:"auto"}})},tNe=t=>{var d,g,m,v,_,y;const e=en(),{playSeClick:r,playSeEnter:n}=On(),[i,a]=de.useState((t==null?void 0:t.imgUrl)??""),[o,s]=de.useState(0),[c,l]=de.useState({}),u=ft(b=>b.GUI.gameUIConfigs[Ln.collection]);de.useEffect(()=>{var b,w,E;if(((b=t.contentList)==null?void 0:b.length)>0){const C=t.contentList.findIndex(T=>T.url===t.imgUrl);C>-1&&s(C)}if(t.show){const C=Fa((E=(w=u==null?void 0:u.other[dn.Collection_detail_dialog_bg])==null?void 0:w.args)==null?void 0:E.style);l(C)}},[t.contentList,t.show]);const f=()=>{r(),e(yt({component:"showBeautyGuideImageDialog",visibility:!1}))},h=()=>{r();const b=o-1;b<0||(s(b),a(t.contentList[b].url))},p=()=>{r();const b=o+1;b>t.contentList.length-1||(s(b),a(t.contentList[b].url))};return F.jsxs("div",{className:pa.beautyGuideImageDialog,children:[F.jsx("div",{className:`${pa.mark} interactive`,onClick:f}),F.jsxs("div",{className:pa.content,style:Fa((g=(d=u==null?void 0:u.other[dn.Collection_detail_dialog_bg])==null?void 0:d.args)==null?void 0:g.style),children:[F.jsx(hl,{item:u.other[dn.Collection_detail_dialog_bg],defaultClass:pa.content_bg}),F.jsx("div",{className:pa.imgWrapper,children:(m=t.contentList)==null?void 0:m.map((b,w)=>b.type===eu.Image&&w===o?F.jsx("img",{src:b.url,className:pa.transitionImage},`img-${w}`):b.type===eu.Video&&w===o?F.jsx(yA,{url:b.url,className:pa.transitionImage,muted:!0,autoPlay:!0,loop:!0},`img-${w}`):null)}),F.jsxs("div",{className:pa.btnsWrapper,children:[F.jsx(Jn,{defaultText:"",item:u.buttons.Collection_detail_dialog_prev_button,defaultClass:`
              ${pa.btn} 
              ${o<1?pa.btn_prev_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?pa.hideButtonBgc:""} interactive`,onClick:h,onMouseEnter:n}),F.jsxs("span",{className:pa.btn_txt,style:Fa((_=(v=u==null?void 0:u.other[dn==null?void 0:dn.Collection_detail_dialog_text])==null?void 0:v.args)==null?void 0:_.style)??{},children:[o+1,"/",((y=t.contentList)==null?void 0:y.length)??0,""]}),F.jsx(Jn,{defaultText:"",item:u.buttons.Collection_detail_dialog_next_button,defaultClass:`
              ${pa.btn} 
              ${o+1>=t.contentList.length?pa.btn_next_disabled:""}
              ${u.buttons.Collection_detail_dialog_prev_button.args.style.image?pa.hideButtonBgc:""} interactive`,onClick:p,onMouseEnter:n})]})]})]})},rNe="_beautyGuideDetail_main_11v5i_1",nNe="_beautyGuide_detail_bg_11v5i_14",iNe="_goback_11v5i_25",aNe="_beautyGuideDetail_left_11v5i_43",oNe="_left_box_11v5i_51",sNe="_beautyGuide_detail_left_bg_11v5i_57",lNe="_pictureUrl_11v5i_69",uNe="_personal_info_11v5i_80",cNe="_name_11v5i_84",fNe="_info_11v5i_91",hNe="_beautyGuideDetail_right_11v5i_109",dNe="_contentWrapper_11v5i_117",pNe="_content_11v5i_117",vNe="_content_bg_11v5i_128",gNe="_content_img_11v5i_145",mNe="_thumbnailWrapper_11v5i_156",_Ne="_thumbnail_box_11v5i_167",yNe="_video_mark_11v5i_191",xNe="_desc_text_11v5i_202",bNe="_desc_bg_11v5i_214",wNe="_hideBgc_11v5i_229",Zr={beautyGuideDetail_main:rNe,beautyGuide_detail_bg:nNe,goback:iNe,beautyGuideDetail_left:aNe,left_box:oNe,beautyGuide_detail_left_bg:sNe,pictureUrl:lNe,personal_info:uNe,name:cNe,info:fNe,beautyGuideDetail_right:hNe,contentWrapper:dNe,content:pNe,content_bg:vNe,content_img:gNe,thumbnailWrapper:mNe,thumbnail_box:_Ne,video_mark:yNe,desc_text:xNe,desc_bg:bNe,hideBgc:wNe},ENe=t=>{var y,b,w,E,C,T,A,R,O,P,k,M,B,D,H,ee,ne,Y,U,X,V,G;const e=en(),{playSeClick:r,playSeEnter:n}=On(),i=ft(te=>te.GUI),[a,o]=de.useState(null),[s,c]=de.useState(""),l=Gr.useRef(null),[u,f]=de.useState("column"),[h,p]=de.useState("center"),[d,g]=de.useState([]),m=ft(te=>te.GUI.gameUIConfigs[Ln.collection]);de.useEffect(()=>{var oe,ge,le,ye,Le,ke,Ee,Se;const te=t.info;if(te!=null&&te.contentList&&((oe=te==null?void 0:te.contentList)==null?void 0:oe.length)>0)g(te.contentList),o(te.contentList[0]);else{const De=((le=(ge=m.other[dn.Collection_detail_right_thumbnail_bg])==null?void 0:ge.args)==null?void 0:le.style)??{},We=[],Ve=De!=null&&De.image?jt(De.image,Ut.background):"";for(let He=0;He<5;He++)We.push({key:"placeholder",type:"placeholder",url:Ve});g(We)}if(t.detailRightDescBgStyle&&(Le=(ye=t.detailRightDescBgStyle)==null?void 0:ye.args)!=null&&Le.style){const De=(Ee=(ke=t.detailRightDescBgStyle)==null?void 0:ke.args)==null?void 0:Ee.style;(Se=De==null?void 0:De.alignPosition)!=null&&Se.includes("top")&&(f("column-reverse"),p("flex-start"))}},[t]);const v=()=>{r(),e(yt({component:"showBeautyGuideDetail",visibility:!1}))},_=te=>{r(),c(te),l.current&&l.current.pause(),e(yt({component:"showBeautyGuideImageDialog",visibility:!0}))};return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:Zr.beautyGuideDetail_main,children:[F.jsx(hl,{item:m.other[dn.Collection_detail_bg],defaultClass:Zr.beautyGuide_detail_bg}),F.jsx(Jn,{item:m.buttons.Collection_back_button,defaultClass:`${Zr.goback} interactive`,onClick:v,onMouseEnter:n}),F.jsx("div",{className:Zr.beautyGuideDetail_left,children:F.jsxs("div",{className:Zr.left_box,style:Fa((b=(y=m.other[dn.Collection_detail_left_bg])==null?void 0:y.args)==null?void 0:b.style),children:[F.jsx(hl,{item:m.other[dn.Collection_detail_left_bg],defaultClass:Zr.beautyGuide_detail_left_bg}),F.jsx("div",{className:Zr.pictureUrl,children:F.jsx("img",{src:(w=t.info)==null?void 0:w.image,alt:""})}),F.jsxs("div",{className:Zr.personal_info,children:[F.jsx("h3",{className:Zr.name,children:((E=t.info)==null?void 0:E.name)??""}),F.jsxs("div",{className:Zr.info,children:[F.jsx("span",{children:""}),F.jsx("span",{children:((C=t.info)==null?void 0:C.height)??"-"})]}),F.jsxs("div",{className:Zr.info,children:[F.jsx("span",{children:""}),F.jsx("span",{children:((T=t.info)==null?void 0:T.weight)??"-"})]}),F.jsxs("div",{className:Zr.info,children:[F.jsx("span",{children:""}),F.jsx("span",{children:((A=t.info)==null?void 0:A.bustSize)??"-"})]}),F.jsxs("div",{className:Zr.info,children:[F.jsx("span",{children:""}),F.jsx("span",{children:((R=t.info)==null?void 0:R.waistSize)??"-"})]}),F.jsxs("div",{className:Zr.info,children:[F.jsx("span",{children:""}),F.jsx("span",{children:((O=t.info)==null?void 0:O.hipSize)??"-"})]})]})]})}),F.jsxs("div",{className:Zr.beautyGuideDetail_right,style:{flexDirection:u,justifyContent:u==="column-reverse"?"flex-start":"center"},children:[F.jsxs("div",{className:Zr.contentWrapper,style:{display:(k=(P=m.other[dn.Collection_detail_right_content_bg])==null?void 0:P.args)!=null&&k.hide?"none":"block"},children:[F.jsxs("div",{className:`${Zr.content} 
                ${(B=(M=m.other[dn.Collection_detail_right_content_bg])==null?void 0:M.args)!=null&&B.style.image?Zr.hideBgc:""}`,style:Fa((H=(D=m.other[dn.Collection_detail_right_content_bg])==null?void 0:D.args)==null?void 0:H.style),children:[F.jsx(hl,{item:m.other[dn.Collection_detail_right_content_bg],defaultClass:Zr.content_bg}),a&&F.jsxs(F.Fragment,{children:[a.type==="video"&&F.jsx(yA,{videoPlayerRef:l,url:a.url,controls:!0,autoPlay:!i.showBeautyGuideImageDialog,loop:!0,muted:!0},a.url),a.type==="image"&&F.jsx("img",{className:`${Zr.content_img} interactive`,src:a.url,onClick:()=>{_(a.url)}})]})]}),F.jsx("div",{className:Zr.thumbnailWrapper,children:F.jsx("div",{children:(d==null?void 0:d.map((te,oe)=>{var ge,le;return F.jsxs("div",{className:Zr.thumbnail_box,style:Fa((le=(ge=m.other[dn.Collection_detail_right_thumbnail_bg])==null?void 0:ge.args)==null?void 0:le.style),onClick:()=>{te.type!==eu.Placeholder&&o(te)},children:[te.type===eu.Placeholder&&F.jsx("img",{src:te.url,alt:""}),te.type===eu.Image&&F.jsx("img",{src:te.url,alt:""}),te.type===eu.Video&&F.jsx(yA,{url:te.url,controls:!1,loop:!0,muted:!0}),te.type===eu.Video&&F.jsx("div",{className:Zr.video_mark,children:F.jsx("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4276",width:"48",height:"48",children:F.jsx("path",{fill:"#e6e6e6",d:"M315.453793 986.509241Q405.963034 1024 512 1024t196.546207-37.490759q90.509241-37.490759 165.490759-112.463448 74.981517-74.990345 112.472275-165.499586Q1024 618.036966 1024 512t-37.490759-196.546207q-37.490759-90.509241-112.463448-165.490759-74.990345-74.981517-165.499586-112.472275Q618.036966 0 512 0T315.453793 37.490759q-90.509241 37.490759-165.490759 112.463448-74.981517 74.990345-112.472275 165.499586Q0 405.963034 0 512t37.490759 196.546207q37.490759 90.518069 112.463448 165.490759 74.981517 74.981517 165.490759 112.472275z m365.982897-65.447724Q603.409655 953.37931 512 953.37931q-91.409655 0-169.43669-32.317793-78.035862-32.317793-142.66262-96.962207-64.644414-64.635586-96.962207-142.653793Q70.62069 603.400828 70.62069 512t32.317793-169.43669q32.317793-78.027034 96.962207-142.66262 64.635586-64.635586 142.653793-96.962207Q420.599172 70.62069 512 70.62069t169.43669 32.308965v0.008828q78.027034 32.317793 142.66262 96.962207 64.635586 64.635586 96.962207 142.653793Q953.37931 420.599172 953.37931 512t-32.317793 169.43669q-32.317793 78.027034-96.962207 142.66262-64.635586 64.644414-142.653793 96.962207h-0.008827z m-249.979587-650.504827l282.394483 221.007448a25.864828 25.864828 0 0 1 0 40.871724l-282.394483 221.016276c-17.390345 13.594483-43.04331 1.412414-43.04331-20.44469V290.992552c0-21.865931 25.661793-34.048 43.04331-20.44469z"})})})]},`thumbnail-${oe}`)}))??null})})]}),F.jsxs("div",{className:`${Zr.desc_text} 
              ${(ne=(ee=m.other[dn.Collection_detail_right_desc_bg])==null?void 0:ee.args)!=null&&ne.style.image?Zr.hideBgc:""}`,style:{...Fa((U=(Y=m.other[dn.Collection_detail_right_desc_bg])==null?void 0:Y.args)==null?void 0:U.style),display:(V=(X=m.other[dn.Collection_detail_right_desc_bg])==null?void 0:X.args)!=null&&V.hide?"none":"block"},children:[F.jsx(hl,{item:m.other[dn.Collection_detail_right_desc_bg],defaultClass:Zr.desc_bg}),F.jsx("span",{children:((G=t.info)==null?void 0:G.description)??""})]})]})]}),i.showBeautyGuideImageDialog&&F.jsx(tNe,{imgUrl:s,contentList:d||[],show:i.showBeautyGuideImageDialog})]})},SNe="_beautyGuide_main_slod4_1",CNe="_bg_animation_slod4_1",TNe="_beautyGuide_bg_slod4_16",ANe="_beautyGuide_header_slod4_27",INe="_goback_slod4_33",RNe="_title_slod4_51",PNe="_beautyGuide_content_slod4_57",ONe="_item_slod4_63",lc={beautyGuide_main:SNe,bg_animation:CNe,beautyGuide_bg:TNe,beautyGuide_header:ANe,goback:INe,title:RNe,beautyGuide_content:PNe,item:ONe},kNe=()=>{const t=en(),e=ft(v=>v.GUI),{playSeClick:r,playSeEnter:n}=On(),[i,a]=de.useState(null),o=ft(v=>v.GUI.gameUIConfigs[Ln.collection]),[s,c]=de.useState([]),[l,u]=de.useState({}),[f,h]=de.useState(null),[p,d]=de.useState({});de.useEffect(()=>{if(e.showBeautyGuide){const v=[],_=(o==null?void 0:o.other)??{},y={};let b=1;Object.entries(_).forEach(([w,E])=>{var C,T,A,R,O,P,k,M;if(w!=null&&w.includes("Collection_img")){const B=(C=E==null?void 0:E.args)==null?void 0:C.info;let D=((T=E==null?void 0:E.args)==null?void 0:T.style)??{};const H=(A=E==null?void 0:E.args)==null?void 0:A.images,ee=(R=E==null?void 0:E.args)==null?void 0:R.videos;D=Fa(D);const ne=c2e(H),Y=h2e(ee),U=(B==null?void 0:B.image)&&jt(B==null?void 0:B.image,Ut.ui)||"",X=((P=(O=E==null?void 0:E.args)==null?void 0:O.style)==null?void 0:P.image)&&jt((M=(k=E==null?void 0:E.args)==null?void 0:k.style)==null?void 0:M.image,Ut.ui)||"";v.push({avatar:X,name:B==null?void 0:B.name,image:U,height:B==null?void 0:B.height,weight:B==null?void 0:B.weight,bustSize:B==null?void 0:B.bustSize,waistSize:B==null?void 0:B.waistSize,hipSize:B==null?void 0:B.hipSize,description:(B==null?void 0:B.description)??"",contentList:Y.concat(ne)}),y[`Collection_img${b}`]=D,b++}}),u(y),d(y),c(v)}},[e.showBeautyGuide]);const g=()=>{r(),a(null),t(yt({component:"showBeautyGuide",visibility:!1}))},m=(v,_)=>{r(),a(v),h(l[`Collection_img${_+1}`]),t(yt({component:"showBeautyGuideDetail",visibility:!0}))};return F.jsxs(F.Fragment,{children:[e.showBeautyGuide&&F.jsxs("div",{className:lc.beautyGuide_main,children:[F.jsx(hl,{item:o.other[dn.Collection_bg],defaultClass:lc.beautyGuide_bg}),F.jsxs("div",{className:lc.beautyGuide_header,children:[F.jsx(Jn,{item:o.buttons.Collection_back_button,defaultClass:`${lc.goback} interactive`,onClick:g,onMouseEnter:n}),F.jsx(Jn,{item:o.other.Collection_title,defaultClass:lc.title})]}),F.jsx("div",{className:lc.beautyGuide_content,children:s.map((v,_)=>v!=null&&v.avatar?F.jsx("div",{className:`${lc.item} interactive`,onClick:()=>m(v,_),onMouseEnter:n,children:F.jsx("img",{src:v.avatar,style:p[`Collection_img${_+1}`]})},`${v==null?void 0:v.name}$-${_}`):null)})]}),e.showBeautyGuideDetail&&F.jsx(ENe,{info:i,infoItemStyle:f,detailRightDescBgStyle:o.other[dn.Collection_detail_right_desc_bg]})]})},FNe="_modalR18_main_167bk_1",NNe="_footer_167bk_16",R8={modalR18_main:FNe,"fade-in":"_fade-in_167bk_1",footer:NNe},MNe=""+new URL("r18-exit-btn-default.png",import.meta.url).href,LNe=""+new URL("r18-exit-btn-active.png",import.meta.url).href,BNe=""+new URL("r18-confirm-btn-default.png",import.meta.url).href,DNe=""+new URL("r18-confirm-btn-active.png",import.meta.url).href,UNe=()=>{Du("r18.");const t=en(),e=ft(g=>g.GUI),{playSeClick:r,playSeEnter:n}=On(),[i,a]=de.useState(!1),[o,s]=de.useState(!1),[c,l]=de.useState({width:void 0,height:void 0,opacity:0}),[u,f]=de.useState({width:void 0,height:void 0,opacity:0}),h=de.useRef(0),p=()=>{r(),t(kH(!1))},d=()=>{r(),window.location.href="/"};return F.jsx(F.Fragment,{children:e.isShowR18Modal&&e.openR18Modal&&F.jsx("div",{className:`${R8.modalR18_main} ${e.isShowR18Modal&&e.openR18Modal?"animated fadeIn":""}`,children:F.jsxs("div",{className:R8.footer,children:[F.jsx("div",{id:"exitButton",children:F.jsx("img",{src:i?LNe:MNe,onClick:d,className:"interactive",onMouseEnter:()=>{a(!0),n()},onMouseLeave:()=>{a(!1)},onLoad:g=>{l({width:g.target.naturalWidth/.5,height:g.target.naturalHeight/.5,opacity:1})},onMouseDown:g=>{const m=g.currentTarget;m.className="interactive btn-clicked",h.current=Date.now()},onMouseUp:g=>{const m=Date.now()-h.current;let v=g.currentTarget;setTimeout(()=>{v.className="interactive",v=null,setTimeout(p,320)},m-350>0?0:350-m)},style:c})}),F.jsx("div",{id:"confirmButton",children:F.jsx("img",{className:"interactive",src:o?DNe:BNe,onMouseEnter:()=>{s(!0),n()},onMouseLeave:()=>{s(!1)},onLoad:g=>{f({width:g.target.naturalWidth/.5,height:g.target.naturalHeight/.5,opacity:1})},onMouseDown:g=>{const m=g.currentTarget;m.className="interactive btn-clicked",h.current=Date.now()},onMouseUp:g=>{const m=Date.now()-h.current;let v=g.currentTarget;setTimeout(()=>{v.className="interactive",v=null,setTimeout(p,320)},m-350>0?0:350-m)},style:u})})]})})})};function jNe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function $Ne(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var a=i.length;function o(c,l){if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(f){o(c,f)},function(f){i[c]={status:"rejected",reason:f},--a===0&&r(i)});return}}i[c]={status:"fulfilled",value:l},--a===0&&r(i)}for(var s=0;s<i.length;s++)o(s,i[s])})}function yz(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}yz.prototype=Error.prototype;function GNe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var a=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(s){a.push(s),a.length===i.length&&n(new yz(a,"All promises were rejected"))})}catch(s){n(s)}})}var VNe=setTimeout;function xz(t){return!!(t&&typeof t.length<"u")}function HNe(){}function zNe(t,e){return function(){t.apply(e,arguments)}}function Pn(t){if(!(this instanceof Pn))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],wz(t,this)}function bz(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Pn._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?xA:Sv)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Sv(e.promise,i);return}xA(e.promise,n)})}function xA(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Pn){t._state=3,t._value=e,bA(t);return}else if(typeof r=="function"){wz(zNe(r,e),t);return}}t._state=1,t._value=e,bA(t)}catch(n){Sv(t,n)}}function Sv(t,e){t._state=2,t._value=e,bA(t)}function bA(t){t._state===2&&t._deferreds.length===0&&Pn._immediateFn(function(){t._handled||Pn._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)bz(t,t._deferreds[e]);t._deferreds=null}function XNe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function wz(t,e){var r=!1;try{t(function(n){r||(r=!0,xA(e,n))},function(n){r||(r=!0,Sv(e,n))})}catch(n){if(r)return;r=!0,Sv(e,n)}}Pn.prototype.catch=function(t){return this.then(null,t)};Pn.prototype.then=function(t,e){var r=new this.constructor(HNe);return bz(this,new XNe(t,e,r)),r};Pn.prototype.finally=jNe;Pn.all=function(t){return new Pn(function(e,r){if(!xz(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function a(s,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(u){a(s,u)},r);return}}n[s]=c,--i===0&&e(n)}catch(u){r(u)}}for(var o=0;o<n.length;o++)a(o,n[o])})};Pn.any=GNe;Pn.allSettled=$Ne;Pn.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Pn?t:new Pn(function(e){e(t)})};Pn.reject=function(t){return new Pn(function(e,r){r(t)})};Pn.race=function(t){return new Pn(function(e,r){if(!xz(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Pn.resolve(t[n]).then(e,r)})};Pn._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){VNe(t,0)};Pn._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Pn);Object.assign||(Object.assign=Zte);var WNe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var YNe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-YNe}}var B2=Date.now(),P8=["ms","moz","webkit","o"];for(var D2=0;D2<P8.length&&!globalThis.requestAnimationFrame;++D2){var U2=P8[D2];globalThis.requestAnimationFrame=globalThis[U2+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[U2+"CancelAnimationFrame"]||globalThis[U2+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=WNe+B2-e;return r<0&&(r=0),B2=e,globalThis.self.setTimeout(function(){B2=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var j2=/iPhone/i,O8=/iPod/i,k8=/iPad/i,F8=/\biOS-universal(?:.+)Mac\b/i,$2=/\bAndroid(?:.+)Mobile\b/i,N8=/Android/i,th=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Jm=/Silk/i,tl=/Windows Phone/i,M8=/\bWindows(?:.+)ARM\b/i,L8=/BlackBerry/i,B8=/BB10/i,D8=/Opera Mini/i,U8=/\b(CriOS|Chrome)(?:.+)Mobile/i,j8=/Mobile(?:.+)Firefox\b/i,$8=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function qNe(t){return function(e){return e.test(t)}}function KNe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=qNe(r),a={apple:{phone:i(j2)&&!i(tl),ipod:i(O8),tablet:!i(j2)&&(i(k8)||$8(e))&&!i(tl),universal:i(F8),device:(i(j2)||i(O8)||i(k8)||i(F8)||$8(e))&&!i(tl)},amazon:{phone:i(th),tablet:!i(th)&&i(Jm),device:i(th)||i(Jm)},android:{phone:!i(tl)&&i(th)||!i(tl)&&i($2),tablet:!i(tl)&&!i(th)&&!i($2)&&(i(Jm)||i(N8)),device:!i(tl)&&(i(th)||i(Jm)||i($2)||i(N8))||i(/\bokhttp\b/i)},windows:{phone:i(tl),tablet:i(M8),device:i(tl)||i(M8)},other:{blackberry:i(L8),blackberry10:i(B8),opera:i(D8),firefox:i(j8),chrome:i(U8),device:i(L8)||i(B8)||i(D8)||i(j8)||i(U8)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wo=KNe(globalThis.navigator);function ZNe(t){var e=!0;if(wo.tablet||wo.phone){if(wo.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(wo.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function JNe(){return!wo.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var G8;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(G8||(G8={}));var V8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(V8||(V8={}));var H8;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(H8||(H8={}));var z8;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(z8||(z8={}));var X8;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(X8||(X8={}));var W8;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(W8||(W8={}));var Y8;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Y8||(Y8={}));var q8;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(q8||(q8={}));var K8;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(K8||(K8={}));var wA;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(wA||(wA={}));var EA;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(EA||(EA={}));var SA;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(SA||(SA={}));var Z8;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Z8||(Z8={}));var J8;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(J8||(J8={}));var CA;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(CA||(CA={}));var Hp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Hp||(Hp={}));var Q8;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Q8||(Q8={}));var TA;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(TA||(TA={}));var e5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(e5||(e5={}));var xt={MIPMAP_TEXTURES:SA.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:TA.NONE,SPRITE_MAX_TEXTURES:ZNe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:CA.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:EA.CLAMP,SCALE_MODE:wA.LINEAR,PRECISION_VERTEX:Hp.HIGH,PRECISION_FRAGMENT:wo.apple.device?Hp.HIGH:Hp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:JNe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Ez={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),d=r?r+l:l;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],p]:c._events[d].push(p):(c._events[d]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,d=new Array(p);h<p;h++)d[h]=f[h].fn;return d},s.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,u,f,h,p,d){var g=r?r+l:l;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,_,y;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,p),!0;case 6:return m.fn.call(m.context,u,f,h,p,d),!0}for(y=1,_=new Array(v-1);y<v;y++)_[y-1]=arguments[y];m.fn.apply(m.context,_)}else{var b=m.length,w;for(y=0;y<b;y++)switch(m[y].once&&this.removeListener(l,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,f);break;case 4:m[y].fn.call(m[y].context,u,f,h);break;default:if(!_)for(w=1,_=new Array(v-1);w<v;w++)_[w-1]=arguments[w];m[y].fn.apply(m[y].context,_)}}return!0},s.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},s.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},s.prototype.removeListener=function(l,u,f,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var d=this._events[p];if(d.fn)d.fn===u&&(!h||d.once)&&(!f||d.context===f)&&o(this,p);else{for(var g=0,m=[],v=d.length;g<v;g++)(d[g].fn!==u||h&&!d[g].once||f&&d[g].context!==f)&&m.push(d[g]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Ez);var QNe=Ez.exports;const Cf=Yi(QNe);var Sk={exports:{}};Sk.exports=xb;Sk.exports.default=xb;function xb(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,a=Sz(t,0,i,r,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,f,h,p;if(n&&(a=iMe(t,e,a,r)),t.length>80*r){s=l=t[0],c=u=t[1];for(var d=r;d<i;d+=r)f=t[d],h=t[d+1],f<s&&(s=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);p=Math.max(l-s,u-c),p=p!==0?32767/p:0}return Cv(a,o,r,s,c,p,0),o}function Sz(t,e,r,n,i){var a,o;if(i===RA(t,e,r,n)>0)for(a=e;a<r;a+=n)o=t5(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=t5(a,t[a],t[a+1],o);return o&&bb(o,o.next)&&(Av(o),o=o.next),o}function ff(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(bb(r,r.next)||In(r.prev,r,r.next)===0)){if(Av(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Cv(t,e,r,n,i,a,o){if(t){!o&&a&&uMe(t,n,i,a);for(var s=t,c,l;t.prev!==t.next;){if(c=t.prev,l=t.next,a?tMe(t,n,i,a):eMe(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Av(t),t=l.next,s=l.next;continue}if(t=l,t===s){o?o===1?(t=rMe(ff(t),e,r),Cv(t,e,r,n,i,a,2)):o===2&&nMe(t,e,r,n,i,a):Cv(ff(t),e,r,n,i,a,1);break}}}}function eMe(t){var e=t.prev,r=t,n=t.next;if(In(e,r,n)>=0)return!1;for(var i=e.x,a=r.x,o=n.x,s=e.y,c=r.y,l=n.y,u=i<a?i<o?i:o:a<o?a:o,f=s<c?s<l?s:l:c<l?c:l,h=i>a?i>o?i:o:a>o?a:o,p=s>c?s>l?s:l:c>l?c:l,d=n.next;d!==e;){if(d.x>=u&&d.x<=h&&d.y>=f&&d.y<=p&&kh(i,s,a,c,o,l,d.x,d.y)&&In(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function tMe(t,e,r,n){var i=t.prev,a=t,o=t.next;if(In(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,f=a.y,h=o.y,p=s<c?s<l?s:l:c<l?c:l,d=u<f?u<h?u:h:f<h?f:h,g=s>c?s>l?s:l:c>l?c:l,m=u>f?u>h?u:h:f>h?f:h,v=AA(p,d,e,r,n),_=AA(g,m,e,r,n),y=t.prevZ,b=t.nextZ;y&&y.z>=v&&b&&b.z<=_;){if(y.x>=p&&y.x<=g&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&kh(s,u,c,f,l,h,y.x,y.y)&&In(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=p&&b.x<=g&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&kh(s,u,c,f,l,h,b.x,b.y)&&In(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=g&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&kh(s,u,c,f,l,h,y.x,y.y)&&In(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=_;){if(b.x>=p&&b.x<=g&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&kh(s,u,c,f,l,h,b.x,b.y)&&In(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function rMe(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!bb(i,a)&&Cz(i,n,n.next,a)&&Tv(i,a)&&Tv(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),Av(n),Av(n.next),n=t=a),n=n.next}while(n!==t);return ff(n)}function nMe(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&hMe(o,s)){var c=Tz(o,s);o=ff(o,o.next),c=ff(c,c.next),Cv(o,e,r,n,i,a,0),Cv(c,e,r,n,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function iMe(t,e,r,n){var i=[],a,o,s,c,l;for(a=0,o=e.length;a<o;a++)s=e[a]*n,c=a<o-1?e[a+1]*n:t.length,l=Sz(t,s,c,n,!1),l===l.next&&(l.steiner=!0),i.push(fMe(l));for(i.sort(aMe),a=0;a<i.length;a++)r=oMe(i[a],r);return r}function aMe(t,e){return t.x-e.x}function oMe(t,e){var r=sMe(t,e);if(!r)return e;var n=Tz(r,t);return ff(n,n.next),ff(r,r.next)}function sMe(t,e){var r=e,n=t.x,i=t.y,a=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a&&(a=s,o=r.x<r.next.x?r:r.next,s===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,l=o.x,u=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&kh(i<u?n:a,i,l,u,i<u?a:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Tv(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&lMe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==c);return o}function lMe(t,e){return In(t.prev,t,e.prev)<0&&In(e.next,t,t.next)<0}function uMe(t,e,r,n){var i=t;do i.z===0&&(i.z=AA(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,cMe(i)}function cMe(t){var e,r,n,i,a,o,s,c,l=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ,!!n);e++);for(c=l;s>0||c>0&&n;)s!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return t}function AA(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function fMe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function kh(t,e,r,n,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(n-s)>=(r-o)*(e-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function hMe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!dMe(t,e)&&(Tv(t,e)&&Tv(e,t)&&pMe(t,e)&&(In(t.prev,t,e.prev)||In(t,e.prev,e))||bb(t,e)&&In(t.prev,t,t.next)>0&&In(e.prev,e,e.next)>0)}function In(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function bb(t,e){return t.x===e.x&&t.y===e.y}function Cz(t,e,r,n){var i=e_(In(t,e,r)),a=e_(In(t,e,n)),o=e_(In(r,n,t)),s=e_(In(r,n,e));return!!(i!==a&&o!==s||i===0&&Qm(t,r,e)||a===0&&Qm(t,n,e)||o===0&&Qm(r,t,n)||s===0&&Qm(r,e,n))}function Qm(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function e_(t){return t>0?1:t<0?-1:0}function dMe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Cz(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Tv(t,e){return In(t.prev,t,t.next)<0?In(t,e,t.next)>=0&&In(t,t.prev,e)>=0:In(t,e,t.prev)<0||In(t,t.next,e)<0}function pMe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Tz(t,e){var r=new IA(t.i,t.x,t.y),n=new IA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function t5(t,e,r,n){var i=new IA(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Av(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function IA(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}xb.deviation=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(RA(t,0,a,r));if(i)for(var s=0,c=e.length;s<c;s++){var l=e[s]*r,u=s<c-1?e[s+1]*r:t.length;o-=Math.abs(RA(t,l,u,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function RA(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}xb.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[i][a][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var vMe=Sk.exports;const Ck=Yi(vMe);var hx={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */hx.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof At=="object"&&At;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s=2147483647,c=36,l=1,u=26,f=38,h=700,p=72,d=128,g="-",m=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,w=Math.floor,E=String.fromCharCode,C;function T(Y){throw new RangeError(y[Y])}function A(Y,U){for(var X=Y.length,V=[];X--;)V[X]=U(Y[X]);return V}function R(Y,U){var X=Y.split("@"),V="";X.length>1&&(V=X[0]+"@",Y=X[1]),Y=Y.replace(_,".");var G=Y.split("."),te=A(G,U).join(".");return V+te}function O(Y){for(var U=[],X=0,V=Y.length,G,te;X<V;)G=Y.charCodeAt(X++),G>=55296&&G<=56319&&X<V?(te=Y.charCodeAt(X++),(te&64512)==56320?U.push(((G&1023)<<10)+(te&1023)+65536):(U.push(G),X--)):U.push(G);return U}function P(Y){return A(Y,function(U){var X="";return U>65535&&(U-=65536,X+=E(U>>>10&1023|55296),U=56320|U&1023),X+=E(U),X}).join("")}function k(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:c}function M(Y,U){return Y+22+75*(Y<26)-((U!=0)<<5)}function B(Y,U,X){var V=0;for(Y=X?w(Y/h):Y>>1,Y+=w(Y/U);Y>b*u>>1;V+=c)Y=w(Y/b);return w(V+(b+1)*Y/(Y+f))}function D(Y){var U=[],X=Y.length,V,G=0,te=d,oe=p,ge,le,ye,Le,ke,Ee,Se,De,We;for(ge=Y.lastIndexOf(g),ge<0&&(ge=0),le=0;le<ge;++le)Y.charCodeAt(le)>=128&&T("not-basic"),U.push(Y.charCodeAt(le));for(ye=ge>0?ge+1:0;ye<X;){for(Le=G,ke=1,Ee=c;ye>=X&&T("invalid-input"),Se=k(Y.charCodeAt(ye++)),(Se>=c||Se>w((s-G)/ke))&&T("overflow"),G+=Se*ke,De=Ee<=oe?l:Ee>=oe+u?u:Ee-oe,!(Se<De);Ee+=c)We=c-De,ke>w(s/We)&&T("overflow"),ke*=We;V=U.length+1,oe=B(G-Le,V,Le==0),w(G/V)>s-te&&T("overflow"),te+=w(G/V),G%=V,U.splice(G++,0,te)}return P(U)}function H(Y){var U,X,V,G,te,oe,ge,le,ye,Le,ke,Ee=[],Se,De,We,Ve;for(Y=O(Y),Se=Y.length,U=d,X=0,te=p,oe=0;oe<Se;++oe)ke=Y[oe],ke<128&&Ee.push(E(ke));for(V=G=Ee.length,G&&Ee.push(g);V<Se;){for(ge=s,oe=0;oe<Se;++oe)ke=Y[oe],ke>=U&&ke<ge&&(ge=ke);for(De=V+1,ge-U>w((s-X)/De)&&T("overflow"),X+=(ge-U)*De,U=ge,oe=0;oe<Se;++oe)if(ke=Y[oe],ke<U&&++X>s&&T("overflow"),ke==U){for(le=X,ye=c;Le=ye<=te?l:ye>=te+u?u:ye-te,!(le<Le);ye+=c)Ve=le-Le,We=c-Le,Ee.push(E(M(Le+Ve%We,0))),le=w(Ve/We);Ee.push(E(M(le,0))),te=B(X,De,V==G),X=0,++V}++X,++U}return Ee.join("")}function ee(Y){return R(Y,function(U){return m.test(U)?D(U.slice(4).toLowerCase()):U})}function ne(Y){return R(Y,function(U){return v.test(U)?"xn--"+H(U):U})}if(o={version:"1.4.1",ucs2:{decode:O,encode:P},decode:D,encode:H,toASCII:ne,toUnicode:ee},n&&i)if(t.exports==n)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(n[C]=o[C]);else r.punycode=o})(At)})(hx,hx.exports);var gMe=hx.exports,mMe=Error,_Me=EvalError,yMe=RangeError,xMe=ReferenceError,Az=SyntaxError,wg=TypeError,bMe=URIError,wMe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},r5=typeof Symbol<"u"&&Symbol,EMe=wMe,SMe=function(){return typeof r5!="function"||typeof Symbol!="function"||typeof r5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:EMe()},G2={__proto__:null,foo:{}},CMe=Object,TMe=function(){return{__proto__:G2}.foo===G2.foo&&!(G2 instanceof CMe)},AMe="Function.prototype.bind called on incompatible ",IMe=Object.prototype.toString,RMe=Math.max,PMe="[object Function]",n5=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},OMe=function(e,r){for(var n=[],i=r||0,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},kMe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},FMe=function(e){var r=this;if(typeof r!="function"||IMe.apply(r)!==PMe)throw new TypeError(AMe+r);for(var n=OMe(arguments,1),i,a=function(){if(this instanceof i){var u=r.apply(this,n5(n,arguments));return Object(u)===u?u:this}return r.apply(e,n5(n,arguments))},o=RMe(0,r.length-n.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(i=Function("binder","return function ("+kMe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},NMe=FMe,Tk=Function.prototype.bind||NMe,MMe=Function.prototype.call,LMe=Object.prototype.hasOwnProperty,BMe=Tk,DMe=BMe.call(MMe,LMe),xr,UMe=mMe,jMe=_Me,$Me=yMe,GMe=xMe,gd=Az,td=wg,VMe=bMe,Iz=Function,V2=function(t){try{return Iz('"use strict"; return ('+t+").constructor;")()}catch{}},Kc=Object.getOwnPropertyDescriptor;if(Kc)try{Kc({},"")}catch{Kc=null}var H2=function(){throw new td},HMe=Kc?function(){try{return arguments.callee,H2}catch{try{return Kc(arguments,"callee").get}catch{return H2}}}():H2,rh=SMe(),zMe=TMe(),Ci=Object.getPrototypeOf||(zMe?function(t){return t.__proto__}:null),vh={},XMe=typeof Uint8Array>"u"||!Ci?xr:Ci(Uint8Array),Zc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?xr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?xr:ArrayBuffer,"%ArrayIteratorPrototype%":rh&&Ci?Ci([][Symbol.iterator]()):xr,"%AsyncFromSyncIteratorPrototype%":xr,"%AsyncFunction%":vh,"%AsyncGenerator%":vh,"%AsyncGeneratorFunction%":vh,"%AsyncIteratorPrototype%":vh,"%Atomics%":typeof Atomics>"u"?xr:Atomics,"%BigInt%":typeof BigInt>"u"?xr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?xr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?xr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?xr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":UMe,"%eval%":eval,"%EvalError%":jMe,"%Float32Array%":typeof Float32Array>"u"?xr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?xr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?xr:FinalizationRegistry,"%Function%":Iz,"%GeneratorFunction%":vh,"%Int8Array%":typeof Int8Array>"u"?xr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?xr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?xr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":rh&&Ci?Ci(Ci([][Symbol.iterator]())):xr,"%JSON%":typeof JSON=="object"?JSON:xr,"%Map%":typeof Map>"u"?xr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!rh||!Ci?xr:Ci(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?xr:Promise,"%Proxy%":typeof Proxy>"u"?xr:Proxy,"%RangeError%":$Me,"%ReferenceError%":GMe,"%Reflect%":typeof Reflect>"u"?xr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?xr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!rh||!Ci?xr:Ci(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?xr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":rh&&Ci?Ci(""[Symbol.iterator]()):xr,"%Symbol%":rh?Symbol:xr,"%SyntaxError%":gd,"%ThrowTypeError%":HMe,"%TypedArray%":XMe,"%TypeError%":td,"%Uint8Array%":typeof Uint8Array>"u"?xr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?xr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?xr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?xr:Uint32Array,"%URIError%":VMe,"%WeakMap%":typeof WeakMap>"u"?xr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?xr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?xr:WeakSet};if(Ci)try{null.error}catch(t){var WMe=Ci(Ci(t));Zc["%Error.prototype%"]=WMe}var YMe=function t(e){var r;if(e==="%AsyncFunction%")r=V2("async function () {}");else if(e==="%GeneratorFunction%")r=V2("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=V2("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ci&&(r=Ci(i.prototype))}return Zc[e]=r,r},i5={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Eg=Tk,dx=DMe,qMe=Eg.call(Function.call,Array.prototype.concat),KMe=Eg.call(Function.apply,Array.prototype.splice),a5=Eg.call(Function.call,String.prototype.replace),px=Eg.call(Function.call,String.prototype.slice),ZMe=Eg.call(Function.call,RegExp.prototype.exec),JMe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,QMe=/\\(\\)?/g,eLe=function(e){var r=px(e,0,1),n=px(e,-1);if(r==="%"&&n!=="%")throw new gd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new gd("invalid intrinsic syntax, expected opening `%`");var i=[];return a5(e,JMe,function(a,o,s,c){i[i.length]=s?a5(c,QMe,"$1"):o||a}),i},tLe=function(e,r){var n=e,i;if(dx(i5,n)&&(i=i5[n],n="%"+i[0]+"%"),dx(Zc,n)){var a=Zc[n];if(a===vh&&(a=YMe(n)),typeof a>"u"&&!r)throw new td("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new gd("intrinsic "+e+" does not exist!")},i0=function(e,r){if(typeof e!="string"||e.length===0)throw new td("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new td('"allowMissing" argument must be a boolean');if(ZMe(/^%?[^%]*%?$/,e)===null)throw new gd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=eLe(e),i=n.length>0?n[0]:"",a=tLe("%"+i+"%",r),o=a.name,s=a.value,c=!1,l=a.alias;l&&(i=l[0],KMe(n,qMe([0,1],l)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=px(h,0,1),d=px(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new gd("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),i+="."+h,o="%"+i+"%",dx(Zc,o))s=Zc[o];else if(s!=null){if(!(h in s)){if(!r)throw new td("base intrinsic for "+e+" exists, but the property is not available.");return}if(Kc&&u+1>=n.length){var g=Kc(s,h);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?s=g.get:s=s[h]}else f=dx(s,h),s=s[h];f&&!c&&(Zc[o]=s)}}return s},Rz={exports:{}},z2,o5;function Ak(){if(o5)return z2;o5=1;var t=i0,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return z2=e,z2}var rLe=i0,fy=rLe("%Object.getOwnPropertyDescriptor%",!0);if(fy)try{fy([],"length")}catch{fy=null}var Pz=fy,s5=Ak(),nLe=Az,nh=wg,l5=Pz,iLe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new nh("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new nh("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new nh("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new nh("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new nh("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new nh("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,c=!!l5&&l5(e,r);if(s5)s5(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:a===null&&c?c.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new nLe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},PA=Ak(),Oz=function(){return!!PA};Oz.hasArrayLengthDefineBug=function(){if(!PA)return null;try{return PA([],"length",{value:1}).length!==1}catch{return!0}};var aLe=Oz,oLe=i0,u5=iLe,sLe=aLe(),c5=Pz,f5=wg,lLe=oLe("%Math.floor%"),uLe=function(e,r){if(typeof e!="function")throw new f5("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||lLe(r)!==r)throw new f5("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&c5){var o=c5(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(sLe?u5(e,"length",r,!0,!0):u5(e,"length",r)),e};(function(t){var e=Tk,r=i0,n=uLe,i=wg,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),c=Ak(),l=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+l(0,h.length-(arguments.length-1)),!0)};var u=function(){return s(e,a,arguments)};c?c(t.exports,"apply",{value:u}):t.exports.apply=u})(Rz);var cLe=Rz.exports,kz=i0,Fz=cLe,fLe=Fz(kz("String.prototype.indexOf")),hLe=function(e,r){var n=kz(e,!!r);return typeof n=="function"&&fLe(e,".prototype.")>-1?Fz(n):n},Ik=typeof Map=="function"&&Map.prototype,X2=Object.getOwnPropertyDescriptor&&Ik?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vx=Ik&&X2&&typeof X2.get=="function"?X2.get:null,h5=Ik&&Map.prototype.forEach,Rk=typeof Set=="function"&&Set.prototype,W2=Object.getOwnPropertyDescriptor&&Rk?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gx=Rk&&W2&&typeof W2.get=="function"?W2.get:null,d5=Rk&&Set.prototype.forEach,dLe=typeof WeakMap=="function"&&WeakMap.prototype,zp=dLe?WeakMap.prototype.has:null,pLe=typeof WeakSet=="function"&&WeakSet.prototype,Xp=pLe?WeakSet.prototype.has:null,vLe=typeof WeakRef=="function"&&WeakRef.prototype,p5=vLe?WeakRef.prototype.deref:null,gLe=Boolean.prototype.valueOf,mLe=Object.prototype.toString,_Le=Function.prototype.toString,yLe=String.prototype.match,Pk=String.prototype.slice,ou=String.prototype.replace,xLe=String.prototype.toUpperCase,v5=String.prototype.toLowerCase,Nz=RegExp.prototype.test,g5=Array.prototype.concat,xs=Array.prototype.join,bLe=Array.prototype.slice,m5=Math.floor,OA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Y2=Object.getOwnPropertySymbols,kA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,md=typeof Symbol=="function"&&typeof Symbol.iterator=="object",sa=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===md||"symbol")?Symbol.toStringTag:null,Mz=Object.prototype.propertyIsEnumerable,_5=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function y5(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Nz.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-m5(-t):m5(t);if(n!==t){var i=String(n),a=Pk.call(e,i.length+1);return ou.call(i,r,"$&_")+"."+ou.call(ou.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ou.call(e,r,"$&_")}var FA=SH,x5=FA.custom,b5=Bz(x5)?x5:null,wLe=function t(e,r,n,i){var a=r||{};if(Yl(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yl(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Yl(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yl(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yl(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Uz(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return s?y5(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return s?y5(e,l):l}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return NA(e)?"[Array]":"[Object]";var f=jLe(a,n);if(typeof i>"u")i=[];else if(Dz(i,e)>=0)return"[Circular]";function h(k,M,B){if(M&&(i=bLe.call(i),i.push(M)),B){var D={depth:a.depth};return Yl(a,"quoteStyle")&&(D.quoteStyle=a.quoteStyle),t(k,D,n+1,i)}return t(k,a,n+1,i)}if(typeof e=="function"&&!w5(e)){var p=OLe(e),d=t_(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+xs.call(d,", ")+" }":"")}if(Bz(e)){var g=md?ou.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):kA.call(e);return typeof e=="object"&&!md?Z0(g):g}if(BLe(e)){for(var m="<"+v5.call(String(e.nodeName)),v=e.attributes||[],_=0;_<v.length;_++)m+=" "+v[_].name+"="+Lz(ELe(v[_].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+v5.call(String(e.nodeName))+">",m}if(NA(e)){if(e.length===0)return"[]";var y=t_(e,h);return f&&!ULe(y)?"["+MA(y,f)+"]":"[ "+xs.call(y,", ")+" ]"}if(CLe(e)){var b=t_(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Mz.call(e,"cause")?"{ ["+String(e)+"] "+xs.call(g5.call("[cause]: "+h(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+xs.call(b,", ")+" }"}if(typeof e=="object"&&o){if(b5&&typeof e[b5]=="function"&&FA)return FA(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(kLe(e)){var w=[];return h5&&h5.call(e,function(k,M){w.push(h(M,e,!0)+" => "+h(k,e))}),E5("Map",vx.call(e),w,f)}if(MLe(e)){var E=[];return d5&&d5.call(e,function(k){E.push(h(k,e))}),E5("Set",gx.call(e),E,f)}if(FLe(e))return q2("WeakMap");if(LLe(e))return q2("WeakSet");if(NLe(e))return q2("WeakRef");if(ALe(e))return Z0(h(Number(e)));if(RLe(e))return Z0(h(OA.call(e)));if(ILe(e))return Z0(gLe.call(e));if(TLe(e))return Z0(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===At)return"{ [object globalThis] }";if(!SLe(e)&&!w5(e)){var C=t_(e,h),T=_5?_5(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",R=!T&&sa&&Object(e)===e&&sa in e?Pk.call(Xu(e),8,-1):A?"Object":"",O=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",P=O+(R||A?"["+xs.call(g5.call([],R||[],A||[]),": ")+"] ":"");return C.length===0?P+"{}":f?P+"{"+MA(C,f)+"}":P+"{ "+xs.call(C,", ")+" }"}return String(e)};function Lz(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ELe(t){return ou.call(String(t),/"/g,"&quot;")}function NA(t){return Xu(t)==="[object Array]"&&(!sa||!(typeof t=="object"&&sa in t))}function SLe(t){return Xu(t)==="[object Date]"&&(!sa||!(typeof t=="object"&&sa in t))}function w5(t){return Xu(t)==="[object RegExp]"&&(!sa||!(typeof t=="object"&&sa in t))}function CLe(t){return Xu(t)==="[object Error]"&&(!sa||!(typeof t=="object"&&sa in t))}function TLe(t){return Xu(t)==="[object String]"&&(!sa||!(typeof t=="object"&&sa in t))}function ALe(t){return Xu(t)==="[object Number]"&&(!sa||!(typeof t=="object"&&sa in t))}function ILe(t){return Xu(t)==="[object Boolean]"&&(!sa||!(typeof t=="object"&&sa in t))}function Bz(t){if(md)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!kA)return!1;try{return kA.call(t),!0}catch{}return!1}function RLe(t){if(!t||typeof t!="object"||!OA)return!1;try{return OA.call(t),!0}catch{}return!1}var PLe=Object.prototype.hasOwnProperty||function(t){return t in this};function Yl(t,e){return PLe.call(t,e)}function Xu(t){return mLe.call(t)}function OLe(t){if(t.name)return t.name;var e=yLe.call(_Le.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Dz(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function kLe(t){if(!vx||!t||typeof t!="object")return!1;try{vx.call(t);try{gx.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function FLe(t){if(!zp||!t||typeof t!="object")return!1;try{zp.call(t,zp);try{Xp.call(t,Xp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function NLe(t){if(!p5||!t||typeof t!="object")return!1;try{return p5.call(t),!0}catch{}return!1}function MLe(t){if(!gx||!t||typeof t!="object")return!1;try{gx.call(t);try{vx.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function LLe(t){if(!Xp||!t||typeof t!="object")return!1;try{Xp.call(t,Xp);try{zp.call(t,zp)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function BLe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Uz(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Uz(Pk.call(t,0,e.maxStringLength),e)+n}var i=ou.call(ou.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,DLe);return Lz(i,"single",e)}function DLe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+xLe.call(e.toString(16))}function Z0(t){return"Object("+t+")"}function q2(t){return t+" { ? }"}function E5(t,e,r,n){var i=n?MA(r,n):xs.call(r,", ");return t+" ("+e+") {"+i+"}"}function ULe(t){for(var e=0;e<t.length;e++)if(Dz(t[e],`
`)>=0)return!1;return!0}function jLe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=xs.call(Array(t.indent+1)," ");else return null;return{base:r,prev:xs.call(Array(e+1),r)}}function MA(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+xs.call(t,","+r)+`
`+e.prev}function t_(t,e){var r=NA(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Yl(t,i)?e(t[i],t):""}var a=typeof Y2=="function"?Y2(t):[],o;if(md){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in t)Yl(t,c)&&(r&&String(Number(c))===c&&c<t.length||md&&o["$"+c]instanceof Symbol||(Nz.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Y2=="function")for(var l=0;l<a.length;l++)Mz.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}var jz=i0,a0=hLe,$Le=wLe,GLe=wg,r_=jz("%WeakMap%",!0),n_=jz("%Map%",!0),VLe=a0("WeakMap.prototype.get",!0),HLe=a0("WeakMap.prototype.set",!0),zLe=a0("WeakMap.prototype.has",!0),XLe=a0("Map.prototype.get",!0),WLe=a0("Map.prototype.set",!0),YLe=a0("Map.prototype.has",!0),Ok=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},qLe=function(t,e){var r=Ok(t,e);return r&&r.value},KLe=function(t,e,r){var n=Ok(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},ZLe=function(t,e){return!!Ok(t,e)},JLe=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new GLe("Side channel does not contain "+$Le(a))},get:function(a){if(r_&&a&&(typeof a=="object"||typeof a=="function")){if(e)return VLe(e,a)}else if(n_){if(r)return XLe(r,a)}else if(n)return qLe(n,a)},has:function(a){if(r_&&a&&(typeof a=="object"||typeof a=="function")){if(e)return zLe(e,a)}else if(n_){if(r)return YLe(r,a)}else if(n)return ZLe(n,a);return!1},set:function(a,o){r_&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new r_),HLe(e,a,o)):n_?(r||(r=new n_),WLe(r,a,o)):(n||(n={key:{},next:null}),KLe(n,a,o))}};return i},QLe=String.prototype.replace,eBe=/%20/g,K2={RFC1738:"RFC1738",RFC3986:"RFC3986"},kk={default:K2.RFC3986,formatters:{RFC1738:function(t){return QLe.call(t,eBe,"+")},RFC3986:function(t){return String(t)}},RFC1738:K2.RFC1738,RFC3986:K2.RFC3986},tBe=kk,Z2=Object.prototype.hasOwnProperty,Tc=Array.isArray,ds=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),rBe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Tc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},$z=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},nBe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Tc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Z2.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Tc(e)&&!Tc(r)&&(i=$z(e,n)),Tc(e)&&Tc(r)?(r.forEach(function(a,o){if(Z2.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return Z2.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},iBe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},aBe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},oBe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===tBe.RFC1738&&(l===40||l===41)){s+=o.charAt(c);continue}if(l<128){s=s+ds[l];continue}if(l<2048){s=s+(ds[192|l>>6]+ds[128|l&63]);continue}if(l<55296||l>=57344){s=s+(ds[224|l>>12]+ds[128|l>>6&63]+ds[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),s+=ds[240|l>>18]+ds[128|l>>12&63]+ds[128|l>>6&63]+ds[128|l&63]}return s},sBe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return rBe(r),e},lBe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},uBe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},cBe=function(e,r){return[].concat(e,r)},fBe=function(e,r){if(Tc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Gz={arrayToObject:$z,assign:iBe,combine:cBe,compact:sBe,decode:aBe,encode:oBe,isBuffer:uBe,isRegExp:lBe,maybeMap:fBe,merge:nBe},Vz=JLe,hy=Gz,Wp=kk,hBe=Object.prototype.hasOwnProperty,Hz={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ms=Array.isArray,dBe=Array.prototype.push,zz=function(t,e){dBe.apply(t,ms(e)?e:[e])},pBe=Date.prototype.toISOString,S5=Wp.default,pi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hy.encode,encodeValuesOnly:!1,format:S5,formatter:Wp.formatters[S5],indices:!1,serializeDate:function(e){return pBe.call(e)},skipNulls:!1,strictNullHandling:!1},vBe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},J2={},gBe=function t(e,r,n,i,a,o,s,c,l,u,f,h,p,d,g,m,v,_){for(var y=e,b=_,w=0,E=!1;(b=b.get(J2))!==void 0&&!E;){var C=b.get(e);if(w+=1,typeof C<"u"){if(C===w)throw new RangeError("Cyclic object value");E=!0}typeof b.get(J2)>"u"&&(w=0)}if(typeof u=="function"?y=u(r,y):y instanceof Date?y=p(y):n==="comma"&&ms(y)&&(y=hy.maybeMap(y,function(Y){return Y instanceof Date?p(Y):Y})),y===null){if(o)return l&&!m?l(r,pi.encoder,v,"key",d):r;y=""}if(vBe(y)||hy.isBuffer(y)){if(l){var T=m?r:l(r,pi.encoder,v,"key",d);return[g(T)+"="+g(l(y,pi.encoder,v,"value",d))]}return[g(r)+"="+g(String(y))]}var A=[];if(typeof y>"u")return A;var R;if(n==="comma"&&ms(y))m&&l&&(y=hy.maybeMap(y,l)),R=[{value:y.length>0?y.join(",")||null:void 0}];else if(ms(u))R=u;else{var O=Object.keys(y);R=f?O.sort(f):O}var P=c?r.replace(/\./g,"%2E"):r,k=i&&ms(y)&&y.length===1?P+"[]":P;if(a&&ms(y)&&y.length===0)return k+"[]";for(var M=0;M<R.length;++M){var B=R[M],D=typeof B=="object"&&typeof B.value<"u"?B.value:y[B];if(!(s&&D===null)){var H=h&&c?B.replace(/\./g,"%2E"):B,ee=ms(y)?typeof n=="function"?n(k,H):k:k+(h?"."+H:"["+H+"]");_.set(e,w);var ne=Vz();ne.set(J2,_),zz(A,t(D,ee,n,i,a,o,s,c,n==="comma"&&m&&ms(y)?null:l,u,f,h,p,d,g,m,v,ne))}}return A},mBe=function(e){if(!e)return pi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||pi.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Wp.default;if(typeof e.format<"u"){if(!hBe.call(Wp.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Wp.formatters[n],a=pi.filter;(typeof e.filter=="function"||ms(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in Hz?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=pi.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:pi.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:pi.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:pi.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pi.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?pi.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:pi.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:pi.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:pi.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:pi.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:pi.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:pi.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pi.strictNullHandling}},_Be=function(t,e){var r=t,n=mBe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):ms(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=Hz[n.arrayFormat],c=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Vz(),u=0;u<i.length;++u){var f=i[u];n.skipNulls&&r[f]===null||zz(o,gBe(r[f],f,s,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},_d=Gz,LA=Object.prototype.hasOwnProperty,yBe=Array.isArray,Xn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:_d.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},xBe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Xz=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},bBe="utf8=%26%2310003%3B",wBe="utf8=%E2%9C%93",EBe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===wBe?l="utf-8":o[c]===bBe&&(l="iso-8859-1"),s=c,c=o.length);for(c=0;c<o.length;++c)if(c!==s){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,p,d;h===-1?(p=r.decoder(u,Xn.decoder,l,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,h),Xn.decoder,l,"key"),d=_d.maybeMap(Xz(u.slice(h+1),r),function(m){return r.decoder(m,Xn.decoder,l,"value")})),d&&r.interpretNumericEntities&&l==="iso-8859-1"&&(d=xBe(d)),u.indexOf("[]=")>-1&&(d=yBe(d)?[d]:d);var g=LA.call(n,p);g&&r.duplicates==="combine"?n[p]=_d.combine(n[p],d):(!g||r.duplicates==="last")&&(n[p]=d)}return n},SBe=function(t,e,r,n){for(var i=n?e:Xz(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},CBe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),l=c?a.slice(0,c.index):a,u=[];if(l){if(!n.plainObjects&&LA.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&LA.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+a.slice(c.index)+"]"),SBe(u,r,n,i)}},TBe=function(e){if(!e)return Xn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Xn.charset:e.charset,n=typeof e.duplicates>"u"?Xn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Xn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Xn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Xn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Xn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Xn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Xn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Xn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Xn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Xn.decoder,delimiter:typeof e.delimiter=="string"||_d.isRegExp(e.delimiter)?e.delimiter:Xn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Xn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Xn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Xn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Xn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Xn.strictNullHandling}},ABe=function(t,e){var r=TBe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?EBe(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=CBe(s,n[s],r,typeof t=="string");i=_d.merge(i,c,r)}return r.allowSparse===!0?i:_d.compact(i)},IBe=_Be,RBe=ABe,PBe=kk,OBe={formats:PBe,parse:RBe,stringify:IBe},kBe=gMe;function Jo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var FBe=/^([a-z0-9.+-]+:)/i,NBe=/:[0-9]*$/,MBe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,LBe=["<",">",'"',"`"," ","\r",`
`,"	"],BBe=["{","}","|","\\","^","`"].concat(LBe),BA=["'"].concat(BBe),C5=["%","/","?",";","#"].concat(BA),T5=["/","?","#"],DBe=255,A5=/^[+a-z0-9A-Z_-]{0,63}$/,UBe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,jBe={javascript:!0,"javascript:":!0},DA={javascript:!0,"javascript:":!0},rd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},UA=OBe;function wb(t,e,r){if(t&&typeof t=="object"&&t instanceof Jo)return t;var n=new Jo;return n.parse(t,e,r),n}Jo.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(i);var s=t;if(s=s.trim(),!r&&t.split("#").length===1){var c=MBe.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=UA.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=FBe.exec(s);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var f=s.substr(0,2)==="//";f&&!(l&&DA[l])&&(s=s.substr(2),this.slashes=!0)}if(!DA[l]&&(f||l&&!rd[l])){for(var h=-1,p=0;p<T5.length;p++){var d=s.indexOf(T5[p]);d!==-1&&(h===-1||d<h)&&(h=d)}var g,m;h===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",h),m!==-1&&(g=s.slice(0,m),s=s.slice(m+1),this.auth=decodeURIComponent(g)),h=-1;for(var p=0;p<C5.length;p++){var d=s.indexOf(C5[p]);d!==-1&&(h===-1||d<h)&&(h=d)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var _=this.hostname.split(/\./),p=0,y=_.length;p<y;p++){var b=_[p];if(b&&!b.match(A5)){for(var w="",E=0,C=b.length;E<C;E++)b.charCodeAt(E)>127?w+="x":w+=b[E];if(!w.match(A5)){var T=_.slice(0,p),A=_.slice(p+1),R=b.match(UBe);R&&(T.push(R[1]),A.unshift(R[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=T.join(".");break}}}this.hostname.length>DBe?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=kBe.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!jBe[u])for(var p=0,y=BA.length;p<y;p++){var k=BA[p];if(s.indexOf(k)!==-1){var M=encodeURIComponent(k);M===k&&(M=escape(k)),s=s.split(k).join(M)}}var B=s.indexOf("#");B!==-1&&(this.hash=s.substr(B),s=s.slice(0,B));var D=s.indexOf("?");if(D!==-1?(this.search=s.substr(D),this.query=s.substr(D+1),e&&(this.query=UA.parse(this.query)),s=s.slice(0,D)):e&&(this.search="",this.query={}),s&&(this.pathname=s),rd[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",H=this.search||"";this.path=O+H}return this.href=this.format(),this};function $Be(t){return typeof t=="string"&&(t=wb(t)),t instanceof Jo?t.format():Jo.prototype.format.call(t)}Jo.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=UA.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||rd[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),e+i+r+o+n};function GBe(t,e){return wb(t,!1,!0).resolve(e)}Jo.prototype.resolve=function(t){return this.resolveObject(wb(t,!1,!0)).format()};Jo.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Jo;e.parse(t,!1,!0),t=e}for(var r=new Jo,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];c!=="protocol"&&(r[c]=t[c])}return rd[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!rd[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!DA[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",p=r.search||"";r.path=h+p}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&r.pathname.charAt(0)==="/",g=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=g||d||r.host&&t.pathname,v=m,_=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],b=r.protocol&&!rd[r.protocol];if(b&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),m=m&&(y[0]===""||_[0]==="")),g)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=y;else if(y.length)_||(_=[]),_.pop(),_=_.concat(y),r.search=t.search,r.query=t.query;else if(t.search!=null){if(b){r.host=_.shift(),r.hostname=r.host;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],C=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",T=0,A=_.length;A>=0;A--)E=_[A],E==="."?_.splice(A,1):E===".."?(_.splice(A,1),T++):T&&(_.splice(A,1),T--);if(!m&&!v)for(;T--;T)_.unshift("..");m&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),C&&_.join("/").substr(-1)!=="/"&&_.push("");var R=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(b){r.hostname=R?"":_.length?_.shift():"",r.host=r.hostname;var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;w&&(r.auth=w.shift(),r.hostname=w.shift(),r.host=r.hostname)}return m=m||r.host&&_.length,m&&!R&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Jo.prototype.parseHost=function(){var t=this.host,e=NBe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var VBe=wb,HBe=GBe,zBe=$Be;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fs;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Fs||(Fs={}));var yd;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yd||(yd={}));var Iv;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Iv||(Iv={}));var ct;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ct||(ct={}));var Ka;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ka||(Ka={}));var nt;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(nt||(nt={}));var wu;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(wu||(wu={}));var It;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(It||(It={}));var Rv;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Rv||(Rv={}));var Ri;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Ri||(Ri={}));var Ps;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ps||(Ps={}));var Ba;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ba||(Ba={}));var ba;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ba||(ba={}));var sl;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(sl||(sl={}));var mx;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(mx||(mx={}));var qo;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(qo||(qo={}));var Di;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Di||(Di={}));var Kn;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Kn||(Kn={}));var Qo;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Qo||(Qo={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Uc={parse:VBe,format:zBe,resolve:HBe};xt.RETINA_PREFIX=/@([0-9\.]+)x/;xt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var jA=!1,I5="6.4.2";function XBe(){jA=!0}function Wz(t){var e;if(!jA){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+I5+" -  "+t+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+I5+" - "+t+" - http://www.pixijs.com/");jA=!0}}var Q2;function Yz(){return typeof Q2>"u"&&(Q2=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:xt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),Q2}var WBe="#f0f8ff",YBe="#faebd7",qBe="#00ffff",KBe="#7fffd4",ZBe="#f0ffff",JBe="#f5f5dc",QBe="#ffe4c4",eDe="#000000",tDe="#ffebcd",rDe="#0000ff",nDe="#8a2be2",iDe="#a52a2a",aDe="#deb887",oDe="#5f9ea0",sDe="#7fff00",lDe="#d2691e",uDe="#ff7f50",cDe="#6495ed",fDe="#fff8dc",hDe="#dc143c",dDe="#00ffff",pDe="#00008b",vDe="#008b8b",gDe="#b8860b",mDe="#a9a9a9",_De="#006400",yDe="#a9a9a9",xDe="#bdb76b",bDe="#8b008b",wDe="#556b2f",EDe="#ff8c00",SDe="#9932cc",CDe="#8b0000",TDe="#e9967a",ADe="#8fbc8f",IDe="#483d8b",RDe="#2f4f4f",PDe="#2f4f4f",ODe="#00ced1",kDe="#9400d3",FDe="#ff1493",NDe="#00bfff",MDe="#696969",LDe="#696969",BDe="#1e90ff",DDe="#b22222",UDe="#fffaf0",jDe="#228b22",$De="#ff00ff",GDe="#dcdcdc",VDe="#f8f8ff",HDe="#daa520",zDe="#ffd700",XDe="#808080",WDe="#008000",YDe="#adff2f",qDe="#808080",KDe="#f0fff0",ZDe="#ff69b4",JDe="#cd5c5c",QDe="#4b0082",e8e="#fffff0",t8e="#f0e68c",r8e="#fff0f5",n8e="#e6e6fa",i8e="#7cfc00",a8e="#fffacd",o8e="#add8e6",s8e="#f08080",l8e="#e0ffff",u8e="#fafad2",c8e="#d3d3d3",f8e="#90ee90",h8e="#d3d3d3",d8e="#ffb6c1",p8e="#ffa07a",v8e="#20b2aa",g8e="#87cefa",m8e="#778899",_8e="#778899",y8e="#b0c4de",x8e="#ffffe0",b8e="#00ff00",w8e="#32cd32",E8e="#faf0e6",S8e="#ff00ff",C8e="#800000",T8e="#66cdaa",A8e="#0000cd",I8e="#ba55d3",R8e="#9370db",P8e="#3cb371",O8e="#7b68ee",k8e="#00fa9a",F8e="#48d1cc",N8e="#c71585",M8e="#191970",L8e="#f5fffa",B8e="#ffe4e1",D8e="#ffe4b5",U8e="#ffdead",j8e="#000080",$8e="#fdf5e6",G8e="#808000",V8e="#6b8e23",H8e="#ffa500",z8e="#ff4500",X8e="#da70d6",W8e="#eee8aa",Y8e="#98fb98",q8e="#afeeee",K8e="#db7093",Z8e="#ffefd5",J8e="#ffdab9",Q8e="#cd853f",e5e="#ffc0cb",t5e="#dda0dd",r5e="#b0e0e6",n5e="#800080",i5e="#663399",a5e="#ff0000",o5e="#bc8f8f",s5e="#4169e1",l5e="#8b4513",u5e="#fa8072",c5e="#f4a460",f5e="#2e8b57",h5e="#fff5ee",d5e="#a0522d",p5e="#c0c0c0",v5e="#87ceeb",g5e="#6a5acd",m5e="#708090",_5e="#708090",y5e="#fffafa",x5e="#00ff7f",b5e="#4682b4",w5e="#d2b48c",E5e="#008080",S5e="#d8bfd8",C5e="#ff6347",T5e="#40e0d0",A5e="#ee82ee",I5e="#f5deb3",R5e="#ffffff",P5e="#f5f5f5",O5e="#ffff00",k5e="#9acd32",F5e={aliceblue:WBe,antiquewhite:YBe,aqua:qBe,aquamarine:KBe,azure:ZBe,beige:JBe,bisque:QBe,black:eDe,blanchedalmond:tDe,blue:rDe,blueviolet:nDe,brown:iDe,burlywood:aDe,cadetblue:oDe,chartreuse:sDe,chocolate:lDe,coral:uDe,cornflowerblue:cDe,cornsilk:fDe,crimson:hDe,cyan:dDe,darkblue:pDe,darkcyan:vDe,darkgoldenrod:gDe,darkgray:mDe,darkgreen:_De,darkgrey:yDe,darkkhaki:xDe,darkmagenta:bDe,darkolivegreen:wDe,darkorange:EDe,darkorchid:SDe,darkred:CDe,darksalmon:TDe,darkseagreen:ADe,darkslateblue:IDe,darkslategray:RDe,darkslategrey:PDe,darkturquoise:ODe,darkviolet:kDe,deeppink:FDe,deepskyblue:NDe,dimgray:MDe,dimgrey:LDe,dodgerblue:BDe,firebrick:DDe,floralwhite:UDe,forestgreen:jDe,fuchsia:$De,gainsboro:GDe,ghostwhite:VDe,goldenrod:HDe,gold:zDe,gray:XDe,green:WDe,greenyellow:YDe,grey:qDe,honeydew:KDe,hotpink:ZDe,indianred:JDe,indigo:QDe,ivory:e8e,khaki:t8e,lavenderblush:r8e,lavender:n8e,lawngreen:i8e,lemonchiffon:a8e,lightblue:o8e,lightcoral:s8e,lightcyan:l8e,lightgoldenrodyellow:u8e,lightgray:c8e,lightgreen:f8e,lightgrey:h8e,lightpink:d8e,lightsalmon:p8e,lightseagreen:v8e,lightskyblue:g8e,lightslategray:m8e,lightslategrey:_8e,lightsteelblue:y8e,lightyellow:x8e,lime:b8e,limegreen:w8e,linen:E8e,magenta:S8e,maroon:C8e,mediumaquamarine:T8e,mediumblue:A8e,mediumorchid:I8e,mediumpurple:R8e,mediumseagreen:P8e,mediumslateblue:O8e,mediumspringgreen:k8e,mediumturquoise:F8e,mediumvioletred:N8e,midnightblue:M8e,mintcream:L8e,mistyrose:B8e,moccasin:D8e,navajowhite:U8e,navy:j8e,oldlace:$8e,olive:G8e,olivedrab:V8e,orange:H8e,orangered:z8e,orchid:X8e,palegoldenrod:W8e,palegreen:Y8e,paleturquoise:q8e,palevioletred:K8e,papayawhip:Z8e,peachpuff:J8e,peru:Q8e,pink:e5e,plum:t5e,powderblue:r5e,purple:n5e,rebeccapurple:i5e,red:a5e,rosybrown:o5e,royalblue:s5e,saddlebrown:l5e,salmon:u5e,sandybrown:c5e,seagreen:f5e,seashell:h5e,sienna:d5e,silver:p5e,skyblue:v5e,slateblue:g5e,slategray:m5e,slategrey:_5e,snow:y5e,springgreen:x5e,steelblue:b5e,tan:w5e,teal:E5e,thistle:S5e,tomato:C5e,turquoise:T5e,violet:A5e,wheat:I5e,white:R5e,whitesmoke:P5e,yellow:O5e,yellowgreen:k5e};function yi(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Fk(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Nk(t){return typeof t=="string"&&(t=F5e[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function xa(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function N5e(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[ct.NORMAL_NPM]=ct.NORMAL,t[ct.ADD_NPM]=ct.ADD,t[ct.SCREEN_NPM]=ct.SCREEN,e[ct.NORMAL]=ct.NORMAL_NPM,e[ct.ADD]=ct.ADD_NPM,e[ct.SCREEN]=ct.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var Mk=N5e();function Lk(t,e){return Mk[e?1:0][t]}function qz(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Eb(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function Bk(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Kz(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Sb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var M5e={Float32Array,Uint32Array,Int32Array,Uint8Array};function L5e(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=Sb(u);i[f]||(i[f]=new M5e[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}function Pv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function $A(t){return!(t&t-1)&&!!t}function GA(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Os(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var a=n-r;for(i=e;i<a;++i)t[i]=t[i+r];t.length=a}}function jc(t){return t===0?0:t<0?-1:1}var B5e=0;function Uu(){return++B5e}var R5={};function bl(t,e,r){if(r===void 0&&(r=3),!R5[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),R5[e]=!0}}var VA={},Pa=Object.create(null),mo=Object.create(null);function D5e(){var t;for(t in Pa)Pa[t].destroy();for(t in mo)mo[t].destroy()}function Zz(){var t;for(t in Pa)delete Pa[t];for(t in mo)delete mo[t]}var HA=function(){function t(e,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||xt.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function Jz(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},c=null,l,u,f;for(l=0;l<o;l+=4)a[l+3]!==0&&(u=l/4%e,f=~~(l/4/e),s.top===null&&(s.top=f),(s.left===null||u<s.left)&&(s.left=u),(s.right===null||s.right<u)&&(s.right=u+1),(s.bottom===null||s.bottom<f)&&(s.bottom=f));return s.top!==null&&(e=s.right-s.left,r=s.bottom-s.top+1,c=n.getImageData(s.left,s.top,e,r)),{height:r,width:e,data:c}}var Qz=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function U5e(t){var e=Qz.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var i_;function eX(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,i_||(i_=document.createElement("a")),i_.href=t;var r=Uc.parse(i_.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Ov(t,e){var r=xt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const j5e=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:mo,CanvasRenderTarget:HA,DATA_URI:Qz,EventEmitter:Cf,ProgramCache:VA,TextureCache:Pa,clearTextureCache:Zz,correctBlendMode:Lk,createIndicesForQuads:Kz,decomposeDataUri:U5e,deprecation:bl,destroyTextureCache:D5e,determineCrossOrigin:eX,earcut:Ck,getBufferType:Sb,getResolutionOfUrl:Ov,hex2rgb:yi,hex2string:Fk,interleaveTypedArrays:L5e,isMobile:wo,isPow2:$A,isWebGLSupported:Yz,log2:GA,nextPow2:Pv,premultiplyBlendMode:Mk,premultiplyRgba:qz,premultiplyTint:Eb,premultiplyTintToRgba:Bk,removeItems:Os,rgb2hex:xa,sayHello:Wz,sign:jc,skipHello:XBe,string2hex:Nk,trimCanvas:Jz,uid:Uu,url:Uc},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kv=Math.PI*2,Dk=180/Math.PI,wl=Math.PI/180,mn;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(mn||(mn={}));var vr=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),a_=[new vr,new vr,new vr,new vr],rr=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=mn.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var a=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>a}var s=this.left,c=this.right,l=this.top,u=this.bottom;if(c<=s||u<=l)return!1;var f=a_[0].set(e.left,e.top),h=a_[1].set(e.left,e.bottom),p=a_[2].set(e.right,e.top),d=a_[3].set(e.right,e.bottom);if(p.x<=f.x||h.y<=f.y)return!1;var g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(f,f),r.apply(h,h),r.apply(p,p),r.apply(d,d),Math.max(f.x,h.x,p.x,d.x)<=s||Math.min(f.x,h.x,p.x,d.x)>=c||Math.max(f.y,h.y,p.y,d.y)<=l||Math.min(f.y,h.y,p.y,d.y)>=u))return!1;var m=g*(h.y-f.y),v=g*(f.x-h.x),_=m*s+v*l,y=m*c+v*l,b=m*s+v*u,w=m*c+v*u;if(Math.max(_,y,b,w)<=m*f.x+v*f.y||Math.min(_,y,b,w)>=m*d.x+v*d.y)return!1;var E=g*(f.y-p.y),C=g*(p.x-f.x),T=E*s+C*l,A=E*c+C*l,R=E*s+C*u,O=E*c+C*u;return!(Math.max(T,A,R,O)<=E*f.x+C*f.y||Math.min(T,A,R,O)>=E*d.x+C*d.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),tX=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=mn.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,a=this.y-r;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new rr(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),rX=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=mn.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new rr(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),nd=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=mn.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],c=this.points[a*2+1],l=this.points[o*2],u=this.points[o*2+1],f=c>r!=u>r&&e<(l-s)*((r-c)/(u-c))+s;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),nX=function(){function t(e,r,n,i,a){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=a,this.type=mn.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),a=r-(this.y+n),o=n*n;if(i*i+a*a<=o||(i=e-(this.x+this.width-n),i*i+a*a<=o)||(a=r-(this.y+this.height-n),i*i+a*a<=o)||(i=e-(this.x+n),i*i+a*a<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),su=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),ln=function(){function t(e,r,n,i,a,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,a,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=a,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new vr;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new vr;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return r.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this},t.prototype.setTransform=function(e,r,n,i,a,o,s,c,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-c)*o,this.d=Math.cos(s-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,a=this.d,o=e.pivot,s=-Math.atan2(-i,a),c=Math.atan2(n,r),l=Math.abs(s+c);return l<1e-5||Math.abs(kv-l)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*a),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,a=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*a)/o,this.ty=-(e*this.ty-r*a)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),wc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ec=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Sc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Cc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],zA=[],iX=[],o_=Math.sign;function $5e(){for(var t=0;t<16;t++){var e=[];zA.push(e);for(var r=0;r<16;r++)for(var n=o_(wc[t]*wc[r]+Sc[t]*Ec[r]),i=o_(Ec[t]*wc[r]+Cc[t]*Ec[r]),a=o_(wc[t]*Sc[r]+Sc[t]*Cc[r]),o=o_(Ec[t]*Sc[r]+Cc[t]*Cc[r]),s=0;s<16;s++)if(wc[s]===n&&Ec[s]===i&&Sc[s]===a&&Cc[s]===o){e.push(s);break}}for(var t=0;t<16;t++){var c=new ln;c.set(wc[t],Ec[t],Sc[t],Cc[t],0,0),iX.push(c)}}$5e();var pn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return wc[t]},uY:function(t){return Ec[t]},vX:function(t){return Sc[t]},vY:function(t){return Cc[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return zA[t][e]},sub:function(t,e){return zA[t][pn.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?pn.S:pn.N:Math.abs(e)*2<=Math.abs(t)?t>0?pn.E:pn.W:e>0?t>0?pn.SE:pn.SW:t>0?pn.NE:pn.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=iX[pn.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Sg=function(){function t(){this.worldTransform=new ln,this.localTransform=new ln,this.position=new su(this.onChange,this,0,0),this.scale=new su(this.onChange,this,1,1),this.pivot=new su(this.onChange,this,0,0),this.skew=new su(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.SORTABLE_CHILDREN=!1;var xd=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?rr.EMPTY:(e=e||new rr(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,g=this.maxY,m=o*r+c*n+u,v=s*r+l*n+f;h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*n+u,v=s*i+l*n+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*r+c*a+u,v=s*r+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*a+u,v=s*i+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,this.minX=h,this.minY=p,this.maxX=d,this.maxY=g},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,g=this.maxX,m=this.maxY,v=n;v<i;v+=2){var _=r[v],y=r[v+1],b=s*_+l*y+f,w=u*y+c*_+h;p=Math.min(p,b-a),g=Math.max(g,b+a),d=Math.min(d,w-o),m=Math.max(m,w+o)}this.minX=p,this.minY=d,this.maxX=g,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XA=function(t,e){return XA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},XA(t,e)};function Uk(t,e){XA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jn=function(t){Uk(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Sg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new xd,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new rr),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new rr),r=this._localBoundsRect),this._localBounds||(this._localBounds=new xd);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new jk),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Dk},set:function(r){this.transform.rotation=r*wl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Cf),jk=function(t){Uk(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(jn);jn.prototype.displayObjectUpdateTransform=jn.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var P5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(P5||(P5={}));var O5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(O5||(O5={}));var k5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(k5||(k5={}));var F5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(F5||(F5={}));var N5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(N5||(N5={}));var M5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(M5||(M5={}));var L5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(L5||(L5={}));var B5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(B5||(B5={}));var D5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(D5||(D5={}));var U5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(U5||(U5={}));var j5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(j5||(j5={}));var $5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})($5||($5={}));var G5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(G5||(G5={}));var V5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(V5||(V5={}));var H5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(H5||(H5={}));var z5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(z5||(z5={}));var WA;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(WA||(WA={}));var X5;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(X5||(X5={}));var W5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(W5||(W5={}));function G5e(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var _i=function(t){Uk(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=xt.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Os(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Os(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Os(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(G5e),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==WA.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(jn);_i.prototype.containerUpdateTransform=_i.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aX={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};jn.mixin(aX);var V5e=9,s_=100,H5e=0,z5e=0,Y5=2,q5=1,X5e=-1e3,W5e=-1e3,Y5e=2,oX=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(wo.tablet||wo.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=s_+"px",r.style.height=s_+"px",r.style.position="absolute",r.style.top=H5e+"px",r.style.left=z5e+"px",r.style.zIndex=Y5.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=q5+"px",r.style.height=q5+"px",r.style.position="absolute",r.style.top=X5e+"px",r.style.left=W5e+"px",r.style.zIndex=Y5e.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(wo.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,a=r.width,o=r.height,s=this.renderer,c=s.width,l=s.height,u=s.resolution,f=a/c*u,h=o/l*u,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=c+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var g=this.children[d];if(g.renderId!==this.renderId)g._accessibleActive=!1,Os(this.children,d,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,d--;else{p=g._accessibleDiv;var m=g.hitArea,v=g.worldTransform;g.hitArea?(p.style.left=(v.tx+m.x*v.a)*f+"px",p.style.top=(v.ty+m.y*v.d)*h+"px",p.style.width=m.width*v.a*f+"px",p.style.height=m.height*v.d*h+"px"):(m=g.getBounds(),this.capHitArea(m),p.style.left=m.x*f+"px",p.style.top=m.y*h+"px",p.style.width=m.width*f+"px",p.style.height=m.height*h+"px",p.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(p.title=g.accessibleTitle),p.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&p.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==p.title||g.tabIndex!==p.tabIndex)&&(p.title=g.accessibleTitle,p.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=s_+"px",r.style.height=s_+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Y5.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===V5e&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.TARGET_FPMS=.06;var ts;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(ts||(ts={}));var eC=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),An=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new eC(null,null,1/0),this.deltaMS=1/xt.TARGET_FPMS,this.elapsedMS=1/xt.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=ts.NORMAL),this._addListener(new eC(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=ts.NORMAL),this._addListener(new eC(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*xt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,xt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),sX=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ts.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?An.shared:new An,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var YA=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new vr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qA=function(t,e){return qA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qA(t,e)};function q5e(t,e){qA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lX=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),dy=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),K5e=function(){function t(){this._tempPoint=new vr}return t.prototype.recursiveFindHit=function(e,r,n,i,a){if(!r||!r.visible)return!1;var o=e.data.global;a=r.interactive||a;var s=!1,c=a,l=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(o,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,l=!1)),c=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(o)||(i=!1)),l&&r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],p=this.recursiveFindHit(e,h,n,i,c);if(p){if(!h.parent)continue;c=!1,p&&(e.target&&(i=!1),s=!0)}}return a&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(o)&&(s=!0),r.interactive&&(s&&!e.target&&(e.target=r),n&&n(e,r,!!s))),s},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),uX={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};jn.mixin(uX);var l_=1,u_={target:null,data:{global:null}},cX=function(t){q5e(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new YA,i.mouse.identifier=l_,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[l_]=i.mouse,i.interactionDataPool=[],i.eventData=new lX,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new K5e,i._tempDisplayObject=new jk,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return u_.target=null,u_.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(u_,n,null,!0),u_.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(An.system.add(this.tickerUpdate,this,ts.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(An.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*o,r.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*o},e.prototype.processInteractive=function(r,n,i,a){var o=this.search.findHit(r,n,i,a),s=this.delayedEvents;if(!s.length)return o;r.stopPropagationHint=!1;var c=s.length;this.delayedEvents=[];for(var l=0;l<c;l++){var u=s[l],f=u.displayObject,h=u.eventString,p=u.eventData;p.stopsPropagatingAt===f&&(p.stopPropagationHint=!0),this.dispatchEvent(f,h,p)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var a=n.length,o=0;o<a;o++){var s=n[o],c=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,c);if(l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",l),s.pointerType==="touch")this.emit("touchstart",l);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var a=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new dy(o)),this.dispatchEvent(n,"pointerdown",r),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var s=a.button===2;s?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){for(var a=this.normalizeToPointerData(r),o=a.length,s=r.target!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var l=a[c],u=this.getInteractionDataForPointerId(l),f=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,f),l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightup"+s:"mouseup"+s,f)}else l.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,f),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,a=r.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var a=r.data,o=r.data.identifier,s=n.trackedPointers[o],c=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen",u=!1;if(l){var f=a.button===2,h=dy.FLAGS,p=f?h.RIGHT_DOWN:h.LEFT_DOWN,d=s!==void 0&&s.flags&p;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),d&&(this.dispatchEvent(n,f?"rightclick":"click",r),u=!0)):d&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),s&&(f?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),c&&this.dispatchEvent(n,"touchend",r),s&&((!l||u)&&this.dispatchEvent(n,"pointertap",r),c&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),c&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var o=n[a],s=this.getInteractionDataForPointerId(o),c=this.configureInteractionEventForDOMEvent(this.eventData,o,s);c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",c),o.pointerType==="touch"&&this.emit("touchmove",c),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",c)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var a=r.data,o=a.pointerType==="touch",s=a.pointerType==="mouse"||a.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(a.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var a=r.data,o=r.data.identifier,s=a.pointerType==="mouse"||a.pointerType==="pen",c=n.trackedPointers[o];i&&!c&&(c=n.trackedPointers[o]=new dy(o)),c!==void 0&&(i&&this.mouseOverRenderer?(c.over||(c.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):c.over&&(c.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),c.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===l_||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new YA,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,a=r.changedTouches.length;i<a;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=l_),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Cf);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gi=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,a,o,s,c){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,f=l.items;this._aliasCount++;for(var h=0,p=f.length;h<p;h++)f[h][u](e,r,n,i,a,o,s,c);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Gi.prototype,{dispatch:{value:Gi.prototype.emit},run:{value:Gi.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.PREFER_ENV=wo.any?Fs.WEBGL:Fs.WEBGL2;xt.STRICT_TEXTURE_CACHE=!1;var Fv=[];function Cb(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Fv.length-1;i>=0;--i){var a=Fv[i];if(a.test&&a.test(t,r))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var KA=function(t,e){return KA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},KA(t,e)};function tn(t,e){KA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZA=function(){return ZA=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ZA.apply(this,arguments)};function Z5e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]]);return r}var hf=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Gi("setRealSize"),this.onUpdate=new Gi("update"),this.onError=new Gi("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Wu=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,s)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(hf),J5e={scaleMode:Ri.NEAREST,format:nt.RGBA,alphaMode:ba.NPM},hr=function(t){tn(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,o=n.mipmap,s=n.anisotropicLevel,c=n.scaleMode,l=n.width,u=n.height,f=n.wrapMode,h=n.format,p=n.type,d=n.target,g=n.resolution,m=n.resourceOptions;return r&&!(r instanceof hf)&&(r=Cb(r,m),r.internal=!0),i.resolution=g||xt.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:xt.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:xt.ANISOTROPIC_LEVEL,i._wrapMode=f||xt.WRAP_MODE,i._scaleMode=c!==void 0?c:xt.SCALE_MODE,i.format=h||nt.RGBA,i.type=p||It.UNSIGNED_BYTE,i.target=d||wu.TEXTURE_2D,i.alphaMode=a!==void 0?a:ba.UNPACK,i.uid=Uu(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=$A(this.realWidth)&&$A(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete mo[this.cacheId],delete Pa[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=xt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Uu()}o=r._pixiId}var c=mo[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return c||(c=new e(r,n),c.cacheId=o,e.addToCache(c,o)),c},e.fromBuffer=function(r,n,i,a){r=r||new Float32Array(n*i*4);var o=new Wu(r,{width:n,height:i}),s=r instanceof Float32Array?It.FLOAT:It.UNSIGNED_BYTE;return new e(o,Object.assign(J5e,a||{width:n,height:i,type:s}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),mo[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),mo[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=mo[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete mo[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)delete mo[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Cf),Tb=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height;i=t.call(this,o,s)||this,i.items=[],i.itemDirtyIds=[];for(var c=0;c<r;c++){var l=new hr;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof hf?this.addResourceAt(r[i],i):this.addResourceAt(Cb(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=r.items[0],o=a.realWidth,s=a.realHeight;return r.resize(o,s),Promise.resolve(r)}),this._load},e}(hf),$k=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c,l;return Array.isArray(r)?(c=r,l=r.length):l=r,i=t.call(this,l,{width:o,height:s})||this,c&&i.initFromArray(c,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=wu.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var a=this,o=a.length,s=a.itemDirtyIds,c=a.items,l=r.gl;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var u=0;u<o;u++){var f=c[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(Tb),Ns=function(t){tn(e,t);function e(r){var n=this,i=r,a=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=eX(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,a){var o=r.gl,s=n.realWidth,c=n.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===s&&i.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=s,i.height=c,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(hf),Ab=function(t){tn(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Ns),Gk=function(t){tn(e,t);function e(r,n){var i=this,a=n||{},o=a.width,s=a.height,c=a.autoLoad,l=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var u=0;u<e.SIDES;u++)i.items[u].target=wu.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=l!==!1,r&&i.initFromArray(r,n),c!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=wu.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=wu.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var a=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];a[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),a[o]=s.dirtyId):a[o]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(Tb),Ib=function(t){tn(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var a=new Image;Ns.crossOrigin(a,r,n.crossorigin),a.src=r,r=a}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:xt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,a){var o=n.source;n.url=o.src;var s=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?s():(o.onload=s,o.onerror=function(c){a(c),n.onError.emit(c)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===ba.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var a=!0,o=n._glTextures;for(var s in o){var c=o[s];if(c!==i&&c.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Ns),Vk=function(t){tn(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Ns.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,s=a*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/a*i,s=r._overrideHeight||r._overrideWidth/i*a),o=Math.round(o),s=Math.round(s);var c=r.source;c.width=o,c.height=s,c._pixiId="canvas_"+Uu(),c.getContext("2d").drawImage(n,0,0,i,a,0,0,o,s),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Ns),Hk=function(t){tn(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];Ns.crossOrigin(a,o,n.crossorigin);for(var s=0;s<r.length;++s){var c=document.createElement("source"),l=r[s],u=l.src,f=l.mime;u=u||r[s];var h=u.split("?").shift().toLowerCase(),p=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[p]||"video/"+p,c.src=u,c.type=f,a.appendChild(c)}r=a}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=An.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(An.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Ns),zk=function(t){tn(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},e}(Ns);Fv.push(Ib,zk,Ab,Hk,Vk,Wu,Gk,$k);var fX={__proto__:null,Resource:hf,BaseImageResource:Ns,INSTALLED:Fv,autoDetectResource:Cb,AbstractMultiResource:Tb,ArrayResource:$k,BufferResource:Wu,CanvasResource:Ab,CubeResource:Gk,ImageResource:Ib,SVGResource:Vk,VideoResource:Hk,ImageBitmapResource:zk},Q5e=function(t){tn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var a=r.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===ba.UNPACK);var o=n.realWidth,s=n.realHeight;return i.width===o&&i.height===s?a.texSubImage2D(n.target,0,0,0,o,s,n.format,i.type,this.data):(i.width=o,i.height=s,a.texImage2D(n.target,0,i.internalFormat,o,s,0,n.format,i.type,this.data)),!0},e}(Wu),_x=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Gi("disposeFramebuffer"),this.multisample=Kn.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new hr(null,{scaleMode:Ri.NEAREST,resolution:1,mipmap:Ba.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new hr(new Q5e(null,{width:this.width,height:this.height}),{scaleMode:Ri.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ba.OFF,format:nt.DEPTH_COMPONENT,type:It.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,r/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(e/a,r/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Xk=function(t){tn(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];r={width:i,height:a,scaleMode:o,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Kn.NONE,n=t.call(this,null,r)||this,n.mipmap=Ba.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new _x(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(hr),Wk=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,a=r.height;if(n){var o=e.width/2/i,s=e.height/2/a,c=e.x/i+o,l=e.y/a+s;n=pn.add(n,pn.NW),this.x0=c+o*pn.uX(n),this.y0=l+s*pn.uY(n),n=pn.add(n,2),this.x1=c+o*pn.uX(n),this.y1=l+s*pn.uY(n),n=pn.add(n,2),this.x2=c+o*pn.uX(n),this.y2=l+s*pn.uY(n),n=pn.add(n,2),this.x3=c+o*pn.uX(n),this.y3=l+s*pn.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),K5=new Wk;function c_(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Ot=function(t){tn(e,t);function e(r,n,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,n||(c.noFrame=!0,n=new rr(0,0,1,1)),r instanceof e&&(r=r.baseTexture),c.baseTexture=r,c._frame=n,c.trim=a,c.valid=!1,c._uvs=K5,c.uvMatrix=null,c.orig=i||n,c._rotate=Number(o||0),o===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new vr(s.x,s.y):new vr(0,0),c._updateID=0,c.textureCacheIds=[],r.valid?c.noFrame?r.valid&&c.onBaseTextureUpdated(r):c.frame=n:r.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&r.on("update",c.onBaseTextureUpdated,c),c}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Pa[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===K5&&(this._uvs=new Wk),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=xt.STRICT_TEXTURE_CACHE);var a=typeof r=="string",o=null;if(a)o=r;else if(r instanceof hr){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Uu(),hr.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Uu()}o=r._pixiId}var c=Pa[o];if(a&&i&&!c)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!c&&!(r instanceof hr)?(n.resolution||(n.resolution=Ov(r)),c=new e(new hr(r,n)),c.baseTexture.cacheId=o,hr.addToCache(c.baseTexture,o),e.addToCache(c,o)):!c&&r instanceof hr&&(c=new e(r),e.addToCache(c,o)),c},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=e.from(r,Object.assign({resourceOptions:i},n),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(function(){return Promise.resolve(a)})},e.fromBuffer=function(r,n,i,a){return new e(hr.fromBuffer(r,n,i,a))},e.fromLoader=function(r,n,i,a){var o=new hr(r,Object.assign({scaleMode:xt.SCALE_MODE,resolution:Ov(n)},a)),s=o.resource;s instanceof Ib&&(s.url=n);var c=new e(o);return i||(i=n),hr.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(hr.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise(function(l){c.baseTexture.once("loaded",function(){return l(c)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Pa[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Pa[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Pa[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Pa[r],n}}else if(r&&r.textureCacheIds){for(var a=0;a<r.textureCacheIds.length;++a)Pa[r.textureCacheIds[a]]===r&&delete Pa[r.textureCacheIds[a]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,a=r.width,o=r.height,s=n+a>this.baseTexture.width,c=i+o>this.baseTexture.height;if(s||c){var l=s&&c?"and":"or",u="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(u+" "+l+" "+f))}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new hr),c_(e._EMPTY),c_(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=document.createElement("canvas"),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(new hr(new Ab(r))),c_(e._WHITE),c_(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Cf),ju=function(t){tn(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,o=Math.round(r*a)/a,s=Math.round(n*a)/a;this.valid=o>0&&s>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(o,s),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof r=="number"&&(bl("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new Xk(r))},e}(Ot),hX=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=Kn.NONE);var i=new Xk(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ju(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Kn.NONE);var a;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Pv(e),r=Pv(r),a=((e&65535)<<16|r&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=a,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Kn.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),JA=function(){function t(e,r,n,i,a,o,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=It.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,a){return new t(e,r,n,i,a)},t}(),eUe=0,si=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=eUe++,this.disposeRunner=new Gi("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Qo.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Qo.ELEMENT_ARRAY_BUFFER:Qo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),tUe={Float32Array,Uint32Array,Int32Array,Uint8Array};function rUe(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var o=new ArrayBuffer(r*4),s=null,c=0,a=0;a<t.length;a++){var l=e[a],u=t[a],f=Sb(u);i[f]||(i[f]=new tUe[f](o)),s=i[f];for(var h=0;h<u.length;h++){var p=(h/l|0)*n+c,d=h%l;s[p+d]=u[h]}c+=l}return new Float32Array(o)}var Z5={5126:4,5123:2,5121:1},nUe=0,iUe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},o0=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=nUe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Gi("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,a,o,s,c){if(n===void 0&&(n=0),i===void 0&&(i=!1),c===void 0&&(c=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof si||(r instanceof Array&&(r=new Float32Array(r)),r=new si(r));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],r,n,i,a);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new JA(f,n,i,a,o,s,c),this.instanced=this.instanced||c,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof si||(e instanceof Array&&(e=new Uint16Array(e)),e=new si(e)),e.type=Qo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new si,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*Z5[a.type]/4),a.buffer=0}for(n.data=rUe(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new si(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new JA(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Qo.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],a=[],o,s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,a[c]=0}for(var s=0;s<o.buffers.length;s++)n[s]=new iUe[Sb(o.buffers[s].data)](i[s]),r.buffers[s]=new si(n[s]);for(var s=0;s<e.length;s++){o=e[s];for(var c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Qo.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,f=0,h=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){h=s;break}for(var s in o.attributes){var p=o.attributes[s];(p.buffer|0)===h&&(u+=p.size*Z5[p.type]/4)}for(var s=0;s<e.length;s++){for(var d=e[s].indexBuffer.data,c=0;c<d.length;c++)r.indexBuffer.data[c+f]+=l;l+=e[s].buffers[h].data.length/u,f+=d.length}}return r},t}(),dX=function(t){tn(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(o0),Yk=function(t){tn(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new si(r.vertices),r.uvBuffer=new si(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/r.width,this.uvs[3]=a,this.uvs[4]=i+n.width/r.width,this.uvs[5]=a+n.height/r.height,this.uvs[6]=i,this.uvs[7]=a+n.height/r.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(o0),aUe=0,Eu=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=aUe++,this.static=!!r,this.ubo=!!n,e instanceof si?(this.buffer=e,this.buffer.type=Qo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new si(new Float32Array(1)),this.buffer.type=Qo.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),pX=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Kn.NONE,this.sourceFrame=new rr,this.destinationFrame=new rr,this.bindingSourceFrame=new rr,this.bindingDestinationFrame=new rr,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),f_=[new vr,new vr,new vr,new vr],tC=new ln,qk=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new hX,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new dX,this.quadUv=new Yk,this.tempRect=new rr,this.activeState={},this.globalUniforms=new Eu({outputFrame:new rr,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new pX,c=this.renderer.renderTexture,l=r[0].resolution,u=r[0].multisample,f=r[0].padding,h=r[0].autoFit,p=(n=r[0].legacy)!==null&&n!==void 0?n:!0,d=1;d<r.length;d++){var g=r[d];l=Math.min(l,g.resolution),u=Math.min(u,g.multisample),f=this.useMaxPadding?Math.max(f,g.padding):f+g.padding,h=h&&g.autoFit,p=p||((i=g.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),o.push(s),s.resolution=l,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);var m=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(tC.copyFrom(a.projection.transform).invert(),m),h?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(c.sourceFrame),s.bindingDestinationFrame.copyFrom(c.destinationFrame),s.transform=a.projection.transform,a.projection.transform=null,c.bind(s.renderTexture,s.sourceFrame,v),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=r.sourceFrame.width*a[2]-.5*o[2],s[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,sl.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,f=this.getOptimalFilterTexture(u.width,u.height,r.resolution);f.filterFrame=u.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(u.width,u.height,r.resolution),f.filterFrame=u.filterFrame),n[h].apply(this,u,f,sl.CLEAR,r);var p=u;u=f,f=p}n[h].apply(this,u,l.renderTexture,sl.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=sl.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=a.stateId&1||this.forceClear;(r===sl.CLEAR||r===sl.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Ka.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Ka.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,s=e.set(a.width,0,0,a.height,i.x,i.y),c=r.worldTransform.copyTo(ln.TEMP_MATRIX);return c.invert(),s.prepend(c),s.scale(1/o.width,1/o.height),s.translate(r.anchor.x,r.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Kn.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Kn.NONE);return a.filterFrame=e.filterFrame,a},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=f_[0],i=f_[1],a=f_[2],o=f_[3];n.set(r.left,r.top),i.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(o,o);var s=Math.min(n.x,i.x,a.x,o.x),c=Math.min(n.y,i.y,a.y,o.y),l=Math.max(n.x,i.x,a.x,o.x),u=Math.max(n.y,i.y,a.y,o.y);r.x=s,r.y=c,r.width=l-s,r.height=u-c},t.prototype.roundFrame=function(e,r,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){var o=a.a,s=a.b,c=a.c,l=a.d;if((Math.abs(s)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}a=a?tC.copyFrom(a):tC.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}},t}(),Cg=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),Kk=function(){function t(e){this.renderer=e,this.emptyRenderer=new Cg(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var a=e.elements,o=e.ids,s=e.count,c=0,l=0;l<s;l++){var u=a[l],f=u._batchLocation;if(f>=0&&f<i&&r[f]===u){o[l]=f;continue}for(;c<i;){var h=r[c];if(h&&h._batchEnabled===n&&h._batchLocation===c){c++;continue}o[l]=c,u._batchLocation=c,r[c]=u;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),J5=0,Zk=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=J5++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=J5++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(xt.PREFER_ENV>=Fs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),vX=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Kn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),oUe=new rr,Jk=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new _x(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new rr,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;xt.PREFER_ENV===Fs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var c=r.width>>n,l=r.height>>n,u=c/r.width;this.setViewport(r.x*u,r.y*u,c,l)}else{var c=e.width>>n,l=e.height>>n;this.setViewport(0,0,c,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,a){a===void 0&&(a=Iv.COLOR|Iv.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(a)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new vX(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1));for(var o=0;o<a;o++){var s=i[o],c=s.parentTextureArray||s;this.renderer.texture.bind(c,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures,o=a.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],c=0;c<o;c++){var l=a[c],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),!(c===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,l.target,u._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+c))}if(s.length>1&&n.drawBuffers(s),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=Kn.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Kn.NONE),n},t.prototype.blit=function(e,r,n){var i=this,a=i.current,o=i.renderer,s=i.gl,c=i.CONTEXT_UID;if(o.context.webGLVersion===2&&a){var l=a.glFramebuffers[c];if(l){if(!e){if(!l.msaaBuffer)return;var u=a.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new _x(a.width,a.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}r||(r=oUe,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,f?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new rr},t.prototype.destroy=function(){this.renderer=null},t}(),rC={5126:4,5123:2,5121:1},Qk=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;xt.PREFER_ENV===Fs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},e.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(a,o){return i.vertexAttribDivisorANGLE(a,o)},e.drawElementsInstanced=function(a,o,s,c,l){return i.drawElementsInstancedANGLE(a,o,s,c,l)},e.drawArraysInstanced=function(a,o,s,c){return i.drawArraysInstancedANGLE(a,o,s,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,a=["g",e.id];for(var o in n)i[o]&&a.push(o,i[o].location);return a.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,s=r.program;s.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,s);var c=this.getSignature(e,s),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[c];if(u)return l[s.id]=u,u;var f=e.buffers,h=e.attributes,p={},d={};for(var g in f)p[g]=0,d[g]=0;for(var g in h)!h[g].size&&s.attributeData[g]?h[g].size=s.attributeData[g].size:h[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[h[g].buffer]+=h[g].size*rC[h[g].type];for(var g in h){var m=h[g],v=m.size;m.stride===void 0&&(p[m.buffer]===v*rC[m.type]?m.stride=0:m.stride=p[m.buffer]),m.start===void 0&&(m.start=d[m.buffer],d[m.buffer]+=v*rC[m.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var _=0;_<f.length;_++){var y=f[_];o.bind(y),n&&y._glBuffers[a].refCount++}return this.activateVao(e,s),this._activeVao=u,l[s.id]=u,l[c]=u,u},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(s)for(var c=0;c<o.length;c++){var l=o[c]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(o[c],r))}if(!r){for(var u in i)if(u[0]==="g"){var f=i[u];this._activeVao===f&&this.unbind(),a.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);var c=null;for(var l in s){var u=s[l],f=o[u.buffer],h=f._glBuffers[i];if(r.attributeData[l]){c!==h&&(a.bind(f),c=h);var p=r.attributeData[l].location;if(n.enableVertexAttribArray(p),n.vertexAttribPointer(p,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)n.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,c=s===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*s,i||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),i||1):a.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),gX=function(){function t(e){e===void 0&&(e=null),this.type=Di.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=xt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Di.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Q5(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function eU(t,e){var r=t.getShaderSource(e).split(`
`).map(function(l,u){return u+": "+l}),n=t.getShaderInfoLog(e),i=n.split(`
`),a={},o=i.map(function(l){return parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(l){return l&&!a[l]?(a[l]=!0,!0):!1}),s=[""];o.forEach(function(l){r[l-1]="%c"+r[l-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=r.join(`
`);s[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function sUe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||eU(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||eU(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function nC(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function mX(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return nC(2*e);case"bvec3":return nC(3*e);case"bvec4":return nC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var _X={},J0=_X;function yX(){if(J0===_X||J0&&J0.isContextLost()){var t=document.createElement("canvas"),e=void 0;xt.PREFER_ENV>=Fs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),J0=e}return J0}var h_;function lUe(){if(!h_){h_=qo.MEDIUM;var t=yX();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);h_=e.precision?qo.HIGH:qo.MEDIUM}}return h_}function tU(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===qo.HIGH&&r!==qo.HIGH&&(n=qo.MEDIUM),"precision "+n+` float;
`+t}else if(r!==qo.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var uUe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xX(t){return uUe[t]}var d_=null,rU={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function bX(t,e){if(!d_){var r=Object.keys(rU);d_={};for(var n=0;n<r.length;++n){var i=r[n];d_[t[i]]=rU[i]}}return d_[e]}var Jc=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],cUe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},fUe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function hUe(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=e[i];if(!a){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],s=!1,c=0;c<Jc.length;c++)if(Jc[c].test(a,o)){n.push(Jc[c].code(i,o)),s=!0;break}if(!s){var l=a.size===1?cUe:fUe,u=l[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var dUe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function pUe(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function wX(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=dUe.replace(/%forloop%/gi,pUe(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var Q0;function vUe(){if(typeof Q0=="boolean")return Q0;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Q0=t({a:"b"},"a","b")===!0}catch{Q0=!1}return Q0}var gUe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,mUe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,_Ue=0,p_={},s0=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=_Ue++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),p_[n]?(p_[n]++,n+="-"+p_[n]):p_[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=tU(this.vertexSrc,xt.PRECISION_VERTEX,qo.HIGH),this.fragmentSrc=tU(this.fragmentSrc,xt.PRECISION_FRAGMENT,lUe())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return mUe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return gUe},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=VA[i];return a||(VA[i]=a=new t(e,r,n)),a},t}(),ml=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Eu?this.uniformGroup=r:this.uniformGroup=new Eu(r):this.uniformGroup=new Eu({})}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=s0.from(e,r);return new t(i,n)},t}(),iC=0,aC=1,oC=2,sC=3,lC=4,uC=5,Yu=function(){function t(){this.data=0,this.blendMode=ct.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<iC)},set:function(e){!!(this.data&1<<iC)!==e&&(this.data^=1<<iC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<aC)},set:function(e){!!(this.data&1<<aC)!==e&&(this.data^=1<<aC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<oC)},set:function(e){!!(this.data&1<<oC)!==e&&(this.data^=1<<oC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<sC)},set:function(e){!!(this.data&1<<sC)!==e&&(this.data^=1<<sC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<uC)},set:function(e){!!(this.data&1<<uC)!==e&&(this.data^=1<<uC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<lC)},set:function(e){!!(this.data&1<<lC)!==e&&(this.data^=1<<lC)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ct.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),yUe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,xUe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Gt=function(t){tn(e,t);function e(r,n,i){var a=this,o=s0.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return a=t.call(this,o,i)||this,a.padding=0,a.resolution=xt.FILTER_RESOLUTION,a.multisample=xt.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Yu,a}return e.prototype.apply=function(r,n,i,a,o){r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return yUe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return xUe},enumerable:!1,configurable:!0}),e}(ml),bUe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,wUe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,nU=new ln,Rb=function(){function t(e,r){this._texture=e,this.mapCoord=new ln,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];r[i]=a*n.a+o*n.c+n.tx,r[i+1]=a*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,a=r.trim;a&&(nU.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(nU));var o=r.baseTexture,s=this.uClampFrame,c=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(r._frame.x+c+l)/o.width,s[1]=(r._frame.y+c+l)/o.height,s[2]=(r._frame.x+r._frame.width-c+l)/o.width,s[3]=(r._frame.y+r._frame.height-c+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),EX=function(t){tn(e,t);function e(r,n,i){var a=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),a=t.call(this,r||bUe,n||wUe,i)||this,a.maskSprite=o,a.maskMatrix=new ln,a}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,a){var o=this._maskSprite,s=o._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Rb(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,a))},e}(Gt),e3=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new gX;i.pooled=!0,i.maskObject=r,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=e,n.type!==Di.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Di.SCISSOR:this.renderer.scissor.push(n);break;case Di.STENCIL:this.renderer.stencil.push(n);break;case Di.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===Di.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Di.SCISSOR:this.renderer.scissor.pop();break;case Di.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Di.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Di.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r.isSprite?e.type=Di.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Di.SCISSOR:e.type=Di.STENCIL},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,a=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new EX]));var s=this.renderer,c=s.renderTexture,l,u;if(c.current){var f=c.current;l=e.resolution||f.resolution,u=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else l=e.resolution||s.resolution,u=(n=e.multisample)!==null&&n!==void 0?n:s.multisample;o[0].resolution=l,o[0].multisample=u,o[0].maskSprite=i;var h=a.filterArea;a.filterArea=i.getBounds(!0),s.filter.push(a,o),a.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),SX=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),iU=new ln,t3=function(t){tn(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,a=this.renderer,o=a.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,a=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,a,o){e.isMatrixRotated(o)||(o=o?iU.copyFrom(o):iU.identity(),o.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,r),r.fit(a),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(SX),r3=function(t){tn(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,a=r._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(SX),n3=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ln,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var a=this.projectionMatrix,o=i?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),uc=new rr,ep=new rr,i3=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new rr,this.destinationFrame=new rr,this.viewportFrame=new rr}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var a,o,s;e?(a=e.baseTexture,s=a.resolution,r||(uc.width=e.frame.width,uc.height=e.frame.height,r=uc),n||(ep.x=e.frame.x,ep.y=e.frame.y,ep.width=r.width,ep.height=r.height,n=ep),o=a.framebuffer):(s=i.resolution,r||(uc.width=i.screen.width,uc.height=i.screen.height,r=uc),n||(n=uc,n.width=r.width,n.height=r.height));var c=this.viewportFrame;c.x=n.x*s,c.y=n.y*s,c.width=n.width*s,c.height=n.height*s,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,s,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var o=this.viewportFrame,s=o.x,c=o.y,l=o.width,u=o.height;s=Math.round(s),c=Math.round(c),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,c,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function EUe(t,e,r,n,i){r.buffer.update(i)}var SUe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},CX={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function TX(t){for(var e=t.map(function(c){return{data:c,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,a=0;a<e.length;a++){var o=e[a];if(r=CX[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function AX(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,a){return i.index-a.index}),r}function IX(t,e){if(!t.autoManage)return{size:0,syncFunc:EUe};for(var r=AX(t.uniforms,e),n=TX(r),i=n.uboElements,a=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var c=i[s],l=t.uniforms[c.data.name],u=c.data.name,f=!1,h=0;h<Jc.length;h++){var p=Jc[h];if(p.codeUbo&&p.test(c.data,l)){o.push("offset = "+c.offset/4+";",Jc[h].codeUbo(c.data.name,l)),f=!0;break}}if(!f)if(c.data.size>1){var d=xX(c.data.type),g=Math.max(CX[c.data.type]/16,1),m=d/g,v=(4-m%4)%4;o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;

                t = 0;

                for(var i=0; i < `+c.data.size*g+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+v+`;
                }

                `)}else{var _=SUe[c.data.type];o.push(`
                cv = ud.`+u+`.value;
                v = uv.`+u+`;
                offset = `+c.offset/4+`;
                `+_+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var CUe=function(){function t(){}return t}(),RX=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function TUe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=e.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var o=bX(e,a.type),s={type:o,name:a.name,size:xX(o),location:e.getAttribLocation(t,a.name)};r[a.name]=s}}return r}function AUe(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=!!a.name.match(/\[.*?\]$/),c=bX(e,a.type);r[o]={name:o,index:i,type:c,size:a.size,isArray:s,value:mX(c,a.size)}}return r}function PX(t,e){var r=Q5(t,t.VERTEX_SHADER,e.vertexSrc),n=Q5(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||sUe(t,i,r,n),e.attributeData=TUe(i,t),e.uniformData=AUe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort(function(u,f){return u>f?1:-1});for(var o=0;o<a.length;o++)e.attributeData[a[o]].location=o,t.bindAttribLocation(i,o,a[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var o in e.uniformData){var c=e.uniformData[o];s[o]={location:t.getUniformLocation(i,o),value:mX(c.type,c.size)}}var l=new RX(i,s);return l}var IUe=0,v_={textureCount:0,uboCount:0},a3=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=IUe++}return t.prototype.systemCheck=function(){if(!vUe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(v_.textureCount=0,v_.uboCount=0,this.syncUniformGroup(e.uniformGroup,v_)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=hUe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,v_,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=IX(e,this.shader.program.uniformData)),e.autoManage){var c=new Float32Array(s.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=s.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,a=[n+"-"];for(var o in i)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=PX(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function RUe(t,e){return e===void 0&&(e=[]),e[ct.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.ADD]=[t.ONE,t.ONE],e[ct.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.NONE]=[0,0],e[ct.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ct.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ct.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ct.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ct.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ct.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ct.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ct.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ct.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ct.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ct.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var PUe=0,OUe=1,kUe=2,FUe=3,NUe=4,MUe=5,o3=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ct.NONE,this._blendEq=!1,this.map=[],this.map[PUe]=this.setBlend,this.map[OUe]=this.setOffset,this.map[kUe]=this.setCullFace,this.map[FUe]=this.setDepthTest,this.map[NUe]=this.setFrontFace,this.map[MUe]=this.setDepthMask,this.checks=[],this.defaultState=new Yu,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=RUe(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),s3=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=xt.GC_MAX_IDLE,this.checkCountMax=xt.GC_MAX_CHECK_COUNT,this.mode=xt.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==mx.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var a=r[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function LUe(t){var e,r,n,i,a,o,s,c,l,u,f,h,p,d,g,m,v,_,y,b,w,E,C;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?C=(e={},e[It.UNSIGNED_BYTE]=(r={},r[nt.RGBA]=t.RGBA8,r[nt.RGB]=t.RGB8,r[nt.RG]=t.RG8,r[nt.RED]=t.R8,r[nt.RGBA_INTEGER]=t.RGBA8UI,r[nt.RGB_INTEGER]=t.RGB8UI,r[nt.RG_INTEGER]=t.RG8UI,r[nt.RED_INTEGER]=t.R8UI,r[nt.ALPHA]=t.ALPHA,r[nt.LUMINANCE]=t.LUMINANCE,r[nt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[It.BYTE]=(n={},n[nt.RGBA]=t.RGBA8_SNORM,n[nt.RGB]=t.RGB8_SNORM,n[nt.RG]=t.RG8_SNORM,n[nt.RED]=t.R8_SNORM,n[nt.RGBA_INTEGER]=t.RGBA8I,n[nt.RGB_INTEGER]=t.RGB8I,n[nt.RG_INTEGER]=t.RG8I,n[nt.RED_INTEGER]=t.R8I,n),e[It.UNSIGNED_SHORT]=(i={},i[nt.RGBA_INTEGER]=t.RGBA16UI,i[nt.RGB_INTEGER]=t.RGB16UI,i[nt.RG_INTEGER]=t.RG16UI,i[nt.RED_INTEGER]=t.R16UI,i[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[It.SHORT]=(a={},a[nt.RGBA_INTEGER]=t.RGBA16I,a[nt.RGB_INTEGER]=t.RGB16I,a[nt.RG_INTEGER]=t.RG16I,a[nt.RED_INTEGER]=t.R16I,a),e[It.UNSIGNED_INT]=(o={},o[nt.RGBA_INTEGER]=t.RGBA32UI,o[nt.RGB_INTEGER]=t.RGB32UI,o[nt.RG_INTEGER]=t.RG32UI,o[nt.RED_INTEGER]=t.R32UI,o[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[It.INT]=(s={},s[nt.RGBA_INTEGER]=t.RGBA32I,s[nt.RGB_INTEGER]=t.RGB32I,s[nt.RG_INTEGER]=t.RG32I,s[nt.RED_INTEGER]=t.R32I,s),e[It.FLOAT]=(c={},c[nt.RGBA]=t.RGBA32F,c[nt.RGB]=t.RGB32F,c[nt.RG]=t.RG32F,c[nt.RED]=t.R32F,c[nt.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,c),e[It.HALF_FLOAT]=(l={},l[nt.RGBA]=t.RGBA16F,l[nt.RGB]=t.RGB16F,l[nt.RG]=t.RG16F,l[nt.RED]=t.R16F,l),e[It.UNSIGNED_SHORT_5_6_5]=(u={},u[nt.RGB]=t.RGB565,u),e[It.UNSIGNED_SHORT_4_4_4_4]=(f={},f[nt.RGBA]=t.RGBA4,f),e[It.UNSIGNED_SHORT_5_5_5_1]=(h={},h[nt.RGBA]=t.RGB5_A1,h),e[It.UNSIGNED_INT_2_10_10_10_REV]=(p={},p[nt.RGBA]=t.RGB10_A2,p[nt.RGBA_INTEGER]=t.RGB10_A2UI,p),e[It.UNSIGNED_INT_10F_11F_11F_REV]=(d={},d[nt.RGB]=t.R11F_G11F_B10F,d),e[It.UNSIGNED_INT_5_9_9_9_REV]=(g={},g[nt.RGB]=t.RGB9_E5,g),e[It.UNSIGNED_INT_24_8]=(m={},m[nt.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[It.FLOAT_32_UNSIGNED_INT_24_8_REV]=(v={},v[nt.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),e):C=(_={},_[It.UNSIGNED_BYTE]=(y={},y[nt.RGBA]=t.RGBA,y[nt.RGB]=t.RGB,y[nt.ALPHA]=t.ALPHA,y[nt.LUMINANCE]=t.LUMINANCE,y[nt.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),_[It.UNSIGNED_SHORT_5_6_5]=(b={},b[nt.RGB]=t.RGB,b),_[It.UNSIGNED_SHORT_4_4_4_4]=(w={},w[nt.RGBA]=t.RGBA,w),_[It.UNSIGNED_SHORT_5_5_5_1]=(E={},E[nt.RGBA]=t.RGBA,E),_),C}var py=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=It.UNSIGNED_BYTE,this.internalFormat=nt.RGBA,this.samplerType=0}return t}(),l3=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new hr,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=LUe(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new py(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new py(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===e&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,a=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var s=n[o];if(s){var c=s._glTextures[a];c.samplerType!==Rv.FLOAT&&this.renderer.texture.unbind(s)}}},t.prototype.initTexture=function(e){var r=new py(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===It.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Rv.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,a=e.realHeight,o=n.gl;(r.width!==i||r.height!==a||r.dirtyId<0)&&(r.width=i,r.height=a,o.texImage2D(e.target,0,r.internalFormat,i,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&Os(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ba.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ps.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Ba.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ri.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ri.LINEAR){var a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ri.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ri.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),OX={__proto__:null,FilterSystem:qk,BatchSystem:Kk,ContextSystem:Zk,FramebufferSystem:Jk,GeometrySystem:Qk,MaskSystem:e3,ScissorSystem:t3,StencilSystem:r3,ProjectionSystem:n3,RenderTextureSystem:i3,ShaderSystem:a3,StateSystem:o3,TextureGCSystem:s3,TextureSystem:l3},cC=new ln,kX=function(t){tn(e,t);function e(r,n){r===void 0&&(r=yd.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},xt.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new rr(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||xt.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(bl("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(bl("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var o=n.region,s=Z5e(n,["region"]);a=o||r.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var c=ju.create(ZA({width:a.width,height:a.height},s));return cC.tx=-a.x,cC.ty=-a.y,this.render(r,{renderTexture:c,clear:!1,transform:cC,skipUpdateTransform:!!r.parent}),c},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=yd.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=Fk(r),yi(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Cf),BUe=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),DUe=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,a.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,a=i.gl,o=i.CONTEXT_UID;n=n||0;var s=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,a=e._glBuffers[i];if(e._updateID!==a.updateID)if(a.updateID=e._updateID,n.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new BUe(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),Tl=function(t){tn(e,t);function e(r){var n=t.call(this,yd.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Gi("destroy"),contextChange:new Gi("contextChange"),reset:new Gi("reset"),update:new Gi("update"),postrender:new Gi("postrender"),prerender:new Gi("prerender"),resize:new Gi("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Eu({projectionMatrix:new ln},!0),n.addSystem(e3,"mask").addSystem(Zk,"context").addSystem(o3,"state").addSystem(a3,"shader").addSystem(l3,"texture").addSystem(DUe,"buffer").addSystem(Qk,"geometry").addSystem(Jk,"framebuffer").addSystem(t3,"scissor").addSystem(r3,"stencil").addSystem(n3,"projection").addSystem(s3,"textureGC").addSystem(qk,"filter").addSystem(i3,"renderTexture").addSystem(Kk,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Wz(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(Yz())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Kn.HIGH?this.multisample=Kn.HIGH:n>=Kn.MEDIUM?this.multisample=Kn.MEDIUM:n>=Kn.LOW?this.multisample=Kn.LOW:this.multisample=Kn.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},e.prototype.render=function(r,n){var i,a,o,s;if(n&&(n instanceof ju?(bl("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],o=arguments[3],s=arguments[4]):(i=n.renderTexture,a=n.clear,o=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var c=r.enableTempParent();r.updateTransform(),r.disableTempParent(c)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,a){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,a);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return bl("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){e.__plugins=e.__plugins||{},e.__plugins[r]=n},e}(kX);function FX(t){return Tl.create(t)}var UUe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jUe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,NX=UUe,u3=jUe,$Ue=function(){function t(e){bl("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),yx=function(){function t(){this.texArray=null,this.blend=0,this.type=Ka.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),xx=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Nv=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),MX=function(t){tn(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Yu.for2d(),n.size=xt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;xt.PREFER_ENV===Fs.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),xt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=wX(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new yx);for(;n.length<a;)n.push(new xx);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,a=e._textureArrayPool,o=this.renderer.batch,s=this._tempBoundTextures,c=this.renderer.textureGC.count,l=++hr._globalBatch,u=0,f=a[0],h=0;o.copyBoundTextures(s,i);for(var p=0;p<this._bufferSize;++p){var d=n[p];n[p]=null,d._batchEnabled!==l&&(f.count>=i&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,p),h=p,f=a[++u],++l),d._batchEnabled=l,d.touched=c,f.elements[f.count++]=d)}f.count>0&&(o.boundArray(f,s,l,i),this.buildDrawCalls(f,h,this._bufferSize),++u,++l);for(var p=0;p<s.length;p++)s[p]=null;hr._globalBatch=l},e.prototype.buildDrawCalls=function(r,n,i){var a=this,o=a._bufferedElements,s=a._attributeBuffer,c=a._indexBuffer,l=a.vertexSize,u=e._drawCallPool,f=this._dcIndex,h=this._aIndex,p=this._iIndex,d=u[f];d.start=this._iIndex,d.texArray=r;for(var g=n;g<i;++g){var m=o[g],v=m._texture.baseTexture,_=Mk[v.alphaMode?1:0][m.blendMode];o[g]=null,n<g&&d.blend!==_&&(d.size=p-d.start,n=g,d=u[++f],d.texArray=r,d.start=p),this.packInterleavedGeometry(m,s,c,h,p),h+=m.vertexData.length/2*l,p+=m.indices.length,d.blend=_}n<i&&(d.size=p-d.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=p},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,a=r._indexBuffer;xt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,o=e._drawCallPool,s=null,c=0;c<r;c++){var l=o[c],u=l.texArray,f=l.type,h=l.size,p=l.start,d=l.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,a.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,p*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),xt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Pv(Math.ceil(r/8)),i=GA(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Nv(a*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Pv(Math.ceil(r/12)),i=GA(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(a)),o},e.prototype.packInterleavedGeometry=function(r,n,i,a,o){for(var s=n.uint32View,c=n.float32View,l=a/this.vertexSize,u=r.uvs,f=r.indices,h=r.vertexData,p=r._texture.baseTexture._batchLocation,d=Math.min(r.worldAlpha,1),g=d<1&&r._texture.baseTexture.alphaMode?Eb(r._tintRGB,d):r._tintRGB+(d*255<<24),m=0;m<h.length;m+=2)c[a++]=h[m],c[a++]=h[m+1],c[a++]=u[m],c[a++]=u[m+1],s[a++]=g,c[a++]=p;for(var m=0;m<f.length;m++)i[o++]=l+f[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(Cg),LX=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=Eu.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new s0(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ln,default:this.defaultGroupCache[e]};return new ml(this.programCache[e],a)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),c3=function(t){tn(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new si(null,r,!1),n._indexBuffer=new si(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,It.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,It.FLOAT).addAttribute("aColor",n._buffer,4,!0,It.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,It.FLOAT).addIndex(n._indexBuffer),n}return e}(o0),aU=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,oU=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BX=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:aU,fragment:oU,geometryClass:c3,vertexSize:6},e),n=r.vertex,i=r.fragment,a=r.vertexSize,o=r.geometryClass;return function(s){tn(c,s);function c(l){var u=s.call(this,l)||this;return u.shaderGenerator=new LX(n,i),u.geometryClass=o,u.vertexSize=a,u}return c}(MX)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return aU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return oU},enumerable:!1,configurable:!0}),t}(),DX=BX.create(),UX={},GUe=function(t){Object.defineProperty(UX,t,{get:function(){return bl("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),fX[t]}})};for(var f3 in fX)GUe(f3);var jX={},VUe=function(t){Object.defineProperty(jX,t,{get:function(){return bl("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),OX[t]}})};for(var f3 in OX)VUe(f3);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tg=function(){function t(e){var r=this;this.stage=new _i,e=Object.assign({forceCanvas:!1},e),this.renderer=FX(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),HUe=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=r._resizeTo,o=a.clientWidth,s=a.clientHeight;n=o,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Tg.registerPlugin(HUe);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fC=/iPhone/i,sU=/iPod/i,lU=/iPad/i,uU=/\biOS-universal(?:.+)Mac\b/i,hC=/\bAndroid(?:.+)Mobile\b/i,cU=/Android/i,ih=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,g_=/Silk/i,rl=/Windows Phone/i,fU=/\bWindows(?:.+)ARM\b/i,hU=/BlackBerry/i,dU=/BB10/i,pU=/Opera Mini/i,vU=/\b(CriOS|Chrome)(?:.+)Mobile/i,gU=/Mobile(?:.+)Firefox\b/i,mU=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function zUe(t){return function(e){return e.test(t)}}function XUe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=zUe(r),a={apple:{phone:i(fC)&&!i(rl),ipod:i(sU),tablet:!i(fC)&&(i(lU)||mU(e))&&!i(rl),universal:i(uU),device:(i(fC)||i(sU)||i(lU)||i(uU)||mU(e))&&!i(rl)},amazon:{phone:i(ih),tablet:!i(ih)&&i(g_),device:i(ih)||i(g_)},android:{phone:!i(rl)&&i(ih)||!i(rl)&&i(hC),tablet:!i(rl)&&!i(ih)&&!i(hC)&&(i(g_)||i(cU)),device:!i(rl)&&(i(ih)||i(g_)||i(hC)||i(cU))||i(/\bokhttp\b/i)},windows:{phone:i(rl),tablet:i(fU),device:i(rl)||i(fU)},other:{blackberry:i(hU),blackberry10:i(dU),opera:i(pU),firefox:i(gU),chrome:i(vU),device:i(hU)||i(dU)||i(pU)||i(gU)||i(vU)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fh=XUe(globalThis.navigator);function WUe(t){var e=!0;if(Fh.tablet||Fh.phone){if(Fh.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Fh.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}function YUe(){return!Fh.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _U;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(_U||(_U={}));var yU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yU||(yU={}));var xU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(xU||(xU={}));var bU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(bU||(bU={}));var wU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(wU||(wU={}));var EU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(EU||(EU={}));var SU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(SU||(SU={}));var CU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(CU||(CU={}));var TU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(TU||(TU={}));var QA;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(QA||(QA={}));var eI;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(eI||(eI={}));var tI;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(tI||(tI={}));var AU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(AU||(AU={}));var IU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(IU||(IU={}));var rI;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(rI||(rI={}));var Yp;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Yp||(Yp={}));var RU;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(RU||(RU={}));var nI;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(nI||(nI={}));var PU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(PU||(PU={}));var $X={MIPMAP_TEXTURES:tI.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:nI.NONE,SPRITE_MAX_TEXTURES:WUe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:rI.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:eI.CLAMP,SCALE_MODE:QA.LINEAR,PRECISION_VERTEX:Yp.HIGH,PRECISION_FRAGMENT:Fh.apple.device?Yp.HIGH:Yp.MEDIUM,CAN_UPLOAD_SAME_BUFFER:YUe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$X.SORTABLE_CHILDREN=!1;var OU=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?rr.EMPTY:(e=e||new rr(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,c=e.ty,l=n*r.x+a*r.y+s,u=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY,o=e[0],s=e[1];r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[2],s=e[3],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[4],s=e[5],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,o=e[6],s=e[7],r=o<r?o:r,n=s<n?s:n,i=o>i?o:i,a=s>a?s:a,this.minX=r,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(e,r,n,i,a){this.addFrameMatrix(e.worldTransform,r,n,i,a)},t.prototype.addFrameMatrix=function(e,r,n,i,a){var o=e.a,s=e.b,c=e.c,l=e.d,u=e.tx,f=e.ty,h=this.minX,p=this.minY,d=this.maxX,g=this.maxY,m=o*r+c*n+u,v=s*r+l*n+f;h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*n+u,v=s*i+l*n+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*r+c*a+u,v=s*r+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,m=o*i+c*a+u,v=s*i+l*a+f,h=m<h?m:h,p=v<p?v:p,d=m>d?m:d,g=v>g?v:g,this.minX=h,this.minY=p,this.maxX=d,this.maxY=g},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,c=r;c<n;c+=2){var l=e[c],u=e[c+1];i=l<i?l:i,a=u<a?u:a,o=l>o?l:o,s=u>s?u:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=a);for(var s=e.a,c=e.b,l=e.c,u=e.d,f=e.tx,h=e.ty,p=this.minX,d=this.minY,g=this.maxX,m=this.maxY,v=n;v<i;v+=2){var _=r[v],y=r[v+1],b=s*_+l*y+f,w=u*y+c*_+h;p=Math.min(p,b-a),g=Math.max(g,b+a),d=Math.min(d,w-o),m=Math.max(m,w+o)}this.minX=p,this.minY=d,this.maxX=g,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX,c=this.minY,l=this.maxX,u=this.maxY;this.minX=n<s?n:s,this.minY=i<c?i:c,this.maxX=a>l?a:l,this.maxY=o>u?o:u}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,a,o){e-=a,r-=o,n+=a,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var iI=function(t,e){return iI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},iI(t,e)};function h3(t,e){iI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mv=function(t){h3(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new Sg,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new OU,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(e.prototype,a,Object.getOwnPropertyDescriptor(r,a))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new rr),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new rr),r=this._localBoundsRect),this._localBounds||(this._localBounds=new OU);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,a){return n&&(r=n.toGlobal(r,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,a,o,s,c,l,u){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),o===void 0&&(o=0),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=o,this.skew.x=s,this.skew.y=c,this.pivot.x=l,this.pivot.y=u,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new qUe),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Dk},set:function(r){this.transform.rotation=r*wl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),e}(Cf),qUe=function(t){h3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Mv);Mv.prototype.displayObjectUpdateTransform=Mv.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kU;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(kU||(kU={}));var FU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(FU||(FU={}));var NU;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(NU||(NU={}));var MU;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(MU||(MU={}));var LU;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(LU||(LU={}));var BU;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(BU||(BU={}));var DU;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(DU||(DU={}));var UU;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(UU||(UU={}));var jU;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(jU||(jU={}));var $U;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})($U||($U={}));var GU;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(GU||(GU={}));var VU;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(VU||(VU={}));var HU;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(HU||(HU={}));var zU;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(zU||(zU={}));var XU;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(XU||(XU={}));var WU;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(WU||(WU={}));var aI;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(aI||(aI={}));var YU;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(YU||(YU={}));var qU;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(qU||(qU={}));function KUe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var KU=function(t){h3(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=$X.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=r,this.onChildrenChange(i<a?i:a)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Os(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var o=n[0],s=this.children.indexOf(o);if(s===-1)return null;o.parent=null,o.transform._parentID=-1,Os(this.children,s,1),this._boundsID++,this.onChildrenChange(s),o.emit("removed",this),this.emit("childRemoved",o,this,s)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Os(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,a=n,o=a-i,s;if(o>0&&o<=a){s=this.children.splice(i,o);for(var c=0;c<s.length;++c)s[c].parent=null,s[c].transform&&(s[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var c=0;c<s.length;++c)s[c].emit("removed",this),this.emit("childRemoved",s[c],this,c);return s}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!r&&a.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(KUe),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var a=0,o=this.children.length;a<o;++a){var s=this.children[a];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,a))this._render(r);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var c=this.children[o],l=c.cullable;c.cullable=l||!this.cullArea,c.render(r),c.cullable=l}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==aI.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var a=0,s=this.children.length;a<s;++a)this.children[a].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Mv);KU.prototype.containerUpdateTransform=KU.prototype.updateTransform;var dC=new rr,ZU=4,GX=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e){var r=this.renderer,n,i,a=!1,o,s=!1;e&&(e instanceof ju?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(n=o.baseTexture.resolution,i=o.frame,a=!1,r.renderTexture.bind(o)):(n=this.renderer.resolution,a=!0,i=dC,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var c=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),u=new HA(c,l,1),f=new Uint8Array(ZU*c*l),h=r.gl;h.readPixels(i.x*n,i.y*n,c,l,h.RGBA,h.UNSIGNED_BYTE,f);var p=u.context.getImageData(0,0,c,l);if(t.arrayPostDivide(f,p.data),u.context.putImageData(p,0,0),a){var d=new HA(u.width,u.height,1);d.context.scale(1,-1),d.context.drawImage(u.canvas,0,-l),u.destroy(),u=d}return s&&o.destroy(!0),u.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,a,o,s=!1;e&&(e instanceof ju?o=e:e instanceof Mv&&(o=this.renderer.generateTexture(e),s=!0)),o?r?(i=r.resolution,a=o.frame,n.renderTexture.bind(o)):(i=o.baseTexture.resolution,a=o.frame,n.renderTexture.bind(o)):r?(i=r.resolution,a=dC,a.width=r.width,a.height=r.height,n.renderTexture.bind(null)):(i=n.resolution,a=dC,a.width=n.width,a.height=n.height,n.renderTexture.bind(null));var c=a.width*i,l=a.height*i,u=new Uint8Array(ZU*c*l),f=n.gl;return f.readPixels(a.x*i,a.y*i,c,l,f.RGBA,f.UNSIGNED_BYTE,u),s&&o.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var m_=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function JU(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ul=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof m_))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return JU(this,new m_(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return JU(this,new m_(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof m_))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function VX(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[r.key[a]]=n[a]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,s,c){s&&(i[r.q.name][s]=c)}),i}var pC,__=null,ZUe=0,QU=200,JUe=204,QUe=1223,e6e=2;function e6(){}function t6(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function vC(t){return t.toString().replace("object ","")}var Ur=function(){function t(e,r,n){if(this._dequeue=e6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=e6,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ul,this.onProgress=new ul,this.onComplete=new ul,this.onAfterMiddleware=new ul}return t.setExtensionLoadType=function(e,r){t6(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){t6(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof pC>"u"&&(pC=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),pC&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(vC(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(vC(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(vC(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?QU:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===ZUe&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=QU:n===QUe&&(n=JUe);var i=n/100|0;if(i===e6e)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,__||(__=document.createElement("a")),__.href=e;var n=VX(__.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,a=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||a!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),a=e.indexOf("#"),o=Math.min(i>-1?i:e.length,a>-1?a:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Ur||(Ur={}));function cc(){}function t6e(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var r6e=function(){function t(e,r){this.data=e,this.callback=r}return t}(),gC=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=cc,this.unsaturated=cc,this.empty=cc,this.drain=cc,this.error=cc,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new r6e(i,typeof o=="function"?o:cc);a?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,t6e(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=cc,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var a=0,o=e.length;function s(c){if(c||a===o){n&&n(c);return}i?setTimeout(function(){r(e[a++],s)},1):r(e[a++],s)}s()},t.queue=function(e,r){return new t(e,r)},t}(),mC=100,n6e=/(#[\w-]+)?$/,Da=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(c,l){return n._loadResource(c,l)},this._queue=gC.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ul,this.onError=new ul,this.onLoad=new ul,this.onStart=new ul,this.onComplete=new ul;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],o=a.pre,s=a.use;o&&this.pre(o),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Ur(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var c=a.progressChunk*(o.length+1),l=c/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var s=0;s<o.length;++s)o[s].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=mC/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=VX(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=n6e.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,gC.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=mC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),gC.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(mC,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Da.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var HX=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Da.shared:new Da},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),zX=function(){function t(){}return t.add=function(){Ur.setExtensionLoadType("svg",Ur.LOAD_TYPE.XHR),Ur.setExtensionXhrType("svg",Ur.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Ur.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,a=e.name,o=e.metadata;Ot.fromLoader(n,i,a,o).then(function(s){e.texture=s,r()}).catch(r)}else r()},t}(),i6e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a6e(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)r<t.length?n[a]=t.charCodeAt(r++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)e+=i6e.charAt(i[a])}return e}function o6e(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Ur.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+a6e(t.xhr.responseText),t.type=Ur.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Ur.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}Da.registerPlugin({use:o6e});Da.registerPlugin(zX);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zr,er;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(er||(er={}));var Lv=(zr={},zr[er.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,zr[er.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,zr[er.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,zr[er.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,zr[er.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,zr[er.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,zr[er.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,zr[er.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,zr[er.COMPRESSED_R11_EAC]=.5,zr[er.COMPRESSED_SIGNED_R11_EAC]=.5,zr[er.COMPRESSED_RG11_EAC]=1,zr[er.COMPRESSED_SIGNED_RG11_EAC]=1,zr[er.COMPRESSED_RGB8_ETC2]=.5,zr[er.COMPRESSED_RGBA8_ETC2_EAC]=1,zr[er.COMPRESSED_SRGB8_ETC2]=.5,zr[er.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,zr[er.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,zr[er.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,zr[er.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,zr[er.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,zr[er.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,zr[er.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,zr[er.COMPRESSED_RGB_ETC1_WEBGL]=.5,zr[er.COMPRESSED_RGB_ATC_WEBGL]=.5,zr[er.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,zr[er.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,zr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var oI=function(t,e){return oI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oI(t,e)};function XX(t,e){oI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function s6e(t,e,r,n){return new(r||(r=Promise))(function(i,a){function o(l){try{c(n.next(l))}catch(u){a(u)}}function s(l){try{c(n.throw(l))}catch(u){a(u)}}function c(l){l.done?i(l.value):new r(function(u){u(l.value)}).then(o,s)}c((n=n.apply(t,e||[])).next())})}function l6e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var WX=function(t){XX(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,o;return typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.origin=a,i.buffer=o?new Nv(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return s6e(this,void 0,Promise,function(){var r,n,i;return l6e(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return r=a.sent(),[4,r.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new Nv(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Wu),bx=function(t){XX(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var a=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,c=this.levels;s<c;s++){var l=this._levelBuffers[s],u=l.levelID,f=l.levelWidth,h=l.levelHeight,p=l.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,u,this.format,f,h,0,p)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,a,o,s,c){for(var l=new Array(i),u=r.byteOffset,f=s,h=c,p=f+a-1&~(a-1),d=h+o-1&~(o-1),g=p*d*Lv[n],m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?f:p,levelHeight:i>1?h:d,levelBuffer:new Uint8Array(r.buffer,u,g)},u+=g,f=f>>1||1,h=h>>1||1,p=f+a-1&~(a-1),d=h+o-1&~(o-1),g=p*d*Lv[n];return l},e}(WX),YX=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Ur.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,o=void 0,s=void 0,c=0,l=a.length;c<l;c++){var u=a[c],f=u.src,h=u.format;if(h||(s=f),t.textureFormats[h]){o=f;break}}if(o=o||s,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=Uc.resolve(e.url.replace(i.baseUrl,""),o),g=n.cacheID;i.add(g,d,p,function(m){if(m.error){r(m.error);return}var v=m.texture,_=v===void 0?null:v,y=m.textures,b=y===void 0?{}:y;Object.assign(e,{texture:_,textures:b}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=document.createElement("canvas"),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function qX(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(a){return new Ot(new hr(a,Object.assign({mipmap:Ba.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);hr.addToCache(s,c),Ot.addToCache(a,c),o===0&&(hr.addToCache(s,t),Ot.addToCache(a,t),n.texture=a),n.textures[c]=a}),n}var tp,Mo;Ur.setExtensionXhrType("dds",Ur.XHR_RESPONSE_TYPE.BUFFER);var _C=4,y_=124,u6e=32,r6=20,c6e=542327876,x_={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},f6e={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},b_={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Uo;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Uo||(Uo={}));var sI;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(sI||(sI={}));var h6e=1,d6e=2,p6e=4,v6e=64,g6e=512,m6e=131072,_6e=827611204,y6e=861165636,x6e=894720068,b6e=808540228,w6e=4,E6e=(tp={},tp[_6e]=er.COMPRESSED_RGBA_S3TC_DXT1_EXT,tp[y6e]=er.COMPRESSED_RGBA_S3TC_DXT3_EXT,tp[x6e]=er.COMPRESSED_RGBA_S3TC_DXT5_EXT,tp),S6e=(Mo={},Mo[Uo.DXGI_FORMAT_BC1_TYPELESS]=er.COMPRESSED_RGBA_S3TC_DXT1_EXT,Mo[Uo.DXGI_FORMAT_BC1_UNORM]=er.COMPRESSED_RGBA_S3TC_DXT1_EXT,Mo[Uo.DXGI_FORMAT_BC2_TYPELESS]=er.COMPRESSED_RGBA_S3TC_DXT3_EXT,Mo[Uo.DXGI_FORMAT_BC2_UNORM]=er.COMPRESSED_RGBA_S3TC_DXT3_EXT,Mo[Uo.DXGI_FORMAT_BC3_TYPELESS]=er.COMPRESSED_RGBA_S3TC_DXT5_EXT,Mo[Uo.DXGI_FORMAT_BC3_UNORM]=er.COMPRESSED_RGBA_S3TC_DXT5_EXT,Mo[Uo.DXGI_FORMAT_BC1_UNORM_SRGB]=er.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Mo[Uo.DXGI_FORMAT_BC2_UNORM_SRGB]=er.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Mo[Uo.DXGI_FORMAT_BC3_UNORM_SRGB]=er.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Mo),KX=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,qX(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){r(n);return}r()},t.parse=function(e){var r=new Uint32Array(e),n=r[0];if(n!==c6e)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,y_/Uint32Array.BYTES_PER_ELEMENT),a=i[x_.HEIGHT],o=i[x_.WIDTH],s=i[x_.MIPMAP_COUNT],c=new Uint32Array(e,x_.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,u6e/Uint32Array.BYTES_PER_ELEMENT),l=c[h6e];if(l&p6e){var u=c[f6e.FOURCC];if(u!==b6e){var f=E6e[u],h=_C+y_,p=new Uint8Array(e,h),d=new bx(p,{format:f,width:o,height:a,levels:s});return[d]}var g=_C+y_,m=new Uint32Array(r.buffer,g,r6/Uint32Array.BYTES_PER_ELEMENT),v=m[b_.DXGI_FORMAT],_=m[b_.RESOURCE_DIMENSION],y=m[b_.MISC_FLAG],b=m[b_.ARRAY_SIZE],w=S6e[v];if(w===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+v);if(y===w6e)throw new Error("DDSLoader does not support cubemap textures");if(_===sI.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,C=_C+y_+r6;if(b===1)E.push(new Uint8Array(e,C));else{for(var T=Lv[w],A=0,R=o,O=a,P=0;P<s;P++){var k=Math.max(1,R+3&-4),M=Math.max(1,O+3&-4),B=k*M*T;A+=B,R=R>>>1,O=O>>>1}for(var D=C,P=0;P<b;P++)E.push(new Uint8Array(e,D,A)),D+=A}return E.map(function(H){return new bx(H,{format:w,width:o,height:a,levels:s})})}throw l&v6e?new Error("DDSLoader does not support uncompressed texture data."):l&g6e?new Error("DDSLoader does not supported YUV uncompressed texture data."):l&m6e?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):l&d6e?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),Hl,nl,rp;Ur.setExtensionXhrType("ktx",Ur.XHR_RESPONSE_TYPE.BUFFER);var n6=[171,75,84,88,32,49,49,187,13,10,26,10],C6e=67305985,Lo={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},yC=64,lI=(Hl={},Hl[It.UNSIGNED_BYTE]=1,Hl[It.UNSIGNED_SHORT]=2,Hl[It.INT]=4,Hl[It.UNSIGNED_INT]=4,Hl[It.FLOAT]=4,Hl[It.HALF_FLOAT]=8,Hl),ZX=(nl={},nl[nt.RGBA]=4,nl[nt.RGB]=3,nl[nt.RG]=2,nl[nt.RED]=1,nl[nt.LUMINANCE]=1,nl[nt.LUMINANCE_ALPHA]=2,nl[nt.ALPHA]=1,nl),JX=(rp={},rp[It.UNSIGNED_SHORT_4_4_4_4]=2,rp[It.UNSIGNED_SHORT_5_5_5_1]=2,rp[It.UNSIGNED_SHORT_5_6_5]=2,rp),QX=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=t.parse(n,e.data),a=i.compressed,o=i.uncompressed,s=i.kvData;if(a){var c=qX(n,a,e.metadata);if(s&&c.textures)for(var l in c.textures)c.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(e,c)}else if(o){var u={};o.forEach(function(f,h){var p=new Ot(new hr(f.resource,{mipmap:Ba.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),d=n+"-"+(h+1);s&&(p.baseTexture.ktxKeyValueData=s),hr.addToCache(p.baseTexture,d),Ot.addToCache(p,d),h===0&&(u[n]=p,hr.addToCache(p.baseTexture,n),Ot.addToCache(p,n)),u[d]=p}),Object.assign(e,{textures:u})}}catch(f){r(f);return}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=n.getUint32(Lo.ENDIANNESS,!0)===C6e,a=n.getUint32(Lo.GL_TYPE,i),o=n.getUint32(Lo.GL_FORMAT,i),s=n.getUint32(Lo.GL_INTERNAL_FORMAT,i),c=n.getUint32(Lo.PIXEL_WIDTH,i),l=n.getUint32(Lo.PIXEL_HEIGHT,i)||1,u=n.getUint32(Lo.PIXEL_DEPTH,i)||1,f=n.getUint32(Lo.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Lo.NUMBER_OF_FACES,i),p=n.getUint32(Lo.NUMBER_OF_MIPMAP_LEVELS,i),d=n.getUint32(Lo.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var g=4,m=4,v=c+3&-4,_=l+3&-4,y=new Array(f),b=c*l;a===0&&(b=v*_);var w;if(a!==0?lI[a]?w=lI[a]*ZX[o]:w=JX[a]:w=Lv[s],w===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=t.loadKeyValueData?t.parseKvData(n,d,i):null,C=b*w,T=C,A=c,R=l,O=v,P=_,k=yC+d,M=0;M<p;M++){for(var B=n.getUint32(k,i),D=k+4,H=0;H<f;H++){var ee=y[H];ee||(ee=y[H]=new Array(p)),ee[M]={levelID:M,levelWidth:p>1||a!==0?A:O,levelHeight:p>1||a!==0?R:P,levelBuffer:new Uint8Array(r,D,T)},D+=T}k+=B+4,k=k%4!==0?k+4-k%4:k,A=A>>1||1,R=R>>1||1,O=A+g-1&~(g-1),P=R+m-1&~(m-1),T=O*P*w}return a!==0?{uncompressed:y.map(function(ne){var Y=ne[0].levelBuffer,U=!1;return a===It.FLOAT?Y=new Float32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4):a===It.UNSIGNED_INT?(U=!0,Y=new Uint32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4)):a===It.INT&&(U=!0,Y=new Int32Array(ne[0].levelBuffer.buffer,ne[0].levelBuffer.byteOffset,ne[0].levelBuffer.byteLength/4)),{resource:new Wu(Y,{width:ne[0].levelWidth,height:ne[0].levelHeight}),type:a,format:U?t.convertFormatToInteger(o):o}}),kvData:E}:{compressed:y.map(function(ne){return new bx(null,{format:s,width:c,height:l,levels:p,levelBuffers:ne})}),kvData:E}},t.validate=function(e,r){for(var n=0;n<n6.length;n++)if(r.getUint8(n)!==n6[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(e){switch(e){case nt.RGBA:return nt.RGBA_INTEGER;case nt.RGB:return nt.RGB_INTEGER;case nt.RG:return nt.RG_INTEGER;case nt.RED:return nt.RED_INTEGER;default:return e}},t.parseKvData=function(e,r,n){for(var i=new Map,a=0;a<r;){var o=e.getUint32(yC+a,n),s=yC+a+4,c=3-(o+3)%4;if(o===0||o>r-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&e.getUint8(s+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(e.buffer,s,l)),f=new DataView(e.buffer,s+l+1,o-l-1);i.set(u,f),a+=4+o+c}return i},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uI=function(t,e){return uI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uI(t,e)};function eW(t,e){uI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T6e=function(t){eW(e,t);function e(r,n,i,a){r===void 0&&(r=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var o=t.call(this)||this,s=16384;return i>s&&(i=s),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ct.NORMAL,o.autoResize=a,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,yi(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(_i),i6=function(){function t(e,r,n){this.geometry=new o0,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||It.FLOAT,offset:a.offset},r[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new si(Kz(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new si(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new si(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===It.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===It.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(e,r,n,a.type===It.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(e,r,n,a.type===It.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),A6e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,I6e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,tW=function(t){eW(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new ln,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:It.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=ml.from(I6e,A6e,{}),n.state=Yu.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,a=r._batchSize,o=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var c=r._buffers;c||(c=r._buffers=this.generateBuffers(r));var l=n[0]._texture.baseTexture;this.state.blendMode=Lk(r.blendMode,l.alphaMode),o.state.set(this.state);var u=o.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=qz(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<s;p+=a,d+=1){var g=s-p;g>a&&(g=a),d>=c.length&&c.push(this._generateOneMoreBuffer(r));var m=c[d];m.uploadDynamic(n,p,g);var v=r._bufferUpdateIDs[d]||0;h=h||m._updateID<v,h&&(m._updateID=r._updateID,m.uploadStatic(n,p,g)),o.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,g*6,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,a=r._batchSize,o=r._properties,s=0;s<i;s+=a)n.push(new i6(this.properties,o,a));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new i6(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,a,o,s){for(var c=0,l=0,u=0,f=0,h=0;h<i;++h){var p=r[n+h],d=p._texture,g=p.scale.x,m=p.scale.y,v=d.trim,_=d.orig;v?(l=v.x-p.anchor.x*_.width,c=l+v.width,f=v.y-p.anchor.y*_.height,u=f+v.height):(c=_.width*(1-p.anchor.x),l=_.width*-p.anchor.x,u=_.height*(1-p.anchor.y),f=_.height*-p.anchor.y),a[s]=l*g,a[s+1]=f*m,a[s+o]=c*g,a[s+o+1]=f*m,a[s+o*2]=c*g,a[s+o*2+1]=u*m,a[s+o*3]=l*g,a[s+o*3+1]=u*m,s+=o*4}},e.prototype.uploadPosition=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].position;a[s]=l.x,a[s+1]=l.y,a[s+o]=l.x,a[s+o+1]=l.y,a[s+o*2]=l.x,a[s+o*2+1]=l.y,a[s+o*3]=l.x,a[s+o*3+1]=l.y,s+=o*4}},e.prototype.uploadRotation=function(r,n,i,a,o,s){for(var c=0;c<i;c++){var l=r[n+c].rotation;a[s]=l,a[s+o]=l,a[s+o*2]=l,a[s+o*3]=l,s+=o*4}},e.prototype.uploadUvs=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c]._texture._uvs;l?(a[s]=l.x0,a[s+1]=l.y0,a[s+o]=l.x1,a[s+o+1]=l.y1,a[s+o*2]=l.x2,a[s+o*2+1]=l.y2,a[s+o*3]=l.x3,a[s+o*3+1]=l.y3,s+=o*4):(a[s]=0,a[s+1]=0,a[s+o]=0,a[s+o+1]=0,a[s+o*2]=0,a[s+o*2+1]=0,a[s+o*3]=0,a[s+o*3+1]=0,s+=o*4)}},e.prototype.uploadTint=function(r,n,i,a,o,s){for(var c=0;c<i;++c){var l=r[n+c],u=l._texture.baseTexture.alphaMode>0,f=l.alpha,h=f<1&&u?Eb(l._tintRGB,f):l._tintRGB+(f*255<<24);a[s]=h,a[s+o]=h,a[s+o*2]=h,a[s+o*3]=h,s+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Cg);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dl;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(dl||(dl={}));var pl;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(pl||(pl={}));var bd={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},d3=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Ot.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ot.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cI=function(t,e){return cI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cI(t,e)};function p3(t,e){cI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function a6(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var a=0,o=0,s=t[i-2],c=t[i-1];o<i;o+=2){var l=t[o],u=t[o+1];a+=(l-s)*(u+c),s=l,c=u}if(!e&&a>0||e&&a<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,p=i-o-1,d=o,g=o+1;r=[t[d],t[h]],t[h]=r[0],t[d]=r[1],n=[t[g],t[p]],t[p]=n[0],t[g]=n[1]}}}var v3={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,a=e.indices;if(r.length>=6){a6(r,!1);for(var o=[],s=0;s<n.length;s++){var c=n[s];a6(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}var l=Ck(r,o,2);if(!l)return;for(var u=i.length/2,s=0;s<l.length;s+=3)a.push(l[s]+u),a.push(l[s+1]+u),a.push(l[s+2]+u);for(var s=0;s<r.length;s++)i.push(r[s])}}},Bv={build:function(t){var e=t.points,r,n,i,a,o,s;if(t.type===mn.CIRC){var c=t.shape;r=c.x,n=c.y,o=s=c.radius,i=a=0}else if(t.type===mn.ELIP){var l=t.shape;r=l.x,n=l.y,o=l.width,s=l.height,i=a=0}else{var u=t.shape,f=u.width/2,h=u.height/2;r=u.x+f,n=u.y+h,o=s=Math.max(0,Math.min(u.radius,Math.min(f,h))),i=f-o,a=h-s}if(!(o>=0&&s>=0&&i>=0&&a>=0)){e.length=0;return}var p=Math.ceil(2.3*Math.sqrt(o+s)),d=p*8+(i?4:0)+(a?4:0);if(e.length=d,d!==0){if(p===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+a,e[2]=e[4]=r-i,e[5]=e[7]=n-a;return}var g=0,m=p*4+(i?2:0)+2,v=m,_=d;{var y=i+o,b=a,w=r+y,E=r-y,C=n+b;if(e[g++]=w,e[g++]=C,e[--m]=C,e[--m]=E,a){var T=n-b;e[v++]=E,e[v++]=T,e[--_]=T,e[--_]=w}}for(var A=1;A<p;A++){var R=Math.PI/2*(A/p),y=i+Math.cos(R)*o,b=a+Math.sin(R)*s,w=r+y,E=r-y,C=n+b,T=n-b;e[g++]=w,e[g++]=C,e[--m]=C,e[--m]=E,e[v++]=E,e[v++]=T,e[--_]=T,e[--_]=w}{var y=i,b=a+s,w=r+y,E=r-y,C=n+b,T=n-b;e[g++]=w,e[g++]=C,e[--_]=T,e[--_]=w,i&&(e[g++]=E,e[g++]=C,e[--_]=T,e[--_]=E)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=a,s,c;if(t.type!==mn.RREC){var l=t.shape;s=l.x,c=l.y}else{var u=t.shape;s=u.x+u.width/2,c=u.y+u.height/2}var f=t.matrix;n.push(t.matrix?f.a*s+f.c*c+f.tx:s,t.matrix?f.b*s+f.d*c+f.ty:c),a++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(a++,o,a);i.push(o+1,o,a)}},rW={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+a,r,n+a)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function ah(t,e,r){var n=e-t;return t+n*r}function w_(t,e,r,n,i,a,o){o===void 0&&(o=[]);for(var s=20,c=o,l=0,u=0,f=0,h=0,p=0,d=0,g=0,m=0;g<=s;++g)m=g/s,l=ah(t,r,m),u=ah(e,n,m),f=ah(r,i,m),h=ah(n,a,m),p=ah(l,f,m),d=ah(u,h,m),!(g===0&&c[c.length-2]===p&&c[c.length-1]===d)&&c.push(p,d);return c}var nW={build:function(t){if(wd.nextRoundedRectBehavior){Bv.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));r.length=0,s?(w_(n,i+s,n,i,n+s,i,r),w_(n+a-s,i,n+a,i,n+a,i+s,r),w_(n+a,i+o-s,n+a,i+o,n+a-s,i+o,r),w_(n+s,i+o,n,i+o,n,i+o-s,r)):r.push(n,i,n+a,i,n+a,i+o,n,i+o)},triangulate:function(t,e){if(wd.nextRoundedRectBehavior){Bv.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,a=n.length/2,o=Ck(r,null,2),s=0,c=o.length;s<c;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(var s=0,c=r.length;s<c;s++)n.push(r[s],r[++s])}};function o6(t,e,r,n,i,a,o,s){var c=t-r*i,l=e-n*i,u=t+r*a,f=e+n*a,h,p;o?(h=n,p=-r):(h=-n,p=r);var d=c+h,g=l+p,m=u+h,v=f+p;return s.push(d,g),s.push(m,v),2}function oh(t,e,r,n,i,a,o,s){var c=r-t,l=n-e,u=Math.atan2(c,l),f=Math.atan2(i-t,a-e);s&&u<f?u+=Math.PI*2:!s&&u>f&&(f+=Math.PI*2);var h=u,p=f-u,d=Math.abs(p),g=Math.sqrt(c*c+l*l),m=(15*d*Math.sqrt(g)/Math.PI>>0)+1,v=p/m;if(h+=v,s){o.push(t,e),o.push(r,n);for(var _=1,y=h;_<m;_++,y+=v)o.push(t,e),o.push(t+Math.sin(y)*g,e+Math.cos(y)*g);o.push(t,e),o.push(i,a)}else{o.push(r,n),o.push(t,e);for(var _=1,y=h;_<m;_++,y+=v)o.push(t+Math.sin(y)*g,e+Math.cos(y)*g),o.push(t,e);o.push(i,a),o.push(t,e)}return m*2}function R6e(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var a=t.lineStyle,o=new vr(n[0],n[1]),s=new vr(n[n.length-2],n[n.length-1]),c=r.type!==mn.POLY||r.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(c){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var u=(o.x+s.x)*.5,f=(s.y+o.y)*.5;n.unshift(u,f),n.push(u,f)}var h=e.points,p=n.length/2,d=n.length,g=h.length/2,m=a.width/2,v=m*m,_=a.miterLimit*a.miterLimit,y=n[0],b=n[1],w=n[2],E=n[3],C=0,T=0,A=-(b-E),R=y-w,O=0,P=0,k=Math.sqrt(A*A+R*R);A/=k,R/=k,A*=m,R*=m;var M=a.alignment,B=(1-M)*2,D=M*2;c||(a.cap===pl.ROUND?d+=oh(y-A*(B-D)*.5,b-R*(B-D)*.5,y-A*B,b-R*B,y+A*D,b+R*D,h,!0)+2:a.cap===pl.SQUARE&&(d+=o6(y,b,A,R,B,D,!0,h))),h.push(y-A*B,b-R*B),h.push(y+A*D,b+R*D);for(var H=1;H<p-1;++H){y=n[(H-1)*2],b=n[(H-1)*2+1],w=n[H*2],E=n[H*2+1],C=n[(H+1)*2],T=n[(H+1)*2+1],A=-(b-E),R=y-w,k=Math.sqrt(A*A+R*R),A/=k,R/=k,A*=m,R*=m,O=-(E-T),P=w-C,k=Math.sqrt(O*O+P*P),O/=k,P/=k,O*=m,P*=m;var ee=w-y,ne=b-E,Y=w-C,U=T-E,X=ne*Y-U*ee,V=X<0;if(Math.abs(X)<.1){h.push(w-A*B,E-R*B),h.push(w+A*D,E+R*D);continue}var G=(-A+y)*(-R+E)-(-A+w)*(-R+b),te=(-O+C)*(-P+E)-(-O+w)*(-P+T),oe=(ee*te-Y*G)/X,ge=(U*G-ne*te)/X,le=(oe-w)*(oe-w)+(ge-E)*(ge-E),ye=w+(oe-w)*B,Le=E+(ge-E)*B,ke=w-(oe-w)*D,Ee=E-(ge-E)*D,Se=Math.min(ee*ee+ne*ne,Y*Y+U*U),De=V?B:D,We=Se+De*De*v,Ve=le<=We;Ve?a.join===dl.BEVEL||le/v>_?(V?(h.push(ye,Le),h.push(w+A*D,E+R*D),h.push(ye,Le),h.push(w+O*D,E+P*D)):(h.push(w-A*B,E-R*B),h.push(ke,Ee),h.push(w-O*B,E-P*B),h.push(ke,Ee)),d+=2):a.join===dl.ROUND?V?(h.push(ye,Le),h.push(w+A*D,E+R*D),d+=oh(w,E,w+A*D,E+R*D,w+O*D,E+P*D,h,!0)+4,h.push(ye,Le),h.push(w+O*D,E+P*D)):(h.push(w-A*B,E-R*B),h.push(ke,Ee),d+=oh(w,E,w-A*B,E-R*B,w-O*B,E-P*B,h,!1)+4,h.push(w-O*B,E-P*B),h.push(ke,Ee)):(h.push(ye,Le),h.push(ke,Ee)):(h.push(w-A*B,E-R*B),h.push(w+A*D,E+R*D),a.join===dl.ROUND?V?d+=oh(w,E,w+A*D,E+R*D,w+O*D,E+P*D,h,!0)+2:d+=oh(w,E,w-A*B,E-R*B,w-O*B,E-P*B,h,!1)+2:a.join===dl.MITER&&le/v<=_&&(V?(h.push(ke,Ee),h.push(ke,Ee)):(h.push(ye,Le),h.push(ye,Le)),d+=2),h.push(w-O*B,E-P*B),h.push(w+O*D,E+P*D),d+=2)}y=n[(p-2)*2],b=n[(p-2)*2+1],w=n[(p-1)*2],E=n[(p-1)*2+1],A=-(b-E),R=y-w,k=Math.sqrt(A*A+R*R),A/=k,R/=k,A*=m,R*=m,h.push(w-A*B,E-R*B),h.push(w+A*D,E+R*D),c||(a.cap===pl.ROUND?d+=oh(w-A*(B-D)*.5,E-R*(B-D)*.5,w-A*B,E-R*B,w+A*D,E+R*D,h,!1)+2:a.cap===pl.SQUARE&&(d+=o6(w,E,A,R,B,D,!1,h)));for(var He=e.indices,qe=bd.epsilon*bd.epsilon,H=g;H<d+g-2;++H)y=h[H*2],b=h[H*2+1],w=h[(H+1)*2],E=h[(H+1)*2+1],C=h[(H+2)*2],T=h[(H+2)*2+1],!(Math.abs(y*(E-T)+w*(T-b)+C*(b-E))<qe)&&He.push(H,H+1,H+2)}}function P6e(t,e){var r=0,n=t.shape,i=t.points||n.points,a=n.type!==mn.POLY||n.closeStroke;if(i.length!==0){var o=e.points,s=e.indices,c=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),s.push(u,u+1),u++;a&&s.push(u,l)}}function fI(t,e){t.lineStyle.native?P6e(t,e):R6e(t,e)}var hI=function(){function t(){}return t.curveTo=function(e,r,n,i,a,o){var s=o[o.length-2],c=o[o.length-1],l=c-r,u=s-e,f=i-r,h=n-e,p=Math.abs(l*h-u*f);if(p<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var d=l*l+u*u,g=f*f+h*h,m=l*f+u*h,v=a*Math.sqrt(d)/p,_=a*Math.sqrt(g)/p,y=v*m/d,b=_*m/g,w=v*h+_*u,E=v*f+_*l,C=u*(_+y),T=l*(_+y),A=h*(v+b),R=f*(v+b),O=Math.atan2(T-E,C-w),P=Math.atan2(R-E,A-w);return{cx:w+e,cy:E+r,radius:a,startAngle:O,endAngle:P,anticlockwise:u*f>h*l}},t.arc=function(e,r,n,i,a,o,s,c,l){for(var u=s-o,f=bd._segmentsCount(Math.abs(u)*a,Math.ceil(Math.abs(u)/kv)*40),h=u/(f*2),p=h*2,d=Math.cos(h),g=Math.sin(h),m=f-1,v=m%1/m,_=0;_<=m;++_){var y=_+v*_,b=h+o+p*y,w=Math.cos(b),E=-Math.sin(b);l.push((d*w+g*E)*a+n,(d*-E+g*w)*a+i)}},t}(),iW=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o,s,c){for(var l=10,u=0,f=0,h=0,p=0,d=0,g=0,m=0,v=0,_=0,y=0,b=0,w=e,E=r,C=1;C<=l;++C)f=C/l,h=f*f,p=h*f,d=1-f,g=d*d,m=g*d,v=m*e+3*g*f*n+3*d*h*a+p*s,_=m*r+3*g*f*i+3*d*h*o+p*c,y=w-v,b=E-_,w=v,E=_,u+=Math.sqrt(y*y+b*b);return u},t.curveTo=function(e,r,n,i,a,o,s){var c=s[s.length-2],l=s[s.length-1];s.length-=2;var u=bd._segmentsCount(t.curveLength(c,l,e,r,n,i,a,o)),f=0,h=0,p=0,d=0,g=0;s.push(c,l);for(var m=1,v=0;m<=u;++m)v=m/u,f=1-v,h=f*f,p=h*f,d=v*v,g=d*v,s.push(p*c+3*h*v*e+3*f*d*n+g*a,p*l+3*h*v*r+3*f*d*i+g*o)},t}(),aW=function(){function t(){}return t.curveLength=function(e,r,n,i,a,o){var s=e-2*n+a,c=r-2*i+o,l=2*n-2*e,u=2*i-2*r,f=4*(s*s+c*c),h=4*(s*l+c*u),p=l*l+u*u,d=2*Math.sqrt(f+h+p),g=Math.sqrt(f),m=2*f*g,v=2*Math.sqrt(p),_=h/g;return(m*d+g*h*(d-v)+(4*p*f-h*h)*Math.log((2*g+_+d)/(_+v)))/(4*m)},t.curveTo=function(e,r,n,i,a){for(var o=a[a.length-2],s=a[a.length-1],c=bd._segmentsCount(t.curveLength(o,s,e,r,n,i)),l=0,u=0,f=1;f<=c;++f){var h=f/c;l=o+(e-o)*h,u=s+(r-s)*h,a.push(l+(e+(n-e)*h-l)*h,u+(r+(i-r)*h-u)*h)}},t}(),oW=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),fc,vy=(fc={},fc[mn.POLY]=v3,fc[mn.CIRC]=Bv,fc[mn.ELIP]=Bv,fc[mn.RECT]=rW,fc[mn.RREC]=nW,fc),dI=[],yp=[],pI=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),sh=new vr,O6e=new xd,sW=function(t){p3(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new xd,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),yp.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),dI.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var o=new pI(r,n,i,a);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new pI(r,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(r,sh):sh.copyFrom(r),a.shape.contains(sh.x,sh.y))){var o=!1;if(a.holes)for(var s=0;s<a.holes.length;s++){var c=a.holes[s];if(c.shape.contains(sh.x,sh.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,o=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],o=a.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var c=i[s],l=c.fillStyle,u=c.lineStyle,f=vy[c.type];f.build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(l.visible||u.visible)&&this.processHoles(c.holes);for(var h=0;h<2;h++){var p=h===0?l:u;if(p.visible){var d=p.texture.baseTexture,g=this.indices.length,m=this.points.length/2;d.wrapMode=Ps.REPEAT,h===0?this.processFill(c):this.processLine(c);var v=this.points.length/2-m;v!==0&&(a&&!this._compareStyles(o,p)&&(a.end(g,m),a=null),a||(a=dI.pop()||new oW,a.begin(p,g,m),this.batches.push(a),o=p),this.addUvs(this.points,n,p.texture,m,v,p.matrix))}}}var _=this.indices.length,y=this.points.length/2;if(a&&a.end(_,y),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=y>65535&&r;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],a=i.fillStyle,o=i.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var a=r[n],o=0;o<a.size;o++){var s=a.start+o;this.indicesUint16[s]=this.indicesUint16[s]-a.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++hr._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),yp.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,o=yp.pop();o||(o=new yx,o.texArray=new xx),o.texArray.count=0,o.start=0,o.size=0,o.type=Ka.TRIANGLES;var s=0,c=null,l=0,u=!1,f=Ka.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var p=this.batches[n],d=8,g=p.style,m=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,f=u?Ka.LINES:Ka.TRIANGLES,c=null,s=d,r++),c!==m&&(c=m,m._batchEnabled!==r&&(s===d&&(r++,s=0,o.size>0&&(o=yp.pop(),o||(o=new yx,o.texArray=new xx),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),m.touched=1,m._batchEnabled=r,m._batchLocation=s,m.wrapMode=Ps.REPEAT,o.texArray.elements[o.texArray.count++]=m,s++)),o.size+=p.size,h+=p.size,l=m._batchLocation,this.addColors(i,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(a,l,p.attribSize,p.attribStart)}hr._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,a=this.textureIds,o=new ArrayBuffer(r.length*3*4),s=new Float32Array(o),c=new Uint32Array(o),l=0,u=0;u<r.length/2;u++)s[l++]=r[u*2],s[l++]=r[u*2+1],s[l++]=n[u*2],s[l++]=n[u*2+1],c[l++]=i[u],s[l++]=a[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)v3.triangulate(r,this);else{var n=vy[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){fI(r,this);for(var n=0;n<r.holes.length;n++)fI(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],a=vy[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds,n=O6e,i=ln.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var o=this.graphicsData[a],s=o.shape,c=o.type,l=o.lineStyle,u=o.matrix||ln.IDENTITY,f=0;if(l&&l.visible&&(f=l.width,c!==mn.POLY||o.fillStyle.visible?f*=Math.max(0,l.alignment):f*=Math.max(l.alignment,1-l.alignment)),i!==u&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=u),c===mn.RECT||c===mn.RREC){var h=s;n.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,f,f)}else if(c===mn.CIRC){var p=s;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(c===mn.ELIP){var d=s;n.addFramePad(d.x,d.y,d.x,d.y,d.width+f,d.height+f)}else{var g=s;r.addVerticesMatrix(i,g.points,0,g.points.length,f,f)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var a=r[i*2],o=r[i*2+1];r[i*2]=n.a*a+n.c*o+n.tx,r[i*2+1]=n.b*a+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,a,o){o===void 0&&(o=0);var s=(n>>16)+(n&65280)+((n&255)<<16),c=Eb(s,i);r.length=Math.max(r.length,o+a);for(var l=0;l<a;l++)r[o+l]=c},e.prototype.addTextureIds=function(r,n,i,a){a===void 0&&(a=0),r.length=Math.max(r.length,a+i);for(var o=0;o<i;o++)r[a+o]=n},e.prototype.addUvs=function(r,n,i,a,o,s){s===void 0&&(s=null);for(var c=0,l=n.length,u=i.frame;c<o;){var f=r[(a+c)*2],h=r[(a+c)*2+1];if(s){var p=s.a*f+s.c*h+s.tx;h=s.b*f+s.d*h+s.ty,f=p}c++,n.push(f/u.width,h/u.height)}var d=i.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(n,i,l,o)},e.prototype.adjustUvs=function(r,n,i,a){for(var o=n.baseTexture,s=1e-6,c=i+a*2,l=n.frame,u=l.width/o.width,f=l.height/o.height,h=l.x/l.width,p=l.y/l.height,d=Math.floor(r[i]+s),g=Math.floor(r[i+1]+s),m=i+2;m<c;m+=2)d=Math.min(d,Math.floor(r[m]+s)),g=Math.min(g,Math.floor(r[m+1]+s));h-=d,p-=g;for(var m=i;m<c;m+=2)r[m]=(r[m]+h)*u,r[m+1]=(r[m+1]+p)*f},e.BATCHABLE_SIZE=100,e}(c3),lW=function(t){p3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=pl.BUTT,r.join=dl.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(d3),k6e=new Float32Array(3),xC={},wd=function(t){p3(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new d3,n._lineStyle=new lW,n._matrix=null,n._holeMode=!1,n.state=Yu.for2d(),n._geometry=r||new sW,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ct.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,a,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:a,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Ot.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:pl.BUTT,join:dl.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new nd,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new nd,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],o=i[i.length-1];return(a!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,a){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),aW.curveTo(r,n,i,a,o),this},e.prototype.bezierCurveTo=function(r,n,i,a,o,s){return this._initCurve(),iW.curveTo(r,n,i,a,o,s,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,a,o){this._initCurve(r,n);var s=this.currentPath.points,c=hI.curveTo(r,n,i,a,o,s);if(c){var l=c.cx,u=c.cy,f=c.radius,h=c.startAngle,p=c.endAngle,d=c.anticlockwise;this.arc(l,u,f,h,p,d)}return this},e.prototype.arc=function(r,n,i,a,o,s){if(s===void 0&&(s=!1),a===o)return this;!s&&o<=a?o+=kv:s&&a<=o&&(a+=kv);var c=o-a;if(c===0)return this;var l=r+Math.cos(a)*i,u=n+Math.sin(a)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var p=Math.abs(h[h.length-2]-l),d=Math.abs(h[h.length-1]-u);p<f&&d<f||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.points;return hI.arc(l,u,r,n,i,a,o,s,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Ot.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:Ot.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,a){return this.drawShape(new rr(r,n,i,a))},e.prototype.drawRoundedRect=function(r,n,i,a,o){return this.drawShape(new nX(r,n,i,a,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new tX(r,n,i))},e.prototype.drawEllipse=function(r,n,i,a){return this.drawShape(new rX(r,n,i,a))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var a,o=!0,s=n[0];s.points?(o=s.closeStroke,a=s.points):Array.isArray(n[0])?a=n[0]:a=n;var c=new nd(a);return c.closeStroke=o,this.drawShape(c),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===mn.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var a=0;a<i;a++){var o=r.batches[a],s=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),l=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),u=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:c,blendMode:n,indices:u,uvs:l,_batchRGB:yi(s),_tintRGB:s,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,r.plugins[this.pluginName].render(a)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,a=this.tint,o=this.worldAlpha,s=n.uniforms,c=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(a>>16&255)/255*o,s.tint[1]=(a>>8&255)/255*o,s.tint[2]=(a&255)/255*o,s.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var l=0,u=c.length;l<u;l++)this._renderDrawCallDirect(r,i.drawCalls[l])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,a=n.type,o=n.size,s=n.start,c=i.count,l=0;l<c;l++)r.texture.bind(i.elements[l],l);r.geometry.draw(a,o,s)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!xC[i]){for(var a=r.plugins[i].MAX_TEXTURES,o=new Int32Array(a),s=0;s<a;s++)o[s]=s;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new ln,default:Eu.from({uSamplers:o},!0)},l=r.plugins[i]._shader.program;xC[i]=new ml(l,c)}n=xC[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,a=n.minY,o=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,a,o,s)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=yi(this.tint,k6e),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,o=r[0]*a[0]*255,s=r[1]*a[1]*255,c=r[2]*a[2]*255,l=(o<<16)+(s<<8)+(c|0);i._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this._geometry.points,f=this.vertexData,h=0,p=0;p<u.length;p+=2){var d=u[p],g=u[p+1];f[h++]=i*d+o*g+c,f[h++]=s*g+a*d+l}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new vr,e}(_i),F6e={buildPoly:v3,buildCircle:Bv,buildRectangle:rW,buildRoundedRectangle:nW,buildLine:fI,ArcUtils:hI,BezierUtils:iW,QuadraticUtils:aW,BatchPart:oW,FILL_COMMANDS:vy,BATCH_POOL:dI,DRAW_CALL_POOL:yp};/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vI=function(t,e){return vI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vI(t,e)};function N6e(t,e){vI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var np=new vr,M6e=new Uint16Array([0,1,2,0,2,3]),qa=function(t){N6e(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new su(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ct.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Ot.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=M6e,n.pluginName="batch",n.isSprite=!0,n._roundPixels=xt.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=jc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=jc(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,o=n.c,s=n.d,c=n.tx,l=n.ty,u=this.vertexData,f=r.trim,h=r.orig,p=this._anchor,d=0,g=0,m=0,v=0;if(f?(g=f.x-p._x*h.width,d=g+f.width,v=f.y-p._y*h.height,m=v+f.height):(g=-p._x*h.width,d=g+h.width,v=-p._y*h.height,m=v+h.height),u[0]=i*g+o*v+c,u[1]=s*v+a*g+l,u[2]=i*d+o*v+c,u[3]=s*v+a*d+l,u[4]=i*d+o*m+c,u[5]=s*m+a*d+l,u[6]=i*g+o*m+c,u[7]=s*m+a*g+l,this._roundPixels)for(var _=xt.RESOLUTION,y=0;y<u.length;++y)u[y]=Math.round((u[y]*_|0)/_)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,a=this._anchor,o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=-a._x*i.width,d=p+i.width,g=-a._y*i.height,m=g+i.height;n[0]=s*p+l*g+f,n[1]=u*g+c*p+h,n[2]=s*d+l*g+f,n[3]=u*g+c*d+h,n[4]=s*d+l*m+f,n[5]=u*m+c*d+h,n[6]=s*p+l*m+f,n[7]=u*m+c*p+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new xd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new rr),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,np);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,o=0;return np.x>=a&&np.x<a+n&&(o=-i*this.anchor.y,np.y>=o&&np.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof Ot?r:Ot.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=jc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=jc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Ot.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(_i);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gI=function(t,e){return gI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gI(t,e)};function L6e(t,e){gI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ed;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Ed||(Ed={}));var bC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ed.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},B6e=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],df=function(){function t(e){this.styleID=0,this.reset(),EC(this,e,e)}return t.prototype.clone=function(){var e={};return EC(e,this,bC),new t(e)},t.prototype.reset=function(){EC(this,bC,bC)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=wC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=wC(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){D6e(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=wC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&B6e.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function s6(t){return typeof t=="number"?Fk(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function wC(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=s6(t[e]);return t}else return s6(t)}function D6e(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function EC(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var os=function(){function t(e,r,n,i,a,o,s,c,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=c,this.fontProperties=l}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var a=r.toFontString(),o=t.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var s=i.getContext("2d");s.font=a;for(var c=n?t.wordWrap(e,r,i):e,l=c.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),f=0,h=0;h<l.length;h++){var p=s.measureText(l[h]).width+(l[h].length-1)*r.letterSpacing;u[h]=p,f=Math.max(f,p)}var d=f+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var g=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(g,o.fontSize+r.strokeThickness)+(l.length-1)*(g+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,d,m,l,u,g+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,o="",s="",c=Object.create(null),l=r.letterSpacing,u=r.whiteSpace,f=t.collapseSpaces(u),h=t.collapseNewlines(u),p=!f,d=r.wordWrapWidth+l,g=t.tokenize(e),m=0;m<g.length;m++){var v=g[m];if(t.isNewline(v)){if(!h){s+=t.addLine(o),p=!f,o="",a=0;continue}v=" "}if(f){var _=t.isBreakingSpace(v),y=t.isBreakingSpace(o[o.length-1]);if(_&&y)continue}var b=t.getFromCache(v,l,c,i);if(b>d)if(o!==""&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(v,r.breakWords))for(var w=t.wordWrapSplit(v),E=0;E<w.length;E++){for(var C=w[E],T=1;w[E+T];){var A=w[E+T],R=C[C.length-1];if(!t.canBreakChars(R,A,v,E,r.breakWords))C+=A;else break;T++}E+=C.length-1;var O=t.getFromCache(C,l,c,i);O+a>d&&(s+=t.addLine(o),p=!1,o="",a=0),o+=C,a+=O}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var P=m===g.length-1;s+=t.addLine(v,!P),p=!1,o="",a=0}else b+a>d&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(v)||p)&&(o+=v,a+=b)}return s+=t.addLine(o,!1),s},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var a=n[e];if(typeof a!="number"){var o=e.length*r;a=i.measureText(e).width+o,n[e]=a}return a},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];if(t.isBreakingSpace(a,o)||t.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,a){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),c=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,c).data,u=l.length,f=o*4,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var g=0;g<f;g+=4)if(l[p+g]!==255){d=!0;break}if(!d)p+=f;else break}for(r.ascent=s-h,p=u-f,d=!1,h=c;h>s;--h){for(var g=0;g<f;g+=4)if(l[p+g]!==255){d=!0;break}if(!d)p-=f;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d");if(n&&n.measureText)return t.__canvas=r,r;e=document.createElement("canvas")}catch{e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();os._fonts={};os.METRICS_STRING="|q";os.BASELINE_SYMBOL="M";os.BASELINE_MULTIPLIER=1.4;os.HEIGHT_MULTIPLIER=2;os._newlines=[10,13];os._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var U6e={texture:!0,children:!1,baseTexture:!0},g3=function(t){L6e(e,t);function e(r,n,i){var a=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Ot.from(i);return s.orig=new rr,s.trim=new rr,a=t.call(this,s)||this,a._ownCanvas=o,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=xt.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=r,a.style=n,a.localStyleID=-1,a}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,a=os.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,c=a.lines,l=a.lineHeight,u=a.lineWidths,f=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var p,d,g=n.dropShadow?2:1,m=0;m<g;++m){var v=n.dropShadow&&m===0,_=v?Math.ceil(Math.max(1,s)+n.padding*2):0,y=_*this._resolution;if(v){i.fillStyle="black",i.strokeStyle="black";var b=n.dropShadowColor,w=yi(typeof b=="number"?b:Nk(b)),E=n.dropShadowBlur*this._resolution,C=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+w[0]*255+","+w[1]*255+","+w[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*C,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*C+y}else i.fillStyle=this._generateFillStyle(n,c,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var T=(l-h.fontSize)/2;(!e.nextLineHeightBehavior||l-h.fontSize<0)&&(T=0);for(var A=0;A<c.length;A++)p=n.strokeThickness/2,d=n.strokeThickness/2+A*l+h.ascent+T,n.align==="right"?p+=f-u[A]:n.align==="center"&&(p+=(f-u[A])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[A],p+n.padding,d+n.padding-_,!0),n.fill&&this.drawLetterSpacing(c[A],p+n.padding,d+n.padding-_)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,a){a===void 0&&(a=!1);var o=this._style,s=o.letterSpacing,c=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||c){c&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),a?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var l=n,u=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,p=0;p<u.length;++p){var d=u[p];a?this.context.strokeText(d,l,i):this.context.fillText(d,l,i);for(var g="",m=p+1;m<u.length;++m)g+=u[m];h=this.context.measureText(g).width,l+=f-h+s,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=Jz(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,o=a.trim?0:a.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,s=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=this.canvas.width/this._resolution-s-c*2,u=this.canvas.height/this._resolution-s-c*2,f=a.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var p=f.length+1,d=1;d<p;++d)h.push(d/p);if(f.unshift(a[0]),h.unshift(0),f.push(a[a.length-1]),h.push(1),r.fillGradientType===Ed.LINEAR_VERTICAL){o=this.context.createLinearGradient(l/2,c,l/2,u+c);for(var g=i.fontProperties.fontSize+r.strokeThickness,d=0;d<n.length;d++){var m=i.lineHeight*(d-1)+g,v=i.lineHeight*d,_=v;d>0&&m>v&&(_=(v+m)/2);var y=v+g,b=i.lineHeight*(d+1),w=y;d+1<n.length&&b<y&&(w=(y+b)/2);for(var E=(w-_)/u,C=0;C<f.length;C++){var T=0;typeof h[C]=="number"?T=h[C]:T=C/f.length;var A=Math.min(1,Math.max(0,_/u+T*E));A=Number(A.toFixed(5)),o.addColorStop(A,f[C])}}}else{o=this.context.createLinearGradient(c,u/2,l+c,u/2);for(var R=f.length+1,O=1,d=0;d<f.length;d++){var P=void 0;typeof h[d]=="number"?P=h[d]:P=O/R,o.addColorStop(P,f[d]),O++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},U6e,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=jc(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=jc(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof df?this._style=r:this._style=new df(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(qa);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */xt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mI=function(t,e){return mI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mI(t,e)};function j6e(t,e){mI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uW=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function $6e(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Ot){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function G6e(t,e){if(t.baseTexture instanceof hr){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function V6e(t,e){if(t._texture&&t._texture instanceof Ot){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function H6e(t,e){return e instanceof g3?(e.updateText(!0),!0):!1}function z6e(t,e){if(e instanceof df){var r=e.toFontString();return os.measureFont(r),!0}return!1}function X6e(t,e){if(t instanceof g3){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function W6e(t,e){return t instanceof df?(e.indexOf(t)===-1&&e.push(t),!0):!1}var cW=function(){function t(e){var r=this;this.limiter=new uW(xt.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(X6e),this.registerFindHook(W6e),this.registerFindHook($6e),this.registerFindHook(G6e),this.registerFindHook(V6e),this.registerUploadHook(H6e),this.registerUploadHook(z6e)}return t.prototype.upload=function(e,r){typeof e=="function"&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,An.system.addOnce(this.tick,this,ts.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)An.system.addOnce(this.tick,this,ts.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof _i)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&An.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function fW(t,e){return e instanceof hr?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Y6e(t,e){if(!(e instanceof wd))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&fW(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function q6e(t,e){return t instanceof wd?(e.push(t),!0):!1}var hW=function(t){j6e(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(q6e),n.registerUploadHook(fW),n.registerUploadHook(Y6e),n}return e}(cW),K6e=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dW=function(){function t(e,r,n){n===void 0&&(n=null),this._texture=e instanceof Ot?e:null,this.baseTexture=e instanceof hr?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Ov(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i],o=a.frame;if(o){var s=null,c=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,u=new rr(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new rr(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new rr(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new rr(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Ot(this.baseTexture,s,u,c,a.rotated?2:0,a.anchor),Ot.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),pW=function(){function t(){}return t.use=function(e,r){var n,i,a=this,o=e.name+"_image";if(!e.data||e.type!==Ur.TYPE.JSON||!e.data.frames||a.resources[o]){r();return}var s=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var c=function(d){if(typeof d!="string")return"continue";var g=d.replace(".json",""),m=Uc.resolve(e.url.replace(a.baseUrl,""),d);if(a.resources[g]||Object.values(a.resources).some(function(_){return Uc.format(Uc.parse(_.url))===m}))return"continue";var v={crossOrigin:e.crossOrigin,loadType:Ur.LOAD_TYPE.XHR,xhrType:Ur.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(g,m,v)},l=0,u=s;l<u.length;l++){var f=u[l];c(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,h,function(g){if(g.error){r(g.error);return}var m=new dW(g.texture,e.data,e.url);m.parse(function(){e.spritesheet=m,e.textures=m.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Uc.resolve(e.url.replace(r,""),e.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _I=function(t,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_I(t,e)};function vW(t,e){_I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ip=new vr,Z6e=function(t){vW(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,r)||this;return a.tileTransform=new Sg,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new Rb(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,a)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new rr),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,ip);var n=this._width,i=this._height,a=-n*this.anchor._x;if(ip.x>=a&&ip.x<a+n){var o=-i*this.anchor._y;if(ip.y>=o&&ip.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof Ot?r:Ot.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(qa),J6e=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,l6=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Q6e=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,eje=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,tje=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,E_=new ln,gW=function(t){vW(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new Yk,n.state=Yu.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=ml.from(l6,J6e,n),this.shader=r.context.webGLVersion>1?ml.from(eje,tje,n):ml.from(l6,Q6e,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;a=i.uvs,a[0]=a[6]=-o,a[1]=a[3]=-s,a[2]=a[4]=1-o,a[5]=a[7]=1-s,i.invalidate();var c=r._texture,l=c.baseTexture,u=r.tileTransform.localTransform,f=r.uvMatrix,h=l.isPowerOfTwo&&c.frame.width===l.width&&c.frame.height===l.height;h&&(l._glTextures[n.CONTEXT_UID]?h=l.wrapMode!==Ps.CLAMP:l.wrapMode===Ps.CLAMP&&(l.wrapMode=Ps.REPEAT));var p=h?this.simpleShader:this.shader,d=c.width,g=c.height,m=r._width,v=r._height;E_.set(u.a*d/m,u.b*d/v,u.c*g/m,u.d*g/v,u.tx/m,u.ty/v),E_.invert(),h?E_.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=E_.toArray(!0),p.uniforms.uColor=Bk(r.tint,r.worldAlpha,p.uniforms.uColor,l.alphaMode),p.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),p.uniforms.uSampler=c,n.shader.bind(p),n.geometry.bind(i),this.state.blendMode=Lk(r.blendMode,l.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Cg);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yI=function(t,e){return yI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},yI(t,e)};function m3(t,e){yI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mW=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),SC=new vr,u6=new nd,Sd=function(t){m3(e,t);function e(r,n,i,a){a===void 0&&(a=Ka.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Yu.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=xt.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ka.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[a]),r.plugins[a].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,s=o.a,c=o.b,l=o.c,u=o.d,f=o.tx,h=o.ty,p=this.vertexData,d=0;d<p.length/2;d++){var g=i[d*2],m=i[d*2+1];p[d*2]=s*g+l*m+f,p[d*2+1]=c*g+u*m+h}if(this._roundPixels)for(var v=xt.RESOLUTION,d=0;d<p.length;++d)p[d]=Math.round((p[d]*v|0)/v);this.vertexDirty=a}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new mW(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,SC);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=u6.points,a=this.geometry.getIndex().data,o=a.length,s=this.drawMode===4?3:1,c=0;c+2<o;c+=s){var l=a[c]*2,u=a[c+1]*2,f=a[c+2]*2;if(i[0]=n[l],i[1]=n[l+1],i[2]=n[u],i[3]=n[u+1],i[4]=n[f],i[5]=n[f+1],u6.contains(SC.x,SC.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(_i),rje=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,nje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Cd=function(t){m3(e,t);function e(r,n){var i=this,a={uSampler:r,alpha:1,uTextureMatrix:ln.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||s0.from(nje,rje),a)||this,i._colorDirty=!1,i.uvMatrix=new Rb(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;Bk(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(ml),Ag=function(t){m3(e,t);function e(r,n,i){var a=t.call(this)||this,o=new si(r),s=new si(n,!0),c=new si(i,!0,!0);return a.addAttribute("aVertexPosition",o,2,!1,It.FLOAT).addAttribute("aTextureCoord",s,2,!1,It.FLOAT).addIndex(c),a._updateId=-1,a}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(o0);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xI=function(t,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xI(t,e)};function ije(t,e){xI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dv=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),aje=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var a=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var c in o){var l=o[c].split("="),u=l[0],f=l[1].replace(/"/gm,""),h=parseFloat(f),p=isNaN(h)?f:h;s[u]=p}n[a].push(s)}var d=new Dv;return n.info.forEach(function(g){return d.info.push({face:g.face,size:parseInt(g.size,10)})}),n.common.forEach(function(g){return d.common.push({lineHeight:parseInt(g.lineHeight,10)})}),n.page.forEach(function(g){return d.page.push({id:parseInt(g.id,10),file:g.file})}),n.char.forEach(function(g){return d.char.push({id:parseInt(g.id,10),page:parseInt(g.page,10),x:parseInt(g.x,10),y:parseInt(g.y,10),width:parseInt(g.width,10),height:parseInt(g.height,10),xoffset:parseInt(g.xoffset,10),yoffset:parseInt(g.yoffset,10),xadvance:parseInt(g.xadvance,10)})}),n.kerning.forEach(function(g){return d.kerning.push({first:parseInt(g.first,10),second:parseInt(g.second,10),amount:parseInt(g.amount,10)})}),n.distanceField.forEach(function(g){return d.distanceField.push({distanceRange:parseInt(g.distanceRange,10),fieldType:g.fieldType})}),d},t}(),bI=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Dv,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField"),l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(var l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(var l=0;l<a.length;l++)r.page.push({id:parseInt(a[l].getAttribute("id"),10)||0,file:a[l].getAttribute("file")});for(var l=0;l<o.length;l++){var u=o[l];r.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var l=0;l<s.length;l++)r.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(var l=0;l<c.length;l++)r.distanceField.push({fieldType:c[l].getAttribute("fieldType"),distanceRange:parseInt(c[l].getAttribute("distanceRange"),10)});return r},t}(),oje=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return bI.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return bI.parse(r)},t}(),CC=[aje,bI,oje];function _W(t){for(var e=0;e<CC.length;e++)if(CC[e].test(t))return CC[e];return null}function sje(t,e,r,n,i,a){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var s,c=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=t.width/n-c-l*2,f=t.height/n-c-l*2,h=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,g=1;g<d;++g)p.push(g/d);if(h.unshift(o[0]),p.unshift(0),h.push(o[o.length-1]),p.push(1),r.fillGradientType===Ed.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,f+l);for(var m=0,v=a.fontProperties.fontSize+r.strokeThickness,_=v/f,g=0;g<i.length;g++)for(var y=a.lineHeight*g,b=0;b<h.length;b++){var w=0;typeof p[b]=="number"?w=p[b]:w=b/h.length;var E=y/f+w*_,C=Math.max(m,E);C=Math.min(C,1),s.addColorStop(C,h[b]),m=C}}else{s=e.createLinearGradient(l,f/2,u+l,f/2);for(var T=h.length+1,A=1,g=0;g<h.length;g++){var R=void 0;typeof p[g]=="number"?R=p[g]:R=A/T,s.addColorStop(R,h[g]),A++}}return s}function lje(t,e,r,n,i,a,o){var s=r.text,c=r.fontProperties;e.translate(n,i),e.scale(a,a);var l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=sje(t,e,o,a,[s],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=yi(typeof f=="number"?f:Nk(f)),p=o.dropShadowBlur*a,d=o.dropShadowDistance*a;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(s,l,u+r.lineHeight-c.descent),o.fill&&e.fillText(s,l,u+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function yW(t){return Array.from?Array.from(t):t.split("")}function uje(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,c=o;s<=c;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,yW(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function gy(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Ac=function(){function t(e,r,n){var i,a,o=e.info[0],s=e.common[0],c=e.page[0],l=e.distanceField[0],u=Ov(c.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var p=e.page[h],d=p.id,g=p.file;f[d]=r instanceof Array?r[h]:r[g],l!=null&&l.fieldType&&l.fieldType!=="none"&&(f[d].baseTexture.alphaMode=ba.NO_PREMULTIPLIED_ALPHA)}for(var h=0;h<e.char.length;h++){var m=e.char[h],d=m.id,v=m.page,_=e.char[h],y=_.x,b=_.y,w=_.width,E=_.height,C=_.xoffset,T=_.yoffset,A=_.xadvance;y/=u,b/=u,w/=u,E/=u,C/=u,T/=u,A/=u;var R=new rr(y+f[v].frame.x/u,b+f[v].frame.y/u,w,E);this.chars[d]={xOffset:C,yOffset:T,xAdvance:A,kerning:{},texture:new Ot(f[v].baseTexture,R),page:v}}for(var h=0;h<e.kerning.length;h++){var O=e.kerning[h],P=O.first,k=O.second,M=O.amount;P/=u,k/=u,M/=u,this.chars[k]&&(this.chars[k].kerning[P]=M)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(a=(i=l==null?void 0:l.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Dv)i=e;else{var a=_W(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof Ot&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,s=i.resolution,c=i.textureWidth,l=i.textureHeight,u=uje(a),f=r instanceof df?r:new df(r),h=c,p=new Dv;p.info[0]={face:f.fontFamily,size:f.fontSize},p.common[0]={lineHeight:f.fontSize};for(var d=0,g=0,m,v,_,y=0,b=[],w=0;w<u.length;w++){m||(m=document.createElement("canvas"),m.width=c,m.height=l,v=m.getContext("2d"),_=new hr(m,{resolution:s}),b.push(new Ot(_)),p.page.push({id:b.length-1,file:""}));var E=os.measureText(u[w],f,!1,m),C=E.width,T=Math.ceil(E.height),A=Math.ceil((f.fontStyle==="italic"?2:1)*C);if(g>=l-T*s){if(g===0)throw new Error("[BitmapFont] textureHeight "+l+"px is "+("too small for "+f.fontSize+"px fonts"));--w,m=null,v=null,_=null,g=0,d=0,y=0;continue}if(y=Math.max(T+E.fontProperties.descent,y),A*s+d>=h){--w,g+=y*s,g=Math.ceil(g),d=0,y=0;continue}lje(m,v,E,d,g,s,f);var R=gy(E.text);p.char.push({id:R,page:b.length-1,x:d/s,y:g/s,width:A,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(C-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),d+=(A+2*o)*s,d=Math.ceil(d)}for(var w=0,O=u.length;w<O;w++)for(var P=u[w],k=0;k<O;k++){var M=u[k],B=v.measureText(P).width,D=v.measureText(M).width,H=v.measureText(P+M).width,ee=H-(B+D);ee&&p.kerning.push({first:gy(P),second:gy(M),amount:ee})}var ne=new t(p,b,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=ne,ne},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),cje=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,fje=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,hje=[],dje=[],c6=[],pje=function(t){ije(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,n),o=a.align,s=a.tint,c=a.maxWidth,l=a.letterSpacing,u=a.fontName,f=a.fontSize;if(!Ac.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=u,i._fontSize=f||Ac.available[u].size,i.text=r,i._maxWidth=c,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new su(function(){i.dirty=!0},i,0,0),i._roundPixels=xt.ROUND_PIXELS,i.dirty=!0,i._resolution=xt.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=Ac.available[this._fontName],i=this._fontSize/n.size,a=new vr,o=[],s=[],c=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=yW(l),f=this._maxWidth*n.size/this._fontSize,h=n.distanceFieldType==="none"?hje:dje,p=null,d=0,g=0,m=0,v=-1,_=0,y=0,b=0,w=0,E=0;E<u.length;E++){var C=u[E],T=gy(C);if(/(?:\s)/.test(C)&&(v=E,_=d,w++),C==="\r"||C===`
`){s.push(d),c.push(-1),g=Math.max(g,d),++m,++y,a.x=0,a.y+=n.lineHeight,p=null,w=0;continue}var A=n.chars[T];if(A){p&&A.kerning[p]&&(a.x+=A.kerning[p]);var R=c6.pop()||{texture:Ot.EMPTY,line:0,charCode:0,prevSpaces:0,position:new vr};R.texture=A.texture,R.line=m,R.charCode=T,R.position.x=a.x+A.xOffset+this._letterSpacing/2,R.position.y=a.y+A.yOffset,R.prevSpaces=w,o.push(R),d=R.position.x+Math.max(A.xAdvance,A.texture.orig.width),a.x+=A.xAdvance+this._letterSpacing,b=Math.max(b,A.yOffset+A.texture.height),p=T,v!==-1&&f>0&&a.x>f&&(++y,Os(o,1+v-y,1+E-v),E=v,v=-1,s.push(_),c.push(o.length>0?o[o.length-1].prevSpaces:0),g=Math.max(g,_),m++,a.x=0,a.y+=n.lineHeight,p=null,w=0)}}var O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(d=_),s.push(d),g=Math.max(g,d),c.push(-1));for(var P=[],E=0;E<=m;E++){var k=0;this._align==="right"?k=g-s[E]:this._align==="center"?k=(g-s[E])/2:this._align==="justify"&&(k=c[E]<0?0:(g-s[E])/c[E]),P.push(k)}for(var M=o.length,B={},D=[],H=this._activePagesMeshData,E=0;E<H.length;E++)h.push(H[E]);for(var E=0;E<M;E++){var ee=o[E].texture,ne=ee.baseTexture.uid;if(!B[ne]){var Y=h.pop();if(!Y){var U=new Ag,X=void 0,V=void 0;n.distanceFieldType==="none"?(X=new Cd(Ot.EMPTY),V=ct.NORMAL):(X=new Cd(Ot.EMPTY,{program:s0.from(fje,cje),uniforms:{uFWidth:0}}),V=ct.NORMAL_NPM);var G=new Sd(U,X);G.blendMode=V,Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var te=this._textureCache;te[ne]=te[ne]||new Ot(ee.baseTexture),Y.mesh.texture=te[ne],Y.mesh.tint=this._tint,D.push(Y),B[ne]=Y}B[ne].total++}for(var E=0;E<H.length;E++)D.indexOf(H[E])===-1&&this.removeChild(H[E].mesh);for(var E=0;E<D.length;E++)D[E].mesh.parent!==this&&this.addChild(D[E].mesh);this._activePagesMeshData=D;for(var E in B){var Y=B[E],oe=Y.total;if(!(((r=Y.indices)===null||r===void 0?void 0:r.length)>6*oe)||Y.vertices.length<Sd.BATCHABLE_SIZE*2)Y.vertices=new Float32Array(4*2*oe),Y.uvs=new Float32Array(4*2*oe),Y.indices=new Uint16Array(6*oe);else for(var ge=Y.total,le=Y.vertices,ye=ge*4*2;ye<le.length;ye++)le[ye]=0;Y.mesh.size=6*oe}for(var E=0;E<M;E++){var C=o[E],Le=C.position.x+P[C.line]*(this._align==="justify"?C.prevSpaces:1);this._roundPixels&&(Le=Math.round(Le));var ke=Le*i,Ee=C.position.y*i,ee=C.texture,Se=B[ee.baseTexture.uid],De=ee.frame,We=ee._uvs,Ve=Se.index++;Se.indices[Ve*6+0]=0+Ve*4,Se.indices[Ve*6+1]=1+Ve*4,Se.indices[Ve*6+2]=2+Ve*4,Se.indices[Ve*6+3]=0+Ve*4,Se.indices[Ve*6+4]=2+Ve*4,Se.indices[Ve*6+5]=3+Ve*4,Se.vertices[Ve*8+0]=ke,Se.vertices[Ve*8+1]=Ee,Se.vertices[Ve*8+2]=ke+De.width*i,Se.vertices[Ve*8+3]=Ee,Se.vertices[Ve*8+4]=ke+De.width*i,Se.vertices[Ve*8+5]=Ee+De.height*i,Se.vertices[Ve*8+6]=ke,Se.vertices[Ve*8+7]=Ee+De.height*i,Se.uvs[Ve*8+0]=We.x0,Se.uvs[Ve*8+1]=We.y0,Se.uvs[Ve*8+2]=We.x1,Se.uvs[Ve*8+3]=We.y1,Se.uvs[Ve*8+4]=We.x2,Se.uvs[Ve*8+5]=We.y2,Se.uvs[Ve*8+6]=We.x3,Se.uvs[Ve*8+7]=We.y3}this._textWidth=g*i,this._textHeight=(a.y+n.lineHeight)*i;for(var E in B){var Y=B[E];if(this.anchor.x!==0||this.anchor.y!==0)for(var He=0,qe=this._textWidth*this.anchor.x,Et=this._textHeight*this.anchor.y,Rt=0;Rt<Y.total;Rt++)Y.vertices[He++]-=qe,Y.vertices[He++]-=Et,Y.vertices[He++]-=qe,Y.vertices[He++]-=Et,Y.vertices[He++]-=qe,Y.vertices[He++]-=Et,Y.vertices[He++]-=qe,Y.vertices[He++]-=Et;this._maxLineHeight=b*i;var ht=Y.mesh.geometry.getBuffer("aVertexPosition"),dt=Y.mesh.geometry.getBuffer("aTextureCoord"),St=Y.mesh.geometry.getIndex();ht.data=Y.vertices,dt.data=Y.uvs,St.data=Y.indices,ht.update(),dt.update(),St.update()}for(var E=0;E<o.length;E++)c6.push(o[E])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=Ac.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,o=n.size;if(a!=="none")for(var s=this.worldTransform,c=s.a,l=s.b,u=s.c,f=s.d,h=Math.sqrt(c*c+l*l),p=Math.sqrt(u*u+f*f),d=(Math.abs(h)+Math.abs(p))/2,g=this._fontSize/o,m=0,v=this._activePagesMeshData;m<v.length;m++){var _=v[m];_.mesh.shader.uniforms.uFWidth=d*i*g*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!Ac.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(_i),xW=function(){function t(){}return t.add=function(){Ur.setExtensionXhrType("fnt",Ur.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=_W(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(g){o[g.metadata.pageFile]=g.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=Ac.install(a,o,!0),r())},c=0;c<a.page.length;++c){var l=a.page[c].file,u=i+l,f=!1;for(var h in this.resources){var p=this.resources[h];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),f=!0;break}}if(!f){var d={crossOrigin:e.crossOrigin,loadType:Ur.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wI=function(t,e){return wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wI(t,e)};function vje(t,e){wI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gje=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,bW=function(t){vje(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,NX,gje,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var EI=function(t,e){return EI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},EI(t,e)};function wW(t,e){EI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mje=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function _je(t,e){var r=Math.ceil(t/2),n=mje,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=a.replace("%index%",o.toString());s=s.replace("%sampleIndex%",o-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var yje={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},xje=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function bje(t){for(var e=yje[t],r=e.length,n=xje,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,s=0;s<t;s++){var c=a.replace("%index%",s.toString());o=s,s>=r&&(o=t-s-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var f6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(f6||(f6={}));var h6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(h6||(h6={}));var d6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(d6||(d6={}));var p6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(p6||(p6={}));var v6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(v6||(v6={}));var g6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(g6||(g6={}));var m6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(m6||(m6={}));var _6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(_6||(_6={}));var y6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(y6||(y6={}));var x6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(x6||(x6={}));var b6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(b6||(b6={}));var w6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(w6||(w6={}));var E6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(E6||(E6={}));var Uv;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Uv||(Uv={}));var S6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(S6||(S6={}));var C6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(C6||(C6={}));var T6;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(T6||(T6={}));var A6;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(A6||(A6={}));var I6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(I6||(I6={}));var jv=function(t){wW(e,t);function e(r,n,i,a,o){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=xt.FILTER_RESOLUTION),o===void 0&&(o=5);var s=this,c=_je(o,r),l=bje(o);return s=t.call(this,c,l)||this,s.horizontal=r,s.resolution=a,s._quality=0,s.quality=i,s.blur=n,s}return e.prototype.apply=function(r,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,a);else{var o=r.getFilterTexture(),s=r.renderer,c=n,l=o;this.state.blend=!1,r.applyFilter(this,c,l,Uv.CLEAR);for(var u=1;u<this.passes-1;u++){r.bindAndClear(c,Uv.BLIT),this.uniforms.uSampler=l;var f=l;l=c,c=f,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,l,i,a),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(Gt),wje=function(t){wW(e,t);function e(r,n,i,a){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=xt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this;return o.blurXFilter=new jv(!0,r,n,i,a),o.blurYFilter=new jv(!1,r,n,i,a),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,a){var o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){var c=r.getFilterTexture();this.blurXFilter.apply(r,n,c,Uv.CLEAR),this.blurYFilter.apply(r,c,i,a),r.returnFilterTexture(c)}else s?this.blurYFilter.apply(r,n,i,a):this.blurXFilter.apply(r,n,i,a)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var SI=function(t,e){return SI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},SI(t,e)};function Eje(t,e){SI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,CI=function(t){Eje(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,u3,Sje,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,a=r>>8&255,o=r&255,s=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),a=Math.sin(r),o=Math.sqrt,s=1/3,c=o(s),l=i+(1-i)*s,u=s*(1-i)-c*a,f=s*(1-i)+c*a,h=s*(1-i)+c*a,p=i+s*(1-i),d=s*(1-i)-c*a,g=s*(1-i)-c*a,m=s*(1-i)+c*a,v=i+s*(1-i),_=[l,u,f,0,0,h,p,d,0,0,g,m,v,0,0,0,0,0,1,0];this._loadMatrix(_,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,a=-.5*(i-1),o=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,a=(i-1)*-.5,o=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,a,o){r=r||.2,n=n||.15,i=i||16770432,a=a||3375104;var s=(i>>16&255)/255,c=(i>>8&255)/255,l=(i&255)/255,u=(a>>16&255)/255,f=(a>>8&255)/255,h=(a&255)/255,p=[.3,.59,.11,0,0,s,c,l,r,0,u,f,h,n,0,s-u,c-f,l-h,0,0];this._loadMatrix(p,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(Gt);CI.prototype.grayscale=CI.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var TI=function(t,e){return TI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},TI(t,e)};function Cje(t,e){TI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tje=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Aje=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,Ije=function(t){Cje(e,t);function e(r,n){var i=this,a=new ln;return r.renderable=!1,i=t.call(this,Aje,Tje,{mapSampler:r._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=a,n==null&&(n=20),i.scale=new vr(n,n),i}return e.prototype.apply=function(r,n,i,a){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,s=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);s!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/s,this.uniforms.rotation[1]=o.b/s,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AI(t,e)};function Rje(t,e){AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pje=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Oje=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,kje=function(t){Rje(e,t);function e(){return t.call(this,Pje,Oje)||this}return e}(Gt);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var II=function(t,e){return II=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},II(t,e)};function Fje(t,e){II(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nje=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Mje=function(t){Fje(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,u3,Nje,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var R6;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(R6||(R6={}));var P6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(P6||(P6={}));var O6;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(O6||(O6={}));var k6;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(k6||(k6={}));var F6;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(F6||(F6={}));var N6;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(N6||(N6={}));var M6;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(M6||(M6={}));var L6;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(L6||(L6={}));var B6;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(B6||(B6={}));var D6;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(D6||(D6={}));var U6;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(U6||(U6={}));var j6;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(j6||(j6={}));var $6;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})($6||($6={}));var G6;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(G6||(G6={}));var V6;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(V6||(V6={}));var H6;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(H6||(H6={}));var z6;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(z6||(z6={}));var RI;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(RI||(RI={}));var X6;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(X6||(X6={}));var EW=new ln;jn.prototype._cacheAsBitmap=!1;jn.prototype._cacheData=null;jn.prototype._cacheAsBitmapResolution=null;jn.prototype._cacheAsBitmapMultisample=RI.NONE;var Lje=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(jn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new Lje),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});jn.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};jn.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(xt.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),c=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,u=ju.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Uu();this._cacheData.textureCacheId=f,hr.addToCache(u.baseTexture,f),Ot.addToCache(u,f);var h=this.transform.localTransform.copyTo(EW).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(o,s,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new qa(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(i.x/i.width),p.anchor.y=-(i.y/i.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}};jn.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};jn.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,a=e._projTransform;r.ceil(xt.RESOLUTION);var o=ju.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Uu();this._cacheData.textureCacheId=s,hr.addToCache(o.baseTexture,s),Ot.addToCache(o,s);var c=EW;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.context=i,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new qa(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};jn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};jn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};jn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,hr.removeFromCache(this._cacheData.textureCacheId),Ot.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};jn.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */jn.prototype.name=null;_i.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(a.getChildByName){var o=this.children[n].getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */jn.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new vr),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var PI=function(t,e){return PI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},PI(t,e)};function l0(t,e){PI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SW=function(t){l0(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=a,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],a=[],o=this.segWidth-1,s=this.segHeight-1,c=this.width/o,l=this.height/s,u=0;u<r;u++){var f=u%this.segWidth,h=u/this.segWidth|0;n.push(f*c,h*l),i.push(f/o,h/s)}for(var p=o*s,u=0;u<p;u++){var d=u%o,g=u/o|0,m=g*this.segWidth+d,v=g*this.segWidth+d+1,_=(g+1)*this.segWidth+d,y=(g+1)*this.segWidth+d+1;a.push(m,v,_,v,y,_)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Ag),CW=function(t){l0(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=r,a.textureScale=i,a.build(),a}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),a.data=new Uint16Array((r.length-1)*6));var o=i.data,s=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var c=0,l=r[0],u=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var p=h*4;if(this.textureScale>0){var d=l.x-r[h].x,g=l.y-r[h].y,m=Math.sqrt(d*d+g*g);l=r[h],c+=m/u}else c=h/(f-1);o[p]=c,o[p+1]=0,o[p+2]=c,o[p+3]=1}for(var v=0,h=0;h<f-1;h++){var p=h*2;s[v++]=p,s[v++]=p+1,s[v++]=p+2,s[v++]=p+2,s[v++]=p+1,s[v++]=p+3}i.update(),a.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,a=0,o=0,s=this.buffers[0].data,c=r.length,l=0;l<c;l++){var u=r[l],f=l*4;l<r.length-1?i=r[l+1]:i=u,o=-(i.x-n.x),a=i.y-n.y;var h=Math.sqrt(a*a+o*o),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=h,o/=h,a*=p,o*=p,s[f]=u.x+a,s[f+1]=u.y+o,s[f+2]=u.x-a,s[f+3]=u.y-o,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Ag),Bje=function(t){l0(e,t);function e(r,n,i){i===void 0&&(i=0);var a=this,o=new CW(r.height,n,i),s=new Cd(r);return i>0&&(r.baseTexture.wrapMode=Ps.REPEAT),a=t.call(this,o,s)||this,a.autoUpdate=!0,a}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Sd),TW=function(t){l0(e,t);function e(r,n,i){var a=this,o=new SW(r.width,r.height,n,i),s=new Cd(Ot.WHITE);return a=t.call(this,o,s)||this,a.texture=r,a.autoResize=!0,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(r.width!==i||r.height!==a)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Sd),AW=function(t){l0(e,t);function e(r,n,i,a,o){r===void 0&&(r=Ot.EMPTY);var s=this,c=new Ag(n,i,a);c.getBuffer("aVertexPosition").static=!1;var l=new Cd(r);return s=t.call(this,c,l,null,o)||this,s.autoUpdate=!0,s}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Sd),S_=10,Dje=function(t){l0(e,t);function e(r,n,i,a,o){n===void 0&&(n=S_),i===void 0&&(i=S_),a===void 0&&(a=S_),o===void 0&&(o=S_);var s=t.call(this,Ot.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=a,s._topHeight=i,s._bottomHeight=o,s.texture=r,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,o=Math.min(n,a);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(TW);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var OI=function(t,e){return OI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},OI(t,e)};function Uje(t,e){OI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var IW=function(t){Uje(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof Ot?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(An.shared.add(this.update,this,ts.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Ot.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Ot.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Ot)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(An.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(qa);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Tl.registerPlugin("accessibility",oX);Tl.registerPlugin("extract",GX);Tl.registerPlugin("interaction",cX);Tl.registerPlugin("particle",tW);Tl.registerPlugin("prepare",hW);Tl.registerPlugin("batch",DX);Tl.registerPlugin("tilingSprite",gW);Da.registerPlugin(xW);Da.registerPlugin(YX);Da.registerPlugin(KX);Da.registerPlugin(QX);Da.registerPlugin(pW);Tg.registerPlugin(sX);Tg.registerPlugin(HX);var jje="6.4.2",RW={AlphaFilter:bW,BlurFilter:wje,BlurFilterPass:jv,ColorMatrixFilter:CI,DisplacementFilter:Ije,FXAAFilter:kje,NoiseFilter:Mje};const $je=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return ba},AbstractBatchRenderer:MX,AbstractMultiResource:Tb,AbstractRenderer:kX,AccessibilityManager:oX,AnimatedSprite:IW,AppLoaderPlugin:HX,Application:Tg,ArrayResource:$k,Attribute:JA,get BLEND_MODES(){return ct},get BUFFER_BITS(){return Iv},get BUFFER_TYPE(){return Qo},BaseImageResource:Ns,BasePrepare:cW,BaseRenderTexture:Xk,BaseTexture:hr,BatchDrawCall:yx,BatchGeometry:c3,BatchPluginFactory:BX,BatchRenderer:DX,BatchShaderGenerator:LX,BatchSystem:Kk,BatchTextureArray:xx,BitmapFont:Ac,BitmapFontData:Dv,BitmapFontLoader:xW,BitmapText:pje,BlobResource:WX,Bounds:xd,Buffer:si,BufferResource:Wu,get CLEAR_MODES(){return sl},CanvasResource:Ab,Circle:tX,CompressedTextureLoader:YX,CompressedTextureResource:bx,Container:_i,ContextSystem:Zk,CountLimiter:uW,CubeResource:Gk,DDSLoader:KX,DEG_TO_RAD:wl,get DRAW_MODES(){return Ka},DisplayObject:jn,get ENV(){return Fs},Ellipse:rX,Extract:GX,get FORMATS(){return nt},FORMATS_TO_COMPONENTS:ZX,FillStyle:d3,Filter:Gt,FilterState:pX,FilterSystem:qk,Framebuffer:_x,FramebufferSystem:Jk,get GC_MODES(){return mx},GLFramebuffer:vX,GLProgram:RX,GLTexture:py,GRAPHICS_CURVES:bd,Geometry:o0,GeometrySystem:Qk,Graphics:wd,GraphicsData:pI,GraphicsGeometry:sW,IGLUniformData:CUe,INSTALLED:Fv,get INTERNAL_FORMATS(){return er},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Lv,ImageBitmapResource:zk,ImageResource:Ib,InteractionData:YA,InteractionEvent:lX,InteractionManager:cX,InteractionTrackingData:dy,KTXLoader:QX,get LINE_CAP(){return pl},get LINE_JOIN(){return dl},LineStyle:lW,Loader:Da,get LoaderResource(){return Ur},get MASK_TYPES(){return Di},get MIPMAP_MODES(){return Ba},get MSAA_QUALITY(){return Kn},MaskData:gX,MaskSystem:e3,Matrix:ln,Mesh:Sd,MeshBatchUvs:mW,MeshGeometry:Ag,MeshMaterial:Cd,NineSlicePlane:Dje,ObjectRenderer:Cg,ObservablePoint:su,PI_2:kv,get PRECISION(){return qo},ParticleContainer:T6e,ParticleRenderer:tW,PlaneGeometry:SW,Point:vr,Polygon:nd,Prepare:hW,Program:s0,ProjectionSystem:n3,Quad:dX,QuadUv:Yk,RAD_TO_DEG:Dk,get RENDERER_TYPE(){return yd},Rectangle:rr,RenderTexture:ju,RenderTexturePool:hX,RenderTextureSystem:i3,Renderer:Tl,Resource:hf,RopeGeometry:CW,RoundedRectangle:nX,Runner:Gi,get SAMPLER_TYPES(){return Rv},get SCALE_MODES(){return Ri},get SHAPES(){return mn},SVGResource:Vk,ScissorSystem:t3,Shader:ml,ShaderSystem:a3,SimpleMesh:AW,SimplePlane:TW,SimpleRope:Bje,Sprite:qa,SpriteMaskFilter:EX,Spritesheet:dW,SpritesheetLoader:pW,State:Yu,StateSystem:o3,StencilSystem:r3,System:$Ue,get TARGETS(){return wu},get TEXT_GRADIENT(){return Ed},get TYPES(){return It},TYPES_TO_BYTES_PER_COMPONENT:lI,TYPES_TO_BYTES_PER_PIXEL:JX,TemporaryDisplayObject:jk,Text:g3,TextMetrics:os,TextStyle:df,Texture:Ot,TextureGCSystem:s3,TextureLoader:zX,TextureMatrix:Rb,TextureSystem:l3,TextureUvs:Wk,Ticker:An,TickerPlugin:sX,TilingSprite:Z6e,TilingSpriteRenderer:gW,TimeLimiter:K6e,Transform:Sg,get UPDATE_PRIORITY(){return ts},UniformGroup:Eu,VERSION:jje,VideoResource:Hk,ViewableBuffer:Nv,get WRAP_MODES(){return Ps},accessibleTarget:aX,autoDetectRenderer:FX,autoDetectResource:Cb,checkMaxIfStatementsInShader:wX,createUBOElements:TX,defaultFilterVertex:u3,defaultVertex:NX,filters:RW,generateProgram:PX,generateUniformBufferSync:IX,getTestContext:yX,getUBOData:AX,graphicsUtils:F6e,groupD8:pn,interactiveTarget:uX,isMobile:wo,resources:UX,settings:xt,systems:jX,uniformParsers:Jc,utils:j5e},Symbol.toStringTag,{value:"Module"}));let C_;const Gje=new Uint8Array(16);function Vje(){if(!C_&&(C_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!C_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C_(Gje)}const Bi=[];for(let t=0;t<256;++t)Bi.push((t+256).toString(16).slice(1));function Hje(t,e=0){return Bi[t[e+0]]+Bi[t[e+1]]+Bi[t[e+2]]+Bi[t[e+3]]+"-"+Bi[t[e+4]]+Bi[t[e+5]]+"-"+Bi[t[e+6]]+Bi[t[e+7]]+"-"+Bi[t[e+8]]+Bi[t[e+9]]+"-"+Bi[t[e+10]]+Bi[t[e+11]]+Bi[t[e+12]]+Bi[t[e+13]]+Bi[t[e+14]]+Bi[t[e+15]]}const zje=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W6={randomUUID:zje};function ap(t,e,r){if(W6.randomUUID&&!e&&!t)return W6.randomUUID();t=t||{};const n=t.random||(t.rng||Vje)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Hje(n)}/*!
 * @pixi/filter-old-film - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-old-film is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kI=function(t,e){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kI(t,e)};function Xje(t,e){kI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Yje=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`,qje=function(t){Xje(e,t);function e(r,n){n===void 0&&(n=0);var i=t.call(this,Wje,Yje)||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),typeof r=="number"?(i.seed=r,r=void 0):i.seed=n,Object.assign(i,e.defaults,r),i}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.seed=this.seed,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(r){this.uniforms.sepia=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(r){this.uniforms.scratch=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(r){this.uniforms.scratchDensity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(r){this.uniforms.scratchWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},e}(Gt);/*!
 * @pixi/filter-dot - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-dot is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var FI=function(t,e){return FI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},FI(t,e)};function Kje(t,e){FI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zje=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Jje=`precision mediump float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform vec4 filterArea;
uniform sampler2D uSampler;

uniform float angle;
uniform float scale;

float pattern()
{
   float s = sin(angle), c = cos(angle);
   vec2 tex = vTextureCoord * filterArea.xy;
   vec2 point = vec2(
       c * tex.x - s * tex.y,
       s * tex.x + c * tex.y
   ) * scale;
   return (sin(point.x) * sin(point.y)) * 4.0;
}

void main()
{
   vec4 color = texture2D(uSampler, vTextureCoord);
   float average = (color.r + color.g + color.b) / 3.0;
   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);
}
`,Qje=function(t){Kje(e,t);function e(r,n){r===void 0&&(r=1),n===void 0&&(n=5);var i=t.call(this,Zje,Jje)||this;return i.scale=r,i.angle=n,i}return Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(r){this.uniforms.scale=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/filter-reflection - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-reflection is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NI=function(t,e){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},NI(t,e)};function e9e(t,e){NI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var t9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`,n9e=function(t){e9e(e,t);function e(r){var n=t.call(this,t9e,r9e)||this;return n.time=0,n.uniforms.amplitude=new Float32Array(2),n.uniforms.waveLength=new Float32Array(2),n.uniforms.alpha=new Float32Array(2),n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(r){this.uniforms.mirror=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(r){this.uniforms.boundary=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude[0]=r[0],this.uniforms.amplitude[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(r){this.uniforms.waveLength[0]=r[0],this.uniforms.waveLength[1]=r[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha[0]=r[0],this.uniforms.alpha[1]=r[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},e}(Gt);/*!
 * @pixi/filter-glitch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glitch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MI=function(t,e){return MI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MI(t,e)};function i9e(t,e){MI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var a9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,o9e=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`,s9e=function(t){i9e(e,t);function e(r){var n=t.call(this,a9e,o9e)||this;return n.offset=100,n.fillMode=e.TRANSPARENT,n.average=!1,n.seed=0,n.minSize=8,n.sampleSize=512,n._slices=0,n._offsets=new Float32Array(1),n._sizes=new Float32Array(1),n._direction=-1,n.uniforms.dimensions=new Float32Array(2),n._canvas=document.createElement("canvas"),n._canvas.width=4,n._canvas.height=n.sampleSize,n.texture=Ot.from(n._canvas,{scaleMode:Ri.NEAREST}),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,r.applyFilter(this,n,i,a)},e.prototype._randomizeSizes=function(){var r=this._sizes,n=this._slices-1,i=this.sampleSize,a=Math.min(this.minSize/i,.9/this._slices);if(this.average){for(var o=this._slices,s=1,c=0;c<n;c++){var l=s/(o-c),u=Math.max(l*(1-Math.random()*.6),a);r[c]=u,s-=u}r[n]=s}else{for(var s=1,f=Math.sqrt(1/this._slices),c=0;c<n;c++){var u=Math.max(f*s*Math.random(),a);r[c]=u,s-=u}r[n]=s}this.shuffle()},e.prototype.shuffle=function(){for(var r=this._sizes,n=this._slices-1,i=n;i>0;i--){var a=Math.random()*i>>0,o=r[i];r[i]=r[a],r[a]=o}},e.prototype._randomizeOffsets=function(){for(var r=0;r<this._slices;r++)this._offsets[r]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var r=this.sampleSize,n=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,r);for(var a,o=0,s=0;s<this._slices;s++){a=Math.floor(this._offsets[s]*256);var c=this._sizes[s]*r,l=a>0?a:0,u=a<0?-a:0;i.fillStyle="rgba("+l+", "+u+", 0, 1)",i.fillRect(0,o>>0,r,c+1>>0),o+=c}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._sizes[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(r){for(var n=Math.min(this._slices,r.length),i=0;i<n;i++)this._offsets[i]=r[i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(r){this._slices!==r&&(this._slices=r,this.uniforms.slices=r,this._sizes=this.uniforms.slicesWidth=new Float32Array(r),this._offsets=this.uniforms.slicesOffset=new Float32Array(r),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(r){if(this._direction!==r){this._direction=r;var n=r*wl;this.uniforms.sinDir=Math.sin(n),this.uniforms.cosDir=Math.cos(n)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var r;(r=this.texture)===null||r===void 0||r.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4,e}(Gt);/*!
 * @pixi/filter-rgb-split - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-rgb-split is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LI=function(t,e){return LI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},LI(t,e)};function l9e(t,e){LI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,c9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`,f9e=function(t){l9e(e,t);function e(r,n,i){r===void 0&&(r=[-10,0]),n===void 0&&(n=[0,10]),i===void 0&&(i=[0,0]);var a=t.call(this,u9e,c9e)||this;return a.red=r,a.green=n,a.blue=i,a}return Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(r){this.uniforms.red=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(r){this.uniforms.green=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(r){this.uniforms.blue=r},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/filter-godray - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-godray is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BI=function(t,e){return BI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BI(t,e)};function h9e(t,e){BI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var d9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,p9e=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,v9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`,g9e=function(t){h9e(e,t);function e(r){var n=t.call(this,d9e,v9e.replace("${perlin}",p9e))||this;n.parallel=!0,n.time=0,n._angle=0,n.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,r);return n._angleLight=new vr,n.angle=i.angle,n.gain=i.gain,n.lacunarity=i.lacunarity,n.alpha=i.alpha,n.parallel=i.parallel,n.center=i.center,n.time=i.time,n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.aspect=c/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r;var n=r*wl;this._angleLight.x=Math.cos(n),this._angleLight.y=Math.sin(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(r){this.uniforms.gain=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(r){this.uniforms.lacunarity=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(r){this.uniforms.alpha=r},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},e}(Gt);/*!
 * @pixi/filter-adjustment - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-adjustment is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DI=function(t,e){return DI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},DI(t,e)};function m9e(t,e){DI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,y9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float gamma;
uniform float contrast;
uniform float saturation;
uniform float brightness;
uniform float red;
uniform float green;
uniform float blue;
uniform float alpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (c.a > 0.0) {
        c.rgb /= c.a;

        vec3 rgb = pow(c.rgb, vec3(1. / gamma));
        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
        rgb.r *= red;
        rgb.g *= green;
        rgb.b *= blue;
        c.rgb = rgb * brightness;

        c.rgb *= c.a;
    }

    gl_FragColor = c * alpha;
}
`;(function(t){m9e(e,t);function e(r){var n=t.call(this,_9e,y9e)||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,r),n}return e.prototype.apply=function(r,n,i,a){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,r.applyFilter(this,n,i,a)},e})(Gt);/*!
 * @pixi/filter-kawase-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UI=function(t,e){return UI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},UI(t,e)};function x9e(t,e){UI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,w9e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,E9e=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`,wx=function(t){x9e(e,t);function e(r,n,i){r===void 0&&(r=4),n===void 0&&(n=3),i===void 0&&(i=!1);var a=t.call(this,b9e,i?E9e:w9e)||this;return a._kernels=[],a._blur=4,a._quality=3,a.uniforms.uOffset=new Float32Array(2),a._pixelSize=new vr,a.pixelSize=1,a._clamp=i,Array.isArray(r)?a.kernels=r:(a._blur=r,a.quality=n),a}return e.prototype.apply=function(r,n,i,a){var o=this._pixelSize.x/n._frame.width,s=this._pixelSize.y/n._frame.height,c;if(this._quality===1||this._blur===0)c=this._kernels[0]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,n,i,a);else{for(var l=r.getFilterTexture(),u=n,f=l,h=void 0,p=this._quality-1,d=0;d<p;d++)c=this._kernels[d]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,f,1),h=u,u=f,f=h;c=this._kernels[p]+.5,this.uniforms.uOffset[0]=c*o,this.uniforms.uOffset[1]=c*s,r.applyFilter(this,u,i,a),r.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(r,n){return r+n+.5},0))},e.prototype._generateKernels=function(){var r=this._blur,n=this._quality,i=[r];if(r>0)for(var a=r,o=r/n,s=1;s<n;s++)a-=o,i.push(a);this._kernels=i,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(r){Array.isArray(r)&&r.length>0?(this._kernels=r,this._quality=r.length,this._blur=Math.max.apply(Math,r)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(r){typeof r=="number"?(this._pixelSize.x=r,this._pixelSize.y=r):Array.isArray(r)?(this._pixelSize.x=r[0],this._pixelSize.y=r[1]):r instanceof vr?(this._pixelSize.x=r.x,this._pixelSize.y=r.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=Math.max(1,Math.round(r)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(r){this._blur=r,this._generateKernels()},enumerable:!1,configurable:!0}),e}(Gt);/*!
 * @pixi/filter-advanced-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-advanced-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jI=function(t,e){return jI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jI(t,e)};function PW(t,e){jI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var OW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,S9e=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`,C9e=function(t){PW(e,t);function e(r){r===void 0&&(r=.5);var n=t.call(this,OW,S9e)||this;return n.threshold=r,n}return Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(r){this.uniforms.threshold=r},enumerable:!1,configurable:!0}),e}(Gt),T9e=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;(function(t){PW(e,t);function e(r){var n=t.call(this,OW,T9e)||this;n.bloomScale=1,n.brightness=1,n._resolution=xt.FILTER_RESOLUTION,typeof r=="number"&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;return n._extractFilter=new C9e(i.threshold),n._extractFilter.resolution=l,n._blurFilter=a?new wx(a):new wx(o,s),n.pixelSize=c,n.resolution=l,n}return e.prototype.apply=function(r,n,i,a,o){var s=r.getFilterTexture();this._extractFilter.apply(r,n,s,1,o);var c=r.getFilterTexture();this._blurFilter.apply(r,s,c,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=c,r.applyFilter(this,n,i,a),r.returnFilterTexture(c),r.returnFilterTexture(s)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._extractFilter&&(this._extractFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(r){this._extractFilter.threshold=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:xt.FILTER_RESOLUTION},e})(Gt);/*!
 * @pixi/filter-ascii - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-ascii is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $I=function(t,e){return $I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$I(t,e)};function A9e(t,e){$I(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var I9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,R9e=`varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform float pixelSize;
uniform sampler2D uSampler;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
    return floor( coord / size ) * size;
}

vec2 getMod(vec2 coord, vec2 size)
{
    return mod( coord , size) / size;
}

float character(float n, vec2 p)
{
    p = floor(p*vec2(4.0, -4.0) + 2.5);

    if (clamp(p.x, 0.0, 4.0) == p.x)
    {
        if (clamp(p.y, 0.0, 4.0) == p.y)
        {
            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;
        }
    }
    return 0.0;
}

void main()
{
    vec2 coord = mapCoord(vTextureCoord);

    // get the rounded color..
    vec2 pixCoord = pixelate(coord, vec2(pixelSize));
    pixCoord = unmapCoord(pixCoord);

    vec4 color = texture2D(uSampler, pixCoord);

    // determine the character to use
    float gray = (color.r + color.g + color.b) / 3.0;

    float n =  65536.0;             // .
    if (gray > 0.2) n = 65600.0;    // :
    if (gray > 0.3) n = 332772.0;   // *
    if (gray > 0.4) n = 15255086.0; // o
    if (gray > 0.5) n = 23385164.0; // &
    if (gray > 0.6) n = 15252014.0; // 8
    if (gray > 0.7) n = 13199452.0; // @
    if (gray > 0.8) n = 11512810.0; // #

    // get the mod..
    vec2 modd = getMod(coord, vec2(pixelSize));

    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);

}
`;(function(t){A9e(e,t);function e(r){r===void 0&&(r=8);var n=t.call(this,I9e,R9e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(r){this.uniforms.pixelSize=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-bevel - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bevel is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GI=function(t,e){return GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},GI(t,e)};function P9e(t,e){GI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var O9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,k9e=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float transformX;
uniform float transformY;
uniform vec3 lightColor;
uniform float lightAlpha;
uniform vec3 shadowColor;
uniform float shadowAlpha;

void main(void) {
    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);
    vec4 color = texture2D(uSampler, vTextureCoord);
    float light = texture2D(uSampler, vTextureCoord - transform).a;
    float shadow = texture2D(uSampler, vTextureCoord + transform).a;

    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));
    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));
    gl_FragColor = vec4(color.rgb * color.a, color.a);
}
`;(function(t){P9e(e,t);function e(r){var n=t.call(this,O9e,k9e)||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},r),n.padding=1,n}return e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/wl},set:function(r){this._angle=r*wl,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return xa(this.uniforms.lightColor)},set:function(r){yi(r,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(r){this.uniforms.lightAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return xa(this.uniforms.shadowColor)},set:function(r){yi(r,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(r){this.uniforms.shadowAlpha=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-bloom - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bloom is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VI=function(t,e){return VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},VI(t,e)};function F9e(t,e){VI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}(function(t){F9e(e,t);function e(r,n,i,a){r===void 0&&(r=2),n===void 0&&(n=4),i===void 0&&(i=xt.FILTER_RESOLUTION),a===void 0&&(a=5);var o=t.call(this)||this,s,c;return typeof r=="number"?(s=r,c=r):r instanceof vr?(s=r.x,c=r.y):Array.isArray(r)&&(s=r[0],c=r[1]),o.blurXFilter=new jv(!0,s,n,i,a),o.blurYFilter=new jv(!1,c,n,i,a),o.blurYFilter.blendMode=ct.SCREEN,o.defaultFilter=new bW,o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.defaultFilter.apply(r,n,i,a),this.blurXFilter.apply(r,n,o,1),this.blurYFilter.apply(r,o,i,0),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-bulge-pinch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-bulge-pinch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HI=function(t,e){return HI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},HI(t,e)};function N9e(t,e){HI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var M9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,L9e=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;(function(t){N9e(e,t);function e(r){var n=t.call(this,M9e,L9e)||this;return n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1},e})(Gt);/*!
 * @pixi/filter-color-map - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-map is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zI=function(t,e){return zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zI(t,e)};function B9e(t,e){zI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,U9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D colorMap;
uniform float _mix;
uniform float _size;
uniform float _sliceSize;
uniform float _slicePixelSize;
uniform float _sliceInnerSize;
void main() {
    vec4 color = texture2D(uSampler, vTextureCoord.xy);

    vec4 adjusted;
    if (color.a > 0.0) {
        color.rgb /= color.a;
        float innerWidth = _size - 1.0;
        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);
        float zSlice1 = min(zSlice0 + 1.0, innerWidth);
        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;
        float s0 = xOffset + (zSlice0 * _sliceSize);
        float s1 = xOffset + (zSlice1 * _sliceSize);
        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);
        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));
        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));
        float zOffset = fract(color.b * innerWidth);
        adjusted = mix(slice0Color, slice1Color, zOffset);

        color.rgb *= color.a;
    }
    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);

}`;(function(t){B9e(e,t);function e(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=1);var a=t.call(this,D9e,U9e)||this;return a.mix=1,a._size=0,a._sliceSize=0,a._slicePixelSize=0,a._sliceInnerSize=0,a._nearest=!1,a._scaleMode=null,a._colorMap=null,a._scaleMode=null,a.nearest=n,a.mix=i,a.colorMap=r,a}return e.prototype.apply=function(r,n,i,a){this.uniforms._mix=this.mix,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(r){var n;r&&(r instanceof Ot||(r=Ot.from(r)),!((n=r)===null||n===void 0)&&n.baseTexture&&(r.baseTexture.scaleMode=this._scaleMode,r.baseTexture.mipmap=Ba.OFF,this._size=r.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=r),this._colorMap=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(r){this._nearest=r,this._scaleMode=r?Ri.NEAREST:Ri.LINEAR;var n=this._colorMap;n&&n.baseTexture&&(n.baseTexture._glTextures={},n.baseTexture.scaleMode=this._scaleMode,n.baseTexture.mipmap=Ba.OFF,n._updateID++,n.baseTexture.emit("update",n.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var r=this._colorMap;r&&r.baseTexture&&(r._updateID++,r.baseTexture.emit("update",r.baseTexture),this.colorMap=r)},e.prototype.destroy=function(r){r===void 0&&(r=!1),this._colorMap&&this._colorMap.destroy(r),t.prototype.destroy.call(this)},e})(Gt);/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XI=function(t,e){return XI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},XI(t,e)};function j9e(t,e){XI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`;(function(t){j9e(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=1);var i=t.call(this,$9e,G9e)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=r,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.color;typeof r=="number"?(yi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._color=xa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){this.uniforms.alpha=r,this._alpha=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WI=function(t,e){return WI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},WI(t,e)};function V9e(t,e){WI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var H9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,z9e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 originalColor;
uniform vec3 newColor;
uniform float epsilon;
void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));
    float colorDistance = length(colorDiff);
    float doReplace = step(colorDistance, epsilon);
    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);
}
`;(function(t){V9e(e,t);function e(r,n,i){r===void 0&&(r=16711680),n===void 0&&(n=0),i===void 0&&(i=.4);var a=t.call(this,H9e,z9e)||this;return a._originalColor=16711680,a._newColor=0,a.uniforms.originalColor=new Float32Array(3),a.uniforms.newColor=new Float32Array(3),a.originalColor=r,a.newColor=n,a.epsilon=i,a}return Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(r){var n=this.uniforms.originalColor;typeof r=="number"?(yi(r,n),this._originalColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._originalColor=xa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(r){var n=this.uniforms.newColor;typeof r=="number"?(yi(r,n),this._newColor=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],this._newColor=xa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-convolution - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-convolution is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YI(t,e)};function X9e(t,e){YI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var W9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Y9e=`precision mediump float;

varying mediump vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec2 texelSize;
uniform float matrix[9];

void main(void)
{
   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left
   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center
   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right

   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left
   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center
   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right

   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left
   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center
   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right

   gl_FragColor =
       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +
       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +
       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];

   gl_FragColor.a = c22.a;
}
`;(function(t){X9e(e,t);function e(r,n,i){n===void 0&&(n=200),i===void 0&&(i=200);var a=t.call(this,W9e,Y9e)||this;return a.uniforms.texelSize=new Float32Array(2),a.uniforms.matrix=new Float32Array(9),r!==void 0&&(a.matrix=r),a.width=n,a.height=i,a}return Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(r){var n=this;r.forEach(function(i,a){n.uniforms.matrix[a]=i})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(r){this.uniforms.texelSize[0]=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(r){this.uniforms.texelSize[1]=1/r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-cross-hatch - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-cross-hatch is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qI=function(t,e){return qI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qI(t,e)};function q9e(t,e){qI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var K9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Z9e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);

    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

    if (lum < 1.00)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.75)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.50)
    {
        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }

    if (lum < 0.3)
    {
        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)
        {
            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
    }
}
`;(function(t){q9e(e,t);function e(){return t.call(this,K9e,Z9e)||this}return e})(Gt);/*!
 * @pixi/filter-crt - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-crt is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KI=function(t,e){return KI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KI(t,e)};function J9e(t,e){KI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Q9e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,e$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;(function(t){J9e(e,t);function e(r){var n=t.call(this,Q9e,e$e)||this;return n.time=0,n.seed=0,n.uniforms.dimensions=new Float32Array(2),Object.assign(n,e.defaults,r),n}return e.prototype.apply=function(r,n,i,a){var o=n.filterFrame,s=o.width,c=o.height;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=c,this.uniforms.seed=this.seed,this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(r){this.uniforms.curvature=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(r){this.uniforms.lineWidth=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(r){this.uniforms.lineContrast=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(r){this.uniforms.verticalLine=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(r){this.uniforms.noise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(r){this.uniforms.noiseSize=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(r){this.uniforms.vignetting=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(r){this.uniforms.vignettingAlpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(r){this.uniforms.vignettingBlur=r},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},e})(Gt);/*!
 * @pixi/filter-drop-shadow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZI=function(t,e){return ZI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ZI(t,e)};function t$e(t,e){ZI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ex=function(){return Ex=Object.assign||function(e){for(var r=arguments,n,i=1,a=arguments.length;i<a;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ex.apply(this,arguments)},r$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,n$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`;(function(t){t$e(e,t);function e(r){var n=t.call(this)||this;n.angle=45,n._distance=5,n._resolution=xt.FILTER_RESOLUTION;var i=r?Ex(Ex({},e.defaults),r):e.defaults,a=i.kernels,o=i.blur,s=i.quality,c=i.pixelSize,l=i.resolution;n._tintFilter=new Gt(r$e,n$e),n._tintFilter.uniforms.color=new Float32Array(4),n._tintFilter.uniforms.shift=new vr,n._tintFilter.resolution=l,n._blurFilter=a?new wx(a):new wx(o,s),n.pixelSize=c,n.resolution=l;var u=i.shadowOnly,f=i.rotation,h=i.distance,p=i.alpha,d=i.color;return n.shadowOnly=u,n.rotation=f,n.distance=h,n.alpha=p,n.color=d,n._updatePadding(),n}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this._tintFilter.apply(r,n,o,1),this._blurFilter.apply(r,o,i,a),this.shadowOnly!==!0&&r.applyFilter(this,n,i,0),r.returnFilterTexture(o)},e.prototype._updatePadding=function(){this.padding=this.distance+this.blur*2},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(r){this._distance=r,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/wl},set:function(r){this.angle=r*wl,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(r){this._tintFilter.uniforms.alpha=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return xa(this._tintFilter.uniforms.color)},set:function(r){yi(r,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(r){this._blurFilter.kernels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(r){this._blurFilter.blur=r,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(r){this._blurFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(r){this._blurFilter.pixelSize=r},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:xt.FILTER_RESOLUTION},e})(Gt);/*!
 * @pixi/filter-emboss - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-emboss is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JI=function(t,e){return JI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JI(t,e)};function i$e(t,e){JI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var a$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,o$e=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float strength;
uniform vec4 filterArea;


void main(void)
{
	vec2 onePixel = vec2(1.0 / filterArea);

	vec4 color;

	color.rgb = vec3(0.5);

	color -= texture2D(uSampler, vTextureCoord - onePixel) * strength;
	color += texture2D(uSampler, vTextureCoord + onePixel) * strength;

	color.rgb = vec3((color.r + color.g + color.b) / 3.0);

	float alpha = texture2D(uSampler, vTextureCoord).a;

	gl_FragColor = vec4(color.rgb * alpha, alpha);
}
`;(function(t){i$e(e,t);function e(r){r===void 0&&(r=5);var n=t.call(this,a$e,o$e)||this;return n.strength=r,n}return Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(r){this.uniforms.strength=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-glow - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-glow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QI=function(t,e){return QI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QI(t,e)};function s$e(t,e){QI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var l$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,u$e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;
    
    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;(function(t){s$e(e,t);function e(r){var n=this,i=Object.assign({},e.defaults,r),a=i.outerStrength,o=i.innerStrength,s=i.color,c=i.knockout,l=i.quality,u=Math.round(i.distance);return n=t.call(this,l$e,u$e.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/u).toFixed(7)).replace(/__DIST__/gi,u.toFixed(0)+".0"))||this,n.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(n,{color:s,outerStrength:a,innerStrength:o,padding:u,knockout:c}),n}return Object.defineProperty(e.prototype,"color",{get:function(){return xa(this.uniforms.glowColor)},set:function(r){yi(r,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(r){this.uniforms.outerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(r){this.uniforms.innerStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(r){this.uniforms.knockout=r},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e})(Gt);/*!
 * @pixi/filter-motion-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-motion-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eR=function(t,e){return eR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eR(t,e)};function c$e(t,e){eR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var f$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,h$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uVelocity;
uniform int uKernelSize;
uniform float uOffset;

const int MAX_KERNEL_SIZE = 2048;

// Notice:
// the perfect way:
//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);
// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.
// So use uKernelSize directly.

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    vec2 velocity = uVelocity / filterArea.xy;
    float offset = -uOffset / length(uVelocity) - 0.5;
    int k = uKernelSize - 1;

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }
        vec2 bias = velocity * (float(i) / float(k) + offset);
        color += texture2D(uSampler, vTextureCoord + bias);
    }
    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){c$e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),n===void 0&&(n=5),i===void 0&&(i=0);var a=t.call(this,f$e,h$e)||this;return a.kernelSize=5,a.uniforms.uVelocity=new Float32Array(2),a._velocity=new su(a.velocityChanged,a),a.setVelocity(r),a.kernelSize=n,a.offset=i,a}return e.prototype.apply=function(r,n,i,a){var o=this.velocity,s=o.x,c=o.y;this.uniforms.uKernelSize=s!==0||c!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(r){this.setVelocity(r)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(r){if(Array.isArray(r)){var n=r[0],i=r[1];this._velocity.set(n,i)}else this._velocity.copyFrom(r)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)+1},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(r){this.uniforms.uOffset=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-multi-color-replace - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tR=function(t,e){return tR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tR(t,e)};function d$e(t,e){tR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var p$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,v$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float epsilon;

const int MAX_COLORS = %maxColors%;

uniform vec3 originalColors[MAX_COLORS];
uniform vec3 targetColors[MAX_COLORS];

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);

    float alpha = gl_FragColor.a;
    if (alpha < 0.0001)
    {
      return;
    }

    vec3 color = gl_FragColor.rgb / alpha;

    for(int i = 0; i < MAX_COLORS; i++)
    {
      vec3 origColor = originalColors[i];
      if (origColor.r < 0.0)
      {
        break;
      }
      vec3 colorDiff = origColor - color;
      if (length(colorDiff) < epsilon)
      {
        vec3 targetColor = targetColors[i];
        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);
        return;
      }
    }
}
`;(function(t){d$e(e,t);function e(r,n,i){n===void 0&&(n=.05),i===void 0&&(i=r.length);var a=t.call(this,p$e,v$e.replace(/%maxColors%/g,i.toFixed(0)))||this;return a._replacements=[],a._maxColors=0,a.epsilon=n,a._maxColors=i,a.uniforms.originalColors=new Float32Array(i*3),a.uniforms.targetColors=new Float32Array(i*3),a.replacements=r,a}return Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(r){var n=this.uniforms.originalColors,i=this.uniforms.targetColors,a=r.length;if(a>this._maxColors)throw new Error("Length of replacements ("+a+") exceeds the maximum colors length ("+this._maxColors+")");n[a*3]=-1;for(var o=0;o<a;o++){var s=r[o],c=s[0];typeof c=="number"?c=yi(c):s[0]=xa(c),n[o*3]=c[0],n[o*3+1]=c[1],n[o*3+2]=c[2];var l=s[1];typeof l=="number"?l=yi(l):s[1]=xa(l),i[o*3]=l[0],i[o*3+1]=l[1],i[o*3+2]=l[2]}this._replacements=r},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(r){this.uniforms.epsilon=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-outline - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-outline is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rR=function(t,e){return rR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rR(t,e)};function g$e(t,e){rR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;(function(t){g$e(e,t);function e(r,n,i){r===void 0&&(r=1),n===void 0&&(n=0),i===void 0&&(i=.1);var a=t.call(this,m$e,_$e.replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return a._thickness=1,a.uniforms.thickness=new Float32Array([0,0]),a.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(a,{thickness:r,color:n,quality:i}),a}return e.getAngleStep=function(r){var n=Math.max(r*e.MAX_SAMPLES,e.MIN_SAMPLES);return(Math.PI*2/n).toFixed(7)},e.prototype.apply=function(r,n,i,a){this.uniforms.thickness[0]=this._thickness/n._frame.width,this.uniforms.thickness[1]=this._thickness/n._frame.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"color",{get:function(){return xa(this.uniforms.outlineColor)},set:function(r){yi(r,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(r){this._thickness=r,this.padding=r},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e})(Gt);/*!
 * @pixi/filter-pixelate - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-pixelate is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nR=function(t,e){return nR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nR(t,e)};function y$e(t,e){nR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var x$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,b$e=`precision mediump float;

varying vec2 vTextureCoord;

uniform vec2 size;
uniform sampler2D uSampler;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 pixelate(vec2 coord, vec2 size)
{
	return floor( coord / size ) * size;
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);

    coord = pixelate(coord, size);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord);
}
`;(function(t){y$e(e,t);function e(r){r===void 0&&(r=10);var n=t.call(this,x$e,b$e)||this;return n.size=r,n}return Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(r){typeof r=="number"&&(r=[r,r]),this.uniforms.size=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-radial-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-radial-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iR=function(t,e){return iR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iR(t,e)};function w$e(t,e){iR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,S$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform float uRadian;
uniform vec2 uCenter;
uniform float uRadius;
uniform int uKernelSize;

const int MAX_KERNEL_SIZE = 2048;

void main(void)
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    if (uKernelSize == 0)
    {
        gl_FragColor = color;
        return;
    }

    float aspect = filterArea.y / filterArea.x;
    vec2 center = uCenter.xy / filterArea.xy;
    float gradient = uRadius / filterArea.x * 0.3;
    float radius = uRadius / filterArea.x - gradient * 0.5;
    int k = uKernelSize - 1;

    vec2 coord = vTextureCoord;
    vec2 dir = vec2(center - coord);
    float dist = length(vec2(dir.x, dir.y * aspect));

    float radianStep = uRadian;
    if (radius >= 0.0 && dist > radius) {
        float delta = dist - radius;
        float gap = gradient;
        float scale = 1.0 - abs(delta / gap);
        if (scale <= 0.0) {
            gl_FragColor = color;
            return;
        }
        radianStep *= scale;
    }
    radianStep /= float(k);

    float s = sin(radianStep);
    float c = cos(radianStep);
    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));

    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {
        if (i == k) {
            break;
        }

        coord -= center;
        coord.y *= aspect;
        coord = rotationMatrix * coord;
        coord.y /= aspect;
        coord += center;

        vec4 sample = texture2D(uSampler, coord);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample;
    }

    gl_FragColor = color / float(uKernelSize);
}
`;(function(t){w$e(e,t);function e(r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=[0,0]),i===void 0&&(i=5),a===void 0&&(a=-1);var o=t.call(this,E$e,S$e)||this;return o._angle=0,o.angle=r,o.center=n,o.kernelSize=i,o.radius=a,o}return e.prototype.apply=function(r,n,i,a){this.uniforms.uKernelSize=this._angle!==0?this.kernelSize:0,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(r){this._angle=r,this.uniforms.uRadian=r*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-shockwave - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-shockwave is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aR=function(t,e){return aR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},aR(t,e)};function C$e(t,e){aR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,A$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`,I$e=function(t){C$e(e,t);function e(r,n,i){r===void 0&&(r=[0,0]),i===void 0&&(i=0);var a=t.call(this,T$e,A$e)||this;return a.center=r,Object.assign(a,e.defaults,n),a.time=i,a}return e.prototype.apply=function(r,n,i,a){this.uniforms.time=this.time,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(r){this.uniforms.center=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(r){this.uniforms.amplitude=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(r){this.uniforms.wavelength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(r){this.uniforms.brightness=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(r){this.uniforms.speed=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},e}(Gt);/*!
 * @pixi/filter-simple-lightmap - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-simple-lightmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oR=function(t,e){return oR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oR(t,e)};function R$e(t,e){oR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,O$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D uLightmap;
uniform vec4 filterArea;
uniform vec2 dimensions;
uniform vec4 ambientColor;
void main() {
    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);
    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;
    vec4 light = texture2D(uLightmap, lightCoord);
    vec3 ambient = ambientColor.rgb * ambientColor.a;
    vec3 intensity = ambient + light.rgb;
    vec3 finalColor = diffuseColor.rgb * intensity;
    gl_FragColor = vec4(finalColor, diffuseColor.a);
}
`;(function(t){R$e(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=1);var a=t.call(this,P$e,O$e)||this;return a._color=0,a.uniforms.dimensions=new Float32Array(2),a.uniforms.ambientColor=new Float32Array([0,0,0,i]),a.texture=r,a.color=n,a}return e.prototype.apply=function(r,n,i,a){var o,s;this.uniforms.dimensions[0]=(o=n.filterFrame)===null||o===void 0?void 0:o.width,this.uniforms.dimensions[1]=(s=n.filterFrame)===null||s===void 0?void 0:s.height,r.applyFilter(this,n,i,a)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(r){this.uniforms.uLightmap=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(r){var n=this.uniforms.ambientColor;typeof r=="number"?(yi(r,n),this._color=r):(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],this._color=xa(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(r){this.uniforms.ambientColor[3]=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-tilt-shift - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-tilt-shift is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sR=function(t,e){return sR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sR(t,e)};function Pb(t,e){sR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var k$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,F$e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,kW=function(t){Pb(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this,k$e,F$e)||this;return o.uniforms.blur=r,o.uniforms.gradientBlur=n,o.uniforms.start=i||new vr(0,window.innerHeight/2),o.uniforms.end=a||new vr(600,window.innerHeight/2),o.uniforms.delta=new vr(30,30),o.uniforms.texSize=new vr(window.innerWidth,window.innerHeight),o.updateDelta(),o}return e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(r){this.uniforms.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(r){this.uniforms.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(r){this.uniforms.start=r,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(r){this.uniforms.end=r,this.updateDelta()},enumerable:!1,configurable:!0}),e}(Gt),N$e=function(t){Pb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=r/i,this.uniforms.delta.y=n/i},e}(kW),M$e=function(t){Pb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.updateDelta=function(){var r=this.uniforms.end.x-this.uniforms.start.x,n=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(r*r+n*n);this.uniforms.delta.x=-n/i,this.uniforms.delta.y=r/i},e}(kW);(function(t){Pb(e,t);function e(r,n,i,a){r===void 0&&(r=100),n===void 0&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new N$e(r,n,i,a),o.tiltShiftYFilter=new M$e(r,n,i,a),o}return e.prototype.apply=function(r,n,i,a){var o=r.getFilterTexture();this.tiltShiftXFilter.apply(r,n,o,1),this.tiltShiftYFilter.apply(r,o,i,a),r.returnFilterTexture(o)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(r){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(r){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(r){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(r){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=r},enumerable:!1,configurable:!0}),e})(Gt);/*!
 * @pixi/filter-twist - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-twist is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lR=function(t,e){return lR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lR(t,e)};function L$e(t,e){lR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var B$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,D$e=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;(function(t){L$e(e,t);function e(r){var n=t.call(this,B$e,D$e)||this;return Object.assign(n,e.defaults,r),n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(r){this.uniforms.offset=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(r){this.uniforms.radius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(r){this.uniforms.angle=r},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new vr},e})(Gt);/*!
 * @pixi/filter-zoom-blur - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-zoom-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uR=function(t,e){return uR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uR(t,e)};function U$e(t,e){uR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function j$e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var $$e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G$e=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;(function(t){U$e(e,t);function e(r){var n=this,i=Object.assign(e.defaults,r),a=i.maxKernelSize,o=j$e(i,["maxKernelSize"]);return n=t.call(this,$$e,G$e.replace("${maxKernelSize}",a.toFixed(1)))||this,Object.assign(n,o),n}return Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(r){this.uniforms.uCenter=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(r){this.uniforms.uStrength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(r){this.uniforms.uInnerRadius=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(r){(r<0||r===1/0)&&(r=-1),this.uniforms.uRadius=r},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},e})(Gt);const cR="shockwaveFilter";function V$e(t,e){const r=t.containerFilters.get(cR);if(r)return r;if(e){const n=new I$e([1280,720]);return n.time=0,t.addFilter(n),t.containerFilters.set(cR,n),n}}function H$e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateShockwaveFilter().time:0}function z$e(t,e){if(e===0)t.removeFilter(cR);else{const r=t.getOrCreateShockwaveFilter();r&&(r.time=e)}}const fR=0,hR="radiusAlphaFilter";class X$e extends Gt{constructor(e,r){const n=`
// fragment shader
precision mediump float;

uniform sampler2D uSampler;  // 
varying vec2 vTextureCoord;  // 
uniform vec2 center;         // 
uniform float radius;        // 

void main(void) {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // 
    float aspect = 16.0 / 9.0;

    // 
    vec2 aspectCorrectCoord = vTextureCoord;
    aspectCorrectCoord.x *= aspect;

    // 
    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));

    // smoothstepalpha,
    float alpha = smoothstep(radius, radius + 0.05, dist);

    // 
    gl_FragColor = color * (1.0 - alpha);
}
    `;super(null,n),this.uniforms.center=[e.x,e.y],this.uniforms.radius=r}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new vr(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}}function W$e(t,e){const r=t.containerFilters.get(hR);if(r)return r;if(e){const n=new X$e(new vr(.5,.5),fR);return n.radius=fR,t.addFilter(n),t.containerFilters.set(hR,n),n}}function Y$e(t){return t.getOrCreateShockwaveFilter(!1)?t.getOrCreateRadiusAlphaFilter().radius:fR}function q$e(t,e){if(e===0)t.removeFilter(hR);else{const r=t.getOrCreateRadiusAlphaFilter();r&&(r.radius=e)}}class TC extends _i{constructor(){super();ut(this,"containerFilters",new Map);ut(this,"baseX",0);ut(this,"baseY",0)}addFilter(r){this.filters?this.filters.push(r):this.filters=[r]}removeFilter(r){const n=this.containerFilters.get(r);if(n){const i=((this==null?void 0:this.filters)??[]).findIndex(a=>a===n);this.filters&&(this.filters.splice(i,1),this.containerFilters.delete(r))}}get blur(){return this.getOrCreateBlurFilter().blur}set blur(r){this.getOrCreateBlurFilter().blur=r}get x(){var n;return(((n=super.position)==null?void 0:n.x)??0)-this.baseX}set x(r){super.position&&(super.position.x=r+this.baseX)}get y(){var n;return(((n=super.position)==null?void 0:n.y)??0)-this.baseY}set y(r){super.position&&(super.position.y=r+this.baseY)}setBaseX(r){const n=this.x;this.baseX=r,this.x=n}setBaseY(r){const n=this.y;this.baseY=r,this.y=n}getOrCreateBlurFilter(){const r=this.containerFilters.get("blur");if(r)return r;{const n=new RW.BlurFilter;return n.blur=0,this.addFilter(n),this.containerFilters.set("blur",n),n}}getOrCreateOldFilmFilter(r=!0){const n=this.containerFilters.get("oldFilm");if(n)return n;if(r){const i=new qje;return this.addFilter(i),this.containerFilters.set("oldFilm",i),i}else return null}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(r){r===0?this.removeFilter("oldFilm"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(r=!0){const n=this.containerFilters.get("dotFilm");if(n)return n;if(r){const i=new Qje;return this.addFilter(i),this.containerFilters.set("dotFilm",i),i}else return null}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(r){r===0?this.removeFilter("dotFilm"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(r=!0){const n=this.containerFilters.get("reflectionFilm");if(n)return n;if(r){const i=new n9e;return this.addFilter(i),this.containerFilters.set("reflectionFilm",i),i}else return null}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(r){r===0?this.removeFilter("reflectionFilm"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(r=!0){const n=this.containerFilters.get("glitchFilm");if(n)return n;if(r){const i=new s9e;return this.addFilter(i),this.containerFilters.set("glitchFilm",i),i}else return null}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(r){r===0?this.removeFilter("glitchFilm"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(r=!0){const n=this.containerFilters.get("rgbFilm");if(n)return n;if(r){const i=new f9e;return this.addFilter(i),this.containerFilters.set("rgbFilm",i),i}}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(r){r===0?this.removeFilter("rgbFilm"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(r=!0){const n=this.containerFilters.get("godrayFilm");if(n)return n;if(r){const i=new g9e;return this.addFilter(i),this.containerFilters.set("godrayFilm",i),i}}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(r){r===0?this.removeFilter("godrayFilm"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(r=!0){return V$e(this,r)}get shockwaveFilter(){return H$e(this)}set shockwaveFilter(r){z$e(this,r)}getOrCreateRadiusAlphaFilter(r=!0){return W$e(this,r)}get radiusAlphaFilter(){return Y$e(this)}set radiusAlphaFilter(r){q$e(this,r)}}var tr;(function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"})(tr||(tr={}));var Sx=function(){function t(e,r,n,i){r===void 0&&(r=new Array),n===void 0&&(n=0),i===void 0&&(i=new DataView(e.buffer)),this.strings=r,this.index=n,this.buffer=i}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},t.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},t.prototype.readInt=function(e){var r=this.readByte(),n=r&127;return r&128&&(r=this.readByte(),n|=(r&127)<<7,r&128&&(r=this.readByte(),n|=(r&127)<<14,r&128&&(r=this.readByte(),n|=(r&127)<<21,r&128&&(r=this.readByte(),n|=(r&127)<<28)))),e?n:n>>>1^-(n&1)},t.prototype.readStringRef=function(){var e=this.readInt(!0);return e==0?null:this.strings[e-1]},t.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var r="",n=0;n<e;){var i=this.readUnsignedByte();switch(i>>4){case 12:case 13:r+=String.fromCharCode((i&31)<<6|this.readByte()&63),n+=2;break;case 14:r+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),n+=3;break;default:r+=String.fromCharCode(i),n++}}return r},t.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},t.prototype.readBoolean=function(){return this.readByte()!=0},t}(),Z;(function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"})(Z||(Z={}));var Kt;(function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"})(Kt||(Kt={}));var _n;(function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"})(_n||(_n={}));var Un;(function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"})(Un||(Un={}));var Dt;(function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"})(Dt||(Dt={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dR=function(t,e){return dR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},dR(t,e)};function u0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Y6(t){switch(t.toLowerCase()){case"nearest":return _a.Nearest;case"linear":return _a.Linear;case"mipmap":return _a.MipMap;case"mipmapnearestnearest":return _a.MipMapNearestNearest;case"mipmaplinearnearest":return _a.MipMapLinearNearest;case"mipmapnearestlinear":return _a.MipMapNearestLinear;case"mipmaplinearlinear":return _a.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}var _a;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"})(_a||(_a={}));var lu;(function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"})(lu||(lu={}));var pR=function(){function t(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(t.prototype,"width",{get:function(){var e=this.texture;return e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.texture;return e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.texture.rotate!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-this.texture.rotate*45)%360},enumerable:!1,configurable:!0}),t}(),K$e=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}return t}(),Z$e=function(){function t(e,r,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)}return t.prototype.addTexture=function(e,r){for(var n=this.pages,i=null,a=0;a<n.length;a++)if(n[a].baseTexture===r.baseTexture){i=n[a];break}if(i===null){i=new q6,i.name="texturePage";var o=r.baseTexture;i.width=o.realWidth,i.height=o.realHeight,i.baseTexture=o,i.minFilter=i.magFilter=_a.Nearest,i.uWrap=lu.ClampToEdge,i.vWrap=lu.ClampToEdge,n.push(i)}var s=new K6;return s.name=e,s.page=i,s.texture=r,s.index=-1,this.regions.push(s),s},t.prototype.addTextureHash=function(e,r){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(r&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,e[n])},t.prototype.addSpineAtlas=function(e,r,n){return this.load(e,r,n)},t.prototype.load=function(e,r,n){var i=this;if(r==null)throw new Error("textureLoader cannot be null.");var a=new J$e(e),o=new Array(4),s=null,c={},l=null;c.size=function(){s.width=parseInt(o[1]),s.height=parseInt(o[2])},c.format=function(){},c.filter=function(){s.minFilter=Y6(o[1]),s.magFilter=Y6(o[2])},c.repeat=function(){o[1].indexOf("x")!=-1&&(s.uWrap=lu.Repeat),o[1].indexOf("y")!=-1&&(s.vWrap=lu.Repeat)},c.pma=function(){s.pma=o[1]=="true"};var u={};u.xy=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2])},u.size=function(){l.width=parseInt(o[1]),l.height=parseInt(o[2])},u.bounds=function(){l.x=parseInt(o[1]),l.y=parseInt(o[2]),l.width=parseInt(o[3]),l.height=parseInt(o[4])},u.offset=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2])},u.orig=function(){l.originalWidth=parseInt(o[1]),l.originalHeight=parseInt(o[2])},u.offsets=function(){l.offsetX=parseInt(o[1]),l.offsetY=parseInt(o[2]),l.originalWidth=parseInt(o[3]),l.originalHeight=parseInt(o[4])},u.rotate=function(){var p=o[1],d=0;p.toLocaleLowerCase()=="true"?d=6:p.toLocaleLowerCase()=="false"?d=0:d=(720-parseFloat(p))%360/45,l.rotate=d},u.index=function(){l.index=parseInt(o[1])};for(var f=a.readLine();f!=null&&f.trim().length==0;)f=a.readLine();for(;!(f==null||f.trim().length==0||a.readEntry(o,f)==0);)f=a.readLine();var h=function(){for(;;){if(f==null)return n&&n(i);if(f.trim().length==0)s=null,f=a.readLine();else if(s===null){for(s=new q6,s.name=f.trim();a.readEntry(o,f=a.readLine())!=0;){var p=c[o[0]];p&&p()}i.pages.push(s),r(s.name,function(A){if(A===null)return i.pages.splice(i.pages.indexOf(s),1),n&&n(null);s.baseTexture=A,s.pma&&(A.alphaMode=ba.PMA),A.valid||A.setSize(s.width,s.height),s.setFilters(),(!s.width||!s.height)&&(s.width=A.realWidth,s.height=A.realHeight,(!s.width||!s.height)&&console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),h()});break}else{l=new K$e;var d=new K6;d.name=f,d.page=s;for(var g=null,m=null;;){var v=a.readEntry(o,f=a.readLine());if(v==0)break;var p=u[o[0]];if(p)p();else{g==null&&(g=[],m=[]),g.push(o[0]);for(var _=[],y=0;y<v;y++)_.push(parseInt(o[y+1]));m.push(_)}}l.originalWidth==0&&l.originalHeight==0&&(l.originalWidth=l.width,l.originalHeight=l.height);var b=s.baseTexture.resolution;l.x/=b,l.y/=b,l.width/=b,l.height/=b,l.originalWidth/=b,l.originalHeight/=b,l.offsetX/=b,l.offsetY/=b;var w=l.rotate%4!==0,E=new rr(l.x,l.y,w?l.height:l.width,w?l.width:l.height),C=new rr(0,0,l.originalWidth,l.originalHeight),T=new rr(l.offsetX,l.originalHeight-l.height-l.offsetY,l.width,l.height);d.texture=new Ot(d.page.baseTexture,E,C,T,l.rotate),d.index=l.index,d.texture.updateUvs(),i.regions.push(d)}}};h()},t.prototype.findRegion=function(e){for(var r=0;r<this.regions.length;r++)if(this.regions[r].name==e)return this.regions[r];return null},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},t}(),J$e=function(){function t(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(e,r){if(r==null||(r=r.trim(),r.length==0))return 0;var n=r.indexOf(":");if(n==-1)return 0;e[0]=r.substr(0,n).trim();for(var i=1,a=n+1;;i++){var o=r.indexOf(",",a);if(o==-1)return e[i]=r.substr(a).trim(),i;if(e[i]=r.substr(a,o-a).trim(),a=o+1,i==4)return 4}},t}(),q6=function(){function t(){this.minFilter=_a.Nearest,this.magFilter=_a.Nearest,this.uWrap=lu.ClampToEdge,this.vWrap=lu.ClampToEdge}return t.prototype.setFilters=function(){var e=this.baseTexture,r=this.minFilter;r==_a.Linear?e.scaleMode=Ri.LINEAR:this.minFilter==_a.Nearest?e.scaleMode=Ri.NEAREST:(e.mipmap=Ba.POW2,r==_a.MipMapNearestNearest?e.scaleMode=Ri.NEAREST:e.scaleMode=Ri.LINEAR)},t}(),K6=function(t){u0(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(pR),Q$e=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),eGe=Math.fround||Q$e,FW=function(){function t(){this.array=new Array}return t.prototype.add=function(e){var r=this.contains(e);return this.array[e|0]=e|0,!r},t.prototype.contains=function(e){return this.array[e|0]!=null},t.prototype.remove=function(e){this.array[e|0]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),NW=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(e){var r=this.entries[e];return this.entries[e]=!0,r?!1:(this.size++,!0)},t.prototype.addAll=function(e){for(var r=this.size,n=0,i=e.length;n<i;n++)this.add(e[n]);return r!=this.size},t.prototype.contains=function(e){return this.entries[e]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),rt=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.r=e,this.g=r,this.b=n,this.a=i}return t.prototype.set=function(e,r,n,i){return this.r=e,this.g=r,this.b=n,this.a=i,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,r,n,i){return this.r+=e,this.g+=r,this.b+=n,this.a+=i,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(e,r){e.r=((r&4278190080)>>>24)/255,e.g=((r&16711680)>>>16)/255,e.b=((r&65280)>>>8)/255,e.a=(r&255)/255},t.rgb888ToColor=function(e,r){e.r=((r&16711680)>>>16)/255,e.g=((r&65280)>>>8)/255,e.b=(r&255)/255},t.fromString=function(e){return new t().setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),re=function(){function t(){}return t.clamp=function(e,r,n){return e<r?r:e>n?n:e},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(e){return e>0?1:e<0?-1:0},t.toInt=function(e){return e>0?Math.floor(e):Math.ceil(e)},t.cbrt=function(e){var r=Math.pow(Math.abs(e),.3333333333333333);return e<0?-r:r},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,(e+r)*.5)},t.randomTriangularWith=function(e,r,n){var i=Math.random(),a=r-e;return i<=(n-e)/a?e+Math.sqrt(i*a*(n-e)):r-Math.sqrt((1-i)*a*(r-n))},t.isPowerOfTwo=function(e){return e&&(e&e-1)===0},t.PI=3.1415927,t.PI2=t.PI*2,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),tGe=function(){function t(){}return t.prototype.apply=function(e,r,n){return e+(r-e)*this.applyInternal(n)},t}(),rGe=function(t){u0(e,t);function e(r){var n=t.call(this)||this;return n.power=2,n.power=r,n}return e.prototype.applyInternal=function(r){return r<=.5?Math.pow(r*2,this.power)/2:Math.pow((r-1)*2,this.power)/(this.power%2==0?-2:2)+1},e}(tGe),MW=function(t){u0(e,t);function e(r){return t.call(this,r)||this}return e.prototype.applyInternal=function(r){return Math.pow(r-1,this.power)*(this.power%2==0?-1:1)+1},e}(rGe),xe=function(){function t(){}return t.arrayCopy=function(e,r,n,i,a){for(var o=r,s=i;o<r+a;o++,s++)n[s]=e[o]},t.arrayFill=function(e,r,n,i){for(var a=r;a<n;a++)e[a]=i},t.setArraySize=function(e,r,n){n===void 0&&(n=0);var i=e.length;if(i==r)return e;if(e.length=r,i<r)for(var a=i;a<r;a++)e[a]=n;return e},t.ensureArrayCapacity=function(e,r,n){return n===void 0&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(e,r){for(var n=new Array(e),i=0;i<e;i++)n[i]=r;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?eGe(e):e},t.webkit602BugfixHelper=function(e,r){},t.contains=function(e,r,n){for(var i=0;i<e.length;i++)if(e[i]==r)return!0;return!1},t.enumValue=function(e,r){return e[r[0].toUpperCase()+r.slice(1)]},t.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",t}(),Ob=function(){function t(e){this.items=new Array,this.instantiator=e}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},t.prototype.freeAll=function(e){for(var r=0;r<e.length;r++)this.free(e[r])},t.prototype.clear=function(){this.items.length=0},t}(),$v=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=e,this.y=r}return t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},t.prototype.normalize=function(){var e=this.length();return e!=0&&(this.x/=e,this.y/=e),this},t}(),_3=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Ob(function(){return xe.newFloatArray(16)})}return t.prototype.update=function(e,r){if(!e)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;n.length=0,a.freeAll(i),i.length=0;for(var c=0;c<s;c++){var l=o[c];if(l.bone.active){var u=l.getAttachment();if(u!=null&&u.type===tr.BoundingBox){var f=u;n.push(f);var h=a.obtain();h.length!=f.worldVerticesLength&&(h=xe.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(l,0,f.worldVerticesLength,h,0,2)}}}r?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,o=0,s=a.length;o<s;o++)for(var c=a[o],l=c,u=0,f=c.length;u<f;u+=2){var h=l[u],p=l[u+1];e=Math.min(e,h),r=Math.min(r,p),n=Math.max(n,h),i=Math.max(i,p)}this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(e,r){return e>=this.minX&&e<=this.maxX&&r>=this.minY&&r<=this.maxY},t.prototype.aabbIntersectsSegment=function(e,r,n,i){var a=this.minX,o=this.minY,s=this.maxX,c=this.maxY;if(e<=a&&n<=a||r<=o&&i<=o||e>=s&&n>=s||r>=c&&i>=c)return!1;var l=(i-r)/(n-e),u=l*(a-e)+r;if(u>o&&u<c||(u=l*(s-e)+r,u>o&&u<c))return!0;var f=(o-r)/l+e;return f>a&&f<s||(f=(c-r)/l+e,f>a&&f<s)},t.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.containsPoint=function(e,r){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],e,r))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(e,r,n){for(var i=e,a=e.length,o=a-2,s=!1,c=0;c<a;c+=2){var l=i[c+1],u=i[o+1];if(l<n&&u>=n||u<n&&l>=n){var f=i[c];f+(n-l)/(u-l)*(i[o]-f)<r&&(s=!s)}o=c}return s},t.prototype.intersectsSegment=function(e,r,n,i){for(var a=this.polygons,o=0,s=a.length;o<s;o++)if(this.intersectsSegmentPolygon(a[o],e,r,n,i))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(e,r,n,i,a){for(var o=e,s=e.length,c=r-i,l=n-a,u=r*a-n*i,f=o[s-2],h=o[s-1],p=0;p<s;p+=2){var d=o[p],g=o[p+1],m=f*g-h*d,v=f-d,_=h-g,y=c*_-l*v,b=(u*v-c*m)/y;if((b>=f&&b<=d||b>=d&&b<=f)&&(b>=r&&b<=i||b>=i&&b<=r)){var w=(u*_-l*m)/y;if((w>=h&&w<=g||w>=g&&w<=h)&&(w>=n&&w<=a||w>=a&&w<=n))return!0}f=d,h=g}return!1},t.prototype.getPolygon=function(e){if(!e)throw new Error("boundingBox cannot be null.");var r=this.boundingBoxes.indexOf(e);return r==-1?null:this.polygons[r]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),nGe={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},zl=[0,0,0],iGe=function(t){u0(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.region=null,r.attachment=null,r}return e}(qa),aGe=function(t){u0(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i,a,o)||this;return s.region=null,s.attachment=null,s}return e}(AW),Ig=function(t){u0(e,t);function e(r){var n=t.call(this)||this;if(!r)throw new Error("The spineData param is required.");if(typeof r=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=r,n.createSkeleton(r),n.slotContainers=[],n.tempClipContainers=[];for(var i=0,a=n.skeleton.slots.length;i<a;i++){var o=n.skeleton.slots[i],s=o.getAttachment(),c=n.newContainer();if(n.slotContainers.push(c),n.addChild(c),n.tempClipContainers.push(null),!!s)if(s.type===tr.Region){var l=s.name,u=n.createSprite(o,s,l);o.currentSprite=u,o.currentSpriteName=l,c.addChild(u)}else if(s.type===tr.Mesh){var f=n.createMesh(o,s);o.currentMesh=f,o.currentMeshId=s.id,o.currentMeshName=s.name,c.addChild(f)}else s.type===tr.Clipping&&(n.createGraphics(o,s),c.addChild(o.clippingContainer),c.addChild(o.currentGraphics))}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(r){var n;r!=this._debug&&((n=this._debug)===null||n===void 0||n.unregisterSpine(this),r==null||r.registerSpine(this),this._debug=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,this.updateTransform=r?e.prototype.autoUpdateTransform:_i.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return xa(this.tintRgb)},set:function(r){this.tintRgb=yi(r,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){var r=typeof this.localDelayLimit<"u"?this.localDelayLimit:nGe.GLOBAL_DELAY_LIMIT;return r||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),!!this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,c=null;o?(s=o.light,c=o.dark):s=this.tintRgb;for(var l=0,u=a.length;l<u;l++){var f=a[l],h=f.getAttachment(),p=this.slotContainers[l];if(!h){p.visible=!1;continue}var d=null;h.sequence&&h.sequence.apply(f,h);var g=h.region,m=h.color;switch(h!=null&&h.type){case tr.Region:var v=p.transform;if(v.setFromMatrix(f.bone.matrix),g=h.region,f.currentMesh&&(f.currentMesh.visible=!1,f.currentMesh=null,f.currentMeshId=void 0,f.currentMeshName=void 0),!g){f.currentSprite&&(f.currentSprite.renderable=!1);break}if(!f.currentSpriteName||f.currentSpriteName!==h.name){var _=h.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},f.sprites[_]!==void 0)f.sprites[_].visible=!0;else{var y=this.createSprite(f,h,_);p.addChild(y)}f.currentSprite=f.sprites[_],f.currentSpriteName=_}f.currentSprite.renderable=!0,f.hackRegion||this.setSpriteRegion(h,f.currentSprite,g),f.currentSprite.color?d=f.currentSprite.color:(zl[0]=s[0]*f.color.r*m.r,zl[1]=s[1]*f.color.g*m.g,zl[2]=s[2]*f.color.b*m.b,f.currentSprite.tint=xa(zl)),f.currentSprite.blendMode=f.blendMode;break;case tr.Mesh:if(f.currentSprite){f.currentSprite.visible=!1,f.currentSprite=null,f.currentSpriteName=void 0;var b=new Sg;b._parentID=-1,b._worldID=p.transform._worldID,p.transform=b}if(!g){f.currentMesh&&(f.currentMesh.renderable=!1);break}var w=h.id;if(f.currentMeshId===void 0||f.currentMeshId!==w){var E=w;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},f.meshes[E]!==void 0)f.meshes[E].visible=!0;else{var C=this.createMesh(f,h);p.addChild(C)}f.currentMesh=f.meshes[E],f.currentMeshName=h.name,f.currentMeshId=E}f.currentMesh.renderable=!0,h.computeWorldVerticesOld(f,f.currentMesh.vertices),f.currentMesh.color?d=f.currentMesh.color:(zl[0]=s[0]*f.color.r*m.r,zl[1]=s[1]*f.color.g*m.g,zl[2]=s[2]*f.color.b*m.b,f.currentMesh.tint=xa(zl)),f.currentMesh.blendMode=f.blendMode,f.hackRegion||this.setMeshRegion(h,f.currentMesh,g);break;case tr.Clipping:f.currentGraphics||(this.createGraphics(f,h),p.addChild(f.clippingContainer),p.addChild(f.currentGraphics)),this.updateGraphics(f,h),p.alpha=1,p.visible=!0;continue;default:p.visible=!1;continue}if(p.visible=!0,d){var T=f.color.r*m.r,A=f.color.g*m.g,R=f.color.b*m.b;d.setLight(s[0]*T+c[0]*(1-T),s[1]*A+c[1]*(1-A),s[2]*R+c[2]*(1-R)),f.darkColor?(T=f.darkColor.r,A=f.darkColor.g,R=f.darkColor.b):(T=0,A=0,R=0),d.setDark(s[0]*T+c[0]*(1-T),s[1]*A+c[1]*(1-A),s[2]*R+c[2]*(1-R))}p.alpha=f.color.a}for(var O=this.skeleton.drawOrder,P=null,k=null,l=0,u=O.length;l<u;l++){var f=a[O[l].data.index],p=this.slotContainers[O[l].data.index];if(k||p.parent!==null&&p.parent!==this&&(p.parent.removeChild(p),p.parent=this),f.currentGraphics&&f.getAttachment())k=f.clippingContainer,P=f.getAttachment(),k.children.length=0,this.children[l]=p,P.endSlot===f.data&&(P.endSlot=null);else if(k){var M=this.tempClipContainers[l];M||(M=this.tempClipContainers[l]=this.newContainer(),M.visible=!1),this.children[l]=M,p.parent=null,k.addChild(p),P.endSlot==f.data&&(k.renderable=!0,k=null,P=null)}else this.children[l]=p}(n=this._debug)===null||n===void 0||n.renderDebug(this)}},e.prototype.setSpriteRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,n.rotation=r.rotation*re.degRad,n.position.x=r.x,n.position.y=r.y,n.alpha=r.color.a,i.size?(n.scale.x=i.size.width/i.originalWidth,n.scale.y=-i.size.height/i.originalHeight):(n.scale.x=r.scaleX*r.width/i.originalWidth,n.scale.y=-r.scaleY*r.height/i.originalHeight))},e.prototype.setMeshRegion=function(r,n,i){n.attachment===r&&n.region===i||(n.region=i,n.attachment=r,n.texture=i.texture,i.texture.updateUvs(),n.uvBuffer.update(r.regionUVs))},e.prototype.autoUpdateTransform=function(){{this.lastTime=this.lastTime||Date.now();var r=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(r)}_i.prototype.updateTransform.call(this)},e.prototype.createSprite=function(r,n,i){var a=n.region;r.hackAttachment===n&&(a=r.hackRegion);var o=a?a.texture:null,s=this.newSprite(o);return s.anchor.set(.5),a&&this.setSpriteRegion(n,s,n.region),r.sprites=r.sprites||{},r.sprites[i]=s,s},e.prototype.createMesh=function(r,n){var i=n.region;r.hackAttachment===n&&(i=r.hackRegion,r.hackAttachment=null,r.hackRegion=null);var a=this.newMesh(i?i.texture:null,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),Ka.TRIANGLES);return typeof a._canvasPadding<"u"&&(a._canvasPadding=1.5),a.alpha=n.color.a,a.region=n.region,i&&this.setMeshRegion(n,a,i),r.meshes=r.meshes||{},r.meshes[n.id]=a,a},e.prototype.createGraphics=function(r,n){var i=this.newGraphics(),a=new nd([]);return i.clear(),i.beginFill(16777215,1),i.drawPolygon(a),i.renderable=!1,r.currentGraphics=i,r.clippingContainer=this.newContainer(),r.clippingContainer.mask=r.currentGraphics,i},e.prototype.updateGraphics=function(r,n){var i=r.currentGraphics.geometry,a=i.graphicsData[0].shape.points,o=n.worldVerticesLength;a.length=o,n.computeWorldVertices(r,0,o,a,0,2),i.invalidate()},e.prototype.hackTextureBySlotIndex=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.slots[r];if(!a)return!1;var o=a.getAttachment(),s=o.region;return n?(s=new pR,s.texture=n,s.size=i,a.hackRegion=s,a.hackAttachment=o):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite?this.setSpriteRegion(o,a.currentSprite,s):a.currentMesh&&this.setMeshRegion(o,a.currentMesh,s),!0},e.prototype.hackTextureBySlotName=function(r,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var a=this.skeleton.findSlotIndex(r);return a==-1?!1:this.hackTextureBySlotIndex(a,n,i)},e.prototype.hackTextureAttachment=function(r,n,i,a){a===void 0&&(a=null);var o=this.skeleton.findSlotIndex(r),s=this.skeleton.getAttachmentByName(r,n);s.region.texture=i;var c=this.skeleton.slots[o];if(!c)return!1;var l=c.getAttachment();if(n===l.name){var u=s.region;return i?(u=new pR,u.texture=i,u.size=a,c.hackRegion=u,c.hackAttachment=l):(c.hackRegion=null,c.hackAttachment=null),c.currentSprite&&c.currentSprite.region!=u?(this.setSpriteRegion(l,c.currentSprite,u),c.currentSprite.region=u):c.currentMesh&&c.currentMesh.region!=u&&this.setMeshRegion(l,c.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new _i},e.prototype.newSprite=function(r){return new iGe(r)},e.prototype.newGraphics=function(){return new wd},e.prototype.newMesh=function(r,n,i,a,o){return new aGe(r,n,i,a,o)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(r,n,i){if(r){for(var a=[],o=[],s=0,c=this.skeleton.slots.length;s<c;s++){var l=this.skeleton.slots[s],u=l.currentSpriteName||l.currentMeshName||"",f=l.currentSprite||l.currentMesh;u.endsWith(r)?(f.parentGroup=n,o.push(f)):i&&f&&(f.parentGroup=i,a.push(f))}return[a,o]}},e.prototype.destroy=function(r){this.debug=null;for(var n=0,i=this.skeleton.slots.length;n<i;n++){var a=this.skeleton.slots[n];for(var o in a.meshes)a.meshes[o].destroy(r);a.meshes=null;for(var s in a.sprites)a.sprites[s].destroy(r);a.sprites=null}for(var n=0,i=this.slotContainers.length;n<i;n++)this.slotContainers[n].destroy(r);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,r)},e.clippingPolygon=[],e}(_i);Object.defineProperty(Ig.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});function oGe(t){return t.type===Ur.TYPE.JSON}function sGe(t){return t.xhrType===Ur.XHR_RESPONSE_TYPE.BUFFER}Ur.setExtensionXhrType("skel",Ur.XHR_RESPONSE_TYPE.BUFFER);var lGe=function(){function t(){}return t.prototype.genMiddleware=function(){var e=this;return{use:function(r,n){if(!r.data)return n();var i=oGe(r)&&r.data.bones,a=sGe(r)&&(r.extension==="skel"||r.metadata&&r.metadata.spineMetadata);if(!i&&!a)return n();var o=null,s=r.data;i?o=e.createJsonParser():(o=e.createBinaryParser(),r.data instanceof ArrayBuffer&&(s=new Uint8Array(r.data)));var c=r.metadata||{},l=c?c.spineSkeletonScale:null;l&&(o.scale=l);var u=c.spineAtlas;if(u===!1)return n();if(u&&u.pages)return e.parseData(r,o,u,s),n();var f=c.spineAtlasSuffix||".atlas",h=r.url,p=h.indexOf("?");p>0&&(h=h.substr(0,p)),h=h.substr(0,h.lastIndexOf("."))+f,c.spineAtlasFile&&(h=c.spineAtlasFile),h=h.replace(this.baseUrl,"");var d={crossOrigin:r.crossOrigin,xhrType:Ur.XHR_RESPONSE_TYPE.TEXT,metadata:c.spineMetadata||null,parentResource:r},g={crossOrigin:r.crossOrigin,metadata:c.imageMetadata||null,parentResource:r},m=r.url.substr(0,r.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var v=c.imageNamePrefix||r.name+"_atlas_page_",_=c.images?Z6(c.images):c.image?Z6({default:c.image}):c.imageLoader?c.imageLoader(this,v,m,g):uGe(this,v,m,g);function y(b){new Z$e(b,_,function(w){w&&e.parseData(r,o,w,s),n()})}c.atlasRawData?y(c.atlasRawData):this.add(r.name+"_atlas",h,d,function(b){b.error?n():y(b.data)})}}},t}();function uGe(t,e,r,n){return r&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),function(i,a){var o=e+i,s=r+i,c=t.resources[o];if(c){var l=function(){a(c.texture.baseTexture)};c.texture?l():c.onAfterMiddleware.add(l)}else t.add(o,s,n,function(u){u.error?a(null):(i.indexOf("-pma.")>=0&&(u.texture.baseTexture.alphaMode=ba.PMA),a(u.texture.baseTexture))})}}function Z6(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vR=function(t,e){return vR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vR(t,e)};function wn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Tf=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,g=h.a,m=h.c,v=h.b,_=h.d,y=n,b=o;b<i;y+=2,b+=s){var w=u[y],E=u[y+1];a[b]=w*g+E*m+p,a[b+1]=w*v+E*_+d}return}for(var C=0,T=0,A=0;A<n;A+=2){var R=f[C];C+=R+1,T+=R}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],M=u[m+2];P+=(w*h.a+E*h.c+h.tx)*M,k+=(w*h.b+E*h.d+h.ty)*M}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,D=T<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,D+=2){var h=O[f[C]].matrix,w=u[m]+B[D],E=u[m+1]+B[D+1],M=u[m+2];P+=(w*h.a+E*h.c+h.tx)*M,k+=(w*h.b+E*h.d+h.ty)*M}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),xe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=xe.newFloatArray(this.vertices.length),xe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},e.nextID=0,e}(y3),LW=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.BoundingBox,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Tf),BW=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Clipping,n.color=new rt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Tf),kb=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Mesh,n.color=new rt(1,1,1,1),n.tempColor=new rt(0,0,0,0),n}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),xe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),xe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,this.edges!=null&&(r.edges=new Array(this.edges.length),xe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.newLinkedMesh=function(){var r=new e(this.name);return r.region=this.region,r.path=this.path,r.color.setFromColor(this.color),r.deformAttachment=this.deformAttachment,r.setParentMesh(this.parentMesh!=null?this.parentMesh:this),r},e}(Tf),Gv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Path,n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),xe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Tf),DW=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Point,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=re.cosDeg(this.rotation),a=re.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*re.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Tf),x3=function(){function t(e,r){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor==null?null:new rt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),b3=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new rt(1,1,1,1),n.offset=xe.newFloatArray(8),n.uvs=xe.newFloatArray(8),n.tempColor=new rt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,g=o*l+this.x,m=o*u,v=s*l+this.y,_=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-_,y[e.OY2]=v+h,y[e.OX3]=g-_,y[e.OY3]=v+m,y[e.OX4]=g-d,y[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof x3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,g=0;d=o[e.OX1],g=o[e.OY1],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX2],g=o[e.OY2],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX3],g=o[e.OY3],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX4],g=o[e.OY4],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l},e.prototype.copy=function(){var r=new e(this.name);return r.region=this.region,r.rendererObject=this.rendererObject,r.path=this.path,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,xe.arrayCopy(this.uvs,0,r.uvs,0,8),xe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(y3),cGe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=re.randomTriangular(-this.jitterX,this.jitterY),e.y+=re.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),fGe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*re.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new MW(2),t}(),ei=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(e){return this.timelineIds[e]==!0},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),Oi;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(Oi||(Oi={}));var js=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=xe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,g=this.curves;g[d++]=t.BEZIER;for(var m=h,v=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)g[d]=m,g[d+1]=v,h+=u,p+=f,u+=c,f+=l,m+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=re.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Ya=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(Oi.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.rotation=u.data.rotation;return;case Z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case Z.setup:u.rotation=u.data.rotation+h*o;break;case Z.first:case Z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case Z.add:u.rotation+=h*o}return}var p=ei.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],g=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-g)/(l[p+e.PREV_TIME]-g)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*m,s){case Z.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case Z.first:case Z.replace:v+=u.data.rotation-u.rotation;case Z.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(js),pf=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.x=u.data.x,u.y=u.data.y;return;case Z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*g,h+=(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case Z.first:case Z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case Z.add:u.x+=f*o,u.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(js),w3=function(t){wn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Oi.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case Z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*g)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*g)*u.data.scaleY}if(o==1)s==Z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,v=0;if(c==Kt.mixOut)switch(s){case Z.setup:m=u.data.scaleX,v=u.data.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.first:case Z.replace:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.add:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-u.data.scaleY)*o}else switch(s){case Z.setup:m=Math.abs(u.data.scaleX)*re.signum(f),v=Math.abs(u.data.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.first:case Z.replace:m=Math.abs(u.scaleX)*re.signum(f),v=Math.abs(u.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.add:m=re.signum(f),v=re.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}}},e}(pf),E3=function(t){wn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Oi.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case Z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*g,h=h+(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case Z.first:case Z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case Z.add:u.shearX+=f*o,u.shearY+=h*o}}},e}(pf),Vv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color);return;case Z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,g=0,m=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],g=u[v+e.PREV_B],m=u[v+e.PREV_A]}else{var _=ei.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],g=u[_+e.PREV_B],m=u[_+e.PREV_A];var y=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-y)/(u[_+e.PREV_TIME]-y));p+=(u[_+e.R]-p)*b,d+=(u[_+e.G]-d)*b,g+=(u[_+e.B]-g)*b,m+=(u[_+e.A]-m)*b}if(o==1)l.color.set(p,d,g,m);else{var f=l.color;s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(g-f.b)*o,(m-f.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(js),Hv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case Z.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;g=u[E+e.PREV_R],m=u[E+e.PREV_G],v=u[E+e.PREV_B],_=u[E+e.PREV_A],y=u[E+e.PREV_R2],b=u[E+e.PREV_G2],w=u[E+e.PREV_B2]}else{var C=ei.binarySearch(u,i,e.ENTRIES);g=u[C+e.PREV_R],m=u[C+e.PREV_G],v=u[C+e.PREV_B],_=u[C+e.PREV_A],y=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var T=u[C],A=this.getCurvePercent(C/e.ENTRIES-1,1-(i-T)/(u[C+e.PREV_TIME]-T));g+=(u[C+e.R]-g)*A,m+=(u[C+e.G]-m)*A,v+=(u[C+e.B]-v)*A,_+=(u[C+e.A]-_)*A,y+=(u[C+e.R2]-y)*A,b+=(u[C+e.G2]-b)*A,w+=(u[C+e.B2]-w)*A}if(o==1)l.color.set(g,m,v,_),l.darkColor.set(y,b,w,1);else{var f=l.color,h=l.darkColor;s==Z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((g-f.r)*o,(m-f.g)*o,(v-f.b)*o,(_-f.a)*o),h.add((y-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(js),$c=function(){function t(e){this.frames=xe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(Oi.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(c.bone.active){if(s==Kt.mixOut){o==Z.setup&&this.setAttachment(e,c,c.data.attachmentName);return}var l=this.frames;if(n<l[0]){(o==Z.setup||o==Z.first)&&this.setAttachment(e,c,c.data.attachmentName);return}var u=0;n>=l[l.length-1]?u=l.length-1:u=ei.binarySearch(l,n,1)-1;var f=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}},t.prototype.setAttachment=function(e,r,n){r.setAttachment(n==null?null:e.getAttachment(this.slotIndex,n))},t}(),J6=null,S3=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r),n.frameVertices=new Array(r),J6==null&&(J6=xe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(Oi.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(!(!(u instanceof Tf)||u.deformAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=Z.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var g=u;switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;break}var m=xe.setArraySize(f,p);if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)m[_]+=(v[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var y=xe.setArraySize(f,p);if(i>=d[d.length-1]){var b=h[d.length-1];if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,w=0;w<p;w++)y[w]+=b[w]-v[w];else for(var E=0;E<p;E++)y[E]+=b[E]}else xe.arrayCopy(b,0,y,0,p);else switch(s){case Z.setup:{var C=u;if(C.bones==null)for(var v=C.vertices,T=0;T<p;T++){var A=v[T];y[T]=A+(b[T]-A)*o}else for(var R=0;R<p;R++)y[R]=b[R]*o;break}case Z.first:case Z.replace:for(var O=0;O<p;O++)y[O]+=(b[O]-y[O])*o;break;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,P=0;P<p;P++)y[P]+=(b[P]-v[P])*o;else for(var k=0;k<p;k++)y[k]+=b[k]*o}return}var M=ei.binarySearch(d,i),B=h[M-1],D=h[M],H=d[M],ee=this.getCurvePercent(M-1,1-(i-H)/(d[M-1]-H));if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,ne=0;ne<p;ne++){var Y=B[ne];y[ne]+=Y+(D[ne]-Y)*ee-v[ne]}else for(var U=0;U<p;U++){var Y=B[U];y[U]+=Y+(D[U]-Y)*ee}}else for(var X=0;X<p;X++){var Y=B[X];y[X]=Y+(D[X]-Y)*ee}else switch(s){case Z.setup:{var V=u;if(V.bones==null)for(var v=V.vertices,G=0;G<p;G++){var Y=B[G],A=v[G];y[G]=A+(Y+(D[G]-Y)*ee-A)*o}else for(var te=0;te<p;te++){var Y=B[te];y[te]=(Y+(D[te]-Y)*ee)*o}break}case Z.first:case Z.replace:for(var oe=0;oe<p;oe++){var Y=B[oe];y[oe]+=(Y+(D[oe]-Y)*ee-y[oe])*o}break;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,ge=0;ge<p;ge++){var Y=B[ge];y[ge]+=(Y+(D[ge]-Y)*ee-v[ge])*o}else for(var le=0;le<p;le++){var Y=B[le];y[le]+=(Y+(D[le]-Y)*ee)*o}}}}},e}(js),Fb=function(){function t(e){this.frames=xe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return Oi.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=ei.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),id=function(){function t(e){this.frames=xe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return Oi.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==Kt.mixOut&&o==Z.setup){xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==Z.setup||o==Z.first)&&xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=ei.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)xe.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),zv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.SOFTNESS]=a,this.frames[r+e.BEND_DIRECTION]=o,this.frames[r+e.COMPRESS]=s?1:0,this.frames[r+e.STRETCH]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case Z.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==Z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,u.softness=u.data.softness+(l[l.length+e.PREV_SOFTNESS]-u.data.softness)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,u.softness+=(l[l.length+e.PREV_SOFTNESS]-u.softness)*o,c==Kt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=ei.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f+e.PREV_SOFTNESS],d=l[f],g=this.getCurvePercent(f/e.ENTRIES-1,1-(i-d)/(l[f+e.PREV_TIME]-d));s==Z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*g-u.data.mix)*o,u.softness=u.data.softness+(p+(l[f+e.SOFTNESS]-p)*g-u.data.softness)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*g-u.mix)*o,u.softness+=(p+(l[f+e.SOFTNESS]-p)*g-u.softness)*o,c==Kt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(js),Xv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(u.active){if(i<l[0]){var f=u.data;switch(s){case Z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case Z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,g=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],g=l[m+e.PREV_SHEAR]}else{var v=ei.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],g=l[v+e.PREV_SHEAR];var _=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-_)/(l[v+e.PREV_TIME]-_));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,g+=(l[v+e.SHEAR]-g)*y}if(s==Z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(g-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(g-u.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(js),Td=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.position=u.data.position;return;case Z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=ei.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(js),C3=function(t){wn(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(Oi.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.spacing=u.data.spacing;return;case Z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=ei.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o}},e}(Td),Wv=function(t){wn(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(Oi.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(u.active){if(i<l[0]){switch(s){case Z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case Z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=ei.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*g,h+=(l[p+e.TRANSLATE]-h)*g}s==Z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(js),UW=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new $W(this),this.propertyIDs=new FW,this.animationsChanged=!1,this.trackEntryPool=new Ob(function(){return new jW}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==Z.add)for(var d=0;d<h;d++){xe.webkit602BugfixHelper(l,c);var g=p[d];g instanceof $c?this.applyAttachmentTimeline(g,e,f,c,!0):g.apply(e,u,f,r,l,c,Kt.mixIn)}else{var m=s.timelineMode,v=s.timelinesRotation.length==0;v&&xe.setArraySize(s.timelinesRotation,h<<1,null);for(var _=s.timelinesRotation,d=0;d<h;d++){var y=p[d],b=m[d]==t.SUBSEQUENT?c:Z.setup;y instanceof Ya?this.applyRotateTimeline(y,e,f,l,b,_,d<<1,v):y instanceof $c?this.applyAttachmentTimeline(y,e,f,c,!0):(xe.webkit602BugfixHelper(l,c),y.apply(e,u,f,r,l,b,Kt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+t.SETUP,E=e.slots,C=0,T=e.slots.length;C<T;C++){var A=E[C];if(A.attachmentState==w){var R=A.data.attachmentName;A.setAttachment(R==null?null:e.getAttachment(A.data.index,R))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==Z.add)for(var g=0;g<f;g++)h[g].apply(r,l,u,o,d,n,Kt.mixOut);else{var m=i.timelineMode,v=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&xe.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var g=0;g<f;g++){var b=h[g],w=Kt.mixOut,E=void 0,C=0;switch(m[g]){case t.SUBSEQUENT:if(!c&&b instanceof id)continue;E=n,C=d;break;case t.FIRST:E=Z.setup,C=d;break;case t.HOLD_SUBSEQUENT:E=n,C=p;break;case t.HOLD_FIRST:E=Z.setup,C=p;break;default:E=Z.setup;var T=v[g];C=p*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=C,b instanceof Ya?this.applyRotateTimeline(b,r,u,C,E,y,g<<1,_):b instanceof $c?this.applyAttachmentTimeline(b,r,u,E,s):(xe.webkit602BugfixHelper(C,n),c&&b instanceof id&&E==Z.setup&&(w=Kt.mixIn),b.apply(r,l,u,o,C,E,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];if(o.bone.active){var s=e.frames;if(n<s[0])(i==Z.setup||i==Z.first)&&this.setAttachment(r,o,o.data.attachmentName,a);else{var c;n>=s[s.length-1]?c=s.length-1:c=ei.binarySearch(s,n)-1,this.setAttachment(r,o,e.attachmentNames[c],a)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n==null?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Kt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex];if(f.active){var h=0,p=0;if(n<u[0])switch(a){case Z.setup:f.rotation=f.data.rotation;default:return;case Z.first:h=f.rotation,p=f.data.rotation}else if(h=a==Z.setup?f.data.rotation:f.rotation,n>=u[u.length-Ya.ENTRIES])p=f.data.rotation+u[u.length+Ya.PREV_ROTATION];else{var d=ei.binarySearch(u,n,Ya.ENTRIES),g=u[d+Ya.PREV_ROTATION],m=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+Ya.PREV_TIME]-m));p=u[d+Ya.ROTATION]-g,p-=(16384-(16384.499999999996-p/360|0))*360,p=g+p*v+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)_=o[s];else{var b=0,w=0;c?(b=0,w=y):(b=o[s],w=o[s+1]);var E=y>0,C=b>=0;re.signum(w)!=re.signum(y)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*re.signum(b)),C=E),_=y+b-b%360,C!=E&&(_+=360*re.signum(b)),o[s]=_}o[s+1]=y,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(xe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a.mixBlend=Z.replace,a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=Z.add)&&this.computeHold(n),n=n.mixingTo;while(n!=null)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=xe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=xe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.add(n[c].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyId();if(!s.add(u))a[c]=t.SUBSEQUENT;else if(r==null||l instanceof $c||l instanceof id||l instanceof Fb||!r.animation.hasTimeline(u))a[c]=t.FIRST;else{for(var f=r.mixingTo;f!=null;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=f;continue e}break}a[c]=t.HOLD_FIRST}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new ei("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),jW=function(){function t(){this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),$W=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(va.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(va.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(va.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(va.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(va.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(va.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case va.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case va.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case va.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case va.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case va.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=re.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case va.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),va;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(va||(va={}));var hGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),GW=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),T3=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new b3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new kb(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new LW(r)},t.prototype.newPathAttachment=function(e,r){return new Gv(r)},t.prototype.newPointAttachment=function(e,r){return new DW(r)},t.prototype.newClippingAttachment=function(e,r){return new BW(r)},t}(),gR=function(){function t(e,r,n){if(this.matrix=new ln,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=re.cosDeg(n+o)*i*u,l.c=re.cosDeg(p)*a*u,l.b=re.sinDeg(n+o)*i*f,l.d=re.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,g=c.matrix.c,m=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+g*r+c.matrix.tx,l.ty=m*e+v*r+c.matrix.ty,this.data.transformMode){case Dt.Normal:{var p=n+90+s,_=re.cosDeg(n+o)*i,y=re.cosDeg(p)*a,b=re.sinDeg(n+o)*i,w=re.sinDeg(p)*a;l.a=d*_+g*b,l.c=d*y+g*w,l.b=m*_+v*b,l.d=m*y+v*w;return}case Dt.OnlyTranslation:{var p=n+90+s;l.a=re.cosDeg(n+o)*i,l.c=re.cosDeg(p)*a,l.b=re.sinDeg(n+o)*i,l.d=re.sinDeg(p)*a;break}case Dt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*v-g*m)/E,d/=this.skeleton.scaleX,m/=this.skeleton.scaleY,g=m*E,v=d*E,C=Math.atan2(m,d)*re.radDeg):(d=0,m=0,C=90-Math.atan2(v,g)*re.radDeg);var T=n+o-C,A=n+s-C+90,_=re.cosDeg(T)*i,y=re.cosDeg(A)*a,b=re.sinDeg(T)*i,w=re.sinDeg(A)*a;l.a=d*_-g*b,l.c=d*y-g*w,l.b=m*_+v*b,l.d=m*y+v*w;break}case Dt.NoScale:case Dt.NoScaleOrReflection:{var R=re.cosDeg(n),O=re.sinDeg(n),P=(d*R+g*O)/u,k=(m*R+v*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Dt.NoScale&&d*v-g*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var M=Math.PI/2+Math.atan2(k,P),B=Math.cos(M)*E,D=Math.sin(M)*E,_=re.cosDeg(o)*i,y=re.cosDeg(90+s)*a,b=re.sinDeg(o)*i,w=re.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*y+B*w,l.b=k*_+D*b,l.d=k*y+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*re.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*re.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*re.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*re.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var g=f*d-h*p;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,g)*re.radDeg,this.arotation=Math.atan2(p,f)*re.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*re.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*re.radDeg},t.prototype.localToWorldRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*re.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=re.cosDeg(e),c=re.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),A3=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Dt.Normal,this.skinRequired=!1,this.color=new rt,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Nb=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),I3=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),R3=function(){function t(e){this.name=e}return t}(),VW=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,g=0;switch(e.data.transformMode){case Dt.OnlyTranslation:d=r-e.worldX,g=n-e.worldY;break;case Dt.NoRotationOrReflection:var m=Math.abs(l*h-u*f)/(l*l+f*f),v=l/e.skeleton.scaleX,_=f/e.skeleton.scaleY;u=-_*m*e.skeleton.scaleX,h=v*m*e.skeleton.scaleY,p+=Math.atan2(_,v)*re.radDeg;default:var y=r-c.tx,b=n-c.ty,w=l*h-u*f;d=(y*h-b*u)/w-e.ax,g=(b*l-y*f)/w-e.ay}p+=Math.atan2(g,d)*re.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=e.ascaleX,C=e.ascaleY;if(i||a){switch(e.data.transformMode){case Dt.NoScale:case Dt.NoScaleOrReflection:d=r-e.worldX,g=n-e.worldY}var T=e.data.length*E,A=Math.sqrt(d*d+g*g);if(i&&A<T||a&&A>T&&T>1e-4){var m=(A/T-1)*s+1;E*=m,o&&(C*=m)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,E,C,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c){if(c==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var l=e.ax,u=e.ay,f=e.ascaleX,h=f,p=e.ascaleY,d=r.ascaleX,g=e.matrix,m=0,v=0,_=0;f<0?(f=-f,m=180,_=-1):(m=0,_=1),p<0&&(p=-p,_=-_),d<0?(d=-d,v=180):v=0;var y=r.ax,b=0,w=0,E=0,C=g.a,T=g.c,A=g.b,R=g.d,O=Math.abs(f-p)<=1e-4;O?(b=r.ay,w=C*y+T*b+g.tx,E=A*y+R*b+g.ty):(b=0,w=C*y+g.tx,E=A*y+g.ty);var P=e.parent.matrix;C=P.a,T=P.c,A=P.b,R=P.d;var k=1/(C*R-T*A),M=w-P.tx,B=E-P.ty,D=(M*R-B*T)*k-l,H=(B*C-M*A)*k-u,ee=Math.sqrt(D*D+H*H),ne=r.data.length*d,Y,U;if(ee<1e-4){this.apply1(e,n,i,!1,o,!1,c),r.updateWorldTransformWith(y,b,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}M=n-P.tx,B=i-P.ty;var X=(M*R-B*T)*k-l,V=(B*C-M*A)*k-u,G=X*X+V*V;if(s!=0){s*=f*(d+1)/2;var te=Math.sqrt(G),oe=te-ee-ne*f+s;if(oe>0){var ge=Math.min(1,oe/(s*2))-1;ge=(oe-s*(1-ge*ge))/te,X-=ge*X,V-=ge*V,G=X*X+V*V}}e:if(O){ne*=f;var le=(G-ee*ee-ne*ne)/(2*ee*ne);le<-1?le=-1:le>1&&(le=1,o&&(h*=(Math.sqrt(G)/(ee+ne)-1)*c+1)),U=Math.acos(le)*a,C=ee+ne*le,T=ne*Math.sin(U),Y=Math.atan2(V*C-X*T,X*C+V*T)}else{C=f*ne,T=p*ne;var ye=C*C,Le=T*T,ke=Math.atan2(V,X);A=Le*ee*ee+ye*G-ye*Le;var Ee=-2*Le*ee,Se=Le-ye;if(R=Ee*Ee-4*Se*A,R>=0){var De=Math.sqrt(R);Ee<0&&(De=-De),De=-(Ee+De)/2;var We=De/Se,Ve=A/De,He=Math.abs(We)<Math.abs(Ve)?We:Ve;if(He*He<=G){B=Math.sqrt(G-He*He)*a,Y=ke-Math.atan2(B,He),U=Math.atan2(B/p,(He-ee)/f);break e}}var qe=re.PI,Et=ee-C,Rt=Et*Et,ht=0,dt=0,St=ee+C,nr=St*St,Xt=0;A=-C*ee/(ye-Le),A>=-1&&A<=1&&(A=Math.acos(A),M=C*Math.cos(A)+ee,B=T*Math.sin(A),R=M*M+B*B,R<Rt&&(qe=A,Rt=R,Et=M,ht=B),R>nr&&(dt=A,nr=R,St=M,Xt=B)),G<=(Rt+nr)/2?(Y=ke-Math.atan2(ht*a,Et),U=qe*a):(Y=ke-Math.atan2(Xt*a,St),U=dt*a)}var ir=Math.atan2(b,y)*_,Vt=e.arotation;Y=(Y-ir)*re.radDeg+m-Vt,Y>180?Y-=360:Y<-180&&(Y+=360),e.updateWorldTransformWith(l,u,Vt+Y*c,h,e.ascaleY,0,0),Vt=r.arotation,U=((U+ir)*re.radDeg-r.ashearX)*_+v-Vt,U>180?U-=360:U<-180&&(U+=360),r.updateWorldTransformWith(y,b,Vt+U*c,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),P3=function(t){wn(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return e}(Nb),O3=function(t){wn(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n}return e}(Nb),gi;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(gi||(gi={}));var HW=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Gv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==gi.Length,l=o.rotateMode,u=l==Un.Tangent,f=l==Un.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,g=xe.setArraySize(this.spaces,p),m=null,v=this.spacing;if(f||c){f&&(m=xe.setArraySize(this.lengths,h));for(var _=0,y=p-1;_<y;){var b=d[_],w=b.data.length;if(w<t.epsilon)f&&(m[_]=0),g[++_]=0;else{var E=w*b.matrix.a,C=w*b.matrix.b,T=Math.sqrt(E*E+C*C);f&&(m[_]=T),g[++_]=(c?w+v:v)*T/w}}}else for(var _=1;_<p;_++)g[_]=v;var A=this.computeWorldPositions(e,p,u,o.positionMode==_n.Percent,s==gi.Percent),R=A[0],O=A[1],P=o.offsetRotation,k=!1;if(P==0)k=l==Un.Chain;else{k=!1;var M=this.target.bone.matrix;P*=M.a*M.d-M.b*M.c>0?re.degRad:-re.degRad}for(var _=0,M=3;_<h;_++,M+=3){var b=d[_],B=b.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var E=A[M],C=A[M+1],D=E-R,H=C-O;if(f){var ee=m[_];if(ee!=0){var ne=(Math.sqrt(D*D+H*H)/ee-1)*r+1;B.a*=ne,B.b*=ne}}if(R=E,O=C,a){var Y=B.a,U=B.c,X=B.b,V=B.d,G=0,te=0,oe=0;if(u?G=A[M-1]:g[_+1]==0?G=A[M+2]:G=Math.atan2(H,D),G-=Math.atan2(X,Y),k){te=Math.cos(G),oe=Math.sin(G);var ge=b.data.length;R+=(ge*(te*Y-oe*X)-D)*r,O+=(ge*(oe*Y+te*X)-H)*r}else G+=P;G>re.PI?G-=re.PI2:G<-re.PI&&(G+=re.PI2),G*=r,te=Math.cos(G),oe=Math.sin(G),B.a=te*Y-oe*X,B.c=te*U-oe*V,B.b=oe*Y+te*X,B.d=oe*U+te*V}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=xe.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var g=e.lengths;p-=f?1:2;var m=g[p];if(i&&(s*=m),a)for(var v=0;v<r;v++)c[v]*=m;u=xe.setArraySize(this.world,8);for(var v=0,_=0,y=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=m,w<0&&(w+=m),y=0;else if(w<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-m,u,0,l,_);continue}for(;;y++){var E=g[y];if(!(w>E)){if(y==0)w/=E;else{var C=g[y-1];w=(w-C)/(E-C)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||v>0&&b==0)}return l}f?(h+=2,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var T=xe.setArraySize(this.curves,p),A=0,R=u[0],O=u[1],P=0,k=0,M=0,B=0,D=0,H=0,ee=0,ne=0,Y=0,U=0,X=0,V=0,G=0,te=0,v=0,oe=2;v<p;v++,oe+=6)P=u[oe],k=u[oe+1],M=u[oe+2],B=u[oe+3],D=u[oe+4],H=u[oe+5],ee=(R-P*2+M)*.1875,ne=(O-k*2+B)*.1875,Y=((P-M)*3-R+D)*.09375,U=((k-B)*3-O+H)*.09375,X=ee*2+Y,V=ne*2+U,G=(P-R)*.75+ee+Y*.16666667,te=(k-O)*.75+ne+U*.16666667,A+=Math.sqrt(G*G+te*te),G+=X,te+=V,X+=Y,V+=U,A+=Math.sqrt(G*G+te*te),G+=X,te+=V,A+=Math.sqrt(G*G+te*te),G+=X+Y,te+=V+U,A+=Math.sqrt(G*G+te*te),T[v]=A,R=D,O=H;if(i&&(s*=A),a)for(var v=0;v<r;v++)c[v]*=A;for(var ge=this.segments,le=0,v=0,_=0,y=0,ye=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=A,w<0&&(w+=A),y=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>A){this.addAfterPosition(w-A,u,h-4,l,_);continue}for(;;y++){var Le=T[y];if(!(w>Le)){if(y==0)w/=Le;else{var C=T[y-1];w=(w-C)/(Le-C)}break}}if(y!=d){d=y;var ke=y*6;for(R=u[ke],O=u[ke+1],P=u[ke+2],k=u[ke+3],M=u[ke+4],B=u[ke+5],D=u[ke+6],H=u[ke+7],ee=(R-P*2+M)*.03,ne=(O-k*2+B)*.03,Y=((P-M)*3-R+D)*.006,U=((k-B)*3-O+H)*.006,X=ee*2+Y,V=ne*2+U,G=(P-R)*.3+ee+Y*.16666667,te=(k-O)*.3+ne+U*.16666667,le=Math.sqrt(G*G+te*te),ge[0]=le,ke=1;ke<8;ke++)G+=X,te+=V,X+=Y,V+=U,le+=Math.sqrt(G*G+te*te),ge[ke]=le;G+=X,te+=V,le+=Math.sqrt(G*G+te*te),ge[8]=le,G+=X+Y,te+=V+U,le+=Math.sqrt(G*G+te*te),ge[9]=le,ye=0}for(w*=le;;ye++){var Ee=ge[ye];if(!(w>Ee)){if(ye==0)w/=Ee;else{var C=ge[ye-1];w=ye+(w-C)/(Ee-C)}break}}this.addCurvePosition(w*.1,R,O,P,k,M,B,D,H,l,_,n||v>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,g=1-e,m=g*g,v=m*g,_=g*e,y=_*3,b=g*y,w=y*e,E=r*v+i*b+o*w+c*d,C=n*v+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),zW=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new $v,this.active=!1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)-Math.atan2(E,b)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),R=Math.sin(T);y.a=A*b-R*E,y.c=A*w-R*C,y.b=R*b+A*E,y.d=R*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=(O.x-y.tx)*r,y.ty+=(O.y-y.ty)*r,_=!0}if(n>0){var P=Math.sqrt(y.a*y.a+y.b*y.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),y.a*=P,y.b*=P,P=Math.sqrt(y.c*y.c+y.d*y.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),y.c*=P,y.d*=P,_=!0}if(i>0){var w=y.c,C=y.d,M=Math.atan2(C,w),T=Math.atan2(u,c)-Math.atan2(l,s)-(M-Math.atan2(y.b,y.a));T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T=M+(T+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),R=Math.sin(T);y.a=A*b-R*E,y.c=A*w-R*C,y.b=R*b+A*E,y.d=R*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=O.x*r,y.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=P,y.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=P,y.d*=P,_=!0}if(i>0){var T=Math.atan2(u,c)-Math.atan2(l,s);T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2);var w=y.c,C=y.d;T=Math.atan2(C,w)+(T-re.PI/2+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,g=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),g>1e-5&&(g=(g+(a.ascaleY-g+this.data.offsetScaleY)*n)/g));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,g,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var g=l.ashearY;i>0&&(g+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,g)}},t}(),XW=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new gR(n,this,null);else{var a=this.bones[n.parent.index];i=new gR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new x3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new VW(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new zW(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new HW(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin!=null)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a!=null)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var g=s[d];if(g.data.order==n){this.sortIkConstraint(g);continue e}}for(var d=0;d<f;d++){var g=c[d];if(g.data.order==n){this.sortTransformConstraint(g);continue e}}for(var d=0;d<h;d++){var g=l[d];if(g.data.order==n){this.sortPathConstraint(g);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin!=null&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Gv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin!=null&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Gv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;xe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof b3)h=8,p=xe.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof kb){var g=d;h=g.worldVerticesLength,p=xe.setArraySize(n,h,0),g.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,v=p.length;m<v;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),k3=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),F3=function(){function t(e,r,n){if(this.color=new rt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),N3=function(t){wn(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return e}(Nb),mR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Cx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment!=null&&(c.attachment instanceof kb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&(n[r]=null)},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new mR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new mR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),WW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new k3;n.name="";var i=new Sx(e);if(n.hash=i.readString(),n.version=i.readString(),n.version==="3.8.75"){var a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var s=0;s=i.readInt(!0);for(var c=0;c<s;c++)i.strings.push(i.readString());s=i.readInt(!0);for(var c=0;c<s;c++){var l=i.readString(),u=c==0?null:n.bones[i.readInt(!0)],f=new A3(c,l,u);f.rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&rt.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++){var h=i.readString(),p=n.bones[i.readInt(!0)],f=new F3(c,h,p);rt.rgba8888ToColor(f.color,i.readInt32());var d=i.readInt32();d!=-1&&rt.rgb888ToColor(f.darkColor=new rt,d),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}s=i.readInt(!0);for(var c=0,g=void 0;c<s;c++){var f=new P3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var m=0;m<g;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}s=i.readInt(!0);for(var c=0,g=void 0;c<s;c++){var f=new N3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var m=0;m<g;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}s=i.readInt(!0);for(var c=0,g=void 0;c<s;c++){var f=new O3(i.readString());f.order=i.readInt(!0),f.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var m=0;m<g;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==_n.Fixed&&(f.position*=r),f.spacing=i.readFloat(),(f.spacingMode==gi.Length||f.spacingMode==gi.Fixed)&&(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var v=this.readSkin(i,n,!0,o);v!=null&&(n.defaultSkin=v,n.skins.push(v));{var c=n.skins.length;for(xe.setArraySize(n.skins,s=c+i.readInt(!0));c<s;c++)n.skins[c]=this.readSkin(i,n,!1,o)}s=this.linkedMeshes.length;for(var c=0;c<s;c++){var _=this.linkedMeshes[c],y=_.skin==null?n.defaultSkin:n.findSkin(_.skin);if(y==null)throw new Error("Skin not found: "+_.skin);var b=y.getAttachment(_.slotIndex,_.parent);if(b==null)throw new Error("Parent mesh not found: "+_.parent);_.mesh.deformAttachment=_.inheritDeform?b:_.mesh,_.mesh.setParentMesh(b)}this.linkedMeshes.length=0,s=i.readInt(!0);for(var c=0;c<s;c++){var f=new R3(i.readStringRef());f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath!=null&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}s=i.readInt(!0);for(var c=0;c<s;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Cx("default")}else{a=new Cx(e.readStringRef()),a.bones.length=e.readInt(!0);for(var s=0,c=a.bones.length;s<c;s++)a.bones[s]=r.bones[e.readInt(!0)];for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var s=0,c=e.readInt(!0);s<c;s++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var s=0;s<o;s++)for(var l=e.readInt(!0),u=0,f=e.readInt(!0);u<f;u++){var h=e.readStringRef(),p=this.readAttachment(e,r,a,l,h,i);p!=null&&a.setAttachment(l,h,p)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();c==null&&(c=a);var l=e.readByte(),u=t.AttachmentTypeValues[l];switch(u){case tr.Region:{var f=e.readStringRef(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),g=e.readFloat(),m=e.readFloat(),v=e.readFloat(),_=e.readFloat(),y=e.readInt32();f==null&&(f=c);var b=this.attachmentLoader.newRegionAttachment(n,c,f);return b==null?null:(b.path=f,b.x=p*s,b.y=d*s,b.scaleX=g,b.scaleY=m,b.rotation=h,b.width=v*s,b.height=_*s,rt.rgba8888ToColor(b.color,y),b)}case tr.BoundingBox:{var w=e.readInt(!0),E=this.readVertices(e,w),y=o?e.readInt32():0,C=this.attachmentLoader.newBoundingBoxAttachment(n,c);return C==null?null:(C.worldVerticesLength=w<<1,C.vertices=E.vertices,C.bones=E.bones,o&&rt.rgba8888ToColor(C.color,y),C)}case tr.Mesh:{var f=e.readStringRef(),y=e.readInt32(),w=e.readInt(!0),T=this.readFloatArray(e,w<<1,1),A=this.readShortArray(e),E=this.readVertices(e,w),R=e.readInt(!0),O=null,v=0,_=0;o&&(O=this.readShortArray(e),v=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,rt.rgba8888ToColor(P.color,y),P.bones=E.bones,P.vertices=E.vertices,P.worldVerticesLength=w<<1,P.triangles=A,P.regionUVs=new Float32Array(T),P.hullLength=R<<1,o&&(P.edges=O,P.width=v*s,P.height=_*s),P)}case tr.LinkedMesh:{var f=e.readStringRef(),y=e.readInt32(),k=e.readStringRef(),M=e.readStringRef(),B=e.readBoolean(),v=0,_=0;o&&(v=e.readFloat(),_=e.readFloat()),f==null&&(f=c);var P=this.attachmentLoader.newMeshAttachment(n,c,f);return P==null?null:(P.path=f,rt.rgba8888ToColor(P.color,y),o&&(P.width=v*s,P.height=_*s),this.linkedMeshes.push(new dGe(P,k,i,M,B)),P)}case tr.Path:{for(var D=e.readBoolean(),H=e.readBoolean(),w=e.readInt(!0),E=this.readVertices(e,w),ee=xe.newArray(w/3,0),ne=0,Y=ee.length;ne<Y;ne++)ee[ne]=e.readFloat()*s;var y=o?e.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,c);return f==null?null:(f.closed=D,f.constantSpeed=H,f.worldVerticesLength=w<<1,f.vertices=E.vertices,f.bones=E.bones,f.lengths=ee,o&&rt.rgba8888ToColor(f.color,y),f)}case tr.Point:{var h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),y=o?e.readInt32():0,U=this.attachmentLoader.newPointAttachment(n,c);return U==null?null:(U.x=p*s,U.y=d*s,U.rotation=h,o&&rt.rgba8888ToColor(U.color,y),U)}case tr.Clipping:{var X=e.readInt(!0),w=e.readInt(!0),E=this.readVertices(e,w),y=o?e.readInt32():0,V=this.attachmentLoader.newClippingAttachment(n,c);return V==null?null:(V.endSlot=r.slots[X],V.worldVerticesLength=w<<1,V.vertices=E.vertices,V.bones=E.bones,o&&rt.rgba8888ToColor(V.color,y),V)}}return null},t.prototype.readVertices=function(e,r){var n=r<<1,i=new pGe,a=this.scale;if(!e.readBoolean())return i.vertices=this.readFloatArray(e,n,a),i;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*a),o.push(e.readFloat()*a),o.push(e.readFloat())}return i.vertices=xe.toFloatArray(o),i.bones=s,i},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,a=this.scale,o=0,s=new rt,c=new rt,l=0,u=e.readInt(!0);l<u;l++)for(var f=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),g=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:{var m=new $c(g);m.slotIndex=f;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readStringRef());i.push(m),o=Math.max(o,m.frames[g-1]);break}case t.SLOT_COLOR:{var m=new Vv(g);m.slotIndex=f;for(var v=0;v<g;v++){var _=e.readFloat();rt.rgba8888ToColor(s,e.readInt32()),m.setFrame(v,_,s.r,s.g,s.b,s.a),v<g-1&&this.readCurve(e,v,m)}i.push(m),o=Math.max(o,m.frames[(g-1)*Vv.ENTRIES]);break}case t.SLOT_TWO_COLOR:{var m=new Hv(g);m.slotIndex=f;for(var v=0;v<g;v++){var _=e.readFloat();rt.rgba8888ToColor(s,e.readInt32()),rt.rgb888ToColor(c,e.readInt32()),m.setFrame(v,_,s.r,s.g,s.b,s.a,c.r,c.g,c.b),v<g-1&&this.readCurve(e,v,m)}i.push(m),o=Math.max(o,m.frames[(g-1)*Hv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var y=e.readInt(!0),h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),g=e.readInt(!0);switch(d){case t.BONE_ROTATE:{var m=new Ya(g);m.boneIndex=y;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Ya.ENTRIES]);break}case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:{var m=void 0,b=1;d==t.BONE_SCALE?m=new w3(g):d==t.BONE_SHEAR?m=new E3(g):(m=new pf(g),b=a),m.boneIndex=y;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat()*b,e.readFloat()*b),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*pf.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),g=e.readInt(!0),m=new zv(g);m.ikConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*zv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++){var w=e.readInt(!0),g=e.readInt(!0),m=new Xv(g);m.transformConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Xv.ENTRIES])}for(var l=0,u=e.readInt(!0);l<u;l++)for(var w=e.readInt(!0),E=n.pathConstraints[w],h=0,p=e.readInt(!0);h<p;h++){var d=e.readByte(),g=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:{var m=void 0,b=1;d==t.PATH_SPACING?(m=new C3(g),(E.spacingMode==gi.Length||E.spacingMode==gi.Fixed)&&(b=a)):(m=new Td(g),E.positionMode==_n.Fixed&&(b=a)),m.pathConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat()*b),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Td.ENTRIES]);break}case t.PATH_MIX:{var m=new Wv(g);m.pathConstraintIndex=w;for(var v=0;v<g;v++)m.setFrame(v,e.readFloat(),e.readFloat(),e.readFloat()),v<g-1&&this.readCurve(e,v,m);i.push(m),o=Math.max(o,m.frames[(g-1)*Wv.ENTRIES]);break}}}for(var l=0,u=e.readInt(!0);l<u;l++)for(var C=n.skins[e.readInt(!0)],h=0,p=e.readInt(!0);h<p;h++)for(var f=e.readInt(!0),T=0,A=e.readInt(!0);T<A;T++){var R=C.getAttachment(f,e.readStringRef()),O=R.bones!=null,P=R.vertices,k=O?P.length/3*2:P.length,g=e.readInt(!0),m=new S3(g);m.slotIndex=f,m.attachment=R;for(var v=0;v<g;v++){var _=e.readFloat(),M=void 0,B=e.readInt(!0);if(B==0)M=O?xe.newFloatArray(k):P;else{M=xe.newFloatArray(k);var D=e.readInt(!0);if(B+=D,a==1)for(var H=D;H<B;H++)M[H]=e.readFloat();else for(var H=D;H<B;H++)M[H]=e.readFloat()*a;if(!O)for(var H=0,ee=M.length;H<ee;H++)M[H]+=P[H]}m.setFrame(v,_,M),v<g-1&&this.readCurve(e,v,m)}i.push(m),o=Math.max(o,m.frames[g-1])}var ne=e.readInt(!0);if(ne>0){for(var m=new id(ne),Y=n.slots.length,l=0;l<ne;l++){for(var _=e.readFloat(),U=e.readInt(!0),X=xe.newArray(Y,0),h=Y-1;h>=0;h--)X[h]=-1;for(var V=xe.newArray(Y-U,0),G=0,te=0,h=0;h<U;h++){for(var f=e.readInt(!0);G!=f;)V[te++]=G++;X[G+e.readInt(!0)]=G++}for(;G<Y;)V[te++]=G++;for(var h=Y-1;h>=0;h--)X[h]==-1&&(X[h]=V[--te]);m.setFrame(l,_,X)}i.push(m),o=Math.max(o,m.frames[ne-1])}var oe=e.readInt(!0);if(oe>0){for(var m=new Fb(oe),l=0;l<oe;l++){var _=e.readFloat(),ge=n.events[e.readInt(!0)],le=new I3(_,ge);le.intValue=e.readInt(!1),le.floatValue=e.readFloat(),le.stringValue=e.readBoolean()?e.readString():ge.stringValue,le.data.audioPath!=null&&(le.volume=e.readFloat(),le.balance=e.readFloat()),m.setFrame(l,le)}i.push(m),o=Math.max(o,m.frames[oe-1])}return new ei(r,i,o)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat());break}},t.prototype.setCurve=function(e,r,n,i,a,o){e.setCurve(r,n,i,a,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[Dt.Normal,Dt.OnlyTranslation,Dt.NoRotationOrReflection,Dt.NoScale,Dt.NoScaleOrReflection],t.PositionModeValues=[_n.Fixed,_n.Percent],t.SpacingModeValues=[gi.Length,gi.Fixed,gi.Percent],t.RotateModeValues=[Un.Tangent,Un.Chain,Un.ChainScale],t.BlendModeValues=[ct.NORMAL,ct.ADD,ct.MULTIPLY,ct.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),dGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),pGe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}(),vGe=function(t){wn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_3),YW=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new k3,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null){if(n.hash=a.hash,n.version=a.spine,n.version.substr(0,3)!=="3.8"){var o="Spine 3.8 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(o)}if(n.version==="3.8.75"){var o="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(o)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var c=i.bones[s],l=null,u=this.getValue(c,"parent",null);if(u!=null&&(l=n.findBone(u),l==null))throw new Error("Parent bone not found: "+u);var f=new A3(n.bones.length,c.name,l);f.length=this.getValue(c,"length",0)*r,f.x=this.getValue(c,"x",0)*r,f.y=this.getValue(c,"y",0)*r,f.rotation=this.getValue(c,"rotation",0),f.scaleX=this.getValue(c,"scaleX",1),f.scaleY=this.getValue(c,"scaleY",1),f.shearX=this.getValue(c,"shearX",0),f.shearY=this.getValue(c,"shearY",0),f.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),f.skinRequired=this.getValue(c,"skin",!1),n.bones.push(f)}if(i.slots)for(var s=0;s<i.slots.length;s++){var h=i.slots[s],p=h.name,d=h.bone,g=n.findBone(d);if(g==null)throw new Error("Slot bone not found: "+d);var f=new F3(n.slots.length,p,g),m=this.getValue(h,"color",null);m!=null&&f.color.setFromString(m);var v=this.getValue(h,"dark",null);v!=null&&(f.darkColor=new rt(1,1,1,1),f.darkColor.setFromString(v)),f.attachmentName=this.getValue(h,"attachment",null),f.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(f)}if(i.ik)for(var s=0;s<i.ik.length;s++){var _=i.ik[s],f=new P3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],b=n.findBone(d);if(b==null)throw new Error("IK bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("IK target bone not found: "+w);f.mix=this.getValue(_,"mix",1),f.softness=this.getValue(_,"softness",0)*r,f.bendDirection=this.getValue(_,"bendPositive",!0)?1:-1,f.compress=this.getValue(_,"compress",!1),f.stretch=this.getValue(_,"stretch",!1),f.uniform=this.getValue(_,"uniform",!1),n.ikConstraints.push(f)}if(i.transform)for(var s=0;s<i.transform.length;s++){var _=i.transform[s],f=new N3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findBone(w),f.target==null)throw new Error("Transform constraint target bone not found: "+w);f.local=this.getValue(_,"local",!1),f.relative=this.getValue(_,"relative",!1),f.offsetRotation=this.getValue(_,"rotation",0),f.offsetX=this.getValue(_,"x",0)*r,f.offsetY=this.getValue(_,"y",0)*r,f.offsetScaleX=this.getValue(_,"scaleX",0),f.offsetScaleY=this.getValue(_,"scaleY",0),f.offsetShearY=this.getValue(_,"shearY",0),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),f.scaleMix=this.getValue(_,"scaleMix",1),f.shearMix=this.getValue(_,"shearMix",1),n.transformConstraints.push(f)}if(i.path)for(var s=0;s<i.path.length;s++){var _=i.path[s],f=new O3(_.name);f.order=this.getValue(_,"order",0),f.skinRequired=this.getValue(_,"skin",!1);for(var y=0;y<_.bones.length;y++){var d=_.bones[y],b=n.findBone(d);if(b==null)throw new Error("Transform constraint bone not found: "+d);f.bones.push(b)}var w=_.target;if(f.target=n.findSlot(w),f.target==null)throw new Error("Path target slot not found: "+w);f.positionMode=t.positionModeFromString(this.getValue(_,"positionMode","percent")),f.spacingMode=t.spacingModeFromString(this.getValue(_,"spacingMode","length")),f.rotateMode=t.rotateModeFromString(this.getValue(_,"rotateMode","tangent")),f.offsetRotation=this.getValue(_,"rotation",0),f.position=this.getValue(_,"position",0),f.positionMode==_n.Fixed&&(f.position*=r),f.spacing=this.getValue(_,"spacing",0),(f.spacingMode==gi.Length||f.spacingMode==gi.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(_,"rotateMix",1),f.translateMix=this.getValue(_,"translateMix",1),n.pathConstraints.push(f)}if(i.skins)for(var s=0;s<i.skins.length;s++){var E=i.skins[s],C=new Cx(E.name);if(E.bones)for(var T=0;T<E.bones.length;T++){var b=n.findBone(E.bones[T]);if(b==null)throw new Error("Skin bone not found: "+E.bones[s]);C.bones.push(b)}if(E.ik)for(var T=0;T<E.ik.length;T++){var A=n.findIkConstraint(E.ik[T]);if(A==null)throw new Error("Skin IK constraint not found: "+E.ik[s]);C.constraints.push(A)}if(E.transform)for(var T=0;T<E.transform.length;T++){var A=n.findTransformConstraint(E.transform[T]);if(A==null)throw new Error("Skin transform constraint not found: "+E.transform[s]);C.constraints.push(A)}if(E.path)for(var T=0;T<E.path.length;T++){var A=n.findPathConstraint(E.path[T]);if(A==null)throw new Error("Skin path constraint not found: "+E.path[s]);C.constraints.push(A)}for(var p in E.attachments){var R=n.findSlot(p);if(R==null)throw new Error("Slot not found: "+p);var h=E.attachments[p];for(var O in h){var P=this.readAttachment(h[O],C,R.index,O,n);P!=null&&C.setAttachment(R.index,O,P)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var s=0,k=this.linkedMeshes.length;s<k;s++){var M=this.linkedMeshes[s],C=M.skin==null?n.defaultSkin:n.findSkin(M.skin);if(C==null)throw new Error("Skin not found: "+M.skin);var B=C.getAttachment(M.slotIndex,M.parent);if(B==null)throw new Error("Parent mesh not found: "+M.parent);M.mesh.deformAttachment=M.inheritDeform?B:M.mesh,M.mesh.setParentMesh(B)}if(this.linkedMeshes.length=0,i.events)for(var D in i.events){var H=i.events[D],f=new R3(D);f.intValue=this.getValue(H,"int",0),f.floatValue=this.getValue(H,"float",0),f.stringValue=this.getValue(H,"string",""),f.audioPath=this.getValue(H,"audio",null),f.audioPath!=null&&(f.volume=this.getValue(H,"volume",1),f.balance=this.getValue(H,"balance",0)),n.events.push(f)}if(i.animations)for(var ee in i.animations){var ne=i.animations[ee];this.readAnimation(ne,ee,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u),h.width=this.getValue(e,"width",0)*o,h.height=this.getValue(e,"height",0)*o;var p=this.getValue(e,"parent",null);if(p!=null)return this.linkedMeshes.push(new gGe(h,this.getValue(e,"skin",null),n,p,this.getValue(e,"deform",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=this.getValue(e,"edges",null),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,c,g<<1);for(var m=xe.newArray(g/3,0),v=0;v<e.lengths.length;v++)m[v]=e.lengths[v]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);y.endSlot=w}var g=e.vertexCount;this.readVertices(e,y,g<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=xe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=xe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new $c(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p++,this.getValue(g,"time",0),g.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new Vv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],m=new rt;m.setFromString(g.color||"ffffffff"),h.setFrame(p,this.getValue(g,"time",0),m.r,m.g,m.b,m.a),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Vv.ENTRIES])}else if(u=="twoColor"){var h=new Hv(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],v=new rt,_=new rt;v.setFromString(g.light),_.setFromString(g.dark),h.setFrame(p,this.getValue(g,"time",0),v.r,v.g,v.b,v.a,_.r,_.g,_.b),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Hv.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var b=e.bones[y],w=n.findBoneIndex(y);if(w==-1)throw new Error("Bone not found: "+y);for(var u in b){var f=b[u];if(u==="rotate"){var h=new Ya(f.length);h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"angle",0)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ya.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1,C=0;u==="scale"?(h=new w3(f.length),C=1):u==="shear"?h=new E3(f.length):(h=new pf(f.length),E=i),h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d],T=this.getValue(g,"x",C),A=this.getValue(g,"y",C);h.setFrame(p,this.getValue(g,"time",0),T*E,A*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*pf.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var R in e.ik){var O=e.ik[R],P=n.findIkConstraint(R),h=new zv(O.length);h.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var g=O[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"mix",1),this.getValue(g,"softness",0)*i,this.getValue(g,"bendPositive",!0)?1:-1,this.getValue(g,"compress",!1),this.getValue(g,"stretch",!1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*zv.ENTRIES])}if(e.transform)for(var R in e.transform){var O=e.transform[R],P=n.findTransformConstraint(R),h=new Xv(O.length);h.transformConstraintIndex=n.transformConstraints.indexOf(P);for(var p=0,d=0;d<O.length;d++){var g=O[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1),this.getValue(g,"scaleMix",1),this.getValue(g,"shearMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Xv.ENTRIES])}if(e.path)for(var R in e.path){var O=e.path[R],k=n.findPathConstraintIndex(R);if(k==-1)throw new Error("Path constraint not found: "+R);var M=n.pathConstraints[k];for(var u in O){var f=O[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new C3(f.length),(M.spacingMode==gi.Length||M.spacingMode==gi.Fixed)&&(E=i)):(h=new Td(f.length),M.positionMode==_n.Fixed&&(E=i)),h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,u,0)*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Td.ENTRIES])}else if(u==="mix"){var h=new Wv(f.length);h.pathConstraintIndex=k;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Wv.ENTRIES])}}}if(e.deform)for(var B in e.deform){var D=e.deform[B],H=n.findSkin(B);if(H!=null)for(var s in D){var c=D[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],ee=H.getAttachment(l,u);if(ee==null)throw new Error("Deform attachment not found: "+f.name);var ne=ee.bones!=null,Y=ee.vertices,U=ne?Y.length/3*2:Y.length,h=new S3(f.length);h.slotIndex=l,h.attachment=ee;for(var p=0,X=0;X<f.length;X++){var g=f[X],V=void 0,G=this.getValue(g,"vertices",null);if(G==null)V=ne?xe.newFloatArray(U):Y;else{V=xe.newFloatArray(U);var te=this.getValue(g,"offset",0);if(xe.arrayCopy(G,0,V,te,G.length),i!=1)for(var d=te,oe=d+G.length;d<oe;d++)V[d]*=i;if(!ne)for(var d=0;d<U;d++)V[d]+=Y[d]}h.setFrame(p,this.getValue(g,"time",0),V),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var ge=e.drawOrder;if(ge==null&&(ge=e.draworder),ge!=null){for(var h=new id(ge.length),le=n.slots.length,p=0,X=0;X<ge.length;X++){var ye=ge[X],Le=null,ke=this.getValue(ye,"offsets",null);if(ke!=null){Le=xe.newArray(le,-1);for(var Ee=xe.newArray(le-ke.length,0),Se=0,De=0,d=0;d<ke.length;d++){var We=ke[d],l=n.findSlotIndex(We.slot);if(l==-1)throw new Error("Slot not found: "+We.slot);for(;Se!=l;)Ee[De++]=Se++;Le[Se+We.offset]=Se++}for(;Se<le;)Ee[De++]=Se++;for(var d=le-1;d>=0;d--)Le[d]==-1&&(Le[d]=Ee[--De])}h.setFrame(p++,this.getValue(ye,"time",0),Le)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new Fb(e.events.length),p=0,d=0;d<e.events.length;d++){var Ve=e.events[d],He=n.findEvent(Ve.name);if(He==null)throw new Error("Event not found: "+Ve.name);var qe=new I3(xe.toSinglePrecision(this.getValue(Ve,"time",0)),He);qe.intValue=this.getValue(Ve,"int",He.intValue),qe.floatValue=this.getValue(Ve,"float",He.floatValue),qe.stringValue=this.getValue(Ve,"string",He.stringValue),qe.data.audioPath!=null&&(qe.volume=this.getValue(Ve,"volume",1),qe.balance=this.getValue(Ve,"balance",0)),h.setFrame(p++,qe)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new ei(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")r.setStepped(n);else{var i=e.curve;r.setCurve(n,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ct.NORMAL;if(e=="additive")return ct.ADD;if(e=="multiply")return ct.MULTIPLY;if(e=="screen")return ct.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return _n.Fixed;if(e=="percent")return _n.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return gi.Length;if(e=="fixed")return gi.Fixed;if(e=="percent")return gi.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Un.Tangent;if(e=="chain")return Un.Chain;if(e=="chainscale")return Un.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Dt.Normal;if(e=="onlytranslation")return Dt.OnlyTranslation;if(e=="norotationorreflection")return Dt.NoRotationOrReflection;if(e=="noscale")return Dt.NoScale;if(e=="noscaleorreflection")return Dt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),gGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=a}return t}(),mGe=function(t){wn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new XW(r),this.skeleton.updateWorldTransform(),this.stateData=new GW(r),this.state=new UW(this.stateData)},e}(Ig);const _Ge=Object.freeze(Object.defineProperty({__proto__:null,Animation:ei,AnimationState:UW,AnimationStateAdapter:hGe,AnimationStateData:GW,AtlasAttachmentLoader:T3,Attachment:y3,AttachmentTimeline:$c,Bone:gR,BoneData:A3,BoundingBoxAttachment:LW,ClippingAttachment:BW,ColorTimeline:Vv,ConstraintData:Nb,CurveTimeline:js,DeformTimeline:S3,DrawOrderTimeline:id,Event:I3,EventData:R3,EventQueue:$W,EventTimeline:Fb,get EventType(){return va},IkConstraint:VW,IkConstraintData:P3,IkConstraintTimeline:zv,JitterEffect:cGe,MeshAttachment:kb,PathAttachment:Gv,PathConstraint:HW,PathConstraintData:O3,PathConstraintMixTimeline:Wv,PathConstraintPositionTimeline:Td,PathConstraintSpacingTimeline:C3,PointAttachment:DW,RegionAttachment:b3,RotateTimeline:Ya,ScaleTimeline:w3,ShearTimeline:E3,Skeleton:XW,SkeletonBinary:WW,SkeletonBounds:vGe,SkeletonData:k3,SkeletonJson:YW,Skin:Cx,SkinEntry:mR,Slot:x3,SlotData:F3,get SpacingMode(){return gi},Spine:mGe,SwirlEffect:fGe,get TimelineType(){return Oi},TrackEntry:jW,TransformConstraint:zW,TransformConstraintData:N3,TransformConstraintTimeline:Xv,TranslateTimeline:pf,TwoColorTimeline:Hv,VertexAttachment:Tf},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _R=function(t,e){return _R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},_R(t,e)};function ri(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_R(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var M3=function(){function t(e){if(e==null)throw new Error("name cannot be null.");this.name=e}return t}(),Af=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.id=(e.nextID++&65535)<<11,n.worldVerticesLength=0,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.attachmentVertices,u=this.vertices,f=this.bones;if(f==null){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,g=h.a,m=h.c,v=h.b,_=h.d,y=n,b=o;b<i;y+=2,b+=s){var w=u[y],E=u[y+1];a[b]=w*g+E*m+p,a[b+1]=w*v+E*_+d}return}for(var C=0,T=0,A=0;A<n;A+=2){var R=f[C];C+=R+1,T+=R}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],M=u[m+2];P+=(w*h.a+E*h.c+h.tx)*M,k+=(w*h.b+E*h.d+h.ty)*M}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,D=T<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,D+=2){var h=O[f[C]].matrix,w=u[m]+B[D],E=u[m+1]+B[D+1],M=u[m+2];P+=(w*h.a+E*h.c+h.tx)*M,k+=(w*h.b+E*h.d+h.ty)*M}a[b]=P,a[b+1]=k}},e.prototype.applyDeform=function(r){return this==r},e.nextID=0,e}(M3),qW=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.BoundingBox,n.color=new rt(1,1,1,1),n}return e}(Af),KW=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Clipping,n.color=new rt(.2275,.2275,.8078,1),n}return e}(Af),L3=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Mesh,n.color=new rt(1,1,1,1),n.inheritDeform=!1,n.tempColor=new rt(0,0,0,0),n}return e.prototype.applyDeform=function(r){return this==r||this.inheritDeform&&this.parentMesh==r},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r!=null&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e}(Af),Yv=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Path,n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e}(Af),ZW=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Point,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=re.cosDeg(this.rotation),a=re.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*re.radDeg},e}(Af),B3=function(){function t(e,r){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor==null?null:new rt,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),D3=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new rt(1,1,1,1),n.offset=xe.newFloatArray(8),n.uvs=xe.newFloatArray(8),n.tempColor=new rt(1,1,1,1),n}return e.prototype.updateOffset=function(){var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,a=-this.height/2*this.scaleY+this.region.offsetY*n,o=i+this.region.width*r,s=a+this.region.height*n,c=this.rotation*Math.PI/180,l=Math.cos(c),u=Math.sin(c),f=i*l+this.x,h=i*u,p=a*l+this.y,d=a*u,g=o*l+this.x,m=o*u,v=s*l+this.y,_=s*u,y=this.offset;y[e.OX1]=f-d,y[e.OY1]=p+h,y[e.OX2]=f-_,y[e.OY2]=v+h,y[e.OX3]=g-_,y[e.OY3]=v+m,y[e.OX4]=g-d,y[e.OY4]=p+m},e.prototype.setRegion=function(r){this.region=r;var n=this.uvs;r.rotate?(n[2]=r.u,n[3]=r.v2,n[4]=r.u,n[5]=r.v,n[6]=r.u2,n[7]=r.v,n[0]=r.u2,n[1]=r.v2):(n[0]=r.u,n[1]=r.v2,n[2]=r.u,n[3]=r.v,n[4]=r.u2,n[5]=r.v,n[6]=r.u2,n[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){var o=this.offset,s=r instanceof B3?r.bone.matrix:r.matrix,c=s.tx,l=s.ty,u=s.a,f=s.c,h=s.b,p=s.d,d=0,g=0;d=o[e.OX1],g=o[e.OY1],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX2],g=o[e.OY2],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX3],g=o[e.OY3],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l,i+=a,d=o[e.OX4],g=o[e.OY4],n[i]=d*u+g*f+c,n[i+1]=d*h+g*p+l},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(M3),yGe=function(){function t(e,r){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r}return t.prototype.begin=function(e){},t.prototype.transform=function(e,r,n,i){e.x+=re.randomTriangular(-this.jitterX,this.jitterY),e.y+=re.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),xGe=function(){function t(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return t.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},t.prototype.transform=function(e,r,n,i){var a=this.angle*re.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,c=Math.sqrt(o*o+s*s);if(c<this.radius){var l=t.interpolation.apply(0,a,(this.radius-c)/this.radius),u=Math.cos(l),f=Math.sin(l);e.x=u*o-f*s+this.worldX,e.y=f*o+u*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new MW(2),t}(),xi=function(){function t(e,r,n){if(e==null)throw new Error("name cannot be null.");if(r==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n}return t.prototype.apply=function(e,r,n,i,a,o,s,c){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t.binarySearch=function(e,r,n){n===void 0&&(n=1);var i=0,a=e.length/n-2;if(a==0)return n;for(var o=a>>>1;;){if(e[(o+1)*n]<=r?i=o+1:a=o,i==a)return(i+1)*n;o=i+a>>>1}},t.linearSearch=function(e,r,n){for(var i=0,a=e.length-n;i<=a;i+=n)if(e[i]>r)return i;return-1},t}(),ki;(function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"})(ki||(ki={}));var $s=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=xe.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,a){var o=(-r*2+i)*.03,s=(-n*2+a)*.03,c=((r-i)*3+1)*.006,l=((n-a)*3+1)*.006,u=o*2+c,f=s*2+l,h=r*.3+o+c*.16666667,p=n*.3+s+l*.16666667,d=e*t.BEZIER_SIZE,g=this.curves;g[d++]=t.BEZIER;for(var m=h,v=p,_=d+t.BEZIER_SIZE-1;d<_;d+=2)g[d]=m,g[d+1]=v,h+=u,p+=f,u+=c,f+=l,m+=h,v+=p},t.prototype.getCurvePercent=function(e,r){r=re.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,a=n[i];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;i++;for(var o=0,s=i,c=i+t.BEZIER_SIZE-1;i<c;i+=2)if(o=n[i],o>=r){var l=void 0,u=void 0;return i==s?(l=0,u=0):(l=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-l)/(o-l)}var f=n[i-1];return f+(1-f)*(r-o)/(1-o)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=10*2-1,t}(),Ho=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r<<1),n}return e.prototype.getPropertyId=function(){return(ki.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+e.ROTATION]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.rotation=u.data.rotation;return;case Z.first:var f=u.data.rotation-u.rotation;u.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*o}return}if(i>=l[l.length-e.ENTRIES]){var h=l[l.length+e.PREV_ROTATION];switch(s){case Z.setup:u.rotation=u.data.rotation+h*o;break;case Z.first:case Z.replace:h+=u.data.rotation-u.rotation,h-=(16384-(16384.499999999996-h/360|0))*360;case Z.add:u.rotation+=h*o}return}var p=xi.binarySearch(l,i,e.ENTRIES),d=l[p+e.PREV_ROTATION],g=l[p],m=this.getCurvePercent((p>>1)-1,1-(i-g)/(l[p+e.PREV_TIME]-g)),v=l[p+e.ROTATION]-d;switch(v=d+(v-(16384-(16384.499999999996-v/360|0))*360)*m,s){case Z.setup:u.rotation=u.data.rotation+(v-(16384-(16384.499999999996-v/360|0))*360)*o;break;case Z.first:case Z.replace:v+=u.data.rotation-u.rotation;case Z.add:u.rotation+=(v-(16384-(16384.499999999996-v/360|0))*360)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}($s),qv=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.translate<<24)+this.boneIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.X]=i,this.frames[r+e.Y]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.x=u.data.x,u.y=u.data.y;return;case Z.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=xi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.X]-f)*g,h+=(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.x=u.data.x+f*o,u.y=u.data.y+h*o;break;case Z.first:case Z.replace:u.x+=(u.data.x+f-u.x)*o,u.y+=(u.data.y+h-u.y)*o;break;case Z.add:u.x+=f*o,u.y+=h*o}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}($s),JW=function(t){ri(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ki.scale<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case Z.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X]*u.data.scaleX,h=l[l.length+e.PREV_Y]*u.data.scaleY;else{var p=xi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=(f+(l[p+e.X]-f)*g)*u.data.scaleX,h=(h+(l[p+e.Y]-h)*g)*u.data.scaleY}if(o==1)s==Z.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=f,u.scaleY=h);else{var m=0,v=0;if(c==Kt.mixOut)switch(s){case Z.setup:m=u.data.scaleX,v=u.data.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.first:case Z.replace:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-m)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-v)*o;break;case Z.add:m=u.scaleX,v=u.scaleY,u.scaleX=m+(Math.abs(f)*re.signum(m)-u.data.scaleX)*o,u.scaleY=v+(Math.abs(h)*re.signum(v)-u.data.scaleY)*o}else switch(s){case Z.setup:m=Math.abs(u.data.scaleX)*re.signum(f),v=Math.abs(u.data.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.first:case Z.replace:m=Math.abs(u.scaleX)*re.signum(f),v=Math.abs(u.scaleY)*re.signum(h),u.scaleX=m+(f-m)*o,u.scaleY=v+(h-v)*o;break;case Z.add:m=re.signum(f),v=re.signum(h),u.scaleX=Math.abs(u.scaleX)*m+(f-Math.abs(u.data.scaleX)*m)*o,u.scaleY=Math.abs(u.scaleY)*v+(h-Math.abs(u.data.scaleY)*v)*o}}},e}(qv),QW=function(t){ri(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ki.shear<<24)+this.boneIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.bones[this.boneIndex];if(i<l[0]){switch(s){case Z.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case Z.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_X],h=l[l.length+e.PREV_Y];else{var p=xi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_X],h=l[p+e.PREV_Y];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f=f+(l[p+e.X]-f)*g,h=h+(l[p+e.Y]-h)*g}switch(s){case Z.setup:u.shearX=u.data.shearX+f*o,u.shearY=u.data.shearY+h*o;break;case Z.first:case Z.replace:u.shearX+=(u.data.shearX+f-u.shearX)*o,u.shearY+=(u.data.shearY+h-u.shearY)*o;break;case Z.add:u.shearX+=f*o,u.shearY+=h*o}},e}(qv),yR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.color<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color);return;case Z.first:var f=l.color,h=l.data.color;f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,g=0,m=0;if(i>=u[u.length-e.ENTRIES]){var v=u.length;p=u[v+e.PREV_R],d=u[v+e.PREV_G],g=u[v+e.PREV_B],m=u[v+e.PREV_A]}else{var _=xi.binarySearch(u,i,e.ENTRIES);p=u[_+e.PREV_R],d=u[_+e.PREV_G],g=u[_+e.PREV_B],m=u[_+e.PREV_A];var y=u[_],b=this.getCurvePercent(_/e.ENTRIES-1,1-(i-y)/(u[_+e.PREV_TIME]-y));p+=(u[_+e.R]-p)*b,d+=(u[_+e.G]-d)*b,g+=(u[_+e.B]-g)*b,m+=(u[_+e.A]-m)*b}if(o==1)l.color.set(p,d,g,m);else{var f=l.color;s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(g-f.b)*o,(m-f.a)*o)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}($s),xR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.R]=i,this.frames[r+e.G]=a,this.frames[r+e.B]=o,this.frames[r+e.A]=s,this.frames[r+e.R2]=c,this.frames[r+e.G2]=l,this.frames[r+e.B2]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case Z.first:var f=l.color,h=l.darkColor,p=l.data.color,d=l.data.darkColor;f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.add((d.r-h.r)*o,(d.g-h.g)*o,(d.b-h.b)*o,0)}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=0;if(i>=u[u.length-e.ENTRIES]){var E=u.length;g=u[E+e.PREV_R],m=u[E+e.PREV_G],v=u[E+e.PREV_B],_=u[E+e.PREV_A],y=u[E+e.PREV_R2],b=u[E+e.PREV_G2],w=u[E+e.PREV_B2]}else{var C=xi.binarySearch(u,i,e.ENTRIES);g=u[C+e.PREV_R],m=u[C+e.PREV_G],v=u[C+e.PREV_B],_=u[C+e.PREV_A],y=u[C+e.PREV_R2],b=u[C+e.PREV_G2],w=u[C+e.PREV_B2];var T=u[C],A=this.getCurvePercent(C/e.ENTRIES-1,1-(i-T)/(u[C+e.PREV_TIME]-T));g+=(u[C+e.R]-g)*A,m+=(u[C+e.G]-m)*A,v+=(u[C+e.B]-v)*A,_+=(u[C+e.A]-_)*A,y+=(u[C+e.R2]-y)*A,b+=(u[C+e.G2]-b)*A,w+=(u[C+e.B2]-w)*A}if(o==1)l.color.set(g,m,v,_),l.darkColor.set(y,b,w,1);else{var f=l.color,h=l.darkColor;s==Z.setup&&(f.setFromColor(l.data.color),h.setFromColor(l.data.darkColor)),f.add((g-f.r)*o,(m-f.g)*o,(v-f.b)*o,(_-f.a)*o),h.add((y-h.r)*o,(b-h.g)*o,(w-h.b)*o,0)}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}($s),Tx=function(){function t(e){this.frames=xe.newFloatArray(e),this.attachmentNames=new Array(e)}return t.prototype.getPropertyId=function(){return(ki.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.attachmentNames[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.slots[this.slotIndex];if(s==Kt.mixOut&&o==Z.setup){var l=c.data.attachmentName;c.setAttachment(l==null?null:e.getAttachment(this.slotIndex,l));return}var u=this.frames;if(n<u[0]){if(o==Z.setup||o==Z.first){var f=c.data.attachmentName;c.setAttachment(f==null?null:e.getAttachment(this.slotIndex,f))}return}var h=0;n>=u[u.length-1]?h=u.length-1:h=xi.binarySearch(u,n,1)-1;var p=this.attachmentNames[h];e.slots[this.slotIndex].setAttachment(p==null?null:e.getAttachment(this.slotIndex,p))},t}(),Q6=null,eY=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r),n.frameVertices=new Array(r),Q6==null&&(Q6=xe.newFloatArray(64)),n}return e.prototype.getPropertyId=function(){return(ki.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.frameVertices[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex],u=l.getAttachment();if(!(!(u instanceof Af)||!u.applyDeform(this.attachment))){var f=l.attachmentVertices;f.length==0&&(s=Z.setup);var h=this.frameVertices,p=h[0].length,d=this.frames;if(i<d[0]){var g=u;switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;break}var m=xe.setArraySize(f,p);if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)m[_]+=(v[_]-m[_])*o;else{o=1-o;for(var _=0;_<p;_++)m[_]*=o}}return}var y=xe.setArraySize(f,p);if(i>=d[d.length-1]){var b=h[d.length-1];if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)y[_]+=b[_]-v[_];else for(var _=0;_<p;_++)y[_]+=b[_]}else xe.arrayCopy(b,0,y,0,p);else switch(s){case Z.setup:{var w=u;if(w.bones==null)for(var v=w.vertices,_=0;_<p;_++){var E=v[_];y[_]=E+(b[_]-E)*o}else for(var _=0;_<p;_++)y[_]=b[_]*o;break}case Z.first:case Z.replace:for(var _=0;_<p;_++)y[_]+=(b[_]-y[_])*o;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++)y[_]+=(b[_]-v[_])*o;else for(var _=0;_<p;_++)y[_]+=b[_]*o}return}var C=xi.binarySearch(d,i),T=h[C-1],A=h[C],R=d[C],O=this.getCurvePercent(C-1,1-(i-R)/(d[C-1]-R));if(o==1)if(s==Z.add){var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++){var P=T[_];y[_]+=P+(A[_]-P)*O-v[_]}else for(var _=0;_<p;_++){var P=T[_];y[_]+=P+(A[_]-P)*O}}else for(var _=0;_<p;_++){var P=T[_];y[_]=P+(A[_]-P)*O}else switch(s){case Z.setup:{var k=u;if(k.bones==null)for(var v=k.vertices,_=0;_<p;_++){var P=T[_],E=v[_];y[_]=E+(P+(A[_]-P)*O-E)*o}else for(var _=0;_<p;_++){var P=T[_];y[_]=(P+(A[_]-P)*O)*o}break}case Z.first:case Z.replace:for(var _=0;_<p;_++){var P=T[_];y[_]+=(P+(A[_]-P)*O-y[_])*o}break;case Z.add:var g=u;if(g.bones==null)for(var v=g.vertices,_=0;_<p;_++){var P=T[_];y[_]+=(P+(A[_]-P)*O-v[_])*o}else for(var _=0;_<p;_++){var P=T[_];y[_]+=(P+(A[_]-P)*O)*o}}}},e}($s),tY=function(){function t(e){this.frames=xe.newFloatArray(e),this.events=new Array(e)}return t.prototype.getPropertyId=function(){return ki.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r){this.frames[e]=r.time,this.events[e]=r},t.prototype.apply=function(e,r,n,i,a,o,s){if(i!=null){var c=this.frames,l=this.frames.length;if(r>n)this.apply(e,r,Number.MAX_VALUE,i,a,o,s),r=-1;else if(r>=c[l-1])return;if(!(n<c[0])){var u=0;if(r<c[0])u=0;else{u=xi.binarySearch(c,r);for(var f=c[u];u>0&&c[u-1]==f;)u--}for(;u<l&&n>=c[u];u++)i.push(this.events[u])}}},t}(),Ax=function(){function t(e){this.frames=xe.newFloatArray(e),this.drawOrders=new Array(e)}return t.prototype.getPropertyId=function(){return ki.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(e,r,n){this.frames[e]=r,this.drawOrders[e]=n},t.prototype.apply=function(e,r,n,i,a,o,s){var c=e.drawOrder,l=e.slots;if(s==Kt.mixOut&&o==Z.setup){xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var u=this.frames;if(n<u[0]){(o==Z.setup||o==Z.first)&&xe.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}var f=0;n>=u[u.length-1]?f=u.length-1:f=xi.binarySearch(u,n)-1;var h=this.drawOrders[f];if(h==null)xe.arrayCopy(l,0,c,0,l.length);else for(var p=0,d=h.length;p<d;p++)c[p]=l[h[p]]},t}(),bR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.MIX]=i,this.frames[r+e.BEND_DIRECTION]=a,this.frames[r+e.COMPRESS]=o?1:0,this.frames[r+e.STRETCH]=s?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.ikConstraints[this.ikConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case Z.first:u.mix+=(u.data.mix-u.mix)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(i>=l[l.length-e.ENTRIES]){s==Z.setup?(u.mix=u.data.mix+(l[l.length+e.PREV_MIX]-u.data.mix)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0)):(u.mix+=(l[l.length+e.PREV_MIX]-u.mix)*o,c==Kt.mixIn&&(u.bendDirection=l[l.length+e.PREV_BEND_DIRECTION],u.compress=l[l.length+e.PREV_COMPRESS]!=0,u.stretch=l[l.length+e.PREV_STRETCH]!=0));return}var f=xi.binarySearch(l,i,e.ENTRIES),h=l[f+e.PREV_MIX],p=l[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(i-p)/(l[f+e.PREV_TIME]-p));s==Z.setup?(u.mix=u.data.mix+(h+(l[f+e.MIX]-h)*d-u.data.mix)*o,c==Kt.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0)):(u.mix+=(h+(l[f+e.MIX]-h)*d-u.mix)*o,c==Kt.mixIn&&(u.bendDirection=l[f+e.PREV_BEND_DIRECTION],u.compress=l[f+e.PREV_COMPRESS]!=0,u.stretch=l[f+e.PREV_STRETCH]!=0))},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}($s),wR=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(r,n,i,a,o,s){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a,this.frames[r+e.SCALE]=o,this.frames[r+e.SHEAR]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.transformConstraints[this.transformConstraintIndex];if(i<l[0]){var f=u.data;switch(s){case Z.setup:u.rotateMix=f.rotateMix,u.translateMix=f.translateMix,u.scaleMix=f.scaleMix,u.shearMix=f.shearMix;return;case Z.first:u.rotateMix+=(f.rotateMix-u.rotateMix)*o,u.translateMix+=(f.translateMix-u.translateMix)*o,u.scaleMix+=(f.scaleMix-u.scaleMix)*o,u.shearMix+=(f.shearMix-u.shearMix)*o}return}var h=0,p=0,d=0,g=0;if(i>=l[l.length-e.ENTRIES]){var m=l.length;h=l[m+e.PREV_ROTATE],p=l[m+e.PREV_TRANSLATE],d=l[m+e.PREV_SCALE],g=l[m+e.PREV_SHEAR]}else{var v=xi.binarySearch(l,i,e.ENTRIES);h=l[v+e.PREV_ROTATE],p=l[v+e.PREV_TRANSLATE],d=l[v+e.PREV_SCALE],g=l[v+e.PREV_SHEAR];var _=l[v],y=this.getCurvePercent(v/e.ENTRIES-1,1-(i-_)/(l[v+e.PREV_TIME]-_));h+=(l[v+e.ROTATE]-h)*y,p+=(l[v+e.TRANSLATE]-p)*y,d+=(l[v+e.SCALE]-d)*y,g+=(l[v+e.SHEAR]-g)*y}if(s==Z.setup){var f=u.data;u.rotateMix=f.rotateMix+(h-f.rotateMix)*o,u.translateMix=f.translateMix+(p-f.translateMix)*o,u.scaleMix=f.scaleMix+(d-f.scaleMix)*o,u.shearMix=f.shearMix+(g-f.shearMix)*o}else u.rotateMix+=(h-u.rotateMix)*o,u.translateMix+=(p-u.translateMix)*o,u.scaleMix+=(d-u.scaleMix)*o,u.shearMix+=(g-u.shearMix)*o},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}($s),Ix=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.VALUE]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.position=u.data.position;return;case Z.first:u.position+=(u.data.position-u.position)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=xi.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.position=u.data.position+(f-u.data.position)*o:u.position+=(f-u.position)*o},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}($s),rY=function(t){ri(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getPropertyId=function(){return(ki.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.spacing=u.data.spacing;return;case Z.first:u.spacing+=(u.data.spacing-u.spacing)*o}return}var f=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_VALUE];else{var h=xi.binarySearch(l,i,e.ENTRIES);f=l[h+e.PREV_VALUE];var p=l[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(l[h+e.PREV_TIME]-p));f+=(l[h+e.VALUE]-f)*d}s==Z.setup?u.spacing=u.data.spacing+(f-u.data.spacing)*o:u.spacing+=(f-u.spacing)*o},e}(Ix),ER=function(t){ri(e,t);function e(r){var n=t.call(this,r)||this;return n.frames=xe.newFloatArray(r*e.ENTRIES),n}return e.prototype.getPropertyId=function(){return(ki.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(r,n,i,a){r*=e.ENTRIES,this.frames[r]=n,this.frames[r+e.ROTATE]=i,this.frames[r+e.TRANSLATE]=a},e.prototype.apply=function(r,n,i,a,o,s,c){var l=this.frames,u=r.pathConstraints[this.pathConstraintIndex];if(i<l[0]){switch(s){case Z.setup:u.rotateMix=u.data.rotateMix,u.translateMix=u.data.translateMix;return;case Z.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*o,u.translateMix+=(u.data.translateMix-u.translateMix)*o}return}var f=0,h=0;if(i>=l[l.length-e.ENTRIES])f=l[l.length+e.PREV_ROTATE],h=l[l.length+e.PREV_TRANSLATE];else{var p=xi.binarySearch(l,i,e.ENTRIES);f=l[p+e.PREV_ROTATE],h=l[p+e.PREV_TRANSLATE];var d=l[p],g=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(l[p+e.PREV_TIME]-d));f+=(l[p+e.ROTATE]-f)*g,h+=(l[p+e.TRANSLATE]-h)*g}s==Z.setup?(u.rotateMix=u.data.rotateMix+(f-u.data.rotateMix)*o,u.translateMix=u.data.translateMix+(h-u.data.translateMix)*o):(u.rotateMix+=(f-u.rotateMix)*o,u.translateMix+=(h-u.translateMix)*o)},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}($s),nY=function(){function t(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new aY(this),this.propertyIDs=new FW,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Ob(function(){return new iY}),this.data=e}return t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a!=null){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s!=null){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom!=null;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&a.mixingFrom==null){r[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(a.mixingFrom!=null&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(n==null)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom!=null&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(e==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(s==null||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom!=null?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&s.next==null&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(a==0&&l==1||c==Z.add)for(var d=0;d<h;d++)xe.webkit602BugfixHelper(l,c),p[d].apply(e,u,f,r,l,c,Kt.mixIn);else{var g=s.timelineMode,m=s.timelinesRotation.length==0;m&&xe.setArraySize(s.timelinesRotation,h<<1,null);for(var v=s.timelinesRotation,d=0;d<h;d++){var _=p[d],y=g[d]==t.SUBSEQUENT?c:Z.setup;_ instanceof Ho?this.applyRotateTimeline(_,e,f,l,y,v,d<<1,m):(xe.webkit602BugfixHelper(l,c),_.apply(e,u,f,r,l,y,Kt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom!=null&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.eventThreshold?this.events:null,s=a<i.attachmentThreshold,c=a<i.drawOrderThreshold,l=i.animationLast,u=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-a);if(n==Z.add)for(var g=0;g<f;g++)h[g].apply(r,l,u,o,d,n,Kt.mixOut);else{var m=i.timelineMode,v=i.timelineHoldMix,_=i.timelinesRotation.length==0;_&&xe.setArraySize(i.timelinesRotation,f<<1,null);var y=i.timelinesRotation;i.totalAlpha=0;for(var g=0;g<f;g++){var b=h[g],w=Kt.mixOut,E=void 0,C=0;switch(m[g]){case t.SUBSEQUENT:if(!s&&b instanceof Tx||!c&&b instanceof Ax)continue;E=n,C=d;break;case t.FIRST:E=Z.setup,C=d;break;case t.HOLD:E=Z.setup,C=p;break;default:E=Z.setup;var T=v[g];C=p*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=C,b instanceof Ho?this.applyRotateTimeline(b,r,u,C,E,y,g<<1,_):(xe.webkit602BugfixHelper(C,n),E==Z.setup&&(b instanceof Tx?s&&(w=Kt.mixOut):b instanceof Ax&&c&&(w=Kt.mixOut)),b.apply(r,l,u,o,C,E,w))}}return e.mixDuration>0&&this.queueEvents(i,u),this.events.length=0,i.nextAnimationLast=u,i.nextTrackLast=i.trackTime,a},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Kt.mixIn);return}var l=e,u=l.frames,f=r.bones[l.boneIndex],h=0,p=0;if(n<u[0])switch(a){case Z.setup:f.rotation=f.data.rotation;default:return;case Z.first:h=f.rotation,p=f.data.rotation}else if(h=a==Z.setup?f.data.rotation:f.rotation,n>=u[u.length-Ho.ENTRIES])p=f.data.rotation+u[u.length+Ho.PREV_ROTATION];else{var d=xi.binarySearch(u,n,Ho.ENTRIES),g=u[d+Ho.PREV_ROTATION],m=u[d],v=l.getCurvePercent((d>>1)-1,1-(n-m)/(u[d+Ho.PREV_TIME]-m));p=u[d+Ho.ROTATION]-g,p-=(16384-(16384.499999999996-p/360|0))*360,p=g+p*v+f.data.rotation,p-=(16384-(16384.499999999996-p/360|0))*360}var _=0,y=p-h;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)_=o[s];else{var b=0,w=0;c?(b=0,w=y):(b=o[s],w=o[s+1]);var E=y>0,C=b>=0;re.signum(w)!=re.signum(y)&&Math.abs(w)<=90&&(Math.abs(b)>180&&(b+=360*re.signum(b)),C=E),_=y+b-b%360,C!=E&&(_+=360*re.signum(b)),o[s]=_}o[s+1]=y,h+=_*i,f.rotation=h-(16384-(16384.499999999996-h/360|0))*360},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,s[c])}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r!=null){this.queue.end(r),this.disposeNext(r);for(var n=r;;){var i=n.mixingFrom;if(i==null)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,i!=null&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom!=null&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){var i=this.data.skeletonData.findAnimation(r);if(i==null)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(r==null)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a!=null&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){var a=this.data.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(r==null)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a!=null)for(;a.next!=null;)a=a.next;var o=this.trackEntry(e,r,n,a);if(a==null)this.setCurrent(e,o,!0),this.queue.drain();else if(a.next=o,i<=0){var s=a.animationEnd-a.animationStart;s!=0?(a.loop?i+=s*(1+(a.trackTime/s|0)):i+=Math.max(s,a.trackTime),i-=this.data.getMix(a.animation,r)):i=a.trackTime}return o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a!=null&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(xe.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=i==null?0:this.data.getMix(i.animation,r),a},t.prototype.disposeNext=function(e){for(var r=e.next;r!=null;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,r=this.tracks.length;e<r;e++){var n=this.tracks[e];if(n!=null){for(;n.mixingFrom!=null;)n=n.mixingFrom;do(n.mixingFrom==null||n.mixBlend!=Z.add)&&this.setTimelineModes(n),n=n.mixingTo;while(n!=null)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=xe.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var o=xe.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(r!=null&&r.holdPrevious){for(var c=0;c<i;c++)s.add(n[c].getPropertyId()),a[c]=t.HOLD;return}e:for(var c=0;c<i;c++){var l=n[c].getPropertyId();if(!s.add(l))a[c]=t.SUBSEQUENT;else if(r==null||!this.hasTimeline(r,l))a[c]=t.FIRST;else{for(var u=r.mixingTo;u!=null;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(e.mixDuration>0){a[c]=t.HOLD_MIX,o[c]=u;continue e}break}a[c]=t.HOLD}}},t.prototype.hasTimeline=function(e,r){for(var n=e.animation.timelines,i=0,a=n.length;i<a;i++)if(n[i].getPropertyId()==r)return!0;return!1},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(e==null)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new xi("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),iY=function(){function t(){this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),aY=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ga.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ga.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ga.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ga.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ga.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ga.event),this.objects.push(e),this.objects.push(r)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ga.start:a.listener!=null&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++)r[o].start&&r[o].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case ga.interrupt:a.listener!=null&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++)r[o].interrupt&&r[o].interrupt(a);break;case ga.end:a.listener!=null&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++)r[o].end&&r[o].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case ga.dispose:a.listener!=null&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++)r[o].dispose&&r[o].dispose(a);this.animState.trackEntryPool.free(a);break;case ga.complete:a.listener!=null&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++)r[o].complete&&r[o].complete(a);var s=re.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,s);break;case ga.event:var c=e[n+++2];a.listener!=null&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++)r[o].event&&r[o].event(a,c);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,c);break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}(),ga;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ga||(ga={}));var bGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),oY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,e==null)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(i==null)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(a==null)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(e,r,n){if(e==null)throw new Error("from cannot be null.");if(r==null)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t.deprecatedWarning1=!1,t}(),sY=function(){function t(e){this.atlas=e}return t.prototype.newRegionAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");var a=new D3(r);return a.region=i,a},t.prototype.newMeshAttachment=function(e,r,n){var i=this.atlas.findRegion(n);if(i==null)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");var a=new L3(r);return a.region=i,a},t.prototype.newBoundingBoxAttachment=function(e,r){return new qW(r)},t.prototype.newPathAttachment=function(e,r){return new Yv(r)},t.prototype.newPointAttachment=function(e,r){return new ZW(r)},t.prototype.newClippingAttachment=function(e,r){return new KW(r)},t}(),SR=function(){function t(e,r,n){if(this.matrix=new ln,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(c==null){var h=this.skeleton,p=n+90+s;l.a=re.cosDeg(n+o)*i*u,l.c=re.cosDeg(p)*a*u,l.b=re.sinDeg(n+o)*i*f,l.d=re.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,g=c.matrix.c,m=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+g*r+c.matrix.tx,l.ty=m*e+v*r+c.matrix.ty,this.data.transformMode){case Dt.Normal:{var p=n+90+s,_=re.cosDeg(n+o)*i,y=re.cosDeg(p)*a,b=re.sinDeg(n+o)*i,w=re.sinDeg(p)*a;l.a=d*_+g*b,l.c=d*y+g*w,l.b=m*_+v*b,l.d=m*y+v*w;return}case Dt.OnlyTranslation:{var p=n+90+s;l.a=re.cosDeg(n+o)*i,l.c=re.cosDeg(p)*a,l.b=re.sinDeg(n+o)*i,l.d=re.sinDeg(p)*a;break}case Dt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*v-g*m)/E,g=m*E,v=d*E,C=Math.atan2(m,d)*re.radDeg):(d=0,m=0,C=90-Math.atan2(v,g)*re.radDeg);var T=n+o-C,A=n+s-C+90,_=re.cosDeg(T)*i,y=re.cosDeg(A)*a,b=re.sinDeg(T)*i,w=re.sinDeg(A)*a;l.a=d*_-g*b,l.c=d*y-g*w,l.b=m*_+v*b,l.d=m*y+v*w;break}case Dt.NoScale:case Dt.NoScaleOrReflection:{var R=re.cosDeg(n),O=re.sinDeg(n),P=(d*R+g*O)/u,k=(m*R+v*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Dt.NoScale&&d*v-g*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY>0)&&(E=-E);var M=Math.PI/2+Math.atan2(k,P),B=Math.cos(M)*E,D=Math.sin(M)*E,_=re.cosDeg(o)*i,y=re.cosDeg(90+s)*a,b=re.sinDeg(o)*i,w=re.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*y+B*w,l.b=k*_+D*b,l.d=k*y+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*re.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*re.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent,r=this.matrix;if(e==null){this.ax=r.tx,this.ay=r.ty,this.arotation=Math.atan2(r.b,r.a)*re.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*re.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var g=f*d-h*p;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,g)*re.radDeg,this.arotation=Math.atan2(p,f)*re.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*re.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*re.radDeg},t.prototype.localToWorldRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*re.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=re.cosDeg(e),c=re.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o,this.appliedValid=!1},t}(),lY=function(){function t(e,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Dt.Normal,e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),uY=function(){function t(e,r){if(r==null)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),cY=function(){function t(e){this.name=e}return t}(),fY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}},t.prototype.apply1=function(e,r,n,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var c=e.parent.matrix,l=1/(c.a*c.d-c.b*c.c),u=r-c.tx,f=n-c.ty,h=(u*c.d-f*c.c)*l-e.ax,p=(f*c.a-u*c.b)*l-e.ay,d=Math.atan2(p,h)*re.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var g=e.ascaleX,m=e.ascaleY;if(i||a){var v=e.data.length*g,_=Math.sqrt(h*h+p*p);if(i&&_<v||a&&_>v&&v>1e-4){var y=(_/v-1)*s+1;g*=y,o&&(m*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*s,g,m,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s){if(s==0){r.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),r.appliedValid||r.updateAppliedTransform();var c=e.ax,l=e.ay,u=e.ascaleX,f=u,h=e.ascaleY,p=r.ascaleX,d=e.matrix,g=0,m=0,v=0;u<0?(u=-u,g=180,v=-1):(g=0,v=1),h<0&&(h=-h,v=-v),p<0?(p=-p,m=180):m=0;var _=r.ax,y=0,b=0,w=0,E=d.a,C=d.c,T=d.b,A=d.d,R=Math.abs(u-h)<=1e-4;R?(y=r.ay,b=E*_+C*y+d.tx,w=T*_+A*y+d.ty):(y=0,b=E*_+d.tx,w=T*_+d.ty);var O=e.parent.matrix;E=O.a,C=O.c,T=O.b,A=O.d;var P=1/(E*A-C*T),k=n-O.tx,M=i-O.ty,B=(k*A-M*C)*P-c,D=(M*E-k*T)*P-l,H=B*B+D*D;k=b-O.tx,M=w-O.ty;var ee=(k*A-M*C)*P-c,ne=(M*E-k*T)*P-l,Y=Math.sqrt(ee*ee+ne*ne),U=r.data.length*p,X=0,V=0;e:if(R){U*=u;var G=(H-Y*Y-U*U)/(2*Y*U);G<-1?G=-1:G>1&&(G=1,o&&Y+U>1e-4&&(f*=(Math.sqrt(H)/(Y+U)-1)*s+1)),V=Math.acos(G)*a,E=Y+U*G,C=U*Math.sin(V),X=Math.atan2(D*E-B*C,B*E+D*C)}else{E=u*U,C=h*U;var te=E*E,oe=C*C,ge=Math.atan2(D,B);T=oe*Y*Y+te*H-te*oe;var le=-2*oe*Y,ye=oe-te;if(A=le*le-4*ye*T,A>=0){var Le=Math.sqrt(A);le<0&&(Le=-Le),Le=-(le+Le)/2;var ke=Le/ye,Ee=T/Le,Se=Math.abs(ke)<Math.abs(Ee)?ke:Ee;if(Se*Se<=H){M=Math.sqrt(H-Se*Se)*a,X=ge-Math.atan2(M,Se),V=Math.atan2(M/h,(Se-Y)/u);break e}}var De=re.PI,We=Y-E,Ve=We*We,He=0,qe=0,Et=Y+E,Rt=Et*Et,ht=0;T=-E*Y/(te-oe),T>=-1&&T<=1&&(T=Math.acos(T),k=E*Math.cos(T)+Y,M=C*Math.sin(T),A=k*k+M*M,A<Ve&&(De=T,Ve=A,We=k,He=M),A>Rt&&(qe=T,Rt=A,Et=k,ht=M)),H<=(Ve+Rt)/2?(X=ge-Math.atan2(He*a,We),V=De*a):(X=ge-Math.atan2(ht*a,Et),V=qe*a)}var dt=Math.atan2(y,_)*v,St=e.arotation;X=(X-dt)*re.radDeg+g-St,X>180?X-=360:X<-180&&(X+=360),e.updateWorldTransformWith(c,l,St+X*s,f,e.ascaleY,0,0),St=r.arotation,V=((V+dt)*re.radDeg-r.ashearX)*v+m-St,V>180?V-=360:V<-180&&(V+=360),r.updateWorldTransformWith(_,y,St+V*s,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),hY=function(){function t(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}return t}(),dY=function(){function t(e){this.order=0,this.bones=new Array,this.name=e}return t}(),_o;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"})(_o||(_o={}));var pY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Yv){var r=this.rotateMix,n=this.translateMix,i=n>0,a=r>0;if(!(!i&&!a)){var o=this.data,s=o.spacingMode,c=s==_o.Length,l=o.rotateMode,u=l==Un.Tangent,f=l==Un.ChainScale,h=this.bones.length,p=u?h:h+1,d=this.bones,g=xe.setArraySize(this.spaces,p),m=null,v=this.spacing;if(f||c){f&&(m=xe.setArraySize(this.lengths,h));for(var _=0,y=p-1;_<y;){var b=d[_],w=b.data.length;if(w<t.epsilon)f&&(m[_]=0),g[++_]=0;else{var E=w*b.matrix.a,C=w*b.matrix.b,T=Math.sqrt(E*E+C*C);f&&(m[_]=T),g[++_]=(c?w+v:v)*T/w}}}else for(var _=1;_<p;_++)g[_]=v;var A=this.computeWorldPositions(e,p,u,o.positionMode==_n.Percent,s==_o.Percent),R=A[0],O=A[1],P=o.offsetRotation,k=!1;if(P==0)k=l==Un.Chain;else{k=!1;var M=this.target.bone.matrix;P*=M.a*M.d-M.b*M.c>0?re.degRad:-re.degRad}for(var _=0,M=3;_<h;_++,M+=3){var b=d[_],B=b.matrix;B.tx+=(R-B.tx)*n,B.ty+=(O-B.ty)*n;var E=A[M],C=A[M+1],D=E-R,H=C-O;if(f){var ee=m[_];if(ee!=0){var ne=(Math.sqrt(D*D+H*H)/ee-1)*r+1;B.a*=ne,B.b*=ne}}if(R=E,O=C,a){var Y=B.a,U=B.c,X=B.b,V=B.d,G=0,te=0,oe=0;if(u?G=A[M-1]:g[_+1]==0?G=A[M+2]:G=Math.atan2(H,D),G-=Math.atan2(X,Y),k){te=Math.cos(G),oe=Math.sin(G);var ge=b.data.length;R+=(ge*(te*Y-oe*X)-D)*r,O+=(ge*(oe*Y+te*X)-H)*r}else G+=P;G>re.PI?G-=re.PI2:G<-re.PI&&(G+=re.PI2),G*=r,te=Math.cos(G),oe=Math.sin(G),B.a=te*Y-oe*X,B.c=te*U-oe*V,B.b=oe*Y+te*X,B.d=oe*U+te*V}b.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,a){var o=this.target,s=this.position,c=this.spaces,l=xe.setArraySize(this.positions,r*3+2),u=null,f=e.closed,h=e.worldVerticesLength,p=h/6,d=t.NONE;if(!e.constantSpeed){var g=e.lengths;p-=f?1:2;var m=g[p];if(i&&(s*=m),a)for(var v=0;v<r;v++)c[v]*=m;u=xe.setArraySize(this.world,8);for(var v=0,_=0,y=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=m,w<0&&(w+=m),y=0;else if(w<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(o,2,4,u,0,2)),this.addBeforePosition(w,u,0,l,_);continue}else if(w>m){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(o,h-6,4,u,0,2)),this.addAfterPosition(w-m,u,0,l,_);continue}for(;;y++){var E=g[y];if(!(w>E)){if(y==0)w/=E;else{var C=g[y-1];w=(w-C)/(E-C)}break}}y!=d&&(d=y,f&&y==p?(e.computeWorldVertices(o,h-4,4,u,0,2),e.computeWorldVertices(o,0,4,u,4,2)):e.computeWorldVertices(o,y*6+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],l,_,n||v>0&&b==0)}return l}f?(h+=2,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h-4,u,0,2),e.computeWorldVertices(o,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(p--,h-=4,u=xe.setArraySize(this.world,h),e.computeWorldVertices(o,2,h,u,0,2));for(var T=xe.setArraySize(this.curves,p),A=0,R=u[0],O=u[1],P=0,k=0,M=0,B=0,D=0,H=0,ee=0,ne=0,Y=0,U=0,X=0,V=0,G=0,te=0,v=0,oe=2;v<p;v++,oe+=6)P=u[oe],k=u[oe+1],M=u[oe+2],B=u[oe+3],D=u[oe+4],H=u[oe+5],ee=(R-P*2+M)*.1875,ne=(O-k*2+B)*.1875,Y=((P-M)*3-R+D)*.09375,U=((k-B)*3-O+H)*.09375,X=ee*2+Y,V=ne*2+U,G=(P-R)*.75+ee+Y*.16666667,te=(k-O)*.75+ne+U*.16666667,A+=Math.sqrt(G*G+te*te),G+=X,te+=V,X+=Y,V+=U,A+=Math.sqrt(G*G+te*te),G+=X,te+=V,A+=Math.sqrt(G*G+te*te),G+=X+Y,te+=V+U,A+=Math.sqrt(G*G+te*te),T[v]=A,R=D,O=H;if(i&&(s*=A),a)for(var v=0;v<r;v++)c[v]*=A;for(var ge=this.segments,le=0,v=0,_=0,y=0,ye=0;v<r;v++,_+=3){var b=c[v];s+=b;var w=s;if(f)w%=A,w<0&&(w+=A),y=0;else if(w<0){this.addBeforePosition(w,u,0,l,_);continue}else if(w>A){this.addAfterPosition(w-A,u,h-4,l,_);continue}for(;;y++){var Le=T[y];if(!(w>Le)){if(y==0)w/=Le;else{var C=T[y-1];w=(w-C)/(Le-C)}break}}if(y!=d){d=y;var ke=y*6;for(R=u[ke],O=u[ke+1],P=u[ke+2],k=u[ke+3],M=u[ke+4],B=u[ke+5],D=u[ke+6],H=u[ke+7],ee=(R-P*2+M)*.03,ne=(O-k*2+B)*.03,Y=((P-M)*3-R+D)*.006,U=((k-B)*3-O+H)*.006,X=ee*2+Y,V=ne*2+U,G=(P-R)*.3+ee+Y*.16666667,te=(k-O)*.3+ne+U*.16666667,le=Math.sqrt(G*G+te*te),ge[0]=le,ke=1;ke<8;ke++)G+=X,te+=V,X+=Y,V+=U,le+=Math.sqrt(G*G+te*te),ge[ke]=le;G+=X,te+=V,le+=Math.sqrt(G*G+te*te),ge[8]=le,G+=X+Y,te+=V+U,le+=Math.sqrt(G*G+te*te),ge[9]=le,ye=0}for(w*=le;;ye++){var Ee=ge[ye];if(!(w>Ee)){if(ye==0)w/=Ee;else{var C=ge[ye-1];w=ye+(w-C)/(Ee-C)}break}}this.addCurvePosition(w*.1,R,O,P,k,M,B,D,H,l,_,n||v>0&&b==0)}return l},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){(e==0||isNaN(e))&&(e=1e-4);var p=e*e,d=p*e,g=1-e,m=g*g,v=m*g,_=g*e,y=_*3,b=g*y,w=y*e,E=r*v+i*b+o*w+c*d,C=n*v+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),vY=function(){function t(e,r){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new $v,e==null)throw new Error("data cannot be null.");if(r==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)-Math.atan2(E,b)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),R=Math.sin(T);y.a=A*b-R*E,y.c=A*w-R*C,y.b=R*b+A*E,y.d=R*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=(O.x-y.tx)*r,y.ty+=(O.y-y.ty)*r,_=!0}if(n>0){var P=Math.sqrt(y.a*y.a+y.b*y.b),k=Math.sqrt(s*s+l*l);P>1e-5&&(P=(P+(k-P+this.data.offsetScaleX)*n)/P),y.a*=P,y.b*=P,P=Math.sqrt(y.c*y.c+y.d*y.d),k=Math.sqrt(c*c+u*u),P>1e-5&&(P=(P+(k-P+this.data.offsetScaleY)*n)/P),y.c*=P,y.d*=P,_=!0}if(i>0){var w=y.c,C=y.d,M=Math.atan2(C,w),T=Math.atan2(u,c)-Math.atan2(l,s)-(M-Math.atan2(y.b,y.a));T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T=M+(T+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,c=o.c,l=o.b,u=o.d,f=s*u-c*l>0?re.degRad:-re.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,g=0,m=d.length;g<m;g++){var v=d[g],_=!1,y=v.matrix;if(e!=0){var b=y.a,w=y.c,E=y.b,C=y.d,T=Math.atan2(l,s)+h;T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2),T*=e;var A=Math.cos(T),R=Math.sin(T);y.a=A*b-R*E,y.c=A*w-R*C,y.b=R*b+A*E,y.d=R*w+A*C,_=!0}if(r!=0){var O=this.temp;a.localToWorld(O.set(this.data.offsetX,this.data.offsetY)),y.tx+=O.x*r,y.ty+=O.y*r,_=!0}if(n>0){var P=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=P,y.b*=P,P=(Math.sqrt(c*c+u*u)-1+this.data.offsetScaleY)*n+1,y.c*=P,y.d*=P,_=!0}if(i>0){var T=Math.atan2(u,c)-Math.atan2(l,s);T>re.PI?T-=re.PI2:T<-re.PI&&(T+=re.PI2);var w=y.c,C=y.d;T=Math.atan2(C,w)+(T-re.PI/2+p)*i;var P=Math.sqrt(w*w+C*C);y.c=Math.cos(T)*P,y.d=Math.sin(T)*P,_=!0}_&&(v.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;if(e!=0){var f=a.arotation-u+this.data.offsetRotation;f-=(16384-(16384.499999999996-f/360|0))*360,u+=f*e}var h=l.ax,p=l.ay;r!=0&&(h+=(a.ax-h+this.data.offsetX)*r,p+=(a.ay-p+this.data.offsetY)*r);var d=l.ascaleX,g=l.ascaleY;n>0&&(d>1e-5&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),g>1e-5&&(g=(g+(a.ascaleY-g+this.data.offsetScaleY)*n)/g));var m=l.ashearY;if(i>0){var f=a.ashearY-m+this.data.offsetShearY;f-=(16384-(16384.499999999996-f/360|0))*360,l.shearY+=f*i}l.updateWorldTransformWith(h,p,u,d,g,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var e=this.rotateMix,r=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var o=this.bones,s=0,c=o.length;s<c;s++){var l=o[s];l.appliedValid||l.updateAppliedTransform();var u=l.arotation;e!=0&&(u+=(a.arotation+this.data.offsetRotation)*e);var f=l.ax,h=l.ay;r!=0&&(f+=(a.ax+this.data.offsetX)*r,h+=(a.ay+this.data.offsetY)*r);var p=l.ascaleX,d=l.ascaleY;n>0&&(p>1e-5&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var g=l.ashearY;i>0&&(g+=(a.ashearY+this.data.offsetShearY)*i),l.updateWorldTransformWith(f,h,u,p,d,l.ashearX,g)}},t.prototype.getOrder=function(){return this.data.order},t}(),gY=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,e==null)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(n.parent==null)i=new SR(n,this,null);else{var a=this.bones[n.parent.index];i=new SR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new B3(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new fY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new vY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new pY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0,this.updateCacheReset.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++)r[n].sorted=!1;var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,c=a.length,l=o.length,u=s.length,f=c+l+u;e:for(var n=0;n<f;n++){for(var h=0;h<c;h++){var p=a[h];if(p.data.order==n){this.sortIkConstraint(p);continue e}}for(var h=0;h<l;h++){var p=o[h];if(p.data.order==n){this.sortTransformConstraint(p);continue e}}for(var h=0;h<u;h++){var p=s[h];if(p.data.order==n){this.sortPathConstraint(p);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var r=e.target,n=r.data.index,i=r.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Yv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(r[o].children);for(var o=0;o<n;o++)r[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Yv){var n=e.bones;if(n==null)this.sortBone(r);else for(var i=this.bones,a=0;a<n.length;)for(var o=n[a++],s=a+o;a<s;a++){var c=n[a];this.sortBone(i[c])}}},t.prototype.sortBone=function(e){if(!e.sorted){var r=e.parent;r!=null&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.rotateMix=s.rotateMix,a.translateMix=s.translateMix,a.scaleMix=s.scaleMix,a.shearMix=s.shearMix}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.rotateMix=s.rotateMix,a.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;xe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(r==null)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=null)if(this.skin!=null)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o!=null){var s=e.getAttachment(n,o);s!=null&&a.setAttachment(s)}}this.skin=e},t.prototype.getAttachmentByName=function(e,r){return this.getAttachment(this.data.findSlotIndex(e),r)},t.prototype.getAttachment=function(e,r){if(r==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var n=this.skin.getAttachment(e,r);if(n!=null)return n}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(e==null)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r!=null&&(s=this.getAttachment(i,r),s==null))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBounds=function(e,r,n){if(e==null)throw new Error("offset cannot be null.");if(r==null)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l],h=0,p=null,d=f.getAttachment();if(d instanceof D3)h=8,p=xe.setArraySize(n,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof L3){var g=d;h=g.worldVerticesLength,p=xe.setArraySize(n,h,0),g.computeWorldVertices(f,0,h,p,0,2)}if(p!=null)for(var m=0,v=p.length;m<v;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}e.set(a,o),r.set(s-a,c-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),wGe=function(t){ri(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_3),mY=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(e==null)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(e==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(e==null)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(e==null)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(e==null)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(e==null)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),_Y=function(){function t(e,r,n){if(this.color=new rt(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");if(n==null)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),yY=function(){function t(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}return t}(),xY=function(){function t(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}return t.prototype.addAttachment=function(e,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u!=null&&a.setAttachment(u);break}}}n++}},t}(),bY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new mY,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a!=null&&(n.hash=a.hash,n.version=a.spine,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images),i.bones)for(var o=0;o<i.bones.length;o++){var s=i.bones[o],c=null,l=this.getValue(s,"parent",null);if(l!=null&&(c=n.findBone(l),c==null))throw new Error("Parent bone not found: "+l);var u=new lY(n.bones.length,s.name,c);u.length=this.getValue(s,"length",0)*r,u.x=this.getValue(s,"x",0)*r,u.y=this.getValue(s,"y",0)*r,u.rotation=this.getValue(s,"rotation",0),u.scaleX=this.getValue(s,"scaleX",1),u.scaleY=this.getValue(s,"scaleY",1),u.shearX=this.getValue(s,"shearX",0),u.shearY=this.getValue(s,"shearY",0),u.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(u)}if(i.slots)for(var o=0;o<i.slots.length;o++){var f=i.slots[o],h=f.name,p=f.bone,d=n.findBone(p);if(d==null)throw new Error("Slot bone not found: "+p);var u=new _Y(n.slots.length,h,d),g=this.getValue(f,"color",null);g!=null&&u.color.setFromString(g);var m=this.getValue(f,"dark",null);m!=null&&(u.darkColor=new rt(1,1,1,1),u.darkColor.setFromString(m)),u.attachmentName=this.getValue(f,"attachment",null),u.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),n.slots.push(u)}if(i.ik)for(var o=0;o<i.ik.length;o++){var v=i.ik[o],u=new hY(v.name);u.order=this.getValue(v,"order",0);for(var _=0;_<v.bones.length;_++){var p=v.bones[_],y=n.findBone(p);if(y==null)throw new Error("IK bone not found: "+p);u.bones.push(y)}var b=v.target;if(u.target=n.findBone(b),u.target==null)throw new Error("IK target bone not found: "+b);u.bendDirection=this.getValue(v,"bendPositive",!0)?1:-1,u.mix=this.getValue(v,"mix",1),n.ikConstraints.push(u)}if(i.transform)for(var o=0;o<i.transform.length;o++){var v=i.transform[o],u=new yY(v.name);u.order=this.getValue(v,"order",0);for(var _=0;_<v.bones.length;_++){var p=v.bones[_],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var b=v.target;if(u.target=n.findBone(b),u.target==null)throw new Error("Transform constraint target bone not found: "+b);u.local=this.getValue(v,"local",!1),u.relative=this.getValue(v,"relative",!1),u.offsetRotation=this.getValue(v,"rotation",0),u.offsetX=this.getValue(v,"x",0)*r,u.offsetY=this.getValue(v,"y",0)*r,u.offsetScaleX=this.getValue(v,"scaleX",0),u.offsetScaleY=this.getValue(v,"scaleY",0),u.offsetShearY=this.getValue(v,"shearY",0),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),u.scaleMix=this.getValue(v,"scaleMix",1),u.shearMix=this.getValue(v,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(var o=0;o<i.path.length;o++){var v=i.path[o],u=new dY(v.name);u.order=this.getValue(v,"order",0);for(var _=0;_<v.bones.length;_++){var p=v.bones[_],y=n.findBone(p);if(y==null)throw new Error("Transform constraint bone not found: "+p);u.bones.push(y)}var b=v.target;if(u.target=n.findSlot(b),u.target==null)throw new Error("Path target slot not found: "+b);u.positionMode=t.positionModeFromString(this.getValue(v,"positionMode","percent")),u.spacingMode=t.spacingModeFromString(this.getValue(v,"spacingMode","length")),u.rotateMode=t.rotateModeFromString(this.getValue(v,"rotateMode","tangent")),u.offsetRotation=this.getValue(v,"rotation",0),u.position=this.getValue(v,"position",0),u.positionMode==_n.Fixed&&(u.position*=r),u.spacing=this.getValue(v,"spacing",0),(u.spacingMode==_o.Length||u.spacingMode==_o.Fixed)&&(u.spacing*=r),u.rotateMix=this.getValue(v,"rotateMix",1),u.translateMix=this.getValue(v,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(var w in i.skins){var E=i.skins[w],C=new xY(w);for(var h in E){var T=n.findSlotIndex(h);if(T==-1)throw new Error("Slot not found: "+h);var f=E[h];for(var A in f){var R=this.readAttachment(f[A],C,T,A,n);R!=null&&C.addAttachment(T,A,R)}}n.skins.push(C),C.name=="default"&&(n.defaultSkin=C)}for(var o=0,O=this.linkedMeshes.length;o<O;o++){var P=this.linkedMeshes[o],C=P.skin==null?n.defaultSkin:n.findSkin(P.skin);if(C==null)throw new Error("Skin not found: "+P.skin);var k=C.getAttachment(P.slotIndex,P.parent);if(k==null)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(k)}if(this.linkedMeshes.length=0,i.events)for(var M in i.events){var B=i.events[M],u=new cY(M);u.intValue=this.getValue(B,"int",0),u.floatValue=this.getValue(B,"float",0),u.stringValue=this.getValue(B,"string",""),u.audioPath=this.getValue(B,"audio",null),u.audioPath!=null&&(u.volume=this.getValue(B,"volume",1),u.balance=this.getValue(B,"balance",0)),n.events.push(u)}if(i.animations)for(var D in i.animations){var H=i.animations[D];this.readAnimation(H,D,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;i=this.getValue(e,"name",i);var s=this.getValue(e,"type","region");switch(s){case"region":{var c=this.getValue(e,"path",i),l=this.attachmentLoader.newRegionAttachment(r,i,c);if(l==null)return null;l.path=c,l.x=this.getValue(e,"x",0)*o,l.y=this.getValue(e,"y",0)*o,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*o,l.height=e.height*o;var u=this.getValue(e,"color",null);return u!=null&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(f==null)return null;this.readVertices(e,f,e.vertexCount<<1);var u=this.getValue(e,"color",null);return u!=null&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var c=this.getValue(e,"path",i),h=this.attachmentLoader.newMeshAttachment(r,i,c);if(h==null)return null;h.path=c;var u=this.getValue(e,"color",null);u!=null&&h.color.setFromString(u);var p=this.getValue(e,"parent",null);if(p!=null)return h.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new EGe(h,this.getValue(e,"skin",null),n,p)),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.hullLength=this.getValue(e,"hull",0)*2,h}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(e,"closed",!1),c.constantSpeed=this.getValue(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,c,g<<1);for(var m=xe.newArray(g/3,0),v=0;v<e.lengths.length;v++)m[v]=e.lengths[v]*o;c.lengths=m;var u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(_==null)return null;_.x=this.getValue(e,"x",0)*o,_.y=this.getValue(e,"y",0)*o,_.rotation=this.getValue(e,"rotation",0);var u=this.getValue(e,"color",null);return u!=null&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(y==null)return null;var b=this.getValue(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);y.endSlot=w}var g=e.vertexCount;this.readVertices(e,y,g<<1);var u=this.getValue(e,"color",null);return u!=null&&y.color.setFromString(u),y}}return null},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=xe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=xe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var c=e.slots[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+s);for(var u in c){var f=c[u];if(u=="attachment"){var h=new Tx(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p++,g.time,g.name)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}else if(u=="color"){var h=new yR(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],m=new rt;m.setFromString(g.color||"ffffffff"),h.setFrame(p,g.time,m.r,m.g,m.b,m.a),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*yR.ENTRIES])}else if(u=="twoColor"){var h=new xR(f.length);h.slotIndex=l;for(var p=0,d=0;d<f.length;d++){var g=f[d],v=new rt,_=new rt;v.setFromString(g.light),_.setFromString(g.dark),h.setFrame(p,g.time,v.r,v.g,v.b,v.a,_.r,_.g,_.b),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*xR.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")")}}if(e.bones)for(var y in e.bones){var b=e.bones[y],w=n.findBoneIndex(y);if(w==-1)throw new Error("Bone not found: "+y);for(var u in b){var f=b[u];if(u==="rotate"){var h=new Ho(f.length);h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,g.time,g.angle),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ho.ENTRIES])}else if(u==="translate"||u==="scale"||u==="shear"){var h=null,E=1;u==="scale"?h=new JW(f.length):u==="shear"?h=new QW(f.length):(h=new qv(f.length),E=i),h.boneIndex=w;for(var p=0,d=0;d<f.length;d++){var g=f[d],C=this.getValue(g,"x",0),T=this.getValue(g,"y",0);h.setFrame(p,g.time,C*E,T*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*qv.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")")}}if(e.ik)for(var A in e.ik){var R=e.ik[A],O=n.findIkConstraint(A),h=new bR(R.length);h.ikConstraintIndex=n.ikConstraints.indexOf(O);for(var p=0,d=0;d<R.length;d++){var g=R[d];h.setFrame(p,g.time,this.getValue(g,"mix",1),this.getValue(g,"bendPositive",!0)?1:-1,this.getValue(g,"compress",!1),this.getValue(g,"stretch",!1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*bR.ENTRIES])}if(e.transform)for(var A in e.transform){var R=e.transform[A],O=n.findTransformConstraint(A),h=new wR(R.length);h.transformConstraintIndex=n.transformConstraints.indexOf(O);for(var p=0,d=0;d<R.length;d++){var g=R[d];h.setFrame(p,g.time,this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1),this.getValue(g,"scaleMix",1),this.getValue(g,"shearMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*wR.ENTRIES])}if(e.paths)for(var A in e.paths){var R=e.paths[A],P=n.findPathConstraintIndex(A);if(P==-1)throw new Error("Path constraint not found: "+A);var k=n.pathConstraints[P];for(var u in R){var f=R[u];if(u==="position"||u==="spacing"){var h=null,E=1;u==="spacing"?(h=new rY(f.length),(k.spacingMode==_o.Length||k.spacingMode==_o.Fixed)&&(E=i)):(h=new Ix(f.length),k.positionMode==_n.Fixed&&(E=i)),h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,g.time,this.getValue(g,u,0)*E),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*Ix.ENTRIES])}else if(u==="mix"){var h=new ER(f.length);h.pathConstraintIndex=P;for(var p=0,d=0;d<f.length;d++){var g=f[d];h.setFrame(p,g.time,this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1)),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[(h.getFrameCount()-1)*ER.ENTRIES])}}}if(e.deform)for(var M in e.deform){var B=e.deform[M],D=n.findSkin(M);if(D!=null)for(var s in B){var c=B[s],l=n.findSlotIndex(s);if(l==-1)throw new Error("Slot not found: "+c.name);for(var u in c){var f=c[u],H=D.getAttachment(l,u);if(H==null)throw new Error("Deform attachment not found: "+f.name);var ee=H.bones!=null,ne=H.vertices,Y=ee?ne.length/3*2:ne.length,h=new eY(f.length);h.slotIndex=l,h.attachment=H;for(var p=0,U=0;U<f.length;U++){var g=f[U],X=void 0,V=this.getValue(g,"vertices",null);if(V==null)X=ee?xe.newFloatArray(Y):ne;else{X=xe.newFloatArray(Y);var G=this.getValue(g,"offset",0);if(xe.arrayCopy(V,0,X,G,V.length),i!=1)for(var d=G,te=d+V.length;d<te;d++)X[d]*=i;if(!ee)for(var d=0;d<Y;d++)X[d]+=ne[d]}h.setFrame(p,g.time,X),this.readCurve(g,h,p),p++}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}}}var oe=e.drawOrder;if(oe==null&&(oe=e.draworder),oe!=null){for(var h=new Ax(oe.length),ge=n.slots.length,p=0,U=0;U<oe.length;U++){var le=oe[U],ye=null,Le=this.getValue(le,"offsets",null);if(Le!=null){ye=xe.newArray(ge,-1);for(var ke=xe.newArray(ge-Le.length,0),Ee=0,Se=0,d=0;d<Le.length;d++){var De=Le[d],l=n.findSlotIndex(De.slot);if(l==-1)throw new Error("Slot not found: "+De.slot);for(;Ee!=l;)ke[Se++]=Ee++;ye[Ee+De.offset]=Ee++}for(;Ee<ge;)ke[Se++]=Ee++;for(var d=ge-1;d>=0;d--)ye[d]==-1&&(ye[d]=ke[--Se])}h.setFrame(p++,le.time,ye)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(e.events){for(var h=new tY(e.events.length),p=0,d=0;d<e.events.length;d++){var We=e.events[d],Ve=n.findEvent(We.name);if(Ve==null)throw new Error("Event not found: "+We.name);var He=new uY(xe.toSinglePrecision(We.time),Ve);He.intValue=this.getValue(We,"int",Ve.intValue),He.floatValue=this.getValue(We,"float",Ve.floatValue),He.stringValue=this.getValue(We,"string",Ve.stringValue),He.data.audioPath!=null&&(He.volume=this.getValue(We,"volume",1),He.balance=this.getValue(We,"balance",0)),h.setFrame(p++,He)}a.push(h),o=Math.max(o,h.frames[h.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new xi(r,a,o))},t.prototype.readCurve=function(e,r,n){if(e.curve){if(e.curve==="stepped")r.setStepped(n);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){var i=e.curve;r.setCurve(n,i[0],i[1],i[2],i[3])}}},t.prototype.getValue=function(e,r,n){return e[r]!==void 0?e[r]:n},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ct.NORMAL;if(e=="additive")return ct.ADD;if(e=="multiply")return ct.MULTIPLY;if(e=="screen")return ct.SCREEN;throw new Error("Unknown blend mode: "+e)},t.positionModeFromString=function(e){if(e=e.toLowerCase(),e=="fixed")return _n.Fixed;if(e=="percent")return _n.Percent;throw new Error("Unknown position mode: "+e)},t.spacingModeFromString=function(e){if(e=e.toLowerCase(),e=="length")return _o.Length;if(e=="fixed")return _o.Fixed;if(e=="percent")return _o.Percent;throw new Error("Unknown position mode: "+e)},t.rotateModeFromString=function(e){if(e=e.toLowerCase(),e=="tangent")return Un.Tangent;if(e=="chain")return Un.Chain;if(e=="chainscale")return Un.ChainScale;throw new Error("Unknown rotate mode: "+e)},t.transformModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return Dt.Normal;if(e=="onlytranslation")return Dt.OnlyTranslation;if(e=="norotationorreflection")return Dt.NoRotationOrReflection;if(e=="noscale")return Dt.NoScale;if(e=="noscaleorreflection")return Dt.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},t}(),EGe=function(){function t(e,r,n,i){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i}return t}(),SGe=function(t){ri(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new gY(r),this.skeleton.updateWorldTransform(),this.stateData=new oY(r),this.state=new nY(this.stateData)},e}(Ig);const CGe=Object.freeze(Object.defineProperty({__proto__:null,Animation:xi,AnimationState:nY,AnimationStateAdapter2:bGe,AnimationStateData:oY,AtlasAttachmentLoader:sY,Attachment:M3,AttachmentTimeline:Tx,Bone:SR,BoneData:lY,BoundingBoxAttachment:qW,ClippingAttachment:KW,ColorTimeline:yR,CurveTimeline:$s,DeformTimeline:eY,DrawOrderTimeline:Ax,Event:uY,EventData:cY,EventQueue:aY,EventTimeline:tY,get EventType(){return ga},IkConstraint:fY,IkConstraintData:hY,IkConstraintTimeline:bR,JitterEffect:yGe,MeshAttachment:L3,PathAttachment:Yv,PathConstraint:pY,PathConstraintData:dY,PathConstraintMixTimeline:ER,PathConstraintPositionTimeline:Ix,PathConstraintSpacingTimeline:rY,PointAttachment:ZW,RegionAttachment:D3,RotateTimeline:Ho,ScaleTimeline:JW,ShearTimeline:QW,Skeleton:gY,SkeletonBounds:wGe,SkeletonData:mY,SkeletonJson:bY,Skin:xY,Slot:B3,SlotData:_Y,get SpacingMode(){return _o},Spine:SGe,SwirlEffect:xGe,get TimelineType(){return ki},TrackEntry:iY,TransformConstraint:vY,TransformConstraintData:yY,TransformConstraintTimeline:wR,TranslateTimeline:qv,TwoColorTimeline:xR,VertexAttachment:Af},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CR=function(t,e){return CR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},CR(t,e)};function sr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");CR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var U3=function(){function t(e){if(!e)throw new Error("name cannot be null.");this.name=e}return t}(),Ms=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=n,n}return e.prototype.computeWorldVerticesOld=function(r,n){this.computeWorldVertices(r,0,this.worldVerticesLength,n,0,2)},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){i=o+(i>>1)*s;var c=r.bone.skeleton,l=r.deform,u=this.vertices,f=this.bones;if(!f){l.length>0&&(u=l);for(var h=r.bone.matrix,p=h.tx,d=h.ty,g=h.a,m=h.c,v=h.b,_=h.d,y=n,b=o;b<i;y+=2,b+=s){var w=u[y],E=u[y+1];a[b]=w*g+E*m+p,a[b+1]=w*v+E*_+d}return}for(var C=0,T=0,A=0;A<n;A+=2){var R=f[C];C+=R+1,T+=R}var O=c.bones;if(l.length==0)for(var b=o,m=T*3;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3){var h=O[f[C]].matrix,w=u[m],E=u[m+1],M=u[m+2];P+=(w*h.a+E*h.c+h.tx)*M,k+=(w*h.b+E*h.d+h.ty)*M}a[b]=P,a[b+1]=k}else for(var B=l,b=o,m=T*3,D=T<<1;b<i;b+=s){var P=0,k=0,R=f[C++];for(R+=C;C<R;C++,m+=3,D+=2){var h=O[f[C]].matrix,w=u[m]+B[D],E=u[m+1]+B[D+1],M=u[m+2];P+=(w*h.a+E*h.c+h.tx)*M,k+=(w*h.b+E*h.d+h.ty)*M}a[b]=P,a[b+1]=k}},e.prototype.copyTo=function(r){this.bones?(r.bones=new Array(this.bones.length),xe.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices&&(r.vertices=xe.newFloatArray(this.vertices.length),xe.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)),r.worldVerticesLength=this.worldVerticesLength,r.timelineAttachment=this.timelineAttachment},e.nextID=0,e}(U3),wY=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.BoundingBox,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.color.setFromColor(this.color),r},e}(Ms),EY=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Clipping,n.endSlot=null,n.color=new rt(.2275,.2275,.8078,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.endSlot=this.endSlot,r.color.setFromColor(this.color),r},e}(Ms),Mb=function(t){sr(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=tr.Mesh,i.region=null,i.triangles=[],i.color=new rt(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new rt(0,0,0,0),i.path=n,i}return e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(r){this.parentMesh=r,r&&(this.bones=r.bones,this.vertices=r.vertices,this.worldVerticesLength=r.worldVerticesLength,this.regionUVs=r.regionUVs,this.triangles=r.triangles,this.hullLength=r.hullLength,this.worldVerticesLength=r.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),this.copyTo(r),r.regionUVs=new Float32Array(this.regionUVs.length),xe.arrayCopy(this.regionUVs,0,r.regionUVs,0,this.regionUVs.length),r.triangles=new Array(this.triangles.length),xe.arrayCopy(this.triangles,0,r.triangles,0,this.triangles.length),r.hullLength=this.hullLength,r.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(r.edges=new Array(this.edges.length),xe.arrayCopy(this.edges,0,r.edges,0,this.edges.length)),r.width=this.width,r.height=this.height,r},e.prototype.computeWorldVertices=function(r,n,i,a,o,s){this.sequence!=null&&this.sequence.apply(r,this),t.prototype.computeWorldVertices.call(this,r,n,i,a,o,s)},e.prototype.newLinkedMesh=function(){var r=new e(this.name,this.path);return r.region=this.region,r.color.setFromColor(this.color),r.timelineAttachment=this.timelineAttachment,r.setParentMesh(this.parentMesh?this.parentMesh:this),r},e}(Ms),Kv=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Path,n.lengths=[],n.closed=!1,n.constantSpeed=!1,n.color=new rt(1,1,1,1),n}return e.prototype.copy=function(){var r=new e(this.name);return this.copyTo(r),r.lengths=new Array(this.lengths.length),xe.arrayCopy(this.lengths,0,r.lengths,0,this.lengths.length),r.closed=closed,r.constantSpeed=this.constantSpeed,r.color.setFromColor(this.color),r},e}(Ms),SY=function(t){sr(e,t);function e(r){var n=t.call(this,r)||this;return n.type=tr.Point,n.x=0,n.y=0,n.rotation=0,n.color=new rt(.38,.94,0,1),n}return e.prototype.computeWorldPosition=function(r,n){var i=r.matrix;return n.x=this.x*i.a+this.y*i.c+r.worldX,n.y=this.x*i.b+this.y*i.d+r.worldY,n},e.prototype.computeWorldRotation=function(r){var n=r.matrix,i=re.cosDeg(this.rotation),a=re.sinDeg(this.rotation),o=i*n.a+a*n.c,s=i*n.b+a*n.d;return Math.atan2(s,o)*re.radDeg},e.prototype.copy=function(){var r=new e(this.name);return r.x=this.x,r.y=this.y,r.rotation=this.rotation,r.color.setFromColor(this.color),r},e}(Ms),j3=function(t){sr(e,t);function e(r,n){var i=t.call(this,r)||this;return i.type=tr.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new rt(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=xe.newFloatArray(8),i.uvs=xe.newFloatArray(8),i.tempColor=new rt(1,1,1,1),i.path=n,i}return e.prototype.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var r=this.region,n=this.width/this.region.originalWidth*this.scaleX,i=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*n,o=-this.height/2*this.scaleY+this.region.offsetY*i,s=a+this.region.width*n,c=o+this.region.height*i,l=this.rotation*Math.PI/180,u=Math.cos(l),f=Math.sin(l),h=this.x,p=this.y,d=a*u+h,g=a*f,m=o*u+p,v=o*f,_=s*u+h,y=s*f,b=c*u+p,w=c*f,E=this.offset;E[0]=d-v,E[1]=m+g,E[2]=d-w,E[3]=b+g,E[4]=_-w,E[5]=b+y,E[6]=_-v,E[7]=m+y;var C=this.uvs;r.degrees==90?(C[2]=r.u,C[3]=r.v2,C[4]=r.u,C[5]=r.v,C[6]=r.u2,C[7]=r.v,C[0]=r.u2,C[1]=r.v2):(C[0]=r.u,C[1]=r.v2,C[2]=r.u,C[3]=r.v,C[4]=r.u2,C[5]=r.v,C[6]=r.u2,C[7]=r.v2)},e.prototype.computeWorldVertices=function(r,n,i,a){this.sequence!=null&&this.sequence.apply(r,this);var o=r.bone,s=this.offset,c=o.matrix,l=c.tx,u=c.ty,f=c.a,h=c.c,p=c.b,d=c.d,g=0,m=0;g=s[0],m=s[1],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u,i+=a,g=s[2],m=s[3],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u,i+=a,g=s[4],m=s[5],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u,i+=a,g=s[6],m=s[7],n[i]=g*f+m*h+l,n[i+1]=g*p+m*d+u},e.prototype.copy=function(){var r=new e(this.name,this.path);return r.region=this.region,r.rendererObject=this.rendererObject,r.x=this.x,r.y=this.y,r.scaleX=this.scaleX,r.scaleY=this.scaleY,r.rotation=this.rotation,r.width=this.width,r.height=this.height,xe.arrayCopy(this.uvs,0,r.uvs,0,8),xe.arrayCopy(this.offset,0,r.offset,0,8),r.color.setFromColor(this.color),r.sequence=this.sequence!=null?this.sequence.copy():null,r},e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(U3),$3=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return xe.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,r){var n=e.sequenceIndex;n==-1&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);var i=this.regions[n];r.region!=i&&(r.region=i)},t.prototype.getPath=function(e,r){for(var n=e,i=(this.start+r).toString(),a=this.digits-i.length;a>0;a--)n+="0";return n+=i,n},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),Ti;(function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"})(Ti||(Ti={}));var G3=[Ti.hold,Ti.once,Ti.loop,Ti.pingpong,Ti.onceReverse,Ti.loopReverse,Ti.pingpongReverse],Lb=function(){function t(e,r,n){if(this.timelines=[],this.timelineIds=new NW,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=n}return t.prototype.setTimelines=function(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var r=0;r<e.length;r++)this.timelineIds.addAll(e[r].getPropertyIds())},t.prototype.hasTimeline=function(e){for(var r=0;r<e.length;r++)if(this.timelineIds.contains(e[r]))return!0;return!1},t.prototype.apply=function(e,r,n,i,a,o,s,c){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(n%=this.duration,r>0&&(r%=this.duration));for(var l=this.timelines,u=0,f=l.length;u<f;u++)l[u].apply(e,r,n,a,o,s,c)},t}(),kr={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},$n=function(){function t(e,r){this.propertyIds=r,this.frames=xe.newFloatArray(e*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(e,r){for(var n=e.length,i=1;i<n;i++)if(e[i]>r)return i-1;return n-1},t.search=function(e,r,n){for(var i=e.length,a=n;a<i;a+=n)if(e[a]>r)return a-n;return i-n},t}(),ss=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,i)||this;return a.curves=xe.newFloatArray(r+n*18),a.curves[r-1]=1,a}return e.prototype.setLinear=function(r){this.curves[r]=0},e.prototype.setStepped=function(r){this.curves[r]=1},e.prototype.shrink=function(r){var n=this.getFrameCount()+r*18;if(this.curves.length>n){var i=xe.newFloatArray(n);xe.arrayCopy(this.curves,0,i,0,n),this.curves=i}},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var g=(a-s*2+l)*.03,m=(o-c*2+u)*.03,v=((s-l)*3-a+f)*.006,_=((c-u)*3-o+h)*.006,y=g*2+v,b=m*2+_,w=(s-a)*.3+g+v*.16666667,E=(c-o)*.3+m+_*.16666667,C=a+w,T=o+E,A=d+18;d<A;d+=2)p[d]=C,p[d+1]=T,w+=y,E+=b,y+=v,b+=_,C+=w,T+=E},e.prototype.getBezierValue=function(r,n,i,a){var o=this.curves;if(o[a]>r){var s=this.frames[n],c=this.frames[n+i];return c+(r-s)/(o[a]-s)*(o[a+1]-c)}var l=a+18;for(a+=2;a<l;a+=2)if(o[a]>=r){var u=o[a-2],f=o[a-1];return f+(r-u)/(o[a]-u)*(o[a+1]-f)}n+=this.getFrameEntries();var h=o[l-2],p=o[l-1];return p+(r-h)/(this.frames[n]-h)*(this.frames[n+i]-p)},e}($n),ls=function(t){sr(e,t);function e(r,n,i){return t.call(this,r,n,[i])||this}return e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(r,n,i){r<<=1,this.frames[r]=n,this.frames[r+1]=i},e.prototype.getCurveValue=function(r){for(var n=this.frames,i=n.length-2,a=2;a<=i;a+=2)if(n[a]>r){i=a-2;break}var o=this.curves[i>>1];switch(o){case 0:var s=n[i],c=n[i+1];return c+(r-s)/(n[i+2]-s)*(n[i+2+1]-c);case 1:return n[i+1]}return this.getBezierValue(r,i,1,o-2)},e}(ss),Bb=function(t){sr(e,t);function e(r,n,i,a){return t.call(this,r,n,[i,a])||this}return e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(r,n,i,a){r*=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a},e}(ss),Zv=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.rotate+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.rotation=l.data.rotation;return;case Z.first:l.rotation+=(l.data.rotation-l.rotation)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.rotation=l.data.rotation+f*o;break;case Z.first:case Z.replace:f+=l.data.rotation-l.rotation;case Z.add:l.rotation+=f*o}}},e}(ls),V3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.x+"|"+i,kr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.x=l.data.x,l.y=l.data.y;return;case Z.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}return}var f=0,h=0,p=$n.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+3]-g);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case Z.setup:l.x=l.data.x+f*o,l.y=l.data.y+h*o;break;case Z.first:case Z.replace:l.x+=(l.data.x+f-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case Z.add:l.x+=f*o,l.y+=h*o}}},e}(Bb),H3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.x+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.x=l.data.x;return;case Z.first:l.x+=(l.data.x-l.x)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.x=l.data.x+f*o;break;case Z.first:case Z.replace:l.x+=(l.data.x+f-l.x)*o;break;case Z.add:l.x+=f*o}}},e}(ls),z3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.y+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.y=l.data.y;return;case Z.first:l.y+=(l.data.y-l.y)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.y=l.data.y+f*o;break;case Z.first:case Z.replace:l.y+=(l.data.y+f-l.y)*o;break;case Z.add:l.y+=f*o}}},e}(ls),X3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.scaleX+"|"+i,kr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY;return;case Z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f,h,p=$n.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+3]-g);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}if(f*=l.data.scaleX,h*=l.data.scaleY,o==1)s==Z.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var v=0,_=0;if(c==Kt.mixOut)switch(s){case Z.setup:v=l.data.scaleX,_=l.data.scaleY,l.scaleX=v+(Math.abs(f)*re.signum(v)-v)*o,l.scaleY=_+(Math.abs(h)*re.signum(_)-_)*o;break;case Z.first:case Z.replace:v=l.scaleX,_=l.scaleY,l.scaleX=v+(Math.abs(f)*re.signum(v)-v)*o,l.scaleY=_+(Math.abs(h)*re.signum(_)-_)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}else switch(s){case Z.setup:v=Math.abs(l.data.scaleX)*re.signum(f),_=Math.abs(l.data.scaleY)*re.signum(h),l.scaleX=v+(f-v)*o,l.scaleY=_+(h-_)*o;break;case Z.first:case Z.replace:v=Math.abs(l.scaleX)*re.signum(f),_=Math.abs(l.scaleY)*re.signum(h),l.scaleX=v+(f-v)*o,l.scaleY=_+(h-_)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o,l.scaleY+=(h-l.data.scaleY)*o}}}},e}(Bb),W3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.scaleX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleX=l.data.scaleX;return;case Z.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o}return}var f=this.getCurveValue(i)*l.data.scaleX;if(o==1)s==Z.add?l.scaleX+=f-l.data.scaleX:l.scaleX=f;else{var h=0;if(c==Kt.mixOut)switch(s){case Z.setup:h=l.data.scaleX,l.scaleX=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.first:case Z.replace:h=l.scaleX,l.scaleX=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o}else switch(s){case Z.setup:h=Math.abs(l.data.scaleX)*re.signum(f),l.scaleX=h+(f-h)*o;break;case Z.first:case Z.replace:h=Math.abs(l.scaleX)*re.signum(f),l.scaleX=h+(f-h)*o;break;case Z.add:l.scaleX+=(f-l.data.scaleX)*o}}}},e}(ls),Y3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.scaleY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.scaleY=l.data.scaleY;return;case Z.first:l.scaleY+=(l.data.scaleY-l.scaleY)*o}return}var f=this.getCurveValue(i)*l.data.scaleY;if(o==1)s==Z.add?l.scaleY+=f-l.data.scaleY:l.scaleY=f;else{var h=0;if(c==Kt.mixOut)switch(s){case Z.setup:h=l.data.scaleY,l.scaleY=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.first:case Z.replace:h=l.scaleY,l.scaleY=h+(Math.abs(f)*re.signum(h)-h)*o;break;case Z.add:l.scaleY+=(f-l.data.scaleY)*o}else switch(s){case Z.setup:h=Math.abs(l.data.scaleY)*re.signum(f),l.scaleY=h+(f-h)*o;break;case Z.first:case Z.replace:h=Math.abs(l.scaleY)*re.signum(f),l.scaleY=h+(f-h)*o;break;case Z.add:l.scaleY+=(f-l.data.scaleY)*o}}}},e}(ls),q3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.shearX+"|"+i,kr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearX=l.data.shearX,l.shearY=l.data.shearY;return;case Z.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=0,h=0,p=$n.search(u,i,3),d=this.curves[p/3];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+3]-g);f+=(u[p+3+1]-f)*m,h+=(u[p+3+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}switch(s){case Z.setup:l.shearX=l.data.shearX+f*o,l.shearY=l.data.shearY+h*o;break;case Z.first:case Z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case Z.add:l.shearX+=f*o,l.shearY+=h*o}}},e}(Bb),K3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.shearX+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearX=l.data.shearX;return;case Z.first:l.shearX+=(l.data.shearX-l.shearX)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.shearX=l.data.shearX+f*o;break;case Z.first:case Z.replace:l.shearX+=(l.data.shearX+f-l.shearX)*o;break;case Z.add:l.shearX+=f*o}}},e}(ls),Z3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.shearY+"|"+i)||this;return a.boneIndex=0,a.boneIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.bones[this.boneIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.shearY=l.data.shearY;return;case Z.first:l.shearY+=(l.data.shearY-l.shearY)*o}return}var f=this.getCurveValue(i);switch(s){case Z.setup:l.shearY=l.data.shearY+f*o;break;case Z.first:case Z.replace:l.shearY+=(l.data.shearY+f-l.shearY)*o;break;case Z.add:l.shearY+=f*o}}},e}(ls),J3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i,kr.alpha+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(r,n,i,a,o,s){r*=5,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case Z.setup:f.setFromColor(h);return;case Z.first:f.add((h.r-f.r)*o,(h.g-f.g)*o,(h.b-f.b)*o,(h.a-f.a)*o)}return}var p=0,d=0,g=0,m=0,v=$n.search(u,i,5),_=this.curves[v/5];switch(_){case 0:var y=u[v];p=u[v+1],d=u[v+2],g=u[v+3],m=u[v+4];var b=(i-y)/(u[v+5]-y);p+=(u[v+5+1]-p)*b,d+=(u[v+5+2]-d)*b,g+=(u[v+5+3]-g)*b,m+=(u[v+5+4]-m)*b;break;case 1:p=u[v+1],d=u[v+2],g=u[v+3],m=u[v+4];break;default:p=this.getBezierValue(i,v,1,_-2),d=this.getBezierValue(i,v,2,_+18-2),g=this.getBezierValue(i,v,3,_+18*2-2),m=this.getBezierValue(i,v,4,_+18*3-2)}o==1?f.set(p,d,g,m):(s==Z.setup&&f.setFromColor(l.data.color),f.add((p-f.r)*o,(d-f.g)*o,(g-f.b)*o,(m-f.a)*o))}},e}(ss),Q3=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){r<<=2,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color;if(i<u[0]){var h=l.data.color;switch(s){case Z.setup:f.r=h.r,f.g=h.g,f.b=h.b;return;case Z.first:f.r+=(h.r-f.r)*o,f.g+=(h.g-f.g)*o,f.b+=(h.b-f.b)*o}return}var p=0,d=0,g=0,m=$n.search(u,i,4),v=this.curves[m>>2];switch(v){case 0:var _=u[m];p=u[m+1],d=u[m+2],g=u[m+3];var y=(i-_)/(u[m+4]-_);p+=(u[m+4+1]-p)*y,d+=(u[m+4+2]-d)*y,g+=(u[m+4+3]-g)*y;break;case 1:p=u[m+1],d=u[m+2],g=u[m+3];break;default:p=this.getBezierValue(i,m,1,v-2),d=this.getBezierValue(i,m,2,v+18-2),g=this.getBezierValue(i,m,3,v+18*2-2)}if(o==1)f.r=p,f.g=d,f.b=g;else{if(s==Z.setup){var h=l.data.color;f.r=h.r,f.g=h.g,f.b=h.b}f.r+=(p-f.r)*o,f.g+=(d-f.g)*o,f.b+=(g-f.b)*o}}},e}(ss),e4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.alpha+"|"+i)||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.color;if(i<this.frames[0]){var f=l.data.color;switch(s){case Z.setup:u.a=f.a;return;case Z.first:u.a+=(f.a-u.a)*o}return}var h=this.getCurveValue(i);o==1?u.a=h:(s==Z.setup&&(u.a=l.data.color.a),u.a+=(h-u.a)*o)}},e}(ls),t4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i,kr.alpha+"|"+i,kr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(r,n,i,a,o,s,c,l,u){r<<=3,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l,this.frames[r+7]=u},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case Z.setup:f.setFromColor(p),h.r=d.r,h.g=d.g,h.b=d.b;return;case Z.first:f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,(p.a-f.a)*o),h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=0,E=$n.search(u,i,8),C=this.curves[E>>3];switch(C){case 0:var T=u[E];g=u[E+1],m=u[E+2],v=u[E+3],_=u[E+4],y=u[E+5],b=u[E+6],w=u[E+7];var A=(i-T)/(u[E+8]-T);g+=(u[E+8+1]-g)*A,m+=(u[E+8+2]-m)*A,v+=(u[E+8+3]-v)*A,_+=(u[E+8+4]-_)*A,y+=(u[E+8+5]-y)*A,b+=(u[E+8+6]-b)*A,w+=(u[E+8+7]-w)*A;break;case 1:g=u[E+1],m=u[E+2],v=u[E+3],_=u[E+4],y=u[E+5],b=u[E+6],w=u[E+7];break;default:g=this.getBezierValue(i,E,1,C-2),m=this.getBezierValue(i,E,2,C+18-2),v=this.getBezierValue(i,E,3,C+18*2-2),_=this.getBezierValue(i,E,4,C+18*3-2),y=this.getBezierValue(i,E,5,C+18*4-2),b=this.getBezierValue(i,E,6,C+18*5-2),w=this.getBezierValue(i,E,7,C+18*6-2)}if(o==1)f.set(g,m,v,_),h.r=y,h.g=b,h.b=w;else{if(s==Z.setup){f.setFromColor(l.data.color);var d=l.data.darkColor;h.r=d.r,h.g=d.g,h.b=d.b}f.add((g-f.r)*o,(m-f.g)*o,(v-f.b)*o,(_-f.a)*o),h.r+=(y-h.r)*o,h.g+=(b-h.g)*o,h.b+=(w-h.b)*o}}},e}(ss),r4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.rgb+"|"+i,kr.rgb2+"|"+i])||this;return a.slotIndex=0,a.slotIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){r*=7,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s,this.frames[r+5]=c,this.frames[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=this.frames,f=l.color,h=l.darkColor;if(i<u[0]){var p=l.data.color,d=l.data.darkColor;switch(s){case Z.setup:f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b;return;case Z.first:f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o,h.r+=(d.r-h.r)*o,h.g+=(d.g-h.g)*o,h.b+=(d.b-h.b)*o}return}var g=0,m=0,v=0,_=0,y=0,b=0,w=$n.search(u,i,7),E=this.curves[w/7];switch(E){case 0:var C=u[w];g=u[w+1],m=u[w+2],v=u[w+3],_=u[w+4],y=u[w+5],b=u[w+6];var T=(i-C)/(u[w+7]-C);g+=(u[w+7+1]-g)*T,m+=(u[w+7+2]-m)*T,v+=(u[w+7+3]-v)*T,_+=(u[w+7+4]-_)*T,y+=(u[w+7+5]-y)*T,b+=(u[w+7+6]-b)*T;break;case 1:g=u[w+1],m=u[w+2],v=u[w+3],_=u[w+4],y=u[w+5],b=u[w+6];break;default:g=this.getBezierValue(i,w,1,E-2),m=this.getBezierValue(i,w,2,E+18-2),v=this.getBezierValue(i,w,3,E+18*2-2),_=this.getBezierValue(i,w,4,E+18*3-2),y=this.getBezierValue(i,w,5,E+18*4-2),b=this.getBezierValue(i,w,6,E+18*5-2)}if(o==1)f.r=g,f.g=m,f.b=v,h.r=_,h.g=y,h.b=b;else{if(s==Z.setup){var p=l.data.color,d=l.data.darkColor;f.r=p.r,f.g=p.g,f.b=p.b,h.r=d.r,h.g=d.g,h.b=d.b}f.r+=(g-f.r)*o,f.g+=(m-f.g)*o,f.b+=(v-f.b)*o,h.r+=(_-h.r)*o,h.g+=(y-h.g)*o,h.b+=(b-h.b)*o}}},e}(ss),Gc=function(t){sr(e,t);function e(r,n){var i=t.call(this,r,[kr.attachment+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i.attachmentNames=new Array(r),i}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.attachmentNames[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){if(c==Kt.mixOut){s==Z.setup&&this.setAttachment(r,l,l.data.attachmentName);return}if(i<this.frames[0]){(s==Z.setup||s==Z.first)&&this.setAttachment(r,l,l.data.attachmentName);return}this.setAttachment(r,l,this.attachmentNames[$n.search1(this.frames,i)])}},e.prototype.setAttachment=function(r,n,i){n.setAttachment(i?r.getAttachment(this.slotIndex,i):null)},e}($n),n4=function(t){sr(e,t);function e(r,n,i,a){var o=t.call(this,r,n,[kr.deform+"|"+i+"|"+a.id])||this;return o.slotIndex=0,o.slotIndex=i,o.attachment=a,o.vertices=new Array(r),o}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.vertices[r]=i},e.prototype.setBezier=function(r,n,i,a,o,s,c,l,u,f,h){var p=this.curves,d=this.getFrameCount()+r*18;i==0&&(p[n]=2+d);for(var g=(a-s*2+l)*.03,m=u*.03-c*.06,v=((s-l)*3-a+f)*.006,_=(c-u+.33333333)*.018,y=g*2+v,b=m*2+_,w=(s-a)*.3+g+v*.16666667,E=c*.3+m+_*.16666667,C=a+w,T=E,A=d+18;d<A;d+=2)p[d]=C,p[d+1]=T,w+=y,E+=b,y+=v,b+=_,C+=w,T+=E},e.prototype.getCurvePercent=function(r,n){var i=this.curves,a=i[n];switch(a){case 0:var o=this.frames[n];return(r-o)/(this.frames[n+this.getFrameEntries()]-o);case 1:return 0}if(a-=2,i[a]>r){var s=this.frames[n];return i[a+1]*(r-s)/(i[a]-s)}var c=a+18;for(a+=2;a<c;a+=2)if(i[a]>=r){var l=i[a-2],u=i[a-1];return u+(r-l)/(i[a]-l)*(i[a+1]-u)}var f=i[c-2],h=i[c-1];return h+(1-h)*(r-f)/(this.frames[n+this.getFrameEntries()]-f)},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.getAttachment();if(u&&!(!(u instanceof Ms)||u.timelineAttachment!=this.attachment)){var f=l.deform;f.length==0&&(s=Z.setup);var h=this.vertices,p=h[0].length,d=this.frames;if(i<d[0]){switch(s){case Z.setup:f.length=0;return;case Z.first:if(o==1){f.length=0;return}f.length=p;var g=u;if(g.bones){o=1-o;for(var v=0;v<p;v++)f[v]*=o}else for(var m=g.vertices,v=0;v<p;v++)f[v]+=(m[v]-f[v])*o}return}if(f.length=p,i>=d[d.length-1]){var _=h[d.length-1];if(o==1)if(s==Z.add){var g=u;if(g.bones)for(var b=0;b<p;b++)f[b]+=_[b];else for(var m=g.vertices,y=0;y<p;y++)f[y]+=_[y]-m[y]}else xe.arrayCopy(_,0,f,0,p);else switch(s){case Z.setup:{var w=u;if(w.bones)for(var T=0;T<p;T++)f[T]=_[T]*o;else for(var m=w.vertices,E=0;E<p;E++){var C=m[E];f[E]=C+(_[E]-C)*o}break}case Z.first:case Z.replace:for(var A=0;A<p;A++)f[A]+=(_[A]-f[A])*o;break;case Z.add:var g=u;if(g.bones)for(var O=0;O<p;O++)f[O]+=_[O]*o;else for(var m=g.vertices,R=0;R<p;R++)f[R]+=(_[R]-m[R])*o}return}var P=$n.search1(d,i),k=this.getCurvePercent(i,P),M=h[P],B=h[P+1];if(o==1)if(s==Z.add){var g=u;if(g.bones)for(var ee=0;ee<p;ee++){var H=M[ee];f[ee]+=H+(B[ee]-H)*k}else for(var m=g.vertices,D=0;D<p;D++){var H=M[D];f[D]+=H+(B[D]-H)*k-m[D]}}else for(var ne=0;ne<p;ne++){var H=M[ne];f[ne]=H+(B[ne]-H)*k}else switch(s){case Z.setup:{var Y=u;if(Y.bones)for(var X=0;X<p;X++){var H=M[X];f[X]=(H+(B[X]-H)*k)*o}else for(var m=Y.vertices,U=0;U<p;U++){var H=M[U],C=m[U];f[U]=C+(H+(B[U]-H)*k-C)*o}break}case Z.first:case Z.replace:for(var V=0;V<p;V++){var H=M[V];f[V]+=(H+(B[V]-H)*k-f[V])*o}break;case Z.add:var g=u;if(g.bones)for(var te=0;te<p;te++){var H=M[te];f[te]+=(H+(B[te]-H)*k)*o}else for(var m=g.vertices,G=0;G<p;G++){var H=M[G];f[G]+=(H+(B[G]-H)*k-m[G])*o}}}}},e}(ss),Db=function(t){sr(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n){this.frames[r]=n.time,this.events[r]=n},e.prototype.apply=function(r,n,i,a,o,s,c){if(a){var l=this.frames,u=this.frames.length;if(n>i)this.apply(r,n,Number.MAX_VALUE,a,o,s,c),n=-1;else if(n>=l[u-1])return;if(!(i<l[0])){var f=0;if(n<l[0])f=0;else{f=$n.search1(l,n)+1;for(var h=l[f];f>0&&l[f-1]==h;)f--}for(;f<u&&i>=l[f];f++)a.push(this.events[f])}}},e.propertyIds=[""+kr.event],e}($n),ad=function(t){sr(e,t);function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(r,n,i){this.frames[r]=n,this.drawOrders[r]=i},e.prototype.apply=function(r,n,i,a,o,s,c){if(c==Kt.mixOut){s==Z.setup&&xe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}if(i<this.frames[0]){(s==Z.setup||s==Z.first)&&xe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);return}var l=$n.search1(this.frames,i),u=this.drawOrders[l];if(!u)xe.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else for(var f=r.drawOrder,h=r.slots,p=0,d=u.length;p<d;p++)f[p]=h[u[p]]},e.propertyIds=[""+kr.drawOrder],e}($n),i4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.ikConstraint+"|"+i])||this;return a.ikConstraintIndex=0,a.ikConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(r,n,i,a,o,s,c){r*=6,this.frames[r]=n,this.frames[r+1]=i,this.frames[r+2]=a,this.frames[r+3]=o,this.frames[r+4]=s?1:0,this.frames[r+5]=c?1:0},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.ikConstraints[this.ikConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch;return;case Z.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}return}var f=0,h=0,p=$n.search(u,i,6),d=this.curves[p/6];switch(d){case 0:var g=u[p];f=u[p+1],h=u[p+2];var m=(i-g)/(u[p+6]-g);f+=(u[p+6+1]-f)*m,h+=(u[p+6+2]-h)*m;break;case 1:f=u[p+1],h=u[p+2];break;default:f=this.getBezierValue(i,p,1,d-2),h=this.getBezierValue(i,p,2,d+18-2)}s==Z.setup?(l.mix=l.data.mix+(f-l.data.mix)*o,l.softness=l.data.softness+(h-l.data.softness)*o,c==Kt.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0)):(l.mix+=(f-l.mix)*o,l.softness+=(h-l.softness)*o,c==Kt.mixIn&&(l.bendDirection=u[p+3],l.compress=u[p+4]!=0,l.stretch=u[p+5]!=0))}},e}(ss),a4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.transformConstraint+"|"+i])||this;return a.transformConstraintIndex=0,a.transformConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(r,n,i,a,o,s,c,l){var u=this.frames;r*=7,u[r]=n,u[r+1]=i,u[r+2]=a,u[r+3]=o,u[r+4]=s,u[r+5]=c,u[r+6]=l},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.transformConstraints[this.transformConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){var f=l.data;switch(s){case Z.setup:l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY;return;case Z.first:l.mixRotate+=(f.mixRotate-l.mixRotate)*o,l.mixX+=(f.mixX-l.mixX)*o,l.mixY+=(f.mixY-l.mixY)*o,l.mixScaleX+=(f.mixScaleX-l.mixScaleX)*o,l.mixScaleY+=(f.mixScaleY-l.mixScaleY)*o,l.mixShearY+=(f.mixShearY-l.mixShearY)*o}return}var h,p,d,g,m,v,_=$n.search(u,i,7),y=this.curves[_/7];switch(y){case 0:var b=u[_];h=u[_+1],p=u[_+2],d=u[_+3],g=u[_+4],m=u[_+5],v=u[_+6];var w=(i-b)/(u[_+7]-b);h+=(u[_+7+1]-h)*w,p+=(u[_+7+2]-p)*w,d+=(u[_+7+3]-d)*w,g+=(u[_+7+4]-g)*w,m+=(u[_+7+5]-m)*w,v+=(u[_+7+6]-v)*w;break;case 1:h=u[_+1],p=u[_+2],d=u[_+3],g=u[_+4],m=u[_+5],v=u[_+6];break;default:h=this.getBezierValue(i,_,1,y-2),p=this.getBezierValue(i,_,2,y+18-2),d=this.getBezierValue(i,_,3,y+18*2-2),g=this.getBezierValue(i,_,4,y+18*3-2),m=this.getBezierValue(i,_,5,y+18*4-2),v=this.getBezierValue(i,_,6,y+18*5-2)}if(s==Z.setup){var f=l.data;l.mixRotate=f.mixRotate+(h-f.mixRotate)*o,l.mixX=f.mixX+(p-f.mixX)*o,l.mixY=f.mixY+(d-f.mixY)*o,l.mixScaleX=f.mixScaleX+(g-f.mixScaleX)*o,l.mixScaleY=f.mixScaleY+(m-f.mixScaleY)*o,l.mixShearY=f.mixShearY+(v-f.mixShearY)*o}else l.mixRotate+=(h-l.mixRotate)*o,l.mixX+=(p-l.mixX)*o,l.mixY+=(d-l.mixY)*o,l.mixScaleX+=(g-l.mixScaleX)*o,l.mixScaleY+=(m-l.mixScaleY)*o,l.mixShearY+=(v-l.mixShearY)*o}},e}(ss),o4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.pathConstraintPosition+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.position=l.data.position;return;case Z.first:l.position+=(l.data.position-l.position)*o}return}var f=this.getCurveValue(i);s==Z.setup?l.position=l.data.position+(f-l.data.position)*o:l.position+=(f-l.position)*o}},e}(ls),s4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,kr.pathConstraintSpacing+"|"+i)||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.spacing=l.data.spacing;return;case Z.first:l.spacing+=(l.data.spacing-l.spacing)*o}return}var f=this.getCurveValue(i);s==Z.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*o:l.spacing+=(f-l.spacing)*o}},e}(ls),l4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,n,[kr.pathConstraintMix+"|"+i])||this;return a.pathConstraintIndex=0,a.pathConstraintIndex=i,a}return e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r<<=2,s[r]=n,s[r+1]=i,s[r+2]=a,s[r+3]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.pathConstraints[this.pathConstraintIndex];if(l.active){var u=this.frames;if(i<u[0]){switch(s){case Z.setup:l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,l.mixY=l.data.mixY;return;case Z.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*o,l.mixX+=(l.data.mixX-l.mixX)*o,l.mixY+=(l.data.mixY-l.mixY)*o}return}var f,h,p,d=$n.search(u,i,4),g=this.curves[d>>2];switch(g){case 0:var m=u[d];f=u[d+1],h=u[d+2],p=u[d+3];var v=(i-m)/(u[d+4]-m);f+=(u[d+4+1]-f)*v,h+=(u[d+4+2]-h)*v,p+=(u[d+4+3]-p)*v;break;case 1:f=u[d+1],h=u[d+2],p=u[d+3];break;default:f=this.getBezierValue(i,d,1,g-2),h=this.getBezierValue(i,d,2,g+18-2),p=this.getBezierValue(i,d,3,g+18*2-2)}if(s==Z.setup){var _=l.data;l.mixRotate=_.mixRotate+(f-_.mixRotate)*o,l.mixX=_.mixX+(h-_.mixX)*o,l.mixY=_.mixY+(p-_.mixY)*o}else l.mixRotate+=(f-l.mixRotate)*o,l.mixX+=(h-l.mixX)*o,l.mixY+=(p-l.mixY)*o}},e}(ss),u4=function(t){sr(e,t);function e(r,n,i){var a=t.call(this,r,[kr.sequence+"|"+n+"|"+i.sequence.id])||this;return a.slotIndex=n,a.attachment=i,a}return e.prototype.getFrameEntries=function(){return e.ENTRIES},e.prototype.getSlotIndex=function(){return this.slotIndex},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setFrame=function(r,n,i,a,o){var s=this.frames;r*=e.ENTRIES,s[r]=n,s[r+e.MODE]=i|a<<4,s[r+e.DELAY]=o},e.prototype.apply=function(r,n,i,a,o,s,c){var l=r.slots[this.slotIndex];if(l.bone.active){var u=l.attachment,f=this.attachment;if(!(u!=f&&(!(u instanceof Ms)||u.timelineAttachment!=f))){var h=this.frames;if(i<h[0]){(s==Z.setup||s==Z.first)&&(l.sequenceIndex=-1);return}var p=$n.search(h,i,e.ENTRIES),d=h[p],g=h[p+e.MODE],m=h[p+e.DELAY];if(this.attachment.sequence){var v=g>>4,_=this.attachment.sequence.regions.length,y=G3[g&15];if(y!=Ti.hold)switch(v+=(i-d)/m+1e-5|0,y){case Ti.once:v=Math.min(_-1,v);break;case Ti.loop:v%=_;break;case Ti.pingpong:{var b=(_<<1)-2;v=b==0?0:v%b,v>=_&&(v=b-v);break}case Ti.onceReverse:v=Math.max(_-1-v,0);break;case Ti.loopReverse:v=_-1-v%_;break;case Ti.pingpongReverse:{var b=(_<<1)-2;v=b==0?0:(v+_-1)%b,v>=_&&(v=b-v)}}l.sequenceIndex=v}}}},e.ENTRIES=3,e.MODE=1,e.DELAY=2,e}($n),CY=function(){function t(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new AY(this),this.propertyIDs=new NW,this.animationsChanged=!1,this.trackEntryPool=new Ob(function(){return new TY}),this.data=e}return t.emptyAnimation=function(){return t._emptyAnimation},t.prototype.update=function(e){e*=this.timeScale;for(var r=this.tracks,n=0,i=r.length;n<i;n++){var a=r[n];if(a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}var s=a.next;if(s){var c=a.trackLast-s.delay;if(c>=0){for(s.delay=0,s.trackTime+=a.timeScale==0?0:(c/a.timeScale+e)*s.timeScale,a.trackTime+=o,this.setCurrent(n,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){r[n]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){var l=a.mixingFrom;for(a.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(e,r){var n=e.mixingFrom;if(!n)return!0;var i=this.updateMixingFrom(n,r);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((n.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=e),e.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=r*n.timeScale,e.mixTime+=r,!1)},t.prototype.apply=function(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,a=0,o=n.length;a<o;a++){var s=n[a];if(!(!s||s.delay>0)){i=!0;var c=a==0?Z.first:s.mixBlend,l=s.alpha;s.mixingFrom?l*=this.applyMixingFrom(s,e,c):s.trackTime>=s.trackEnd&&!s.next&&(l=0);var u=s.animationLast,f=s.getAnimationTime(),h=f,p=r;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,g=d.length;if(a==0&&l==1||c==Z.add)for(var m=0;m<g;m++){xe.webkit602BugfixHelper(l,c);var v=d[m];v instanceof Gc?this.applyAttachmentTimeline(v,e,h,c,!0):v.apply(e,u,h,p,l,c,Kt.mixIn)}else{var _=s.timelineMode,y=s.shortestRotation,b=!y&&s.timelinesRotation.length!=g<<1;b&&(s.timelinesRotation.length=g<<1);for(var m=0;m<g;m++){var w=d[m],E=_[m]==AC?c:Z.setup;!y&&w instanceof Zv?this.applyRotateTimeline(w,e,h,l,E,s.timelinesRotation,m<<1,b):w instanceof Gc?this.applyAttachmentTimeline(w,e,h,c,!0):(xe.webkit602BugfixHelper(l,c),w.apply(e,u,h,p,l,E,Kt.mixIn))}}this.queueEvents(s,f),r.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var C=this.unkeyedState+rj,T=e.slots,A=0,R=e.slots.length;A<R;A++){var O=T[A];if(O.attachmentState==C){var P=O.data.attachmentName;O.setAttachment(P?e.getAttachment(O.data.index,P):null)}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,r,n);var a=0;e.mixDuration==0?(a=1,n==Z.first&&(n=Z.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),n!=Z.first&&(n=i.mixBlend));var o=a<i.attachmentThreshold,s=a<i.drawOrderThreshold,c=i.animation.timelines,l=c.length,u=i.alpha*e.interruptAlpha,f=u*(1-a),h=i.animationLast,p=i.getAnimationTime(),d=p,g=null;if(i.reverse?d=i.animation.duration-d:a<i.eventThreshold&&(g=this.events),n==Z.add)for(var m=0;m<l;m++)c[m].apply(r,h,d,g,f,n,Kt.mixOut);else{var v=i.timelineMode,_=i.timelineHoldMix,y=i.shortestRotation,b=!y&&i.timelinesRotation.length!=l<<1;b&&(i.timelinesRotation.length=l<<1),i.totalAlpha=0;for(var m=0;m<l;m++){var w=c[m],E=Kt.mixOut,C=void 0,T=0;switch(v[m]){case AC:if(!s&&w instanceof ad)continue;C=n,T=f;break;case ej:C=Z.setup,T=f;break;case tj:C=n,T=u;break;case IC:C=Z.setup,T=u;break;default:C=Z.setup;var A=_[m];T=u*Math.max(0,1-A.mixTime/A.mixDuration);break}i.totalAlpha+=T,!y&&w instanceof Zv?this.applyRotateTimeline(w,r,d,T,C,i.timelinesRotation,m<<1,b):w instanceof Gc?this.applyAttachmentTimeline(w,r,d,C,o):(xe.webkit602BugfixHelper(T,n),s&&w instanceof ad&&C==Z.setup&&(E=Kt.mixIn),w.apply(r,h,d,g,T,C,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a},t.prototype.applyAttachmentTimeline=function(e,r,n,i,a){var o=r.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?(i==Z.setup||i==Z.first)&&this.setAttachment(r,o,o.data.attachmentName,a):this.setAttachment(r,o,e.attachmentNames[$n.search1(e.frames,n)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+rj))},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(n?e.getAttachment(r.data.index,n):null),i&&(r.attachmentState=this.unkeyedState+IGe)},t.prototype.applyRotateTimeline=function(e,r,n,i,a,o,s,c){if(c&&(o[s]=0),i==1){e.apply(r,0,n,null,1,a,Kt.mixIn);return}var l=r.bones[e.boneIndex];if(l.active){var u=e.frames,f=0,h=0;if(n<u[0])switch(a){case Z.setup:l.rotation=l.data.rotation;default:return;case Z.first:f=l.rotation,h=l.data.rotation}else f=a==Z.setup?l.data.rotation:l.rotation,h=l.data.rotation+e.getCurveValue(n);var p=0,d=h-f;if(d-=(16384-(16384.499999999996-d/360|0))*360,d==0)p=o[s];else{var g=0,m=0;c?(g=0,m=d):(g=o[s],m=o[s+1]);var v=d>0,_=g>=0;re.signum(m)!=re.signum(d)&&Math.abs(m)<=90&&(Math.abs(g)>180&&(g+=360*re.signum(g)),_=v),p=d+g-g%360,_!=v&&(p+=360*re.signum(g)),o[s]=p}o[s+1]=d,l.rotation=f+p*i}},t.prototype.queueEvents=function(e,r){for(var n=e.animationStart,i=e.animationEnd,a=i-n,o=e.trackLast%a,s=this.events,c=0,l=s.length;c<l;c++){var u=s[c];if(u.time<o)break;u.time>i||this.queue.event(e,u)}var f=!1;for(e.loop?f=a==0||o>e.trackTime%a:f=r>=i&&e.animationLast<i,f&&this.queue.complete(e);c<l;c++){var h=s[c];h.time<n||this.queue.event(e,h)}},t.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++)this.clearTrack(r);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},t.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var r=this.tracks[e];if(r){this.queue.end(r),this.clearNext(r);for(var n=r;;){var i=n.mixingFrom;if(!i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[r.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(e,r,n){var i=this.expandToIndex(e);this.tracks[e]=r,r.previous=null,i&&(n&&this.queue.interrupt(i),r.mixingFrom=i,i.mixingTo=r,r.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(r.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(r)},t.prototype.setAnimation=function(e,r,n){n===void 0&&(n=!1);var i=this.data.skeletonData.findAnimation(r);if(!i)throw new Error("Animation not found: "+r);return this.setAnimationWith(e,i,n)},t.prototype.setAnimationWith=function(e,r,n){if(n===void 0&&(n=!1),!r)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));var o=this.trackEntry(e,r,n,a);return this.setCurrent(e,o,i),this.queue.drain(),o},t.prototype.addAnimation=function(e,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);var a=this.data.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);return this.addAnimationWith(e,a,n,i)},t.prototype.addAnimationWith=function(e,r,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=0),!r)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;var o=this.trackEntry(e,r,n,a);return a?(a.next=o,o.previous=a,i<=0&&(i+=a.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=i,o},t.prototype.setEmptyAnimation=function(e,r){r===void 0&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(e){e===void 0&&(e=0);var r=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=r,this.queue.drain()},t.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(xe.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},t.prototype.trackEntry=function(e,r,n,i){var a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=r,a.loop=n,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=r.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,r):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=Z.replace,a},t.prototype.clearNext=function(e){for(var r=e.next;r;)this.queue.dispose(r),r=r.next;e.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=Z.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;var o=e.timelineHoldMix;o.length=0;var s=this.propertyIDs;if(r&&r.holdPrevious){for(var c=0;c<i;c++)a[c]=s.addAll(n[c].getPropertyIds())?IC:tj;return}e:for(var c=0;c<i;c++){var l=n[c],u=l.getPropertyIds();if(!s.addAll(u))a[c]=AC;else if(!r||l instanceof Gc||l instanceof ad||l instanceof Db||!r.animation.hasTimeline(u))a[c]=ej;else{for(var f=r.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(u)){if(e.mixDuration>0){a[c]=AGe,o[c]=f;continue e}break}a[c]=IC}}},t.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},t.prototype.addListener=function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)},t.prototype.removeListener=function(e){var r=this.listeners.indexOf(e);r>=0&&this.listeners.splice(r,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(e){var r=this.data.skeletonData.findAnimation(e);return r!==null},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t._emptyAnimation=new Lb("<empty>",[],0),t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),TY=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=Z.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),AY=function(){function t(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return t.prototype.start=function(e){this.objects.push(ma.start),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.interrupt=function(e){this.objects.push(ma.interrupt),this.objects.push(e)},t.prototype.end=function(e){this.objects.push(ma.end),this.objects.push(e),this.animState.animationsChanged=!0},t.prototype.dispose=function(e){this.objects.push(ma.dispose),this.objects.push(e)},t.prototype.complete=function(e){this.objects.push(ma.complete),this.objects.push(e)},t.prototype.event=function(e,r){this.objects.push(ma.event),this.objects.push(e),this.objects.push(r)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,r=this.animState.listeners,n=0;n<e.length;n+=2){var i=e[n],a=e[n+1];switch(i){case ma.start:a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<r.length;o++){var s=r[o];s.start&&s.start(a)}break;case ma.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var o=0;o<r.length;o++){var s=r[o];s.interrupt&&s.interrupt(a)}break;case ma.end:a.listener&&a.listener.end&&a.listener.end(a);for(var o=0;o<r.length;o++){var s=r[o];s.end&&s.end(a)}case ma.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var o=0;o<r.length;o++){var s=r[o];s.dispose&&s.dispose(a)}this.animState.trackEntryPool.free(a);break;case ma.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(var o=0;o<r.length;o++){var s=r[o];s.complete&&s.complete(a)}break;case ma.event:var c=e[n+++2];a.listener&&a.listener.event&&a.listener.event(a,c);for(var o=0;o<r.length;o++){var s=r[o];s.event&&s.event(a,c)}break}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}(),ma;(function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"})(ma||(ma={}));var TGe=function(){function t(){}return t.prototype.start=function(e){},t.prototype.interrupt=function(e){},t.prototype.end=function(e){},t.prototype.dispose=function(e){},t.prototype.complete=function(e){},t.prototype.event=function(e,r){},t}(),AC=0,ej=1,tj=2,IC=3,AGe=4,rj=1,IGe=2,IY=function(){function t(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return t.prototype.setMix=function(e,r,n){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var a=this.skeletonData.findAnimation(r);if(!a)throw new Error("Animation not found: "+r);this.setMixWith(i,a,n)},t.prototype.setMixWith=function(e,r,n){if(!e)throw new Error("from cannot be null.");if(!r)throw new Error("to cannot be null.");var i=e.name+"."+r.name;this.animationToMixTime[i]=n},t.prototype.getMix=function(e,r){var n=e.name+"."+r.name,i=this.animationToMixTime[n];return i===void 0?this.defaultMix:i},t}(),c4=function(){function t(e){this.atlas=e}return t.prototype.loadSequence=function(e,r,n){for(var i=n.regions,a=0,o=i.length;a<o;a++){var s=n.getPath(r,a),c=this.atlas.findRegion(s);if(c==null)throw new Error("Region not found in atlas: "+s+" (sequence: "+e+")");i[a]=c,i[a].renderObject=i[a]}},t.prototype.newRegionAttachment=function(e,r,n,i){var a=new j3(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (region attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newMeshAttachment=function(e,r,n,i){var a=new Mb(r,n);if(i!=null)this.loadSequence(r,n,i);else{var o=this.atlas.findRegion(n);if(!o)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+r+")");o.renderObject=o,a.region=o}return a},t.prototype.newBoundingBoxAttachment=function(e,r){return new wY(r)},t.prototype.newPathAttachment=function(e,r){return new Kv(r)},t.prototype.newPointAttachment=function(e,r){return new SY(r)},t.prototype.newClippingAttachment=function(e,r){return new EY(r)},t}(),TR=function(){function t(e,r,n){if(this.matrix=new ln,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,r,n,i,a,o,s){this.ax=e,this.ay=r,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s;var c=this.parent,l=this.matrix,u=this.skeleton.scaleX,f=-this.skeleton.scaleY;if(!c){var h=this.skeleton,p=n+90+s;l.a=re.cosDeg(n+o)*i*u,l.c=re.cosDeg(p)*a*u,l.b=re.sinDeg(n+o)*i*f,l.d=re.sinDeg(p)*a*f,l.tx=e*u+h.x,l.ty=r*f+h.y;return}var d=c.matrix.a,g=c.matrix.c,m=c.matrix.b,v=c.matrix.d;switch(l.tx=d*e+g*r+c.matrix.tx,l.ty=m*e+v*r+c.matrix.ty,this.data.transformMode){case Dt.Normal:{var p=n+90+s,_=re.cosDeg(n+o)*i,y=re.cosDeg(p)*a,b=re.sinDeg(n+o)*i,w=re.sinDeg(p)*a;l.a=d*_+g*b,l.c=d*y+g*w,l.b=m*_+v*b,l.d=m*y+v*w;return}case Dt.OnlyTranslation:{var p=n+90+s;l.a=re.cosDeg(n+o)*i,l.c=re.cosDeg(p)*a,l.b=re.sinDeg(n+o)*i,l.d=re.sinDeg(p)*a;break}case Dt.NoRotationOrReflection:{var E=d*d+m*m,C=0;E>1e-4?(E=Math.abs(d*v-g*m)/E,d/=u,m/=f,g=m*E,v=d*E,C=Math.atan2(m,d)*re.radDeg):(d=0,m=0,C=90-Math.atan2(v,g)*re.radDeg);var T=n+o-C,A=n+s-C+90,_=re.cosDeg(T)*i,y=re.cosDeg(A)*a,b=re.sinDeg(T)*i,w=re.sinDeg(A)*a;l.a=d*_-g*b,l.c=d*y-g*w,l.b=m*_+v*b,l.d=m*y+v*w;break}case Dt.NoScale:case Dt.NoScaleOrReflection:{var R=re.cosDeg(n),O=re.sinDeg(n),P=(d*R+g*O)/u,k=(m*R+v*O)/f,E=Math.sqrt(P*P+k*k);E>1e-5&&(E=1/E),P*=E,k*=E,E=Math.sqrt(P*P+k*k),this.data.transformMode==Dt.NoScale&&d*v-g*m<0!=(u<0!=f<0)&&(E=-E);var M=Math.PI/2+Math.atan2(k,P),B=Math.cos(M)*E,D=Math.sin(M)*E,_=re.cosDeg(o)*i,y=re.cosDeg(90+s)*a,b=re.sinDeg(o)*i,w=re.sinDeg(90+s)*a;l.a=P*_+B*b,l.c=P*y+B*w,l.b=k*_+D*b,l.d=k*y+D*w;break}}l.a*=u,l.c*=u,l.b*=f,l.d*=f},t.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*re.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*re.radDeg},t.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},t.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},t.prototype.updateAppliedTransform=function(){var e=this.parent,r=this.matrix;if(!e){this.ax=r.tx-this.skeleton.x,this.ay=r.ty-this.skeleton.y,this.arotation=Math.atan2(r.b,r.a)*re.radDeg,this.ascaleX=Math.sqrt(r.a*r.a+r.b*r.b),this.ascaleY=Math.sqrt(r.c*r.c+r.d*r.d),this.ashearX=0,this.ashearY=Math.atan2(r.a*r.c+r.b*r.d,r.a*r.d-r.b*r.c)*re.radDeg;return}var n=e.matrix,i=1/(n.a*n.d-n.b*n.c),a=r.tx-n.tx,o=r.ty-n.ty;this.ax=a*n.d*i-o*n.c*i,this.ay=o*n.a*i-a*n.b*i;var s=i*n.d,c=i*n.a,l=i*n.c,u=i*n.b,f=s*r.a-l*r.b,h=s*r.c-l*r.d,p=c*r.b-u*r.a,d=c*r.d-u*r.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var g=f*d-h*p;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,g)*re.radDeg,this.arotation=Math.atan2(p,f)*re.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*re.radDeg},t.prototype.worldToLocal=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=1/(n*o-i*a),c=e.x-r.tx,l=e.y-r.ty;return e.x=c*o*s-l*i*s,e.y=l*n*s-c*a*s,e},t.prototype.localToWorld=function(e){var r=this.matrix,n=e.x,i=e.y;return e.x=n*r.a+i*r.c+r.tx,e.y=n*r.b+i*r.d+r.ty,e},t.prototype.worldToLocalRotation=function(e){var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(i.a*r-i.b*n,i.d*n-i.c*r)*re.radDeg},t.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var r=re.sinDeg(e),n=re.cosDeg(e),i=this.matrix;return Math.atan2(n*i.b+r*i.d,n*i.a+r*i.c)*re.radDeg},t.prototype.rotateWorld=function(e){var r=this.matrix,n=r.a,i=r.c,a=r.b,o=r.d,s=re.cosDeg(e),c=re.sinDeg(e);r.a=s*n-c*a,r.c=s*i-c*o,r.b=c*n+s*a,r.d=c*i+s*o},t}(),f4=function(){function t(e,r,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Dt.Normal,this.skinRequired=!1,this.color=new rt,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n}return t}(),Ub=function(){function t(e,r,n){this.name=e,this.order=r,this.skinRequired=n}return t}(),h4=function(){function t(e,r){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r}return t}(),d4=function(){function t(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}return t}(),RY=function(){function t(e,r){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name);this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find bone "+e.target.name);this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(this.mix!=0){var e=this.target,r=this.bones;switch(r.length){case 1:this.apply1(r[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(r[0],r[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}},t.prototype.apply1=function(e,r,n,i,a,o,s){var c=e.parent.matrix;if(!c)throw new Error("IK bone must have parent.");var l=c.a,u=c.c,f=c.b,h=c.d,p=-e.ashearX-e.arotation,d=0,g=0,m=e.skeleton.scaleX,v=-e.skeleton.scaleY;switch(e.data.transformMode){case Dt.OnlyTranslation:d=r-e.worldX,g=n-e.worldY,g=-g;break;case Dt.NoRotationOrReflection:var _=Math.abs(l*h-u*f)/(l*l+f*f),y=l/m,b=f/v;u=-b*_*m,h=y*_*v,p+=Math.atan2(b,y)*re.radDeg;default:var w=r-c.tx,E=n-c.ty,C=l*h-u*f;d=(w*h-E*u)/C-e.ax,g=(E*l-w*f)/C-e.ay}p+=Math.atan2(g,d)*re.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var T=e.ascaleX,A=e.ascaleY;if(i||a){switch(e.data.transformMode){case Dt.NoScale:case Dt.NoScaleOrReflection:d=r-e.worldX,g=n-e.worldY}var R=e.data.length*T,O=Math.sqrt(d*d+g*g);if(i&&O<R||a&&O>R&&R>1e-4){var _=(O/R-1)*s+1;T*=_,o&&(A*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,T,A,e.ashearX,e.ashearY)},t.prototype.apply2=function(e,r,n,i,a,o,s,c,l){var u=e.ax,f=e.ay,h=e.ascaleX,p=e.ascaleY,d=h,g=p,m=r.ascaleX,v=e.matrix,_=0,y=0,b=0;h<0?(h=-h,_=180,b=-1):(_=0,b=1),p<0&&(p=-p,b=-b),m<0?(m=-m,y=180):y=0;var w=r.ax,E=0,C=0,T=0,A=v.a,R=v.c,O=v.b,P=v.d,k=Math.abs(h-p)<=1e-4;!k||o?(E=0,C=A*w+v.tx,T=O*w+v.ty):(E=r.ay,C=A*w+R*E+v.tx,T=O*w+P*E+v.ty);var M=e.parent.matrix;if(!M)throw new Error("IK parent must itself have a parent.");A=M.a,R=M.c,O=M.b,P=M.d;var B=1/(A*P-R*O),D=C-M.tx,H=T-M.ty,ee=(D*P-H*R)*B-u,ne=(H*A-D*O)*B-f,Y=Math.sqrt(ee*ee+ne*ne),U=r.data.length*m,X,V;if(Y<1e-4){this.apply1(e,n,i,!1,o,!1,l),r.updateWorldTransformWith(w,E,0,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY);return}D=n-M.tx,H=i-M.ty;var G=(D*P-H*R)*B-u,te=(H*A-D*O)*B-f,oe=G*G+te*te;if(c!=0){c*=h*(m+1)*.5;var ge=Math.sqrt(oe),le=ge-Y-U*h+c;if(le>0){var ye=Math.min(1,le/(c*2))-1;ye=(le-c*(1-ye*ye))/ge,G-=ye*G,te-=ye*te,oe=G*G+te*te}}e:if(k){U*=h;var Le=(oe-Y*Y-U*U)/(2*Y*U);Le<-1?(Le=-1,V=Math.PI*a):Le>1?(Le=1,V=0,o&&(A=(Math.sqrt(oe)/(Y+U)-1)*l+1,d*=A,s&&(g*=A))):V=Math.acos(Le)*a,A=Y+U*Le,R=U*Math.sin(V),X=Math.atan2(te*A-G*R,G*A+te*R)}else{A=h*U,R=p*U;var ke=A*A,Ee=R*R,Se=Math.atan2(te,G);O=Ee*Y*Y+ke*oe-ke*Ee;var De=-2*Ee*Y,We=Ee-ke;if(P=De*De-4*We*O,P>=0){var Ve=Math.sqrt(P);De<0&&(Ve=-Ve),Ve=-(De+Ve)*.5;var He=Ve/We,qe=O/Ve,Et=Math.abs(He)<Math.abs(qe)?He:qe;if(Et*Et<=oe){H=Math.sqrt(oe-Et*Et)*a,X=Se-Math.atan2(H,Et),V=Math.atan2(H/p,(Et-Y)/h);break e}}var Rt=re.PI,ht=Y-A,dt=ht*ht,St=0,nr=0,Xt=Y+A,ir=Xt*Xt,Vt=0;O=-A*Y/(ke-Ee),O>=-1&&O<=1&&(O=Math.acos(O),D=A*Math.cos(O)+Y,H=R*Math.sin(O),P=D*D+H*H,P<dt&&(Rt=O,dt=P,ht=D,St=H),P>ir&&(nr=O,ir=P,Xt=D,Vt=H)),oe<=(dt+ir)*.5?(X=Se-Math.atan2(St*a,ht),V=Rt*a):(X=Se-Math.atan2(Vt*a,Xt),V=nr*a)}var bt=Math.atan2(E,w)*b,Zt=e.arotation;X=(X-bt)*re.radDeg+_-Zt,X>180?X-=360:X<-180&&(X+=360),e.updateWorldTransformWith(u,f,Zt+X*l,d,g,0,0),Zt=r.arotation,V=((V+bt)*re.radDeg-r.ashearX)*b+y-Zt,V>180?V-=360:V<-180&&(V+=360),r.updateWorldTransformWith(w,E,Zt+V*l,r.ascaleX,r.ascaleY,r.ashearX,r.ashearY)},t}(),p4=function(t){sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Ub),v4=function(t){sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.positionMode=_n.Fixed,n.spacingMode=li.Fixed,n.rotateMode=Un.Chain,n.offsetRotation=0,n.position=0,n.spacing=0,n.mixRotate=0,n.mixX=0,n.mixY=0,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Ub),li;(function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"})(li||(li={}));var PY=function(){function t(e,r){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var a=r.findBone(e.bones[n].name);if(!a)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(a)}var o=r.findSlot(e.target.name);if(!o)throw new Error("Couldn't find target bone "+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof Kv){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(!(r==0&&n==0&&i==0)){var a=this.data,o=a.rotateMode==Un.Tangent,s=a.rotateMode==Un.ChainScale,c=this.bones,l=c.length,u=o?l:l+1,f=xe.setArraySize(this.spaces,u),h=s?this.lengths=xe.setArraySize(this.lengths,l):[],p=this.spacing;switch(a.spacingMode){case li.Percent:if(s)for(var d=0,g=u-1;d<g;d++){var m=c[d],v=m.data.length;if(v<t.epsilon)h[d]=0;else{var _=v*m.matrix.a,y=v*m.matrix.b;h[d]=Math.sqrt(_*_+y*y)}}xe.arrayFill(f,1,u,p);break;case li.Proportional:for(var b=0,d=0,g=u-1;d<g;){var m=c[d],v=m.data.length;if(v<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=v*m.matrix.a,y=v*m.matrix.b,w=Math.sqrt(_*_+y*y);s&&(h[d]=w),f[++d]=w,b+=w}}if(b>0){b=u/b*p;for(var d=1;d<u;d++)f[d]*=b}break;default:for(var E=a.spacingMode==li.Length,d=0,g=u-1;d<g;){var m=c[d],v=m.data.length;if(v<t.epsilon)s&&(h[d]=0),f[++d]=p;else{var _=v*m.matrix.a,y=v*m.matrix.b,C=Math.sqrt(_*_+y*y);s&&(h[d]=C),f[++d]=(E?v+p:p)*C/v}}}var T=this.computeWorldPositions(e,u,o),A=T[0],R=T[1],O=a.offsetRotation,P=!1;if(O==0)P=a.rotateMode==Un.Chain;else{P=!1;var k=this.target.bone.matrix;O*=k.a*k.d-k.b*k.c>0?re.degRad:-re.degRad}for(var d=0,k=3;d<l;d++,k+=3){var m=c[d],M=m.matrix;M.tx+=(A-M.tx)*n,M.ty+=(R-M.ty)*i;var _=T[k],y=T[k+1],B=_-A,D=y-R;if(s){var H=h[d];if(H!=0){var ee=(Math.sqrt(B*B+D*D)/H-1)*r+1;M.a*=ee,M.b*=ee}}if(A=_,R=y,r>0){var ne=M.a,Y=M.c,U=M.b,X=M.d,V=0,G=0,te=0;if(o?V=T[k-1]:f[d+1]==0?V=T[k+2]:V=Math.atan2(D,B),V-=Math.atan2(U,ne),P){G=Math.cos(V),te=Math.sin(V);var oe=m.data.length;A+=(oe*(G*ne-te*U)-B)*r,R+=(oe*(te*ne+G*U)-D)*r}else V+=O;V>re.PI?V-=re.PI2:V<-re.PI&&(V+=re.PI2),V*=r,G=Math.cos(V),te=Math.sin(V),M.a=G*ne-te*U,M.c=G*Y-te*X,M.b=te*ne+G*U,M.d=te*Y+G*X}m.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,a=this.position,o=this.spaces,s=xe.setArraySize(this.positions,r*3+2),c=this.world,l=e.closed,u=e.worldVerticesLength,f=u/6,h=t.NONE;if(!e.constantSpeed){var p=e.lengths;f-=l?1:2;var d=p[f];this.data.positionMode==_n.Percent&&(a*=d);var g;switch(this.data.spacingMode){case li.Percent:g=d;break;case li.Proportional:g=d/r;break;default:g=1}c=xe.setArraySize(this.world,8);for(var m=0,v=0,_=0;m<r;m++,v+=3){var y=o[m]*g;a+=y;var b=a;if(l)b%=d,b<0&&(b+=d),_=0;else if(b<0){h!=t.BEFORE&&(h=t.BEFORE,e.computeWorldVertices(i,2,4,c,0,2)),this.addBeforePosition(b,c,0,s,v);continue}else if(b>d){h!=t.AFTER&&(h=t.AFTER,e.computeWorldVertices(i,u-6,4,c,0,2)),this.addAfterPosition(b-d,c,0,s,v);continue}for(;;_++){var w=p[_];if(!(b>w)){if(_==0)b/=w;else{var E=p[_-1];b=(b-E)/(w-E)}break}}_!=h&&(h=_,l&&_==f?(e.computeWorldVertices(i,u-4,4,c,0,2),e.computeWorldVertices(i,0,4,c,4,2)):e.computeWorldVertices(i,_*6+2,8,c,0,2)),this.addCurvePosition(b,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],s,v,n||m>0&&y==0)}return s}l?(u+=2,c=xe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u-4,c,0,2),e.computeWorldVertices(i,0,2,c,u-4,2),c[u-2]=c[0],c[u-1]=c[1]):(f--,u-=4,c=xe.setArraySize(this.world,u),e.computeWorldVertices(i,2,u,c,0,2));for(var C=xe.setArraySize(this.curves,f),T=0,A=c[0],R=c[1],O=0,P=0,k=0,M=0,B=0,D=0,H=0,ee=0,ne=0,Y=0,U=0,X=0,V=0,G=0,m=0,te=2;m<f;m++,te+=6)O=c[te],P=c[te+1],k=c[te+2],M=c[te+3],B=c[te+4],D=c[te+5],H=(A-O*2+k)*.1875,ee=(R-P*2+M)*.1875,ne=((O-k)*3-A+B)*.09375,Y=((P-M)*3-R+D)*.09375,U=H*2+ne,X=ee*2+Y,V=(O-A)*.75+H+ne*.16666667,G=(P-R)*.75+ee+Y*.16666667,T+=Math.sqrt(V*V+G*G),V+=U,G+=X,U+=ne,X+=Y,T+=Math.sqrt(V*V+G*G),V+=U,G+=X,T+=Math.sqrt(V*V+G*G),V+=U+ne,G+=X+Y,T+=Math.sqrt(V*V+G*G),C[m]=T,A=B,R=D;this.data.positionMode==_n.Percent&&(a*=T);var oe;switch(this.data.spacingMode){case li.Percent:oe=T;break;case li.Proportional:oe=T/r;break;default:oe=1}for(var ge=this.segments,le=0,m=0,v=0,_=0,ye=0;m<r;m++,v+=3){var y=o[m]*oe;a+=y;var b=a;if(l)b%=T,b<0&&(b+=T),_=0;else if(b<0){this.addBeforePosition(b,c,0,s,v);continue}else if(b>T){this.addAfterPosition(b-T,c,u-4,s,v);continue}for(;;_++){var Le=C[_];if(!(b>Le)){if(_==0)b/=Le;else{var E=C[_-1];b=(b-E)/(Le-E)}break}}if(_!=h){h=_;var ke=_*6;for(A=c[ke],R=c[ke+1],O=c[ke+2],P=c[ke+3],k=c[ke+4],M=c[ke+5],B=c[ke+6],D=c[ke+7],H=(A-O*2+k)*.03,ee=(R-P*2+M)*.03,ne=((O-k)*3-A+B)*.006,Y=((P-M)*3-R+D)*.006,U=H*2+ne,X=ee*2+Y,V=(O-A)*.3+H+ne*.16666667,G=(P-R)*.3+ee+Y*.16666667,le=Math.sqrt(V*V+G*G),ge[0]=le,ke=1;ke<8;ke++)V+=U,G+=X,U+=ne,X+=Y,le+=Math.sqrt(V*V+G*G),ge[ke]=le;V+=U,G+=X,le+=Math.sqrt(V*V+G*G),ge[8]=le,V+=U+ne,G+=X+Y,le+=Math.sqrt(V*V+G*G),ge[9]=le,ye=0}for(b*=le;;ye++){var Ee=ge[ye];if(!(b>Ee)){if(ye==0)b/=Ee;else{var E=ge[ye-1];b=ye+(b-E)/(Ee-E)}break}}this.addCurvePosition(b*.1,A,R,O,P,k,M,B,D,s,v,n||m>0&&y==0)}return s},t.prototype.addBeforePosition=function(e,r,n,i,a){var o=r[n],s=r[n+1],c=r[n+2]-o,l=r[n+3]-s,u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addAfterPosition=function(e,r,n,i,a){var o=r[n+2],s=r[n+3],c=o-r[n],l=s-r[n+1],u=Math.atan2(l,c);i[a]=o+e*Math.cos(u),i[a+1]=s+e*Math.sin(u),i[a+2]=u},t.prototype.addCurvePosition=function(e,r,n,i,a,o,s,c,l,u,f,h){if(e==0||isNaN(e)){u[f]=r,u[f+1]=n,u[f+2]=Math.atan2(a-n,i-r);return}var p=e*e,d=p*e,g=1-e,m=g*g,v=m*g,_=g*e,y=_*3,b=g*y,w=y*e,E=r*v+i*b+o*w+c*d,C=n*v+a*b+s*w+l*d;u[f]=E,u[f+1]=C,h&&(e<.001?u[f+2]=Math.atan2(a-n,i-r):u[f+2]=Math.atan2(C-(n*m+a*_*2+s*p),E-(r*m+i*_*2+o*p)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),OY=function(){function t(e,r){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new rt,this.darkColor=e.darkColor?new rt:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(e){this.attachment!=e&&((!(e instanceof Ms)||!(this.attachment instanceof Ms)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),kY=function(){function t(e,r){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new $v,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone "+e.bones[n].name+".");this.bones.push(i)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone "+e.target.name+".");this.target=a}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?re.degRad:-re.degRad,g=this.data.offsetRotation*d,m=this.data.offsetShearY*d,v=this.bones,_=0,y=v.length;_<y;_++){var b=v[_],w=b.matrix;if(e!=0){var E=w.a,C=w.c,T=w.b,A=w.d,R=Math.atan2(h,u)-Math.atan2(T,E)+g;R>re.PI?R-=re.PI2:R<-re.PI&&(R+=re.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);w.a=O*E-P*T,w.c=O*C-P*A,w.b=P*E+O*T,w.d=P*C+O*A}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=(k.x-w.tx)*r,w.ty+=(k.y-w.ty)*n}if(i!=0){var M=Math.sqrt(w.a*w.a+w.b*w.b);M!=0&&(M=(M+(Math.sqrt(u*u+h*h)-M+this.data.offsetScaleX)*i)/M),w.a*=M,w.b*=M}if(a!=0){var M=Math.sqrt(w.c*w.c+w.d*w.d);M!=0&&(M=(M+(Math.sqrt(f*f+p*p)-M+this.data.offsetScaleY)*a)/M),w.c*=M,w.d*=M}if(o>0){var C=w.c,A=w.d,B=Math.atan2(A,C),R=Math.atan2(p,f)-Math.atan2(h,u)-(B-Math.atan2(w.b,w.a));R>re.PI?R-=re.PI2:R<-re.PI&&(R+=re.PI2),R=B+(R+m)*o;var M=Math.sqrt(C*C+A*A);w.c=Math.cos(R)*M,w.d=Math.sin(R)*M}b.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=r!=0||n!=0,c=this.target,l=c.matrix,u=l.a,f=l.c,h=l.b,p=l.d,d=u*p-f*h>0?re.degRad:-re.degRad,g=this.data.offsetRotation*d,m=this.data.offsetShearY*d,v=this.bones,_=0,y=v.length;_<y;_++){var b=v[_],w=b.matrix;if(e!=0){var E=w.a,C=w.c,T=w.b,A=w.d,R=Math.atan2(h,u)+g;R>re.PI?R-=re.PI2:R<-re.PI&&(R+=re.PI2),R*=e;var O=Math.cos(R),P=Math.sin(R);w.a=O*E-P*T,w.c=O*C-P*A,w.b=P*E+O*T,w.d=P*C+O*A}if(s){var k=this.temp;c.localToWorld(k.set(this.data.offsetX,this.data.offsetY)),w.tx+=k.x*r,w.ty+=k.y*n}if(i!=0){var M=(Math.sqrt(u*u+h*h)-1+this.data.offsetScaleX)*i+1;w.a*=M,w.b*=M}if(a!=0){var M=(Math.sqrt(f*f+p*p)-1+this.data.offsetScaleY)*a+1;w.c*=M,w.d*=M}if(o>0){var R=Math.atan2(p,f)-Math.atan2(h,u);R>re.PI?R-=re.PI2:R<-re.PI&&(R+=re.PI2);var C=w.c,A=w.d;R=Math.atan2(A,C)+(R-re.PI/2+m)*o;var M=Math.sqrt(C*C+A*A);w.c=Math.cos(R)*M,w.d=Math.sin(R)*M}b.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation;if(e!=0){var p=s.arotation-h+this.data.offsetRotation;p-=(16384-(16384.499999999996-p/360|0))*360,h+=p*e}var d=f.ax,g=f.ay;d+=(s.ax-d+this.data.offsetX)*r,g+=(s.ay-g+this.data.offsetY)*n;var m=f.ascaleX,v=f.ascaleY;i!=0&&m!=0&&(m=(m+(s.ascaleX-m+this.data.offsetScaleX)*i)/m),a!=0&&v!=0&&(v=(v+(s.ascaleY-v+this.data.offsetScaleY)*a)/v);var _=f.ashearY;if(o!=0){var p=s.ashearY-_+this.data.offsetShearY;p-=(16384-(16384.499999999996-p/360|0))*360,_+=p*o}f.updateWorldTransformWith(d,g,h,m,v,f.ashearX,_)}},t.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,r=this.mixX,n=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,s=this.target,c=this.bones,l=0,u=c.length;l<u;l++){var f=c[l],h=f.arotation+(s.arotation+this.data.offsetRotation)*e,p=f.ax+(s.ax+this.data.offsetX)*r,d=f.ay+(s.ay+this.data.offsetY)*n,g=f.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i+1),m=f.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*a+1),v=f.ashearY+(s.ashearY+this.data.offsetShearY)*o;f.updateWorldTransformWith(p,d,h,g,m,f.ashearX,v)}},t}(),FY=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(!n.parent)i=new TR(n,this,null);else{var a=this.bones[n.parent.index];i=new TR(n,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var r=0;r<e.slots.length;r++){var o=e.slots[r],i=this.bones[o.boneData.index],s=new OY(o,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(var r=0;r<e.ikConstraints.length;r++){var c=e.ikConstraints[r];this.ikConstraints.push(new RY(c,this))}this.transformConstraints=new Array;for(var r=0;r<e.transformConstraints.length;r++){var l=e.transformConstraints[r];this.transformConstraints.push(new kY(l,this))}this.pathConstraints=new Array;for(var r=0;r<e.pathConstraints.length;r++){var u=e.pathConstraints[r];this.pathConstraints.push(new PY(u,this))}this.color=new rt(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(this.skin)for(var o=this.skin.bones,n=0,i=this.skin.bones.length;n<i;n++){var a=this.bones[o[n].index];do a.sorted=!1,a.active=!0,a=a.parent;while(a)}var s=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,u=s.length,f=c.length,h=l.length,p=u+f+h;e:for(var n=0;n<p;n++){for(var d=0;d<u;d++){var g=s[d];if(g.data.order==n){this.sortIkConstraint(g);continue e}}for(var d=0;d<f;d++){var g=c[d];if(g.data.order==n){this.sortTransformConstraint(g);continue e}}for(var d=0;d<h;d++){var g=l[d];if(g.data.order==n){this.sortPathConstraint(g);continue e}}}for(var n=0,i=r.length;n<i;n++)this.sortBone(r[n])},t.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target;this.sortBone(r);var n=e.bones,i=n[0];if(this.sortBone(i),n.length==1)this._updateCache.push(e),this.sortReset(i.children);else{var a=n[n.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){var r=e.target,n=r.data.index,i=r.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);var s=r.getAttachment();s instanceof Kv&&this.sortPathConstraintAttachmentWith(s,i);for(var c=e.bones,l=c.length,a=0;a<l;a++)this.sortBone(c[a]);this._updateCache.push(e);for(var a=0;a<l;a++)this.sortReset(c[a].children);for(var a=0;a<l;a++)c[a].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&xe.contains(this.skin.constraints,e.data,!0)),!!e.active){this.sortBone(e.target);var r=e.bones,n=r.length;if(e.data.local)for(var i=0;i<n;i++){var a=r[i];this.sortBone(a.parent),this.sortBone(a)}else for(var i=0;i<n;i++)this.sortBone(r[i]);this._updateCache.push(e);for(var i=0;i<n;i++)this.sortReset(r[i].children);for(var i=0;i<n;i++)r[i].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,r,n){var i=e.attachments[r];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,r){if(e instanceof Kv){var n=e.bones;if(!n)this.sortBone(r);else for(var i=this.bones,a=0,o=n.length;a<o;){var s=n[a++];for(s+=a;a<s;)this.sortBone(i[n[a++]])}}},t.prototype.sortBone=function(e){if(e&&!e.sorted){var r=e.parent;r&&this.sortBone(r),e.sorted=!0,this._updateCache.push(e)}},t.prototype.sortReset=function(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var a=this._updateCache,r=0,n=a.length;r<n;r++)a[r].update()},t.prototype.updateWorldTransformWith=function(e){var r=this.getRootBone(),n=e.matrix.a,i=e.matrix.c,a=e.matrix.b,o=e.matrix.d;r.matrix.tx=n*this.x+i*this.y+e.worldX,r.matrix.ty=a*this.x+o*this.y+e.worldY;var s=r.rotation+90+r.shearY,c=re.cosDeg(r.rotation+r.shearX)*r.scaleX,l=re.cosDeg(s)*r.scaleY,u=re.sinDeg(r.rotation+r.shearX)*r.scaleX,f=re.sinDeg(s)*r.scaleY,h=this.scaleX,p=-this.scaleY;r.matrix.a=(n*c+i*u)*h,r.matrix.c=(n*l+i*f)*h,r.matrix.b=(a*c+o*u)*p,r.matrix.d=(a*l+o*f)*p;for(var d=this._updateCache,g=0,m=d.length;g<m;g++){var v=d[g];v!=r&&v.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var a=i[r];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var o=this.transformConstraints,r=0,n=o.length;r<n;r++){var a=o[r],s=a.data;a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY,a.mixScaleX=s.mixScaleX,a.mixScaleY=s.mixScaleY,a.mixShearY=s.mixShearY}for(var c=this.pathConstraints,r=0,n=c.length;r<n;r++){var a=c[r],s=a.data;a.position=s.position,a.spacing=s.spacing,a.mixRotate=s.mixRotate,a.mixX=s.mixX,a.mixY=s.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;xe.arrayCopy(e,0,this.drawOrder,0,e.length);for(var r=0,n=e.length;r<n;r++)e[r].setToSetupPose()},t.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var r=this.data.findSkin(e);if(!r)throw new Error("Skin not found: "+e);this.setSkin(r)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n],o=a.data.attachmentName;if(o){var s=e.getAttachment(n,o);s&&a.setAttachment(s)}}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,r){var n=this.data.findSlot(e);if(!n)throw new Error("Can't find slot with name "+e);return this.getAttachment(n.index,r)},t.prototype.getAttachment=function(e,r){if(!r)throw new Error("attachmentName cannot be null.");if(this.skin){var n=this.skin.getAttachment(e,r);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,r):null},t.prototype.setAttachment=function(e,r){if(!e)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var o=n[i];if(o.data.name==e){var s=null;if(r&&(s=this.getAttachment(i,r),!s))throw new Error("Attachment not found: "+r+", for slot: "+e);o.setAttachment(s);return}}throw new Error("Slot not found: "+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.data.name==e)return a}return null},t.prototype.getBoundsRect=function(){var e=new $v,r=new $v;return this.getBounds(e,r),{x:e.x,y:e.y,width:r.x,height:r.y}},t.prototype.getBounds=function(e,r,n){if(n===void 0&&(n=new Array(2)),!e)throw new Error("offset cannot be null.");if(!r)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=0,u=i.length;l<u;l++){var f=i[l];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof j3)h=8,p=xe.setArraySize(n,h,0),d.computeWorldVertices(f,p,0,2);else if(d instanceof Mb){var g=d;h=g.worldVerticesLength,p=xe.setArraySize(n,h,0),g.computeWorldVertices(f,0,h,p,0,2)}if(p)for(var m=0,v=p.length;m<v;m+=2){var _=p[m],y=p[m+1];a=Math.min(a,_),o=Math.min(o,y),s=Math.max(s,_),c=Math.max(c,y)}}}e.set(a,o),r.set(s-a,c-o)},Object.defineProperty(t.prototype,"flipX",{get:function(){return this.scaleX==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return this.scaleY==-1},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),g4=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return t.prototype.findBone=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error("boneName cannot be null.");for(var r=this.bones,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t.prototype.findSkin=function(e){if(!e)throw new Error("skinName cannot be null.");for(var r=this.skins,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findEvent=function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var r=this.events,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findAnimation=function(e){if(!e)throw new Error("animationName cannot be null.");for(var r=this.animations,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findIkConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.ikConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.transformConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error("constraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++){var a=r[n];if(a.name==e)return a}return null},t.prototype.findPathConstraintIndex=function(e){if(e==null)throw new Error("pathConstraintName cannot be null.");for(var r=this.pathConstraints,n=0,i=r.length;n<i;n++)if(r[n].name==e)return n;return-1},t}(),m4=function(){function t(e,r,n){if(this.index=0,this.color=new rt(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=ct.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n}return t}(),_4=function(t){sr(e,t);function e(r){var n=t.call(this,r,0,!1)||this;return n.bones=new Array,n._target=null,n.mixRotate=0,n.mixX=0,n.mixY=0,n.mixScaleX=0,n.mixScaleY=0,n.mixShearY=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return Object.defineProperty(e.prototype,"target",{get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(r){this._target=r},enumerable:!1,configurable:!0}),e}(Ub),AR=function(){function t(e,r,n){this.slotIndex=e,this.name=r,this.attachment=n}return t}(),Rx=function(){function t(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return t.prototype.setAttachment=function(e,r,n){if(!n)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][r]=n},t.prototype.addSkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},t.prototype.copySkin=function(e){for(var r=0;r<e.bones.length;r++){for(var n=e.bones[r],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<e.constraints.length;r++){for(var o=e.constraints[r],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}for(var s=e.getAttachments(),r=0;r<s.length;r++){var c=s[r];c.attachment&&(c.attachment instanceof Mb?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},t.prototype.getAttachment=function(e,r){var n=this.attachments[e];return n?n[r]:null},t.prototype.removeAttachment=function(e,r){var n=this.attachments[e];n&&delete n[r]},t.prototype.getAttachments=function(){for(var e=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var a=n[i];a&&e.push(new AR(r,i,a))}}return e},t.prototype.getAttachmentsForSlot=function(e,r){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&r.push(new AR(e,i,a))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(e,r){for(var n=0,i=0;i<e.slots.length;i++){var a=e.slots[i],o=a.getAttachment();if(o&&n<r.attachments.length){var s=r.attachments[n];for(var c in s){var l=s[c];if(o==l){var u=this.getAttachment(n,c);u&&a.setAttachment(u);break}}}n++}},t}(),NY=function(){function t(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new g4;n.name="";var i=new Sx(e),a=i.readInt32(),o=i.readInt32();n.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),n.version=i.readString();var s=n.version.substr(0,3);if(s!=="4.0"&&s!=="4.1"){var c="Spine 4.1 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(c)}this.ver40=s==="4.0",n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var l=i.readBoolean();l&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var u=0;u=i.readInt(!0);for(var f=0;f<u;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}u=i.readInt(!0);for(var f=0;f<u;f++){var p=i.readString();if(!p)throw new Error("Bone name must not be null.");var d=f==0?null:n.bones[i.readInt(!0)],g=new f4(f,p,d);g.rotation=i.readFloat(),g.x=i.readFloat()*r,g.y=i.readFloat()*r,g.scaleX=i.readFloat(),g.scaleY=i.readFloat(),g.shearX=i.readFloat(),g.shearY=i.readFloat(),g.length=i.readFloat()*r,g.transformMode=i.readInt(!0),g.skinRequired=i.readBoolean(),l&&rt.rgba8888ToColor(g.color,i.readInt32()),n.bones.push(g)}u=i.readInt(!0);for(var f=0;f<u;f++){var m=i.readString();if(!m)throw new Error("Slot name must not be null.");var v=n.bones[i.readInt(!0)],g=new m4(f,m,v);rt.rgba8888ToColor(g.color,i.readInt32());var _=i.readInt32();_!=-1&&rt.rgb888ToColor(g.darkColor=new rt,_),g.attachmentName=i.readStringRef(),g.blendMode=i.readInt(!0),n.slots.push(g)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var b=i.readString();if(!b)throw new Error("IK constraint data name must not be null.");var g=new p4(b);g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var w=0;w<y;w++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.bones[i.readInt(!0)],g.mix=i.readFloat(),g.softness=i.readFloat()*r,g.bendDirection=i.readByte(),g.compress=i.readBoolean(),g.stretch=i.readBoolean(),g.uniform=i.readBoolean(),n.ikConstraints.push(g)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var E=i.readString();if(!E)throw new Error("Transform constraint data name must not be null.");var g=new _4(E);g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var w=0;w<y;w++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.bones[i.readInt(!0)],g.local=i.readBoolean(),g.relative=i.readBoolean(),g.offsetRotation=i.readFloat(),g.offsetX=i.readFloat()*r,g.offsetY=i.readFloat()*r,g.offsetScaleX=i.readFloat(),g.offsetScaleY=i.readFloat(),g.offsetShearY=i.readFloat(),g.mixRotate=i.readFloat(),g.mixX=i.readFloat(),g.mixY=i.readFloat(),g.mixScaleX=i.readFloat(),g.mixScaleY=i.readFloat(),g.mixShearY=i.readFloat(),n.transformConstraints.push(g)}u=i.readInt(!0);for(var f=0,y=void 0;f<u;f++){var C=i.readString();if(!C)throw new Error("Path constraint data name must not be null.");var g=new v4(C);g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),y=i.readInt(!0);for(var w=0;w<y;w++)g.bones.push(n.bones[i.readInt(!0)]);g.target=n.slots[i.readInt(!0)],g.positionMode=i.readInt(!0),g.spacingMode=i.readInt(!0),g.rotateMode=i.readInt(!0),g.offsetRotation=i.readFloat(),g.position=i.readFloat(),g.positionMode==_n.Fixed&&(g.position*=r),g.spacing=i.readFloat(),(g.spacingMode==li.Length||g.spacingMode==li.Fixed)&&(g.spacing*=r),g.mixRotate=i.readFloat(),g.mixX=i.readFloat(),g.mixY=i.readFloat(),n.pathConstraints.push(g)}var T=this.readSkin(i,n,!0,l);T&&(n.defaultSkin=T,n.skins.push(T));{var f=n.skins.length;for(xe.setArraySize(n.skins,u=f+i.readInt(!0));f<u;f++){var A=this.readSkin(i,n,!1,l);if(!A)throw new Error("readSkin() should not have returned null.");n.skins[f]=A}}u=this.linkedMeshes.length;for(var f=0;f<u;f++){var R=this.linkedMeshes[f],A=R.skin?n.findSkin(R.skin):n.defaultSkin;if(!A)throw new Error("Not skin found for linked mesh.");if(!R.parent)throw new Error("Linked mesh parent must not be null");var O=A.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error("Parent mesh not found: "+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}this.linkedMeshes.length=0,u=i.readInt(!0);for(var f=0;f<u;f++){var P=i.readStringRef();if(!P)throw new Error;var g=new d4(P);g.intValue=i.readInt(!1),g.floatValue=i.readFloat(),g.stringValue=i.readString(),g.audioPath=i.readString(),g.audioPath&&(g.volume=i.readFloat(),g.balance=i.readFloat()),n.events.push(g)}u=i.readInt(!0);for(var f=0;f<u;f++){var k=i.readString();if(!k)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(i,k,n))}return n},t.prototype.readSkin=function(e,r,n,i){var a=null,o=0;if(n){if(o=e.readInt(!0),o==0)return null;a=new Rx("default")}else{var s=e.readStringRef();if(!s)throw new Error("Skin name must not be null.");a=new Rx(s),a.bones.length=e.readInt(!0);for(var c=0,l=a.bones.length;c<l;c++)a.bones[c]=r.bones[e.readInt(!0)];for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.ikConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.transformConstraints[e.readInt(!0)]);for(var c=0,l=e.readInt(!0);c<l;c++)a.constraints.push(r.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(var c=0;c<o;c++)for(var u=e.readInt(!0),f=0,h=e.readInt(!0);f<h;f++){var p=e.readStringRef();if(!p)throw new Error("Attachment name must not be null");var d=this.readAttachment(e,r,a,u,p,i);d&&a.setAttachment(u,p,d)}return a},t.prototype.readAttachment=function(e,r,n,i,a,o){var s=this.scale,c=e.readStringRef();switch(c||(c=a),e.readByte()){case tr.Region:{var l=e.readStringRef(),u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),p=e.readFloat(),d=e.readFloat(),g=e.readFloat(),m=e.readFloat(),v=e.readInt32(),_=this.readSequence(e);l||(l=c);var y=this.attachmentLoader.newRegionAttachment(n,c,l,_);return y?(y.path=l,y.x=f*s,y.y=h*s,y.scaleX=p,y.scaleY=d,y.rotation=u,y.width=g*s,y.height=m*s,rt.rgba8888ToColor(y.color,v),y.sequence=_,_==null&&y.updateRegion(),y):null}case tr.BoundingBox:{var b=e.readInt(!0),w=this.readVertices(e,b),v=o?e.readInt32():0,E=this.attachmentLoader.newBoundingBoxAttachment(n,c);return E?(E.worldVerticesLength=b<<1,E.vertices=w.vertices,E.bones=w.bones,o&&rt.rgba8888ToColor(E.color,v),E):null}case tr.Mesh:{var l=e.readStringRef(),v=e.readInt32(),b=e.readInt(!0),C=this.readFloatArray(e,b<<1,1),T=this.readShortArray(e),w=this.readVertices(e,b),A=e.readInt(!0),_=this.readSequence(e),R=[],g=0,m=0;o&&(R=this.readShortArray(e),g=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,rt.rgba8888ToColor(O.color,v),O.bones=w.bones,O.vertices=w.vertices,O.worldVerticesLength=b<<1,O.triangles=T,O.regionUVs=new Float32Array(C),O.hullLength=A<<1,O.sequence=_,o&&(O.edges=R,O.width=g*s,O.height=m*s),O):null}case tr.LinkedMesh:{var l=e.readStringRef(),v=e.readInt32(),P=e.readStringRef(),k=e.readStringRef(),M=e.readBoolean(),_=this.readSequence(e),g=0,m=0;o&&(g=e.readFloat(),m=e.readFloat()),l||(l=c);var O=this.attachmentLoader.newMeshAttachment(n,c,l,_);return O?(O.path=l,rt.rgba8888ToColor(O.color,v),O.sequence=_,o&&(O.width=g*s,O.height=m*s),this.linkedMeshes.push(new RGe(O,P,i,k,M)),O):null}case tr.Path:{for(var B=e.readBoolean(),D=e.readBoolean(),b=e.readInt(!0),w=this.readVertices(e,b),H=xe.newArray(b/3,0),ee=0,ne=H.length;ee<ne;ee++)H[ee]=e.readFloat()*s;var v=o?e.readInt32():0,l=this.attachmentLoader.newPathAttachment(n,c);return l?(l.closed=B,l.constantSpeed=D,l.worldVerticesLength=b<<1,l.vertices=w.vertices,l.bones=w.bones,l.lengths=H,o&&rt.rgba8888ToColor(l.color,v),l):null}case tr.Point:{var u=e.readFloat(),f=e.readFloat(),h=e.readFloat(),v=o?e.readInt32():0,Y=this.attachmentLoader.newPointAttachment(n,c);return Y?(Y.x=f*s,Y.y=h*s,Y.rotation=u,o&&rt.rgba8888ToColor(Y.color,v),Y):null}case tr.Clipping:{var U=e.readInt(!0),b=e.readInt(!0),w=this.readVertices(e,b),v=o?e.readInt32():0,X=this.attachmentLoader.newClippingAttachment(n,c);return X?(X.endSlot=r.slots[U],X.worldVerticesLength=b<<1,X.vertices=w.vertices,X.bones=w.bones,o&&rt.rgba8888ToColor(X.color,v),X):null}}return null},t.prototype.readSequence=function(e){if(this.ver40||!e.readBoolean())return null;var r=new $3(e.readInt(!0));return r.start=e.readInt(!0),r.digits=e.readInt(!0),r.setupIndex=e.readInt(!0),r},t.prototype.readDeformTimelineType=function(e){return this.ver40?nj:e.readByte()},t.prototype.readVertices=function(e,r){var n=this.scale,i=r<<1,a=new PGe;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,i,n),a;for(var o=new Array,s=new Array,c=0;c<r;c++){var l=e.readInt(!0);s.push(l);for(var u=0;u<l;u++)s.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}return a.vertices=xe.toFloatArray(o),a.bones=s,a},t.prototype.readFloatArray=function(e,r,n){var i=new Array(r);if(n==1)for(var a=0;a<r;a++)i[a]=e.readFloat();else for(var a=0;a<r;a++)i[a]=e.readFloat()*n;return i},t.prototype.readShortArray=function(e){for(var r=e.readInt(!0),n=new Array(r),i=0;i<r;i++)n[i]=e.readShort();return n},t.prototype.readAnimation=function(e,r,n){e.readInt(!0);for(var i=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var c=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var f=e.readByte(),h=e.readInt(!0),p=h-1;switch(f){case $Ge:{for(var d=new Gc(h,c),g=0;g<h;g++)d.setFrame(g,e.readFloat(),e.readStringRef());i.push(d);break}case GGe:{for(var m=e.readInt(!0),d=new J3(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b,w),g!=p;g++){var C=e.readFloat(),T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,_,T,1),br(e,d,E++,g,1,v,C,y,A,1),br(e,d,E++,g,2,v,C,b,R,1),br(e,d,E++,g,3,v,C,w,O,1)}v=C,_=T,y=A,b=R,w=O}i.push(d);break}case VGe:{for(var m=e.readInt(!0),d=new Q3(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b),g!=p;g++){var C=e.readFloat(),T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255;switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,_,T,1),br(e,d,E++,g,1,v,C,y,A,1),br(e,d,E++,g,2,v,C,b,R,1)}v=C,_=T,y=A,b=R}i.push(d);break}case HGe:{for(var m=e.readInt(!0),d=new t4(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b,w,T,A,R),g!=p;g++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,_,P,1),br(e,d,E++,g,1,v,C,y,k,1),br(e,d,E++,g,2,v,C,b,M,1),br(e,d,E++,g,3,v,C,w,B,1),br(e,d,E++,g,4,v,C,T,D,1),br(e,d,E++,g,5,v,C,A,H,1),br(e,d,E++,g,6,v,C,R,ee,1)}v=C,_=P,y=k,b=M,w=B,T=D,A=H,R=ee}i.push(d);break}case zGe:{for(var m=e.readInt(!0),d=new r4(h,m,c),v=e.readFloat(),_=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,_,y,b,T,A,R),g!=p;g++){var C=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,ee=e.readUnsignedByte()/255;switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,_,P,1),br(e,d,E++,g,1,v,C,y,k,1),br(e,d,E++,g,2,v,C,b,M,1),br(e,d,E++,g,3,v,C,T,D,1),br(e,d,E++,g,4,v,C,A,H,1),br(e,d,E++,g,5,v,C,R,ee,1)}v=C,_=P,y=k,b=M,T=D,A=H,R=ee}i.push(d);break}case XGe:{for(var d=new e4(h,e.readInt(!0),c),v=e.readFloat(),w=e.readUnsignedByte()/255,g=0,E=0;d.setFrame(g,v,w),g!=p;g++){var C=e.readFloat(),O=e.readUnsignedByte()/255;switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,w,O,1)}v=C,w=O}i.push(d)}}}for(var o=0,s=e.readInt(!0);o<s;o++)for(var ne=e.readInt(!0),l=0,u=e.readInt(!0);l<u;l++){var Y=e.readByte(),h=e.readInt(!0),m=e.readInt(!0);switch(Y){case OGe:i.push(il(e,new Zv(h,m,ne),1));break;case kGe:i.push(RC(e,new V3(h,m,ne),a));break;case FGe:i.push(il(e,new H3(h,m,ne),a));break;case NGe:i.push(il(e,new z3(h,m,ne),a));break;case MGe:i.push(RC(e,new X3(h,m,ne),1));break;case LGe:i.push(il(e,new W3(h,m,ne),1));break;case BGe:i.push(il(e,new Y3(h,m,ne),1));break;case DGe:i.push(RC(e,new q3(h,m,ne),1));break;case UGe:i.push(il(e,new K3(h,m,ne),1));break;case jGe:i.push(il(e,new Z3(h,m,ne),1))}}for(var o=0,s=e.readInt(!0);o<s;o++){for(var U=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new i4(h,e.readInt(!0),U),v=e.readFloat(),X=e.readFloat(),V=e.readFloat()*a,g=0,E=0;d.setFrame(g,v,X,V,e.readByte(),e.readBoolean(),e.readBoolean()),g!=p;g++){var C=e.readFloat(),G=e.readFloat(),te=e.readFloat()*a;switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,X,G,1),br(e,d,E++,g,1,v,C,V,te,a)}v=C,X=G,V=te}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++){for(var U=e.readInt(!0),h=e.readInt(!0),p=h-1,d=new a4(h,e.readInt(!0),U),v=e.readFloat(),oe=e.readFloat(),ge=e.readFloat(),le=e.readFloat(),ye=e.readFloat(),Le=e.readFloat(),ke=e.readFloat(),g=0,E=0;d.setFrame(g,v,oe,ge,le,ye,Le,ke),g!=p;g++){var C=e.readFloat(),Ee=e.readFloat(),Se=e.readFloat(),De=e.readFloat(),We=e.readFloat(),Ve=e.readFloat(),He=e.readFloat();switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,oe,Ee,1),br(e,d,E++,g,1,v,C,ge,Se,1),br(e,d,E++,g,2,v,C,le,De,1),br(e,d,E++,g,3,v,C,ye,We,1),br(e,d,E++,g,4,v,C,Le,Ve,1),br(e,d,E++,g,5,v,C,ke,He,1)}v=C,oe=Ee,ge=Se,le=De,ye=We,Le=Ve,ke=He}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var U=e.readInt(!0),qe=n.pathConstraints[U],l=0,u=e.readInt(!0);l<u;l++)switch(e.readByte()){case YGe:i.push(il(e,new o4(e.readInt(!0),e.readInt(!0),U),qe.positionMode==_n.Fixed?a:1));break;case qGe:i.push(il(e,new s4(e.readInt(!0),e.readInt(!0),U),qe.spacingMode==li.Length||qe.spacingMode==li.Fixed?a:1));break;case KGe:for(var d=new l4(e.readInt(!0),e.readInt(!0),U),v=e.readFloat(),oe=e.readFloat(),ge=e.readFloat(),le=e.readFloat(),g=0,E=0,p=d.getFrameCount()-1;d.setFrame(g,v,oe,ge,le),g!=p;g++){var C=e.readFloat(),Ee=e.readFloat(),Se=e.readFloat(),De=e.readFloat();switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,oe,Ee,1),br(e,d,E++,g,1,v,C,ge,Se,1),br(e,d,E++,g,2,v,C,le,De,1)}v=C,oe=Ee,ge=Se,le=De}i.push(d)}for(var o=0,s=e.readInt(!0);o<s;o++)for(var Et=n.skins[e.readInt(!0)],l=0,u=e.readInt(!0);l<u;l++)for(var c=e.readInt(!0),Rt=0,ht=e.readInt(!0);Rt<ht;Rt++){var dt=e.readStringRef();if(!dt)throw new Error("attachmentName must not be null.");var St=Et.getAttachment(c,dt),f=this.readDeformTimelineType(e),h=e.readInt(!0),p=h-1;switch(f){case nj:{for(var nr=St,Xt=nr.bones,ir=nr.vertices,Vt=Xt?ir.length/3*2:ir.length,m=e.readInt(!0),d=new n4(h,m,c,nr),v=e.readFloat(),g=0,E=0;;g++){var bt=void 0,Zt=e.readInt(!0);if(Zt==0)bt=Xt?xe.newFloatArray(Vt):ir;else{bt=xe.newFloatArray(Vt);var Oe=e.readInt(!0);if(Zt+=Oe,a==1)for(var j=Oe;j<Zt;j++)bt[j]=e.readFloat();else for(var j=Oe;j<Zt;j++)bt[j]=e.readFloat()*a;if(!Xt)for(var j=0,pe=bt.length;j<pe;j++)bt[j]+=ir[j]}if(d.setFrame(g,v,bt),g==p)break;var C=e.readFloat();switch(e.readByte()){case jo:d.setStepped(g);break;case $o:br(e,d,E++,g,0,v,C,0,1,1)}v=C}i.push(d);break}case WGe:{for(var d=new u4(h,c,St),g=0;g<h;g++){var v=e.readFloat(),Ce=e.readInt32();d.setFrame(g,v,G3[Ce&15],Ce>>4,e.readFloat())}i.push(d);break}}}var Fe=e.readInt(!0);if(Fe>0){for(var d=new ad(Fe),ae=n.slots.length,o=0;o<Fe;o++){for(var v=e.readFloat(),Ae=e.readInt(!0),z=xe.newArray(ae,0),l=ae-1;l>=0;l--)z[l]=-1;for(var je=xe.newArray(ae-Ae,0),vt=0,N=0,l=0;l<Ae;l++){for(var c=e.readInt(!0);vt!=c;)je[N++]=vt++;z[vt+e.readInt(!0)]=vt++}for(;vt<ae;)je[N++]=vt++;for(var l=ae-1;l>=0;l--)z[l]==-1&&(z[l]=je[--N]);d.setFrame(o,v,z)}i.push(d)}var Re=e.readInt(!0);if(Re>0){for(var d=new Db(Re),o=0;o<Re;o++){var v=e.readFloat(),Pe=n.events[e.readInt(!0)],q=new h4(v,Pe);q.intValue=e.readInt(!1),q.floatValue=e.readFloat(),q.stringValue=e.readBoolean()?e.readString():Pe.stringValue,q.data.audioPath&&(q.volume=e.readFloat(),q.balance=e.readFloat()),d.setFrame(o,q)}i.push(d)}for(var ue=0,o=0,s=i.length;o<s;o++)ue=Math.max(ue,i[o].getDuration());return new Lb(r,i,ue)},t.BlendModeValues=[ct.NORMAL,ct.ADD,ct.MULTIPLY,ct.SCREEN],t}(),RGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}(),PGe=function(){function t(e,r){e===void 0&&(e=null),r===void 0&&(r=null),this.bones=e,this.vertices=r}return t}();function il(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=0,o=0,s=e.getFrameCount()-1;e.setFrame(a,n,i),a!=s;a++){var c=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case jo:e.setStepped(a);break;case $o:br(t,e,o++,a,0,n,c,i,l,r)}n=c,i=l}return e}function RC(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,a=t.readFloat()*r,o=0,s=0,c=e.getFrameCount()-1;e.setFrame(o,n,i,a),o!=c;o++){var l=t.readFloat(),u=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case jo:e.setStepped(o);break;case $o:br(t,e,s++,o,0,n,l,i,u,r),br(t,e,s++,o,1,n,l,a,f,r)}n=l,i=u,a=f}return e}function br(t,e,r,n,i,a,o,s,c,l){e.setBezier(r,n,i,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,c)}var OGe=0,kGe=1,FGe=2,NGe=3,MGe=4,LGe=5,BGe=6,DGe=7,UGe=8,jGe=9,$Ge=0,GGe=1,VGe=2,HGe=3,zGe=4,XGe=5,nj=0,WGe=1,YGe=0,qGe=1,KGe=2,jo=1,$o=2,ZGe=function(t){sr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_3),MY=function(){function t(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new g4,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a){n.hash=a.hash,n.version=a.spine;var o=n.version.substr(0,3);if(o!=="4.0"&&o!=="4.1"){var s="Spine 4.1 loader cant load version "+a.spine+". Please configure your pixi-spine bundle";console.error(s)}n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height,n.fps=a.fps,n.imagesPath=a.images}if(i.bones)for(var c=0;c<i.bones.length;c++){var l=i.bones[c],u=null,f=Ie(l,"parent",null);if(f!=null&&(u=n.findBone(f),u==null))throw new Error("Parent bone not found: "+f);var h=new f4(n.bones.length,l.name,u);h.length=Ie(l,"length",0)*r,h.x=Ie(l,"x",0)*r,h.y=Ie(l,"y",0)*r,h.rotation=Ie(l,"rotation",0),h.scaleX=Ie(l,"scaleX",1),h.scaleY=Ie(l,"scaleY",1),h.shearX=Ie(l,"shearX",0),h.shearY=Ie(l,"shearY",0),h.transformMode=xe.enumValue(Dt,Ie(l,"transform","Normal")),h.skinRequired=Ie(l,"skin",!1);var p=Ie(l,"color",null);p&&h.color.setFromString(p),n.bones.push(h)}if(i.slots)for(var c=0;c<i.slots.length;c++){var d=i.slots[c],g=n.findBone(d.bone);if(!g)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var h=new m4(n.slots.length,d.name,g),p=Ie(d,"color",null);p&&h.color.setFromString(p);var m=Ie(d,"dark",null);m&&(h.darkColor=rt.fromString(m)),h.attachmentName=Ie(d,"attachment",null),h.blendMode=t.blendModeFromString(Ie(d,"blend","normal")),n.slots.push(h)}if(i.ik)for(var c=0;c<i.ik.length;c++){var v=i.ik[c],h=new p4(v.name);h.order=Ie(v,"order",0),h.skinRequired=Ie(v,"skin",!1);for(var _=0;_<v.bones.length;_++){var y=v.bones[_],b=n.findBone(y);if(b==null)throw new Error("IK bone not found: "+y);h.bones.push(b)}h.target=n.findBone(v.target),h.mix=Ie(v,"mix",1),h.softness=Ie(v,"softness",0)*r,h.bendDirection=Ie(v,"bendPositive",!0)?1:-1,h.compress=Ie(v,"compress",!1),h.stretch=Ie(v,"stretch",!1),h.uniform=Ie(v,"uniform",!1),n.ikConstraints.push(h)}if(i.transform)for(var c=0;c<i.transform.length;c++){var v=i.transform[c],h=new _4(v.name);h.order=Ie(v,"order",0),h.skinRequired=Ie(v,"skin",!1);for(var _=0;_<v.bones.length;_++){var y=v.bones[_],b=n.findBone(y);if(!b)throw new Error("Couldn't find bone "+y+" for transform constraint "+v.name+".");h.bones.push(b)}var w=v.target,E=n.findBone(w);if(!E)throw new Error("Couldn't find target bone "+w+" for transform constraint "+v.name+".");h.target=E,h.local=Ie(v,"local",!1),h.relative=Ie(v,"relative",!1),h.offsetRotation=Ie(v,"rotation",0),h.offsetX=Ie(v,"x",0)*r,h.offsetY=Ie(v,"y",0)*r,h.offsetScaleX=Ie(v,"scaleX",0),h.offsetScaleY=Ie(v,"scaleY",0),h.offsetShearY=Ie(v,"shearY",0),h.mixRotate=Ie(v,"mixRotate",1),h.mixX=Ie(v,"mixX",1),h.mixY=Ie(v,"mixY",h.mixX),h.mixScaleX=Ie(v,"mixScaleX",1),h.mixScaleY=Ie(v,"mixScaleY",h.mixScaleX),h.mixShearY=Ie(v,"mixShearY",1),n.transformConstraints.push(h)}if(i.path)for(var c=0;c<i.path.length;c++){var v=i.path[c],h=new v4(v.name);h.order=Ie(v,"order",0),h.skinRequired=Ie(v,"skin",!1);for(var _=0;_<v.bones.length;_++){var y=v.bones[_],b=n.findBone(y);if(!b)throw new Error("Couldn't find bone "+y+" for path constraint "+v.name+".");h.bones.push(b)}var w=v.target,E=n.findSlot(w);if(!E)throw new Error("Couldn't find target slot "+w+" for path constraint "+v.name+".");h.target=E,h.positionMode=xe.enumValue(_n,Ie(v,"positionMode","Percent")),h.spacingMode=xe.enumValue(li,Ie(v,"spacingMode","Length")),h.rotateMode=xe.enumValue(Un,Ie(v,"rotateMode","Tangent")),h.offsetRotation=Ie(v,"rotation",0),h.position=Ie(v,"position",0),h.positionMode==_n.Fixed&&(h.position*=r),h.spacing=Ie(v,"spacing",0),(h.spacingMode==li.Length||h.spacingMode==li.Fixed)&&(h.spacing*=r),h.mixRotate=Ie(v,"mixRotate",1),h.mixX=Ie(v,"mixX",1),h.mixY=Ie(v,"mixY",h.mixX),n.pathConstraints.push(h)}if(i.skins)for(var c=0;c<i.skins.length;c++){var C=i.skins[c],T=new Rx(C.name);if(C.bones)for(var _=0;_<C.bones.length;_++){var y=C.bones[_],b=n.findBone(y);if(!b)throw new Error("Couldn't find bone "+y+" for skin "+C.name+".");T.bones.push(b)}if(C.ik)for(var _=0;_<C.ik.length;_++){var A=C.ik[_],R=n.findIkConstraint(A);if(!R)throw new Error("Couldn't find IK constraint "+A+" for skin "+C.name+".");T.constraints.push(R)}if(C.transform)for(var _=0;_<C.transform.length;_++){var A=C.transform[_],R=n.findTransformConstraint(A);if(!R)throw new Error("Couldn't find transform constraint "+A+" for skin "+C.name+".");T.constraints.push(R)}if(C.path)for(var _=0;_<C.path.length;_++){var A=C.path[_],R=n.findPathConstraint(A);if(!R)throw new Error("Couldn't find path constraint "+A+" for skin "+C.name+".");T.constraints.push(R)}for(var O in C.attachments){var P=n.findSlot(O);if(!P)throw new Error("Couldn't find slot "+O+" for skin "+C.name+".");var d=C.attachments[O];for(var k in d){var M=this.readAttachment(d[k],T,P.index,k,n);M&&T.setAttachment(P.index,k,M)}}n.skins.push(T),T.name=="default"&&(n.defaultSkin=T)}for(var c=0,B=this.linkedMeshes.length;c<B;c++){var D=this.linkedMeshes[c],T=D.skin?n.findSkin(D.skin):n.defaultSkin;if(!T)throw new Error("Skin not found: "+D.skin);var H=T.getAttachment(D.slotIndex,D.parent);if(!H)throw new Error("Parent mesh not found: "+D.parent);D.mesh.timelineAttachment=D.inheritTimeline?H:D.mesh,D.mesh.setParentMesh(H)}if(this.linkedMeshes.length=0,i.events)for(var ee in i.events){var ne=i.events[ee],h=new d4(ee);h.intValue=Ie(ne,"int",0),h.floatValue=Ie(ne,"float",0),h.stringValue=Ie(ne,"string",""),h.audioPath=Ie(ne,"audio",null),h.audioPath&&(h.volume=Ie(ne,"volume",1),h.balance=Ie(ne,"balance",0)),n.events.push(h)}if(i.animations)for(var Y in i.animations){var U=i.animations[Y];this.readAnimation(U,Y,n)}return n},t.prototype.readAttachment=function(e,r,n,i,a){var o=this.scale;switch(i=Ie(e,"name",i),Ie(e,"type","region")){case"region":{var s=Ie(e,"path",i),c=this.readSequence(Ie(e,"sequence",null)),l=this.attachmentLoader.newRegionAttachment(r,i,s,c);if(!l)return null;l.path=s,l.x=Ie(e,"x",0)*o,l.y=Ie(e,"y",0)*o,l.scaleX=Ie(e,"scaleX",1),l.scaleY=Ie(e,"scaleY",1),l.rotation=Ie(e,"rotation",0),l.width=e.width*o,l.height=e.height*o,l.sequence=c;var u=Ie(e,"color",null);return u&&l.color.setFromString(u),l}case"boundingbox":{var f=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(!f)return null;this.readVertices(e,f,e.vertexCount<<1);var u=Ie(e,"color",null);return u&&f.color.setFromString(u),f}case"mesh":case"linkedmesh":{var s=Ie(e,"path",i),c=this.readSequence(Ie(e,"sequence",null)),h=this.attachmentLoader.newMeshAttachment(r,i,s,c);if(!h)return null;h.path=s;var u=Ie(e,"color",null);u&&h.color.setFromString(u),h.width=Ie(e,"width",0)*o,h.height=Ie(e,"height",0)*o,h.sequence=c;var p=Ie(e,"parent",null);if(p)return this.linkedMeshes.push(new JGe(h,Ie(e,"skin",null),n,p,Ie(e,"timelines",!0))),h;var d=e.uvs;return this.readVertices(e,h,d.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(d),h.edges=Ie(e,"edges",null),h.hullLength=Ie(e,"hull",0)*2,h}case"path":{var s=this.attachmentLoader.newPathAttachment(r,i);if(!s)return null;s.closed=Ie(e,"closed",!1),s.constantSpeed=Ie(e,"constantSpeed",!0);var g=e.vertexCount;this.readVertices(e,s,g<<1);for(var m=xe.newArray(g/3,0),v=0;v<e.lengths.length;v++)m[v]=e.lengths[v]*o;s.lengths=m;var u=Ie(e,"color",null);return u&&s.color.setFromString(u),s}case"point":{var _=this.attachmentLoader.newPointAttachment(r,i);if(!_)return null;_.x=Ie(e,"x",0)*o,_.y=Ie(e,"y",0)*o,_.rotation=Ie(e,"rotation",0);var u=Ie(e,"color",null);return u&&_.color.setFromString(u),_}case"clipping":{var y=this.attachmentLoader.newClippingAttachment(r,i);if(!y)return null;var b=Ie(e,"end",null);if(b!=null){var w=a.findSlot(b);if(w==null)throw new Error("Clipping end slot not found: "+b);y.endSlot=w}var g=e.vertexCount;this.readVertices(e,y,g<<1);var u=Ie(e,"color",null);return u&&y.color.setFromString(u),y}}return null},t.prototype.readSequence=function(e){if(e==null)return null;var r=new $3(Ie(e,"count",0));return r.start=Ie(e,"start",1),r.digits=Ie(e,"digits",0),r.setupIndex=Ie(e,"setup",0),r},t.prototype.readVertices=function(e,r,n){var i=this.scale;r.worldVerticesLength=n;var a=e.vertices;if(n==a.length){var o=xe.toFloatArray(a);if(i!=1)for(var s=0,c=a.length;s<c;s++)o[s]*=i;r.vertices=o;return}for(var l=new Array,u=new Array,s=0,c=a.length;s<c;){var f=a[s++];u.push(f);for(var h=s+f*4;s<h;s+=4)u.push(a[s]),l.push(a[s+1]*i),l.push(a[s+2]*i),l.push(a[s+3])}r.bones=u,r.vertices=xe.toFloatArray(l)},t.prototype.readAnimation=function(e,r,n){var i=this.scale,a=new Array;if(e.slots)for(var o in e.slots){var s=e.slots[o],c=n.findSlot(o);if(!c)throw new Error("Slot not found: "+o);var l=c.index;for(var u in s){var f=s[u];if(f){var h=f.length;if(u=="attachment"){for(var p=new Gc(h,l),d=0;d<h;d++){var g=f[d];p.setFrame(d,Ie(g,"time",0),Ie(g,"name",null))}a.push(p)}else if(u=="rgba"){for(var p=new J3(h,h<<2,l),g=f[0],m=Ie(g,"time",0),v=rt.fromString(g.color),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b,v.a);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),w=rt.fromString(y.color),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1),_=Cr(E,p,_,d,3,m,b,v.a,w.a,1)),m=b,v=w,g=y}a.push(p)}else if(u=="rgb"){for(var p=new Q3(h,h*3,l),g=f[0],m=Ie(g,"time",0),v=rt.fromString(g.color),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),w=rt.fromString(y.color),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1)),m=b,v=w,g=y}a.push(p)}else if(u=="alpha")a.push(ps(f,new e4(h,h,l),0,1));else if(u=="rgba2"){for(var p=new t4(h,h*7,l),g=f[0],m=Ie(g,"time",0),v=rt.fromString(g.light),C=rt.fromString(g.dark),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b,v.a,C.r,C.g,C.b);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),w=rt.fromString(y.light),T=rt.fromString(y.dark),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1),_=Cr(E,p,_,d,3,m,b,v.a,w.a,1),_=Cr(E,p,_,d,4,m,b,C.r,T.r,1),_=Cr(E,p,_,d,5,m,b,C.g,T.g,1),_=Cr(E,p,_,d,6,m,b,C.b,T.b,1)),m=b,v=w,C=T,g=y}a.push(p)}else if(u=="rgb2"){for(var p=new r4(h,h*6,l),g=f[0],m=Ie(g,"time",0),v=rt.fromString(g.light),C=rt.fromString(g.dark),d=0,_=0;;d++){p.setFrame(d,m,v.r,v.g,v.b,C.r,C.g,C.b);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),w=rt.fromString(y.light),T=rt.fromString(y.dark),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,v.r,w.r,1),_=Cr(E,p,_,d,1,m,b,v.g,w.g,1),_=Cr(E,p,_,d,2,m,b,v.b,w.b,1),_=Cr(E,p,_,d,3,m,b,C.r,T.r,1),_=Cr(E,p,_,d,4,m,b,C.g,T.g,1),_=Cr(E,p,_,d,5,m,b,C.b,T.b,1)),m=b,v=w,C=T,g=y}a.push(p)}}}}if(e.bones)for(var A in e.bones){var R=e.bones[A],O=n.findBone(A);if(!O)throw new Error("Bone not found: "+A);var P=O.index;for(var u in R){var f=R[u],k=f.length;if(k!=0){if(u==="rotate")a.push(ps(f,new Zv(k,k,P),0,1));else if(u==="translate"){var p=new V3(k,k<<1,P);a.push(PC(f,p,"x","y",0,i))}else if(u==="translatex"){var p=new H3(k,k,P);a.push(ps(f,p,0,i))}else if(u==="translatey"){var p=new z3(k,k,P);a.push(ps(f,p,0,i))}else if(u==="scale"){var p=new X3(k,k<<1,P);a.push(PC(f,p,"x","y",1,1))}else if(u==="scalex"){var p=new W3(k,k,P);a.push(ps(f,p,1,1))}else if(u==="scaley"){var p=new Y3(k,k,P);a.push(ps(f,p,1,1))}else if(u==="shear"){var p=new q3(k,k<<1,P);a.push(PC(f,p,"x","y",0,1))}else if(u==="shearx"){var p=new K3(k,k,P);a.push(ps(f,p,0,1))}else if(u==="sheary"){var p=new Z3(k,k,P);a.push(ps(f,p,0,1))}}}}if(e.ik)for(var M in e.ik){var B=e.ik[M],g=B[0];if(g){var D=n.findIkConstraint(M);if(!D)throw new Error("IK Constraint not found: "+M);for(var H=n.ikConstraints.indexOf(D),p=new i4(B.length,B.length<<1,H),m=Ie(g,"time",0),ee=Ie(g,"mix",1),ne=Ie(g,"softness",0)*i,d=0,_=0;;d++){p.setFrame(d,m,ee,ne,Ie(g,"bendPositive",!0)?1:-1,Ie(g,"compress",!1),Ie(g,"stretch",!1));var y=B[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),Y=Ie(y,"mix",1),U=Ie(y,"softness",0)*i,E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,ee,Y,1),_=Cr(E,p,_,d,1,m,b,ne,U,i)),m=b,ee=Y,ne=U,g=y}a.push(p)}}if(e.transform)for(var M in e.transform){var f=e.transform[M],g=f[0];if(g){var D=n.findTransformConstraint(M);if(!D)throw new Error("Transform constraint not found: "+M);for(var H=n.transformConstraints.indexOf(D),p=new a4(f.length,f.length*6,H),m=Ie(g,"time",0),X=Ie(g,"mixRotate",1),V=Ie(g,"mixX",1),G=Ie(g,"mixY",V),te=Ie(g,"mixScaleX",1),oe=Ie(g,"mixScaleY",te),ge=Ie(g,"mixShearY",1),d=0,_=0;;d++){p.setFrame(d,m,X,V,G,te,oe,ge);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),le=Ie(y,"mixRotate",1),ye=Ie(y,"mixX",1),Le=Ie(y,"mixY",ye),ke=Ie(y,"mixScaleX",1),Ee=Ie(y,"mixScaleY",ke),Se=Ie(y,"mixShearY",1),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,X,le,1),_=Cr(E,p,_,d,1,m,b,V,ye,1),_=Cr(E,p,_,d,2,m,b,G,Le,1),_=Cr(E,p,_,d,3,m,b,te,ke,1),_=Cr(E,p,_,d,4,m,b,oe,Ee,1),_=Cr(E,p,_,d,5,m,b,ge,Se,1)),m=b,X=le,V=ye,G=Le,te=ke,oe=Ee,te=ke,g=y}a.push(p)}}if(e.path)for(var M in e.path){var B=e.path[M],D=n.findPathConstraint(M);if(!D)throw new Error("Path constraint not found: "+M);var H=n.pathConstraints.indexOf(D);for(var u in B){var f=B[u],g=f[0];if(g){var De=f.length;if(u==="position"){var p=new o4(De,De,H);a.push(ps(f,p,0,D.positionMode==_n.Fixed?i:1))}else if(u==="spacing"){var p=new s4(De,De,H);a.push(ps(f,p,0,D.spacingMode==li.Length||D.spacingMode==li.Fixed?i:1))}else if(u==="mix"){for(var p=new l4(De,De*3,H),m=Ie(g,"time",0),X=Ie(g,"mixRotate",1),V=Ie(g,"mixX",1),G=Ie(g,"mixY",V),d=0,_=0;;d++){p.setFrame(d,m,X,V,G);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),le=Ie(y,"mixRotate",1),ye=Ie(y,"mixX",1),Le=Ie(y,"mixY",ye),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,X,le,1),_=Cr(E,p,_,d,1,m,b,V,ye,1),_=Cr(E,p,_,d,2,m,b,G,Le,1)),m=b,X=le,V=ye,G=Le,g=y}a.push(p)}}}}if(e.deform){e.attachments={};for(var We in e.deform){var Ve=e.deform[We],He=e.attachments[We]={};for(var o in Ve){var s=Ve[o],qe=He[o]={};for(var Et in s)qe[Et]={deform:s[Et]}}}}if(e.attachments)for(var Rt in e.attachments){var ht=e.attachments[Rt],dt=n.findSkin(Rt);if(dt!=null)for(var St in ht){var s=ht[St],c=n.findSlot(St);if(!c)throw new Error("Slot not found: "+St);var l=c.index;for(var nr in s){var Xt=s[nr],ir=dt.getAttachment(l,nr);for(var Vt in Xt){var f=Xt[Vt],g=f[0];if(g){if(Vt=="deform"){for(var bt=ir.bones,Zt=ir.vertices,Oe=bt?Zt.length/3*2:Zt.length,p=new n4(f.length,f.length,l,ir),m=Ie(g,"time",0),d=0,_=0;;d++){var j=void 0,pe=Ie(g,"vertices",null);if(!pe)j=bt?xe.newFloatArray(Oe):Zt;else{j=xe.newFloatArray(Oe);var Ce=Ie(g,"offset",0);if(xe.arrayCopy(pe,0,j,Ce,pe.length),i!=1)for(var Fe=Ce,ae=Fe+pe.length;Fe<ae;Fe++)j[Fe]*=i;if(!bt)for(var Fe=0;Fe<Oe;Fe++)j[Fe]+=Zt[Fe]}p.setFrame(d,m,j);var y=f[d+1];if(!y){p.shrink(_);break}var b=Ie(y,"time",0),E=g.curve;E&&(_=Cr(E,p,_,d,0,m,b,0,1,1)),m=b,g=y}a.push(p)}else if(Vt=="sequence"){for(var p=new u4(f.length,l,ir),Ae=0,d=0;d<f.length;d++){var z=Ie(g,"delay",Ae),m=Ie(g,"time",0),je=Ti[Ie(g,"mode","hold")],vt=Ie(g,"index",0);p.setFrame(d,m,je,vt,z),Ae=z,g=f[d+1]}a.push(p)}}}}}}if(e.drawOrder){for(var p=new ad(e.drawOrder.length),N=n.slots.length,d=0,Fe=0;Fe<e.drawOrder.length;Fe++,d++){var Re=e.drawOrder[Fe],Pe=null,q=Ie(Re,"offsets",null);if(q){Pe=xe.newArray(N,-1);for(var ue=xe.newArray(N-q.length,0),Te=0,pt=0,Qe=0;Qe<q.length;Qe++){var st=q[Qe],c=n.findSlot(st.slot);if(!c)throw new Error("Slot not found: "+c);for(var l=c.index;Te!=l;)ue[pt++]=Te++;Pe[Te+st.offset]=Te++}for(;Te<N;)ue[pt++]=Te++;for(var Qe=N-1;Qe>=0;Qe--)Pe[Qe]==-1&&(Pe[Qe]=ue[--pt])}p.setFrame(d,Ie(Re,"time",0),Pe)}a.push(p)}if(e.events){for(var p=new Db(e.events.length),d=0,Fe=0;Fe<e.events.length;Fe++,d++){var kt=e.events[Fe],Gn=n.findEvent(kt.name);if(!Gn)throw new Error("Event not found: "+kt.name);var lr=new h4(xe.toSinglePrecision(Ie(kt,"time",0)),Gn);lr.intValue=Ie(kt,"int",Gn.intValue),lr.floatValue=Ie(kt,"float",Gn.floatValue),lr.stringValue=Ie(kt,"string",Gn.stringValue),lr.data.audioPath&&(lr.volume=Ie(kt,"volume",1),lr.balance=Ie(kt,"balance",0)),p.setFrame(d,lr)}a.push(p)}for(var Ct=0,Fe=0,ae=a.length;Fe<ae;Fe++)Ct=Math.max(Ct,a[Fe].getDuration());if(isNaN(Ct))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Lb(r,a,Ct))},t.blendModeFromString=function(e){if(e=e.toLowerCase(),e=="normal")return ct.NORMAL;if(e=="additive")return ct.ADD;if(e=="multiply")return ct.MULTIPLY;if(e=="screen")return ct.SCREEN;throw new Error("Unknown blend mode: "+e)},t}(),JGe=function(){function t(e,r,n,i,a){this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=a}return t}();function ps(t,e,r,n){for(var i=t[0],a=Ie(i,"time",0),o=Ie(i,"value",r)*n,s=0,c=0;;c++){e.setFrame(c,a,o);var l=t[c+1];if(!l)return e.shrink(s),e;var u=Ie(l,"time",0),f=Ie(l,"value",r)*n;i.curve&&(s=Cr(i.curve,e,s,c,0,a,u,o,f,n)),a=u,o=f,i=l}}function PC(t,e,r,n,i,a){for(var o=t[0],s=Ie(o,"time",0),c=Ie(o,r,i)*a,l=Ie(o,n,i)*a,u=0,f=0;;f++){e.setFrame(f,s,c,l);var h=t[f+1];if(!h)return e.shrink(u),e;var p=Ie(h,"time",0),d=Ie(h,r,i)*a,g=Ie(h,n,i)*a,m=o.curve;m&&(u=Cr(m,e,u,f,0,s,p,c,d,a),u=Cr(m,e,u,f,1,s,p,l,g,a)),s=p,c=d,l=g,o=h}}function Cr(t,e,r,n,i,a,o,s,c,l){if(t=="stepped")return e.setStepped(n),r;var u=i<<2,f=t[u],h=t[u+1]*l,p=t[u+2],d=t[u+3]*l;return e.setBezier(r,n,i,a,s,f,h,p,d,o,c),r+1}function Ie(t,e,r){return t[e]!==void 0?t[e]:r}var QGe=function(t){sr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){this.skeleton=new FY(r),this.skeleton.updateWorldTransform(),this.stateData=new IY(r),this.state=new CY(this.stateData)},e}(Ig);const e7e=Object.freeze(Object.defineProperty({__proto__:null,AlphaTimeline:e4,Animation:Lb,AnimationState:CY,AnimationStateAdapter:TGe,AnimationStateData:IY,AtlasAttachmentLoader:c4,Attachment:U3,AttachmentTimeline:Gc,Bone:TR,BoneData:f4,BoundingBoxAttachment:wY,ClippingAttachment:EY,ConstraintData:Ub,CurveTimeline:ss,CurveTimeline1:ls,CurveTimeline2:Bb,DeformTimeline:n4,DrawOrderTimeline:ad,Event:h4,EventData:d4,EventQueue:AY,EventTimeline:Db,get EventType(){return ma},IkConstraint:RY,IkConstraintData:p4,IkConstraintTimeline:i4,MeshAttachment:Mb,PathAttachment:Kv,PathConstraint:PY,PathConstraintData:v4,PathConstraintMixTimeline:l4,PathConstraintPositionTimeline:o4,PathConstraintSpacingTimeline:s4,PointAttachment:SY,RGB2Timeline:r4,RGBA2Timeline:t4,RGBATimeline:J3,RGBTimeline:Q3,RegionAttachment:j3,RotateTimeline:Zv,ScaleTimeline:X3,ScaleXTimeline:W3,ScaleYTimeline:Y3,Sequence:$3,get SequenceMode(){return Ti},SequenceModeValues:G3,SequenceTimeline:u4,ShearTimeline:q3,ShearXTimeline:K3,ShearYTimeline:Z3,Skeleton:FY,SkeletonBinary:NY,SkeletonBounds:ZGe,SkeletonData:g4,SkeletonJson:MY,Skin:Rx,SkinEntry:AR,Slot:OY,SlotData:m4,get SpacingMode(){return li},Spine:QGe,Timeline:$n,TrackEntry:TY,TransformConstraint:kY,TransformConstraintData:_4,TransformConstraintTimeline:a4,TranslateTimeline:V3,TranslateXTimeline:H3,TranslateYTimeline:z3,VertexAttachment:Ms},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var IR=function(t,e){return IR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},IR(t,e)};function LY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");IR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ui;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41"})(ui||(ui={}));function Px(t){var e=t.substr(0,3),r=Math.floor(+e*10+.001);return e==="3.7"?ui.VER37:e==="3.8"?ui.VER38:e==="4.0"?ui.VER40:e==="4.1"?ui.VER41:r<ui.VER37?ui.VER37:ui.UNKNOWN}var t7e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=null,i=this.readVersionOldFormat(r),a=Px(i);if(a===ui.VER38&&(n=new WW(new T3(e))),i=this.readVersionNewFormat(r),a=Px(i),(a===ui.VER40||a===ui.VER41)&&(n=new NY(new c4(e))),!n){var o="Unsupported version of spine model "+i+", please update pixi-spine";console.error(o)}return n.scale=this.scale,n.readSkeletonData(r)},t.prototype.readVersionOldFormat=function(e){var r=new Sx(e),n;try{r.readString(),n=r.readString()}catch{n=""}return n||""},t.prototype.readVersionNewFormat=function(e){var r=new Sx(e);r.readInt32(),r.readInt32();var n;try{n=r.readString()}catch{n=""}return n||""},t}(),r7e=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(e,r){var n=r.skeleton.spine,i=Px(n),a=null;if(i===ui.VER37&&(a=new bY(new sY(e))),i===ui.VER38&&(a=new YW(new T3(e))),(i===ui.VER40||i===ui.VER41)&&(a=new MY(new c4(e))),!a){var o="Unsupported version of spine model "+n+", please update pixi-spine";console.error(o)}return a.scale=this.scale,a.readSkeletonData(r)},t}(),n7e=function(t){LY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createBinaryParser=function(){return new t7e},e.prototype.createJsonParser=function(){return new r7e},e.prototype.parseData=function(r,n,i,a){var o=n;r.spineData=o.readSkeletonData(i,a),r.spineAtlas=i},e.registerLoaderPlugin=function(){Da.registerPlugin(e)},e.use=new e().genMiddleware().use,e}(lGe),i7e=function(t){LY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createSkeleton=function(r){var n=Px(r.version),i=null;if(n===ui.VER37&&(i=CGe),n===ui.VER38&&(i=_Ge),(n===ui.VER40||n===ui.VER41)&&(i=e7e),!i){var a="Cant detect version of spine model "+r.version;console.error(a)}this.skeleton=new i.Skeleton(r),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(r),this.state=new i.AnimationState(this.stateData)},e}(Ig);n7e.registerLoaderPlugin();var BY={exports:{}},OC={},ij;function qu(){return ij||(ij=1,function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(a,o){return Object.prototype.hasOwnProperty.call(a,o)}t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var c in s)r(s,c)&&(a[c]=s[c])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,c,l){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+c),l);return}for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){var o,s,c,l,u,f;for(c=0,o=0,s=a.length;o<s;o++)c+=a[o].length;for(f=new Uint8Array(c),l=0,o=0,s=a.length;o<s;o++)u=a[o],f.set(u,l),l+=u.length;return f}},i={arraySet:function(a,o,s,c,l){for(var u=0;u<c;u++)a[l+u]=o[s+u]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(OC)),OC}var lh={},Bo={},hc={},aj;function a7e(){if(aj)return hc;aj=1;var t=qu(),e=4,r=0,n=1,i=2;function a(j){for(var pe=j.length;--pe>=0;)j[pe]=0}var o=0,s=1,c=2,l=3,u=258,f=29,h=256,p=h+1+f,d=30,g=19,m=2*p+1,v=15,_=16,y=7,b=256,w=16,E=17,C=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,k=new Array((p+2)*2);a(k);var M=new Array(d*2);a(M);var B=new Array(P);a(B);var D=new Array(u-l+1);a(D);var H=new Array(f);a(H);var ee=new Array(d);a(ee);function ne(j,pe,Ce,Fe,ae){this.static_tree=j,this.extra_bits=pe,this.extra_base=Ce,this.elems=Fe,this.max_length=ae,this.has_stree=j&&j.length}var Y,U,X;function V(j,pe){this.dyn_tree=j,this.max_code=0,this.stat_desc=pe}function G(j){return j<256?B[j]:B[256+(j>>>7)]}function te(j,pe){j.pending_buf[j.pending++]=pe&255,j.pending_buf[j.pending++]=pe>>>8&255}function oe(j,pe,Ce){j.bi_valid>_-Ce?(j.bi_buf|=pe<<j.bi_valid&65535,te(j,j.bi_buf),j.bi_buf=pe>>_-j.bi_valid,j.bi_valid+=Ce-_):(j.bi_buf|=pe<<j.bi_valid&65535,j.bi_valid+=Ce)}function ge(j,pe,Ce){oe(j,Ce[pe*2],Ce[pe*2+1])}function le(j,pe){var Ce=0;do Ce|=j&1,j>>>=1,Ce<<=1;while(--pe>0);return Ce>>>1}function ye(j){j.bi_valid===16?(te(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):j.bi_valid>=8&&(j.pending_buf[j.pending++]=j.bi_buf&255,j.bi_buf>>=8,j.bi_valid-=8)}function Le(j,pe){var Ce=pe.dyn_tree,Fe=pe.max_code,ae=pe.stat_desc.static_tree,Ae=pe.stat_desc.has_stree,z=pe.stat_desc.extra_bits,je=pe.stat_desc.extra_base,vt=pe.stat_desc.max_length,N,Re,Pe,q,ue,Te,pt=0;for(q=0;q<=v;q++)j.bl_count[q]=0;for(Ce[j.heap[j.heap_max]*2+1]=0,N=j.heap_max+1;N<m;N++)Re=j.heap[N],q=Ce[Ce[Re*2+1]*2+1]+1,q>vt&&(q=vt,pt++),Ce[Re*2+1]=q,!(Re>Fe)&&(j.bl_count[q]++,ue=0,Re>=je&&(ue=z[Re-je]),Te=Ce[Re*2],j.opt_len+=Te*(q+ue),Ae&&(j.static_len+=Te*(ae[Re*2+1]+ue)));if(pt!==0){do{for(q=vt-1;j.bl_count[q]===0;)q--;j.bl_count[q]--,j.bl_count[q+1]+=2,j.bl_count[vt]--,pt-=2}while(pt>0);for(q=vt;q!==0;q--)for(Re=j.bl_count[q];Re!==0;)Pe=j.heap[--N],!(Pe>Fe)&&(Ce[Pe*2+1]!==q&&(j.opt_len+=(q-Ce[Pe*2+1])*Ce[Pe*2],Ce[Pe*2+1]=q),Re--)}}function ke(j,pe,Ce){var Fe=new Array(v+1),ae=0,Ae,z;for(Ae=1;Ae<=v;Ae++)Fe[Ae]=ae=ae+Ce[Ae-1]<<1;for(z=0;z<=pe;z++){var je=j[z*2+1];je!==0&&(j[z*2]=le(Fe[je]++,je))}}function Ee(){var j,pe,Ce,Fe,ae,Ae=new Array(v+1);for(Ce=0,Fe=0;Fe<f-1;Fe++)for(H[Fe]=Ce,j=0;j<1<<T[Fe];j++)D[Ce++]=Fe;for(D[Ce-1]=Fe,ae=0,Fe=0;Fe<16;Fe++)for(ee[Fe]=ae,j=0;j<1<<A[Fe];j++)B[ae++]=Fe;for(ae>>=7;Fe<d;Fe++)for(ee[Fe]=ae<<7,j=0;j<1<<A[Fe]-7;j++)B[256+ae++]=Fe;for(pe=0;pe<=v;pe++)Ae[pe]=0;for(j=0;j<=143;)k[j*2+1]=8,j++,Ae[8]++;for(;j<=255;)k[j*2+1]=9,j++,Ae[9]++;for(;j<=279;)k[j*2+1]=7,j++,Ae[7]++;for(;j<=287;)k[j*2+1]=8,j++,Ae[8]++;for(ke(k,p+1,Ae),j=0;j<d;j++)M[j*2+1]=5,M[j*2]=le(j,5);Y=new ne(k,T,h+1,p,v),U=new ne(M,A,0,d,v),X=new ne(new Array(0),R,0,g,y)}function Se(j){var pe;for(pe=0;pe<p;pe++)j.dyn_ltree[pe*2]=0;for(pe=0;pe<d;pe++)j.dyn_dtree[pe*2]=0;for(pe=0;pe<g;pe++)j.bl_tree[pe*2]=0;j.dyn_ltree[b*2]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function De(j){j.bi_valid>8?te(j,j.bi_buf):j.bi_valid>0&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function We(j,pe,Ce,Fe){De(j),Fe&&(te(j,Ce),te(j,~Ce)),t.arraySet(j.pending_buf,j.window,pe,Ce,j.pending),j.pending+=Ce}function Ve(j,pe,Ce,Fe){var ae=pe*2,Ae=Ce*2;return j[ae]<j[Ae]||j[ae]===j[Ae]&&Fe[pe]<=Fe[Ce]}function He(j,pe,Ce){for(var Fe=j.heap[Ce],ae=Ce<<1;ae<=j.heap_len&&(ae<j.heap_len&&Ve(pe,j.heap[ae+1],j.heap[ae],j.depth)&&ae++,!Ve(pe,Fe,j.heap[ae],j.depth));)j.heap[Ce]=j.heap[ae],Ce=ae,ae<<=1;j.heap[Ce]=Fe}function qe(j,pe,Ce){var Fe,ae,Ae=0,z,je;if(j.last_lit!==0)do Fe=j.pending_buf[j.d_buf+Ae*2]<<8|j.pending_buf[j.d_buf+Ae*2+1],ae=j.pending_buf[j.l_buf+Ae],Ae++,Fe===0?ge(j,ae,pe):(z=D[ae],ge(j,z+h+1,pe),je=T[z],je!==0&&(ae-=H[z],oe(j,ae,je)),Fe--,z=G(Fe),ge(j,z,Ce),je=A[z],je!==0&&(Fe-=ee[z],oe(j,Fe,je)));while(Ae<j.last_lit);ge(j,b,pe)}function Et(j,pe){var Ce=pe.dyn_tree,Fe=pe.stat_desc.static_tree,ae=pe.stat_desc.has_stree,Ae=pe.stat_desc.elems,z,je,vt=-1,N;for(j.heap_len=0,j.heap_max=m,z=0;z<Ae;z++)Ce[z*2]!==0?(j.heap[++j.heap_len]=vt=z,j.depth[z]=0):Ce[z*2+1]=0;for(;j.heap_len<2;)N=j.heap[++j.heap_len]=vt<2?++vt:0,Ce[N*2]=1,j.depth[N]=0,j.opt_len--,ae&&(j.static_len-=Fe[N*2+1]);for(pe.max_code=vt,z=j.heap_len>>1;z>=1;z--)He(j,Ce,z);N=Ae;do z=j.heap[1],j.heap[1]=j.heap[j.heap_len--],He(j,Ce,1),je=j.heap[1],j.heap[--j.heap_max]=z,j.heap[--j.heap_max]=je,Ce[N*2]=Ce[z*2]+Ce[je*2],j.depth[N]=(j.depth[z]>=j.depth[je]?j.depth[z]:j.depth[je])+1,Ce[z*2+1]=Ce[je*2+1]=N,j.heap[1]=N++,He(j,Ce,1);while(j.heap_len>=2);j.heap[--j.heap_max]=j.heap[1],Le(j,pe),ke(Ce,vt,j.bl_count)}function Rt(j,pe,Ce){var Fe,ae=-1,Ae,z=pe[0*2+1],je=0,vt=7,N=4;for(z===0&&(vt=138,N=3),pe[(Ce+1)*2+1]=65535,Fe=0;Fe<=Ce;Fe++)Ae=z,z=pe[(Fe+1)*2+1],!(++je<vt&&Ae===z)&&(je<N?j.bl_tree[Ae*2]+=je:Ae!==0?(Ae!==ae&&j.bl_tree[Ae*2]++,j.bl_tree[w*2]++):je<=10?j.bl_tree[E*2]++:j.bl_tree[C*2]++,je=0,ae=Ae,z===0?(vt=138,N=3):Ae===z?(vt=6,N=3):(vt=7,N=4))}function ht(j,pe,Ce){var Fe,ae=-1,Ae,z=pe[0*2+1],je=0,vt=7,N=4;for(z===0&&(vt=138,N=3),Fe=0;Fe<=Ce;Fe++)if(Ae=z,z=pe[(Fe+1)*2+1],!(++je<vt&&Ae===z)){if(je<N)do ge(j,Ae,j.bl_tree);while(--je!==0);else Ae!==0?(Ae!==ae&&(ge(j,Ae,j.bl_tree),je--),ge(j,w,j.bl_tree),oe(j,je-3,2)):je<=10?(ge(j,E,j.bl_tree),oe(j,je-3,3)):(ge(j,C,j.bl_tree),oe(j,je-11,7));je=0,ae=Ae,z===0?(vt=138,N=3):Ae===z?(vt=6,N=3):(vt=7,N=4)}}function dt(j){var pe;for(Rt(j,j.dyn_ltree,j.l_desc.max_code),Rt(j,j.dyn_dtree,j.d_desc.max_code),Et(j,j.bl_desc),pe=g-1;pe>=3&&j.bl_tree[O[pe]*2+1]===0;pe--);return j.opt_len+=3*(pe+1)+5+5+4,pe}function St(j,pe,Ce,Fe){var ae;for(oe(j,pe-257,5),oe(j,Ce-1,5),oe(j,Fe-4,4),ae=0;ae<Fe;ae++)oe(j,j.bl_tree[O[ae]*2+1],3);ht(j,j.dyn_ltree,pe-1),ht(j,j.dyn_dtree,Ce-1)}function nr(j){var pe=4093624447,Ce;for(Ce=0;Ce<=31;Ce++,pe>>>=1)if(pe&1&&j.dyn_ltree[Ce*2]!==0)return r;if(j.dyn_ltree[9*2]!==0||j.dyn_ltree[10*2]!==0||j.dyn_ltree[13*2]!==0)return n;for(Ce=32;Ce<h;Ce++)if(j.dyn_ltree[Ce*2]!==0)return n;return r}var Xt=!1;function ir(j){Xt||(Ee(),Xt=!0),j.l_desc=new V(j.dyn_ltree,Y),j.d_desc=new V(j.dyn_dtree,U),j.bl_desc=new V(j.bl_tree,X),j.bi_buf=0,j.bi_valid=0,Se(j)}function Vt(j,pe,Ce,Fe){oe(j,(o<<1)+(Fe?1:0),3),We(j,pe,Ce,!0)}function bt(j){oe(j,s<<1,3),ge(j,b,k),ye(j)}function Zt(j,pe,Ce,Fe){var ae,Ae,z=0;j.level>0?(j.strm.data_type===i&&(j.strm.data_type=nr(j)),Et(j,j.l_desc),Et(j,j.d_desc),z=dt(j),ae=j.opt_len+3+7>>>3,Ae=j.static_len+3+7>>>3,Ae<=ae&&(ae=Ae)):ae=Ae=Ce+5,Ce+4<=ae&&pe!==-1?Vt(j,pe,Ce,Fe):j.strategy===e||Ae===ae?(oe(j,(s<<1)+(Fe?1:0),3),qe(j,k,M)):(oe(j,(c<<1)+(Fe?1:0),3),St(j,j.l_desc.max_code+1,j.d_desc.max_code+1,z+1),qe(j,j.dyn_ltree,j.dyn_dtree)),Se(j),Fe&&De(j)}function Oe(j,pe,Ce){return j.pending_buf[j.d_buf+j.last_lit*2]=pe>>>8&255,j.pending_buf[j.d_buf+j.last_lit*2+1]=pe&255,j.pending_buf[j.l_buf+j.last_lit]=Ce&255,j.last_lit++,pe===0?j.dyn_ltree[Ce*2]++:(j.matches++,pe--,j.dyn_ltree[(D[Ce]+h+1)*2]++,j.dyn_dtree[G(pe)*2]++),j.last_lit===j.lit_bufsize-1}return hc._tr_init=ir,hc._tr_stored_block=Vt,hc._tr_flush_block=Zt,hc._tr_tally=Oe,hc._tr_align=bt,hc}var kC,oj;function DY(){if(oj)return kC;oj=1;function t(e,r,n,i){for(var a=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+r[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return kC=t,kC}var FC,sj;function UY(){if(sj)return FC;sj=1;function t(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var e=t();function r(n,i,a,o){var s=e,c=o+a;n^=-1;for(var l=o;l<c;l++)n=n>>>8^s[(n^i[l])&255];return n^-1}return FC=r,FC}var NC,lj;function y4(){return lj||(lj=1,NC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),NC}var uj;function o7e(){if(uj)return Bo;uj=1;var t=qu(),e=a7e(),r=DY(),n=UY(),i=y4(),a=0,o=1,s=3,c=4,l=5,u=0,f=1,h=-2,p=-3,d=-5,g=-1,m=1,v=2,_=3,y=4,b=0,w=2,E=8,C=9,T=15,A=8,R=29,O=256,P=O+1+R,k=30,M=19,B=2*P+1,D=15,H=3,ee=258,ne=ee+H+1,Y=32,U=42,X=69,V=73,G=91,te=103,oe=113,ge=666,le=1,ye=2,Le=3,ke=4,Ee=3;function Se(N,Re){return N.msg=i[Re],Re}function De(N){return(N<<1)-(N>4?9:0)}function We(N){for(var Re=N.length;--Re>=0;)N[Re]=0}function Ve(N){var Re=N.state,Pe=Re.pending;Pe>N.avail_out&&(Pe=N.avail_out),Pe!==0&&(t.arraySet(N.output,Re.pending_buf,Re.pending_out,Pe,N.next_out),N.next_out+=Pe,Re.pending_out+=Pe,N.total_out+=Pe,N.avail_out-=Pe,Re.pending-=Pe,Re.pending===0&&(Re.pending_out=0))}function He(N,Re){e._tr_flush_block(N,N.block_start>=0?N.block_start:-1,N.strstart-N.block_start,Re),N.block_start=N.strstart,Ve(N.strm)}function qe(N,Re){N.pending_buf[N.pending++]=Re}function Et(N,Re){N.pending_buf[N.pending++]=Re>>>8&255,N.pending_buf[N.pending++]=Re&255}function Rt(N,Re,Pe,q){var ue=N.avail_in;return ue>q&&(ue=q),ue===0?0:(N.avail_in-=ue,t.arraySet(Re,N.input,N.next_in,ue,Pe),N.state.wrap===1?N.adler=r(N.adler,Re,ue,Pe):N.state.wrap===2&&(N.adler=n(N.adler,Re,ue,Pe)),N.next_in+=ue,N.total_in+=ue,ue)}function ht(N,Re){var Pe=N.max_chain_length,q=N.strstart,ue,Te,pt=N.prev_length,Qe=N.nice_match,st=N.strstart>N.w_size-ne?N.strstart-(N.w_size-ne):0,kt=N.window,Gn=N.w_mask,lr=N.prev,Ct=N.strstart+ee,Ar=kt[q+pt-1],un=kt[q+pt];N.prev_length>=N.good_match&&(Pe>>=2),Qe>N.lookahead&&(Qe=N.lookahead);do if(ue=Re,!(kt[ue+pt]!==un||kt[ue+pt-1]!==Ar||kt[ue]!==kt[q]||kt[++ue]!==kt[q+1])){q+=2,ue++;do;while(kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&kt[++q]===kt[++ue]&&q<Ct);if(Te=ee-(Ct-q),q=Ct-ee,Te>pt){if(N.match_start=Re,pt=Te,Te>=Qe)break;Ar=kt[q+pt-1],un=kt[q+pt]}}while((Re=lr[Re&Gn])>st&&--Pe!==0);return pt<=N.lookahead?pt:N.lookahead}function dt(N){var Re=N.w_size,Pe,q,ue,Te,pt;do{if(Te=N.window_size-N.lookahead-N.strstart,N.strstart>=Re+(Re-ne)){t.arraySet(N.window,N.window,Re,Re,0),N.match_start-=Re,N.strstart-=Re,N.block_start-=Re,q=N.hash_size,Pe=q;do ue=N.head[--Pe],N.head[Pe]=ue>=Re?ue-Re:0;while(--q);q=Re,Pe=q;do ue=N.prev[--Pe],N.prev[Pe]=ue>=Re?ue-Re:0;while(--q);Te+=Re}if(N.strm.avail_in===0)break;if(q=Rt(N.strm,N.window,N.strstart+N.lookahead,Te),N.lookahead+=q,N.lookahead+N.insert>=H)for(pt=N.strstart-N.insert,N.ins_h=N.window[pt],N.ins_h=(N.ins_h<<N.hash_shift^N.window[pt+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[pt+H-1])&N.hash_mask,N.prev[pt&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=pt,pt++,N.insert--,!(N.lookahead+N.insert<H)););}while(N.lookahead<ne&&N.strm.avail_in!==0)}function St(N,Re){var Pe=65535;for(Pe>N.pending_buf_size-5&&(Pe=N.pending_buf_size-5);;){if(N.lookahead<=1){if(dt(N),N.lookahead===0&&Re===a)return le;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var q=N.block_start+Pe;if((N.strstart===0||N.strstart>=q)&&(N.lookahead=N.strstart-q,N.strstart=q,He(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-ne&&(He(N,!1),N.strm.avail_out===0))return le}return N.insert=0,Re===c?(He(N,!0),N.strm.avail_out===0?Le:ke):(N.strstart>N.block_start&&(He(N,!1),N.strm.avail_out===0),le)}function nr(N,Re){for(var Pe,q;;){if(N.lookahead<ne){if(dt(N),N.lookahead<ne&&Re===a)return le;if(N.lookahead===0)break}if(Pe=0,N.lookahead>=H&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Pe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),Pe!==0&&N.strstart-Pe<=N.w_size-ne&&(N.match_length=ht(N,Pe)),N.match_length>=H)if(q=e._tr_tally(N,N.strstart-N.match_start,N.match_length-H),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=H){N.match_length--;do N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Pe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart;while(--N.match_length!==0);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else q=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(q&&(He(N,!1),N.strm.avail_out===0))return le}return N.insert=N.strstart<H-1?N.strstart:H-1,Re===c?(He(N,!0),N.strm.avail_out===0?Le:ke):N.last_lit&&(He(N,!1),N.strm.avail_out===0)?le:ye}function Xt(N,Re){for(var Pe,q,ue;;){if(N.lookahead<ne){if(dt(N),N.lookahead<ne&&Re===a)return le;if(N.lookahead===0)break}if(Pe=0,N.lookahead>=H&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Pe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=H-1,Pe!==0&&N.prev_length<N.max_lazy_match&&N.strstart-Pe<=N.w_size-ne&&(N.match_length=ht(N,Pe),N.match_length<=5&&(N.strategy===m||N.match_length===H&&N.strstart-N.match_start>4096)&&(N.match_length=H-1)),N.prev_length>=H&&N.match_length<=N.prev_length){ue=N.strstart+N.lookahead-H,q=e._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-H),N.lookahead-=N.prev_length-1,N.prev_length-=2;do++N.strstart<=ue&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Pe=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart);while(--N.prev_length!==0);if(N.match_available=0,N.match_length=H-1,N.strstart++,q&&(He(N,!1),N.strm.avail_out===0))return le}else if(N.match_available){if(q=e._tr_tally(N,0,N.window[N.strstart-1]),q&&He(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return le}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(q=e._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<H-1?N.strstart:H-1,Re===c?(He(N,!0),N.strm.avail_out===0?Le:ke):N.last_lit&&(He(N,!1),N.strm.avail_out===0)?le:ye}function ir(N,Re){for(var Pe,q,ue,Te,pt=N.window;;){if(N.lookahead<=ee){if(dt(N),N.lookahead<=ee&&Re===a)return le;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=H&&N.strstart>0&&(ue=N.strstart-1,q=pt[ue],q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue])){Te=N.strstart+ee;do;while(q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue]&&q===pt[++ue]&&ue<Te);N.match_length=ee-(Te-ue),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=H?(Pe=e._tr_tally(N,1,N.match_length-H),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Pe=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Pe&&(He(N,!1),N.strm.avail_out===0))return le}return N.insert=0,Re===c?(He(N,!0),N.strm.avail_out===0?Le:ke):N.last_lit&&(He(N,!1),N.strm.avail_out===0)?le:ye}function Vt(N,Re){for(var Pe;;){if(N.lookahead===0&&(dt(N),N.lookahead===0)){if(Re===a)return le;break}if(N.match_length=0,Pe=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Pe&&(He(N,!1),N.strm.avail_out===0))return le}return N.insert=0,Re===c?(He(N,!0),N.strm.avail_out===0?Le:ke):N.last_lit&&(He(N,!1),N.strm.avail_out===0)?le:ye}function bt(N,Re,Pe,q,ue){this.good_length=N,this.max_lazy=Re,this.nice_length=Pe,this.max_chain=q,this.func=ue}var Zt;Zt=[new bt(0,0,0,0,St),new bt(4,4,8,4,nr),new bt(4,5,16,8,nr),new bt(4,6,32,32,nr),new bt(4,4,16,16,Xt),new bt(8,16,32,32,Xt),new bt(8,16,128,128,Xt),new bt(8,32,128,256,Xt),new bt(32,128,258,1024,Xt),new bt(32,258,258,4096,Xt)];function Oe(N){N.window_size=2*N.w_size,We(N.head),N.max_lazy_match=Zt[N.level].max_lazy,N.good_match=Zt[N.level].good_length,N.nice_match=Zt[N.level].nice_length,N.max_chain_length=Zt[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=H-1,N.match_available=0,N.ins_h=0}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(B*2),this.dyn_dtree=new t.Buf16((2*k+1)*2),this.bl_tree=new t.Buf16((2*M+1)*2),We(this.dyn_ltree),We(this.dyn_dtree),We(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(D+1),this.heap=new t.Buf16(2*P+1),We(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*P+1),We(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(N){var Re;return!N||!N.state?Se(N,h):(N.total_in=N.total_out=0,N.data_type=w,Re=N.state,Re.pending=0,Re.pending_out=0,Re.wrap<0&&(Re.wrap=-Re.wrap),Re.status=Re.wrap?U:oe,N.adler=Re.wrap===2?0:1,Re.last_flush=a,e._tr_init(Re),u)}function Ce(N){var Re=pe(N);return Re===u&&Oe(N.state),Re}function Fe(N,Re){return!N||!N.state||N.state.wrap!==2?h:(N.state.gzhead=Re,u)}function ae(N,Re,Pe,q,ue,Te){if(!N)return h;var pt=1;if(Re===g&&(Re=6),q<0?(pt=0,q=-q):q>15&&(pt=2,q-=16),ue<1||ue>C||Pe!==E||q<8||q>15||Re<0||Re>9||Te<0||Te>y)return Se(N,h);q===8&&(q=9);var Qe=new j;return N.state=Qe,Qe.strm=N,Qe.wrap=pt,Qe.gzhead=null,Qe.w_bits=q,Qe.w_size=1<<Qe.w_bits,Qe.w_mask=Qe.w_size-1,Qe.hash_bits=ue+7,Qe.hash_size=1<<Qe.hash_bits,Qe.hash_mask=Qe.hash_size-1,Qe.hash_shift=~~((Qe.hash_bits+H-1)/H),Qe.window=new t.Buf8(Qe.w_size*2),Qe.head=new t.Buf16(Qe.hash_size),Qe.prev=new t.Buf16(Qe.w_size),Qe.lit_bufsize=1<<ue+6,Qe.pending_buf_size=Qe.lit_bufsize*4,Qe.pending_buf=new t.Buf8(Qe.pending_buf_size),Qe.d_buf=1*Qe.lit_bufsize,Qe.l_buf=(1+2)*Qe.lit_bufsize,Qe.level=Re,Qe.strategy=Te,Qe.method=Pe,Ce(N)}function Ae(N,Re){return ae(N,Re,E,T,A,b)}function z(N,Re){var Pe,q,ue,Te;if(!N||!N.state||Re>l||Re<0)return N?Se(N,h):h;if(q=N.state,!N.output||!N.input&&N.avail_in!==0||q.status===ge&&Re!==c)return Se(N,N.avail_out===0?d:h);if(q.strm=N,Pe=q.last_flush,q.last_flush=Re,q.status===U)if(q.wrap===2)N.adler=0,qe(q,31),qe(q,139),qe(q,8),q.gzhead?(qe(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),qe(q,q.gzhead.time&255),qe(q,q.gzhead.time>>8&255),qe(q,q.gzhead.time>>16&255),qe(q,q.gzhead.time>>24&255),qe(q,q.level===9?2:q.strategy>=v||q.level<2?4:0),qe(q,q.gzhead.os&255),q.gzhead.extra&&q.gzhead.extra.length&&(qe(q,q.gzhead.extra.length&255),qe(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(N.adler=n(N.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=X):(qe(q,0),qe(q,0),qe(q,0),qe(q,0),qe(q,0),qe(q,q.level===9?2:q.strategy>=v||q.level<2?4:0),qe(q,Ee),q.status=oe);else{var pt=E+(q.w_bits-8<<4)<<8,Qe=-1;q.strategy>=v||q.level<2?Qe=0:q.level<6?Qe=1:q.level===6?Qe=2:Qe=3,pt|=Qe<<6,q.strstart!==0&&(pt|=Y),pt+=31-pt%31,q.status=oe,Et(q,pt),q.strstart!==0&&(Et(q,N.adler>>>16),Et(q,N.adler&65535)),N.adler=1}if(q.status===X)if(q.gzhead.extra){for(ue=q.pending;q.gzindex<(q.gzhead.extra.length&65535)&&!(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ue&&(N.adler=n(N.adler,q.pending_buf,q.pending-ue,ue)),Ve(N),ue=q.pending,q.pending===q.pending_buf_size));)qe(q,q.gzhead.extra[q.gzindex]&255),q.gzindex++;q.gzhead.hcrc&&q.pending>ue&&(N.adler=n(N.adler,q.pending_buf,q.pending-ue,ue)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=V)}else q.status=V;if(q.status===V)if(q.gzhead.name){ue=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ue&&(N.adler=n(N.adler,q.pending_buf,q.pending-ue,ue)),Ve(N),ue=q.pending,q.pending===q.pending_buf_size)){Te=1;break}q.gzindex<q.gzhead.name.length?Te=q.gzhead.name.charCodeAt(q.gzindex++)&255:Te=0,qe(q,Te)}while(Te!==0);q.gzhead.hcrc&&q.pending>ue&&(N.adler=n(N.adler,q.pending_buf,q.pending-ue,ue)),Te===0&&(q.gzindex=0,q.status=G)}else q.status=G;if(q.status===G)if(q.gzhead.comment){ue=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ue&&(N.adler=n(N.adler,q.pending_buf,q.pending-ue,ue)),Ve(N),ue=q.pending,q.pending===q.pending_buf_size)){Te=1;break}q.gzindex<q.gzhead.comment.length?Te=q.gzhead.comment.charCodeAt(q.gzindex++)&255:Te=0,qe(q,Te)}while(Te!==0);q.gzhead.hcrc&&q.pending>ue&&(N.adler=n(N.adler,q.pending_buf,q.pending-ue,ue)),Te===0&&(q.status=te)}else q.status=te;if(q.status===te&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&Ve(N),q.pending+2<=q.pending_buf_size&&(qe(q,N.adler&255),qe(q,N.adler>>8&255),N.adler=0,q.status=oe)):q.status=oe),q.pending!==0){if(Ve(N),N.avail_out===0)return q.last_flush=-1,u}else if(N.avail_in===0&&De(Re)<=De(Pe)&&Re!==c)return Se(N,d);if(q.status===ge&&N.avail_in!==0)return Se(N,d);if(N.avail_in!==0||q.lookahead!==0||Re!==a&&q.status!==ge){var st=q.strategy===v?Vt(q,Re):q.strategy===_?ir(q,Re):Zt[q.level].func(q,Re);if((st===Le||st===ke)&&(q.status=ge),st===le||st===Le)return N.avail_out===0&&(q.last_flush=-1),u;if(st===ye&&(Re===o?e._tr_align(q):Re!==l&&(e._tr_stored_block(q,0,0,!1),Re===s&&(We(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),Ve(N),N.avail_out===0))return q.last_flush=-1,u}return Re!==c?u:q.wrap<=0?f:(q.wrap===2?(qe(q,N.adler&255),qe(q,N.adler>>8&255),qe(q,N.adler>>16&255),qe(q,N.adler>>24&255),qe(q,N.total_in&255),qe(q,N.total_in>>8&255),qe(q,N.total_in>>16&255),qe(q,N.total_in>>24&255)):(Et(q,N.adler>>>16),Et(q,N.adler&65535)),Ve(N),q.wrap>0&&(q.wrap=-q.wrap),q.pending!==0?u:f)}function je(N){var Re;return!N||!N.state?h:(Re=N.state.status,Re!==U&&Re!==X&&Re!==V&&Re!==G&&Re!==te&&Re!==oe&&Re!==ge?Se(N,h):(N.state=null,Re===oe?Se(N,p):u))}function vt(N,Re){var Pe=Re.length,q,ue,Te,pt,Qe,st,kt,Gn;if(!N||!N.state||(q=N.state,pt=q.wrap,pt===2||pt===1&&q.status!==U||q.lookahead))return h;for(pt===1&&(N.adler=r(N.adler,Re,Pe,0)),q.wrap=0,Pe>=q.w_size&&(pt===0&&(We(q.head),q.strstart=0,q.block_start=0,q.insert=0),Gn=new t.Buf8(q.w_size),t.arraySet(Gn,Re,Pe-q.w_size,q.w_size,0),Re=Gn,Pe=q.w_size),Qe=N.avail_in,st=N.next_in,kt=N.input,N.avail_in=Pe,N.next_in=0,N.input=Re,dt(q);q.lookahead>=H;){ue=q.strstart,Te=q.lookahead-(H-1);do q.ins_h=(q.ins_h<<q.hash_shift^q.window[ue+H-1])&q.hash_mask,q.prev[ue&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ue,ue++;while(--Te);q.strstart=ue,q.lookahead=H-1,dt(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=H-1,q.match_available=0,N.next_in=st,N.input=kt,N.avail_in=Qe,q.wrap=pt,u}return Bo.deflateInit=Ae,Bo.deflateInit2=ae,Bo.deflateReset=Ce,Bo.deflateResetKeep=pe,Bo.deflateSetHeader=Fe,Bo.deflate=z,Bo.deflateEnd=je,Bo.deflateSetDictionary=vt,Bo.deflateInfo="pako deflate (from Nodeca project)",Bo}var dc={},cj;function jY(){if(cj)return dc;cj=1;var t=qu(),e=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new t.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,dc.string2buf=function(o){var s,c,l,u,f,h=o.length,p=0;for(u=0;u<h;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),p+=c<128?1:c<2048?2:c<65536?3:4;for(s=new t.Buf8(p),f=0,u=0;f<p;u++)c=o.charCodeAt(u),(c&64512)===55296&&u+1<h&&(l=o.charCodeAt(u+1),(l&64512)===56320&&(c=65536+(c-55296<<10)+(l-56320),u++)),c<128?s[f++]=c:c<2048?(s[f++]=192|c>>>6,s[f++]=128|c&63):c<65536?(s[f++]=224|c>>>12,s[f++]=128|c>>>6&63,s[f++]=128|c&63):(s[f++]=240|c>>>18,s[f++]=128|c>>>12&63,s[f++]=128|c>>>6&63,s[f++]=128|c&63);return s};function a(o,s){if(s<65534&&(o.subarray&&r||!o.subarray&&e))return String.fromCharCode.apply(null,t.shrinkBuf(o,s));for(var c="",l=0;l<s;l++)c+=String.fromCharCode(o[l]);return c}return dc.buf2binstring=function(o){return a(o,o.length)},dc.binstring2buf=function(o){for(var s=new t.Buf8(o.length),c=0,l=s.length;c<l;c++)s[c]=o.charCodeAt(c);return s},dc.buf2string=function(o,s){var c,l,u,f,h=s||o.length,p=new Array(h*2);for(l=0,c=0;c<h;){if(u=o[c++],u<128){p[l++]=u;continue}if(f=n[u],f>4){p[l++]=65533,c+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&c<h;)u=u<<6|o[c++]&63,f--;if(f>1){p[l++]=65533;continue}u<65536?p[l++]=u:(u-=65536,p[l++]=55296|u>>10&1023,p[l++]=56320|u&1023)}return a(p,l)},dc.utf8border=function(o,s){var c;for(s=s||o.length,s>o.length&&(s=o.length),c=s-1;c>=0&&(o[c]&192)===128;)c--;return c<0||c===0?s:c+n[o[c]]>s?c:s},dc}var MC,fj;function $Y(){if(fj)return MC;fj=1;function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return MC=t,MC}var hj;function s7e(){if(hj)return lh;hj=1;var t=o7e(),e=qu(),r=jY(),n=y4(),i=$Y(),a=Object.prototype.toString,o=0,s=4,c=0,l=1,u=2,f=-1,h=0,p=8;function d(_){if(!(this instanceof d))return new d(_);this.options=e.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var b=t.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==c)throw new Error(n[b]);if(y.header&&t.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(typeof y.dictionary=="string"?w=r.string2buf(y.dictionary):a.call(y.dictionary)==="[object ArrayBuffer]"?w=new Uint8Array(y.dictionary):w=y.dictionary,b=t.deflateSetDictionary(this.strm,w),b!==c)throw new Error(n[b]);this._dict_set=!0}}d.prototype.push=function(_,y){var b=this.strm,w=this.options.chunkSize,E,C;if(this.ended)return!1;C=y===~~y?y:y===!0?s:o,typeof _=="string"?b.input=r.string2buf(_):a.call(_)==="[object ArrayBuffer]"?b.input=new Uint8Array(_):b.input=_,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new e.Buf8(w),b.next_out=0,b.avail_out=w),E=t.deflate(b,C),E!==l&&E!==c)return this.onEnd(E),this.ended=!0,!1;(b.avail_out===0||b.avail_in===0&&(C===s||C===u))&&(this.options.to==="string"?this.onData(r.buf2binstring(e.shrinkBuf(b.output,b.next_out))):this.onData(e.shrinkBuf(b.output,b.next_out)))}while((b.avail_in>0||b.avail_out===0)&&E!==l);return C===s?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):(C===u&&(this.onEnd(c),b.avail_out=0),!0)},d.prototype.onData=function(_){this.chunks.push(_)},d.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function g(_,y){var b=new d(y);if(b.push(_,!0),b.err)throw b.msg||n[b.err];return b.result}function m(_,y){return y=y||{},y.raw=!0,g(_,y)}function v(_,y){return y=y||{},y.gzip=!0,g(_,y)}return lh.Deflate=d,lh.deflate=g,lh.deflateRaw=m,lh.gzip=v,lh}var uh={},go={},LC,dj;function l7e(){if(dj)return LC;dj=1;var t=30,e=12;return LC=function(n,i){var a,o,s,c,l,u,f,h,p,d,g,m,v,_,y,b,w,E,C,T,A,R,O,P,k;a=n.state,o=n.next_in,P=n.input,s=o+(n.avail_in-5),c=n.next_out,k=n.output,l=c-(i-n.avail_out),u=c+(n.avail_out-257),f=a.dmax,h=a.wsize,p=a.whave,d=a.wnext,g=a.window,m=a.hold,v=a.bits,_=a.lencode,y=a.distcode,b=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;e:do{v<15&&(m+=P[o++]<<v,v+=8,m+=P[o++]<<v,v+=8),E=_[m&b];t:for(;;){if(C=E>>>24,m>>>=C,v-=C,C=E>>>16&255,C===0)k[c++]=E&65535;else if(C&16){T=E&65535,C&=15,C&&(v<C&&(m+=P[o++]<<v,v+=8),T+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=P[o++]<<v,v+=8,m+=P[o++]<<v,v+=8),E=y[m&w];r:for(;;){if(C=E>>>24,m>>>=C,v-=C,C=E>>>16&255,C&16){if(A=E&65535,C&=15,v<C&&(m+=P[o++]<<v,v+=8,v<C&&(m+=P[o++]<<v,v+=8)),A+=m&(1<<C)-1,A>f){n.msg="invalid distance too far back",a.mode=t;break e}if(m>>>=C,v-=C,C=c-l,A>C){if(C=A-C,C>p&&a.sane){n.msg="invalid distance too far back",a.mode=t;break e}if(R=0,O=g,d===0){if(R+=h-C,C<T){T-=C;do k[c++]=g[R++];while(--C);R=c-A,O=k}}else if(d<C){if(R+=h+d-C,C-=d,C<T){T-=C;do k[c++]=g[R++];while(--C);if(R=0,d<T){C=d,T-=C;do k[c++]=g[R++];while(--C);R=c-A,O=k}}}else if(R+=d-C,C<T){T-=C;do k[c++]=g[R++];while(--C);R=c-A,O=k}for(;T>2;)k[c++]=O[R++],k[c++]=O[R++],k[c++]=O[R++],T-=3;T&&(k[c++]=O[R++],T>1&&(k[c++]=O[R++]))}else{R=c-A;do k[c++]=k[R++],k[c++]=k[R++],k[c++]=k[R++],T-=3;while(T>2);T&&(k[c++]=k[R++],T>1&&(k[c++]=k[R++]))}}else if(C&64){n.msg="invalid distance code",a.mode=t;break e}else{E=y[(E&65535)+(m&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=t;break e}else{E=_[(E&65535)+(m&(1<<C)-1)];continue t}break}}while(o<s&&c<u);T=v>>3,o-=T,v-=T<<3,m&=(1<<v)-1,n.next_in=o,n.next_out=c,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=c<u?257+(u-c):257-(c-u),a.hold=m,a.bits=v},LC}var BC,pj;function u7e(){if(pj)return BC;pj=1;var t=qu(),e=15,r=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return BC=function(h,p,d,g,m,v,_,y){var b=y.bits,w=0,E=0,C=0,T=0,A=0,R=0,O=0,P=0,k=0,M=0,B,D,H,ee,ne,Y=null,U=0,X,V=new t.Buf16(e+1),G=new t.Buf16(e+1),te=null,oe=0,ge,le,ye;for(w=0;w<=e;w++)V[w]=0;for(E=0;E<g;E++)V[p[d+E]]++;for(A=b,T=e;T>=1&&V[T]===0;T--);if(A>T&&(A=T),T===0)return m[v++]=1<<24|64<<16|0,m[v++]=1<<24|64<<16|0,y.bits=1,0;for(C=1;C<T&&V[C]===0;C++);for(A<C&&(A=C),P=1,w=1;w<=e;w++)if(P<<=1,P-=V[w],P<0)return-1;if(P>0&&(h===i||T!==1))return-1;for(G[1]=0,w=1;w<e;w++)G[w+1]=G[w]+V[w];for(E=0;E<g;E++)p[d+E]!==0&&(_[G[p[d+E]]++]=E);if(h===i?(Y=te=_,X=19):h===a?(Y=s,U-=257,te=c,oe-=257,X=256):(Y=l,te=u,X=-1),M=0,E=0,w=C,ne=v,R=A,O=0,H=-1,k=1<<A,ee=k-1,h===a&&k>r||h===o&&k>n)return 1;for(;;){ge=w-O,_[E]<X?(le=0,ye=_[E]):_[E]>X?(le=te[oe+_[E]],ye=Y[U+_[E]]):(le=32+64,ye=0),B=1<<w-O,D=1<<R,C=D;do D-=B,m[ne+(M>>O)+D]=ge<<24|le<<16|ye|0;while(D!==0);for(B=1<<w-1;M&B;)B>>=1;if(B!==0?(M&=B-1,M+=B):M=0,E++,--V[w]===0){if(w===T)break;w=p[d+_[E]]}if(w>A&&(M&ee)!==H){for(O===0&&(O=A),ne+=C,R=w-O,P=1<<R;R+O<T&&(P-=V[R+O],!(P<=0));)R++,P<<=1;if(k+=1<<R,h===a&&k>r||h===o&&k>n)return 1;H=M&ee,m[H]=A<<24|R<<16|ne-v|0}}return M!==0&&(m[ne+M]=w-O<<24|64<<16|0),y.bits=A,0},BC}var vj;function c7e(){if(vj)return go;vj=1;var t=qu(),e=DY(),r=UY(),n=l7e(),i=u7e(),a=0,o=1,s=2,c=4,l=5,u=6,f=0,h=1,p=2,d=-2,g=-3,m=-4,v=-5,_=8,y=1,b=2,w=3,E=4,C=5,T=6,A=7,R=8,O=9,P=10,k=11,M=12,B=13,D=14,H=15,ee=16,ne=17,Y=18,U=19,X=20,V=21,G=22,te=23,oe=24,ge=25,le=26,ye=27,Le=28,ke=29,Ee=30,Se=31,De=32,We=852,Ve=592,He=15,qe=He;function Et(ae){return(ae>>>24&255)+(ae>>>8&65280)+((ae&65280)<<8)+((ae&255)<<24)}function Rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(ae){var Ae;return!ae||!ae.state?d:(Ae=ae.state,ae.total_in=ae.total_out=Ae.total=0,ae.msg="",Ae.wrap&&(ae.adler=Ae.wrap&1),Ae.mode=y,Ae.last=0,Ae.havedict=0,Ae.dmax=32768,Ae.head=null,Ae.hold=0,Ae.bits=0,Ae.lencode=Ae.lendyn=new t.Buf32(We),Ae.distcode=Ae.distdyn=new t.Buf32(Ve),Ae.sane=1,Ae.back=-1,f)}function dt(ae){var Ae;return!ae||!ae.state?d:(Ae=ae.state,Ae.wsize=0,Ae.whave=0,Ae.wnext=0,ht(ae))}function St(ae,Ae){var z,je;return!ae||!ae.state||(je=ae.state,Ae<0?(z=0,Ae=-Ae):(z=(Ae>>4)+1,Ae<48&&(Ae&=15)),Ae&&(Ae<8||Ae>15))?d:(je.window!==null&&je.wbits!==Ae&&(je.window=null),je.wrap=z,je.wbits=Ae,dt(ae))}function nr(ae,Ae){var z,je;return ae?(je=new Rt,ae.state=je,je.window=null,z=St(ae,Ae),z!==f&&(ae.state=null),z):d}function Xt(ae){return nr(ae,qe)}var ir=!0,Vt,bt;function Zt(ae){if(ir){var Ae;for(Vt=new t.Buf32(512),bt=new t.Buf32(32),Ae=0;Ae<144;)ae.lens[Ae++]=8;for(;Ae<256;)ae.lens[Ae++]=9;for(;Ae<280;)ae.lens[Ae++]=7;for(;Ae<288;)ae.lens[Ae++]=8;for(i(o,ae.lens,0,288,Vt,0,ae.work,{bits:9}),Ae=0;Ae<32;)ae.lens[Ae++]=5;i(s,ae.lens,0,32,bt,0,ae.work,{bits:5}),ir=!1}ae.lencode=Vt,ae.lenbits=9,ae.distcode=bt,ae.distbits=5}function Oe(ae,Ae,z,je){var vt,N=ae.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new t.Buf8(N.wsize)),je>=N.wsize?(t.arraySet(N.window,Ae,z-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(vt=N.wsize-N.wnext,vt>je&&(vt=je),t.arraySet(N.window,Ae,z-je,vt,N.wnext),je-=vt,je?(t.arraySet(N.window,Ae,z-je,je,0),N.wnext=je,N.whave=N.wsize):(N.wnext+=vt,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=vt))),0}function j(ae,Ae){var z,je,vt,N,Re,Pe,q,ue,Te,pt,Qe,st,kt,Gn,lr=0,Ct,Ar,un,ni,Al,Il,cn,qi,Vn=new t.Buf8(4),ja,ua,If=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ae||!ae.state||!ae.output||!ae.input&&ae.avail_in!==0)return d;z=ae.state,z.mode===M&&(z.mode=B),Re=ae.next_out,vt=ae.output,q=ae.avail_out,N=ae.next_in,je=ae.input,Pe=ae.avail_in,ue=z.hold,Te=z.bits,pt=Pe,Qe=q,qi=f;e:for(;;)switch(z.mode){case y:if(z.wrap===0){z.mode=B;break}for(;Te<16;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(z.wrap&2&&ue===35615){z.check=0,Vn[0]=ue&255,Vn[1]=ue>>>8&255,z.check=r(z.check,Vn,2,0),ue=0,Te=0,z.mode=b;break}if(z.flags=0,z.head&&(z.head.done=!1),!(z.wrap&1)||(((ue&255)<<8)+(ue>>8))%31){ae.msg="incorrect header check",z.mode=Ee;break}if((ue&15)!==_){ae.msg="unknown compression method",z.mode=Ee;break}if(ue>>>=4,Te-=4,cn=(ue&15)+8,z.wbits===0)z.wbits=cn;else if(cn>z.wbits){ae.msg="invalid window size",z.mode=Ee;break}z.dmax=1<<cn,ae.adler=z.check=1,z.mode=ue&512?P:M,ue=0,Te=0;break;case b:for(;Te<16;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(z.flags=ue,(z.flags&255)!==_){ae.msg="unknown compression method",z.mode=Ee;break}if(z.flags&57344){ae.msg="unknown header flags set",z.mode=Ee;break}z.head&&(z.head.text=ue>>8&1),z.flags&512&&(Vn[0]=ue&255,Vn[1]=ue>>>8&255,z.check=r(z.check,Vn,2,0)),ue=0,Te=0,z.mode=w;case w:for(;Te<32;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}z.head&&(z.head.time=ue),z.flags&512&&(Vn[0]=ue&255,Vn[1]=ue>>>8&255,Vn[2]=ue>>>16&255,Vn[3]=ue>>>24&255,z.check=r(z.check,Vn,4,0)),ue=0,Te=0,z.mode=E;case E:for(;Te<16;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}z.head&&(z.head.xflags=ue&255,z.head.os=ue>>8),z.flags&512&&(Vn[0]=ue&255,Vn[1]=ue>>>8&255,z.check=r(z.check,Vn,2,0)),ue=0,Te=0,z.mode=C;case C:if(z.flags&1024){for(;Te<16;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}z.length=ue,z.head&&(z.head.extra_len=ue),z.flags&512&&(Vn[0]=ue&255,Vn[1]=ue>>>8&255,z.check=r(z.check,Vn,2,0)),ue=0,Te=0}else z.head&&(z.head.extra=null);z.mode=T;case T:if(z.flags&1024&&(st=z.length,st>Pe&&(st=Pe),st&&(z.head&&(cn=z.head.extra_len-z.length,z.head.extra||(z.head.extra=new Array(z.head.extra_len)),t.arraySet(z.head.extra,je,N,st,cn)),z.flags&512&&(z.check=r(z.check,je,st,N)),Pe-=st,N+=st,z.length-=st),z.length))break e;z.length=0,z.mode=A;case A:if(z.flags&2048){if(Pe===0)break e;st=0;do cn=je[N+st++],z.head&&cn&&z.length<65536&&(z.head.name+=String.fromCharCode(cn));while(cn&&st<Pe);if(z.flags&512&&(z.check=r(z.check,je,st,N)),Pe-=st,N+=st,cn)break e}else z.head&&(z.head.name=null);z.length=0,z.mode=R;case R:if(z.flags&4096){if(Pe===0)break e;st=0;do cn=je[N+st++],z.head&&cn&&z.length<65536&&(z.head.comment+=String.fromCharCode(cn));while(cn&&st<Pe);if(z.flags&512&&(z.check=r(z.check,je,st,N)),Pe-=st,N+=st,cn)break e}else z.head&&(z.head.comment=null);z.mode=O;case O:if(z.flags&512){for(;Te<16;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(ue!==(z.check&65535)){ae.msg="header crc mismatch",z.mode=Ee;break}ue=0,Te=0}z.head&&(z.head.hcrc=z.flags>>9&1,z.head.done=!0),ae.adler=z.check=0,z.mode=M;break;case P:for(;Te<32;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}ae.adler=z.check=Et(ue),ue=0,Te=0,z.mode=k;case k:if(z.havedict===0)return ae.next_out=Re,ae.avail_out=q,ae.next_in=N,ae.avail_in=Pe,z.hold=ue,z.bits=Te,p;ae.adler=z.check=1,z.mode=M;case M:if(Ae===l||Ae===u)break e;case B:if(z.last){ue>>>=Te&7,Te-=Te&7,z.mode=ye;break}for(;Te<3;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}switch(z.last=ue&1,ue>>>=1,Te-=1,ue&3){case 0:z.mode=D;break;case 1:if(Zt(z),z.mode=X,Ae===u){ue>>>=2,Te-=2;break e}break;case 2:z.mode=ne;break;case 3:ae.msg="invalid block type",z.mode=Ee}ue>>>=2,Te-=2;break;case D:for(ue>>>=Te&7,Te-=Te&7;Te<32;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if((ue&65535)!==(ue>>>16^65535)){ae.msg="invalid stored block lengths",z.mode=Ee;break}if(z.length=ue&65535,ue=0,Te=0,z.mode=H,Ae===u)break e;case H:z.mode=ee;case ee:if(st=z.length,st){if(st>Pe&&(st=Pe),st>q&&(st=q),st===0)break e;t.arraySet(vt,je,N,st,Re),Pe-=st,N+=st,q-=st,Re+=st,z.length-=st;break}z.mode=M;break;case ne:for(;Te<14;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(z.nlen=(ue&31)+257,ue>>>=5,Te-=5,z.ndist=(ue&31)+1,ue>>>=5,Te-=5,z.ncode=(ue&15)+4,ue>>>=4,Te-=4,z.nlen>286||z.ndist>30){ae.msg="too many length or distance symbols",z.mode=Ee;break}z.have=0,z.mode=Y;case Y:for(;z.have<z.ncode;){for(;Te<3;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}z.lens[If[z.have++]]=ue&7,ue>>>=3,Te-=3}for(;z.have<19;)z.lens[If[z.have++]]=0;if(z.lencode=z.lendyn,z.lenbits=7,ja={bits:z.lenbits},qi=i(a,z.lens,0,19,z.lencode,0,z.work,ja),z.lenbits=ja.bits,qi){ae.msg="invalid code lengths set",z.mode=Ee;break}z.have=0,z.mode=U;case U:for(;z.have<z.nlen+z.ndist;){for(;lr=z.lencode[ue&(1<<z.lenbits)-1],Ct=lr>>>24,Ar=lr>>>16&255,un=lr&65535,!(Ct<=Te);){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(un<16)ue>>>=Ct,Te-=Ct,z.lens[z.have++]=un;else{if(un===16){for(ua=Ct+2;Te<ua;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(ue>>>=Ct,Te-=Ct,z.have===0){ae.msg="invalid bit length repeat",z.mode=Ee;break}cn=z.lens[z.have-1],st=3+(ue&3),ue>>>=2,Te-=2}else if(un===17){for(ua=Ct+3;Te<ua;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}ue>>>=Ct,Te-=Ct,cn=0,st=3+(ue&7),ue>>>=3,Te-=3}else{for(ua=Ct+7;Te<ua;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}ue>>>=Ct,Te-=Ct,cn=0,st=11+(ue&127),ue>>>=7,Te-=7}if(z.have+st>z.nlen+z.ndist){ae.msg="invalid bit length repeat",z.mode=Ee;break}for(;st--;)z.lens[z.have++]=cn}}if(z.mode===Ee)break;if(z.lens[256]===0){ae.msg="invalid code -- missing end-of-block",z.mode=Ee;break}if(z.lenbits=9,ja={bits:z.lenbits},qi=i(o,z.lens,0,z.nlen,z.lencode,0,z.work,ja),z.lenbits=ja.bits,qi){ae.msg="invalid literal/lengths set",z.mode=Ee;break}if(z.distbits=6,z.distcode=z.distdyn,ja={bits:z.distbits},qi=i(s,z.lens,z.nlen,z.ndist,z.distcode,0,z.work,ja),z.distbits=ja.bits,qi){ae.msg="invalid distances set",z.mode=Ee;break}if(z.mode=X,Ae===u)break e;case X:z.mode=V;case V:if(Pe>=6&&q>=258){ae.next_out=Re,ae.avail_out=q,ae.next_in=N,ae.avail_in=Pe,z.hold=ue,z.bits=Te,n(ae,Qe),Re=ae.next_out,vt=ae.output,q=ae.avail_out,N=ae.next_in,je=ae.input,Pe=ae.avail_in,ue=z.hold,Te=z.bits,z.mode===M&&(z.back=-1);break}for(z.back=0;lr=z.lencode[ue&(1<<z.lenbits)-1],Ct=lr>>>24,Ar=lr>>>16&255,un=lr&65535,!(Ct<=Te);){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(Ar&&!(Ar&240)){for(ni=Ct,Al=Ar,Il=un;lr=z.lencode[Il+((ue&(1<<ni+Al)-1)>>ni)],Ct=lr>>>24,Ar=lr>>>16&255,un=lr&65535,!(ni+Ct<=Te);){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}ue>>>=ni,Te-=ni,z.back+=ni}if(ue>>>=Ct,Te-=Ct,z.back+=Ct,z.length=un,Ar===0){z.mode=le;break}if(Ar&32){z.back=-1,z.mode=M;break}if(Ar&64){ae.msg="invalid literal/length code",z.mode=Ee;break}z.extra=Ar&15,z.mode=G;case G:if(z.extra){for(ua=z.extra;Te<ua;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}z.length+=ue&(1<<z.extra)-1,ue>>>=z.extra,Te-=z.extra,z.back+=z.extra}z.was=z.length,z.mode=te;case te:for(;lr=z.distcode[ue&(1<<z.distbits)-1],Ct=lr>>>24,Ar=lr>>>16&255,un=lr&65535,!(Ct<=Te);){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(!(Ar&240)){for(ni=Ct,Al=Ar,Il=un;lr=z.distcode[Il+((ue&(1<<ni+Al)-1)>>ni)],Ct=lr>>>24,Ar=lr>>>16&255,un=lr&65535,!(ni+Ct<=Te);){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}ue>>>=ni,Te-=ni,z.back+=ni}if(ue>>>=Ct,Te-=Ct,z.back+=Ct,Ar&64){ae.msg="invalid distance code",z.mode=Ee;break}z.offset=un,z.extra=Ar&15,z.mode=oe;case oe:if(z.extra){for(ua=z.extra;Te<ua;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}z.offset+=ue&(1<<z.extra)-1,ue>>>=z.extra,Te-=z.extra,z.back+=z.extra}if(z.offset>z.dmax){ae.msg="invalid distance too far back",z.mode=Ee;break}z.mode=ge;case ge:if(q===0)break e;if(st=Qe-q,z.offset>st){if(st=z.offset-st,st>z.whave&&z.sane){ae.msg="invalid distance too far back",z.mode=Ee;break}st>z.wnext?(st-=z.wnext,kt=z.wsize-st):kt=z.wnext-st,st>z.length&&(st=z.length),Gn=z.window}else Gn=vt,kt=Re-z.offset,st=z.length;st>q&&(st=q),q-=st,z.length-=st;do vt[Re++]=Gn[kt++];while(--st);z.length===0&&(z.mode=V);break;case le:if(q===0)break e;vt[Re++]=z.length,q--,z.mode=V;break;case ye:if(z.wrap){for(;Te<32;){if(Pe===0)break e;Pe--,ue|=je[N++]<<Te,Te+=8}if(Qe-=q,ae.total_out+=Qe,z.total+=Qe,Qe&&(ae.adler=z.check=z.flags?r(z.check,vt,Qe,Re-Qe):e(z.check,vt,Qe,Re-Qe)),Qe=q,(z.flags?ue:Et(ue))!==z.check){ae.msg="incorrect data check",z.mode=Ee;break}ue=0,Te=0}z.mode=Le;case Le:if(z.wrap&&z.flags){for(;Te<32;){if(Pe===0)break e;Pe--,ue+=je[N++]<<Te,Te+=8}if(ue!==(z.total&4294967295)){ae.msg="incorrect length check",z.mode=Ee;break}ue=0,Te=0}z.mode=ke;case ke:qi=h;break e;case Ee:qi=g;break e;case Se:return m;case De:default:return d}return ae.next_out=Re,ae.avail_out=q,ae.next_in=N,ae.avail_in=Pe,z.hold=ue,z.bits=Te,(z.wsize||Qe!==ae.avail_out&&z.mode<Ee&&(z.mode<ye||Ae!==c))&&Oe(ae,ae.output,ae.next_out,Qe-ae.avail_out),pt-=ae.avail_in,Qe-=ae.avail_out,ae.total_in+=pt,ae.total_out+=Qe,z.total+=Qe,z.wrap&&Qe&&(ae.adler=z.check=z.flags?r(z.check,vt,Qe,ae.next_out-Qe):e(z.check,vt,Qe,ae.next_out-Qe)),ae.data_type=z.bits+(z.last?64:0)+(z.mode===M?128:0)+(z.mode===X||z.mode===H?256:0),(pt===0&&Qe===0||Ae===c)&&qi===f&&(qi=v),qi}function pe(ae){if(!ae||!ae.state)return d;var Ae=ae.state;return Ae.window&&(Ae.window=null),ae.state=null,f}function Ce(ae,Ae){var z;return!ae||!ae.state||(z=ae.state,!(z.wrap&2))?d:(z.head=Ae,Ae.done=!1,f)}function Fe(ae,Ae){var z=Ae.length,je,vt,N;return!ae||!ae.state||(je=ae.state,je.wrap!==0&&je.mode!==k)?d:je.mode===k&&(vt=1,vt=e(vt,Ae,z,0),vt!==je.check)?g:(N=Oe(ae,Ae,z,z),N?(je.mode=Se,m):(je.havedict=1,f))}return go.inflateReset=dt,go.inflateReset2=St,go.inflateResetKeep=ht,go.inflateInit=Xt,go.inflateInit2=nr,go.inflate=j,go.inflateEnd=pe,go.inflateGetHeader=Ce,go.inflateSetDictionary=Fe,go.inflateInfo="pako inflate (from Nodeca project)",go}var DC,gj;function GY(){return gj||(gj=1,DC={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),DC}var UC,mj;function f7e(){if(mj)return UC;mj=1;function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return UC=t,UC}var _j;function h7e(){if(_j)return uh;_j=1;var t=c7e(),e=qu(),r=jY(),n=GY(),i=y4(),a=$Y(),o=f7e(),s=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(f&&f.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,h.windowBits);if(p!==n.Z_OK)throw new Error(i[p]);if(this.header=new o,t.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=r.string2buf(h.dictionary):s.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(p=t.inflateSetDictionary(this.strm,h.dictionary),p!==n.Z_OK)))throw new Error(i[p])}c.prototype.push=function(f,h){var p=this.strm,d=this.options.chunkSize,g=this.options.dictionary,m,v,_,y,b,w=!1;if(this.ended)return!1;v=h===~~h?h:h===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof f=="string"?p.input=r.binstring2buf(f):s.call(f)==="[object ArrayBuffer]"?p.input=new Uint8Array(f):p.input=f,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new e.Buf8(d),p.next_out=0,p.avail_out=d),m=t.inflate(p,n.Z_NO_FLUSH),m===n.Z_NEED_DICT&&g&&(m=t.inflateSetDictionary(this.strm,g)),m===n.Z_BUF_ERROR&&w===!0&&(m=n.Z_OK,w=!1),m!==n.Z_STREAM_END&&m!==n.Z_OK)return this.onEnd(m),this.ended=!0,!1;p.next_out&&(p.avail_out===0||m===n.Z_STREAM_END||p.avail_in===0&&(v===n.Z_FINISH||v===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=r.utf8border(p.output,p.next_out),y=p.next_out-_,b=r.buf2string(p.output,_),p.next_out=y,p.avail_out=d-y,y&&e.arraySet(p.output,p.output,_,y,0),this.onData(b)):this.onData(e.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(w=!0)}while((p.avail_in>0||p.avail_out===0)&&m!==n.Z_STREAM_END);return m===n.Z_STREAM_END&&(v=n.Z_FINISH),v===n.Z_FINISH?(m=t.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===n.Z_OK):(v===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function l(f,h){var p=new c(h);if(p.push(f,!0),p.err)throw p.msg||i[p.err];return p.result}function u(f,h){return h=h||{},h.raw=!0,l(f,h)}return uh.Inflate=c,uh.inflate=l,uh.inflateRaw=u,uh.ungzip=l,uh}var jC,yj;function d7e(){if(yj)return jC;yj=1;var t=qu().assign,e=s7e(),r=h7e(),n=GY(),i={};return t(i,e,r,n),jC=i,jC}(function(t){(function(){var e={},r;t.exports=e,typeof wh=="function"?r=d7e():r=window.pako,function(n,i){n.toRGBA8=function(a){var o=a.width,s=a.height;if(a.tabs.acTL==null)return[n.toRGBA8.decodeImage(a.data,o,s,a).buffer];var c=[];a.frames[0].data==null&&(a.frames[0].data=a.data);for(var l,u=new Uint8Array(o*s*4),f=0;f<a.frames.length;f++){var h=a.frames[f],p=h.rect.x,d=h.rect.y,g=h.rect.width,m=h.rect.height,v=n.toRGBA8.decodeImage(h.data,g,m,a);if(f==0?l=v:h.blend==0?n._copyTile(v,g,m,l,o,s,p,d,0):h.blend==1&&n._copyTile(v,g,m,l,o,s,p,d,1),c.push(l.buffer),l=l.slice(0),h.dispose!=0){if(h.dispose==1)n._copyTile(u,g,m,l,o,s,p,d,0);else if(h.dispose==2){for(var _=f-1;a.frames[_].dispose==2;)_--;l=new Uint8Array(c[_]).slice(0)}}}return c},n.toRGBA8.decodeImage=function(a,o,s,c){var l=o*s,u=n.decode._getBPP(c),f=Math.ceil(o*u/8),h=new Uint8Array(l*4),p=new Uint32Array(h.buffer),d=c.ctype,g=c.depth,m=n._bin.readUshort;if(d==6){var v=l<<2;if(g==8)for(var _=0;_<v;_++)h[_]=a[_];if(g==16)for(var _=0;_<v;_++)h[_]=a[_<<1]}else if(d==2){var y=c.tabs.tRNS,b=-1,w=-1,E=-1;if(y&&(b=y[0],w=y[1],E=y[2]),g==8)for(var _=0;_<l;_++){var C=_<<2,T=_*3;h[C]=a[T],h[C+1]=a[T+1],h[C+2]=a[T+2],h[C+3]=255,b!=-1&&a[T]==b&&a[T+1]==w&&a[T+2]==E&&(h[C+3]=0)}if(g==16)for(var _=0;_<l;_++){var C=_<<2,T=_*6;h[C]=a[T],h[C+1]=a[T+2],h[C+2]=a[T+4],h[C+3]=255,b!=-1&&m(a,T)==b&&m(a,T+2)==w&&m(a,T+4)==E&&(h[C+3]=0)}}else if(d==3){var A=c.tabs.PLTE,R=c.tabs.tRNS,O=R?R.length:0;if(g==1)for(var P=0;P<s;P++)for(var k=P*f,M=P*o,_=0;_<o;_++){var C=M+_<<2,B=a[k+(_>>3)]>>7-((_&7)<<0)&1,D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?R[B]:255}if(g==2)for(var P=0;P<s;P++)for(var k=P*f,M=P*o,_=0;_<o;_++){var C=M+_<<2,B=a[k+(_>>2)]>>6-((_&3)<<1)&3,D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?R[B]:255}if(g==4)for(var P=0;P<s;P++)for(var k=P*f,M=P*o,_=0;_<o;_++){var C=M+_<<2,B=a[k+(_>>1)]>>4-((_&1)<<2)&15,D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?R[B]:255}if(g==8)for(var _=0;_<l;_++){var C=_<<2,B=a[_],D=3*B;h[C]=A[D],h[C+1]=A[D+1],h[C+2]=A[D+2],h[C+3]=B<O?R[B]:255}}else if(d==4){if(g==8)for(var _=0;_<l;_++){var C=_<<2,H=_<<1,ee=a[H];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[H+1]}if(g==16)for(var _=0;_<l;_++){var C=_<<2,H=_<<2,ee=a[H];h[C]=ee,h[C+1]=ee,h[C+2]=ee,h[C+3]=a[H+2]}}else if(d==0){var b=c.tabs.tRNS?c.tabs.tRNS:-1;if(g==1)for(var _=0;_<l;_++){var ee=255*(a[_>>3]>>7-(_&7)&1),ne=ee==b*255?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(g==2)for(var _=0;_<l;_++){var ee=85*(a[_>>2]>>6-((_&3)<<1)&3),ne=ee==b*85?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(g==4)for(var _=0;_<l;_++){var ee=17*(a[_>>1]>>4-((_&1)<<2)&15),ne=ee==b*17?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(g==8)for(var _=0;_<l;_++){var ee=a[_],ne=ee==b?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}if(g==16)for(var _=0;_<l;_++){var ee=a[_<<1],ne=m(a,_<<1)==b?0:255;p[_]=ne<<24|ee<<16|ee<<8|ee}}return h},n.decode=function(a){for(var o=new Uint8Array(a),s=8,c=n._bin,l=c.readUshort,u=c.readUint,f={tabs:{},frames:[]},h=new Uint8Array(o.length),p=0,d,g=0,m=[137,80,78,71,13,10,26,10],v=0;v<8;v++)if(o[v]!=m[v])throw"The input is not a PNG file!";for(;s<o.length;){var _=c.readUint(o,s);s+=4;var y=c.readASCII(o,s,4);if(s+=4,y=="IHDR")n.decode._IHDR(o,s,f);else if(y=="IDAT"){for(var v=0;v<_;v++)h[p+v]=o[s+v];p+=_}else if(y=="acTL")f.tabs[y]={num_frames:u(o,s),num_plays:u(o,s+4)},d=new Uint8Array(o.length);else if(y=="fcTL"){if(g!=0){var b=f.frames[f.frames.length-1];b.data=n.decode._decompress(f,d.slice(0,g),b.rect.width,b.rect.height),g=0}var w={x:u(o,s+12),y:u(o,s+16),width:u(o,s+4),height:u(o,s+8)},E=l(o,s+22);E=l(o,s+20)/(E==0?100:E);var C={rect:w,delay:Math.round(E*1e3),dispose:o[s+24],blend:o[s+25]};f.frames.push(C)}else if(y=="fdAT"){for(var v=0;v<_-4;v++)d[g+v]=o[s+v+4];g+=_-4}else if(y=="pHYs")f.tabs[y]=[c.readUint(o,s),c.readUint(o,s+4),o[s+8]];else if(y=="cHRM"){f.tabs[y]=[];for(var v=0;v<8;v++)f.tabs[y].push(c.readUint(o,s+v*4))}else if(y=="tEXt"){f.tabs[y]==null&&(f.tabs[y]={});var T=c.nextZero(o,s),A=c.readASCII(o,s,T-s),R=c.readASCII(o,T+1,s+_-T-1);f.tabs[y][A]=R}else if(y=="iTXt"){f.tabs[y]==null&&(f.tabs[y]={});var T=0,O=s;T=c.nextZero(o,O);var A=c.readASCII(o,O,T-O);O=T+1,o[O],o[O+1],O+=2,T=c.nextZero(o,O),c.readASCII(o,O,T-O),O=T+1,T=c.nextZero(o,O),c.readUTF8(o,O,T-O),O=T+1;var R=c.readUTF8(o,O,_-(O-s));f.tabs[y][A]=R}else if(y=="PLTE")f.tabs[y]=c.readBytes(o,s,_);else if(y=="hIST"){var P=f.tabs.PLTE.length/3;f.tabs[y]=[];for(var v=0;v<P;v++)f.tabs[y].push(l(o,s+v*2))}else if(y=="tRNS")f.ctype==3?f.tabs[y]=c.readBytes(o,s,_):f.ctype==0?f.tabs[y]=l(o,s):f.ctype==2&&(f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]);else if(y=="gAMA")f.tabs[y]=c.readUint(o,s)/1e5;else if(y=="sRGB")f.tabs[y]=o[s];else if(y=="bKGD")f.ctype==0||f.ctype==4?f.tabs[y]=[l(o,s)]:f.ctype==2||f.ctype==6?f.tabs[y]=[l(o,s),l(o,s+2),l(o,s+4)]:f.ctype==3&&(f.tabs[y]=o[s]);else if(y=="IEND"){if(g!=0){var b=f.frames[f.frames.length-1];b.data=n.decode._decompress(f,d.slice(0,g),b.rect.width,b.rect.height),g=0}f.data=n.decode._decompress(f,h,f.width,f.height);break}s+=_,c.readUint(o,s),s+=4}return delete f.compress,delete f.interlace,delete f.filter,f},n.decode._decompress=function(a,o,s,c){return a.compress==0&&(o=n.decode._inflate(o)),a.interlace==0?o=n.decode._filterZero(o,a,0,s,c):a.interlace==1&&(o=n.decode._readInterlace(o,a)),o},n.decode._inflate=function(a){return i.inflate(a)},n.decode._readInterlace=function(a,o){for(var s=o.width,c=o.height,l=n.decode._getBPP(o),u=l>>3,f=Math.ceil(s*l/8),h=new Uint8Array(c*f),p=0,d=[0,0,4,0,2,0,1],g=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1],_=0;_<7;){for(var y=m[_],b=v[_],w=0,E=0,C=d[_];C<c;)C+=y,E++;for(var T=g[_];T<s;)T+=b,w++;var A=Math.ceil(w*l/8);n.decode._filterZero(a,o,p,w,E);for(var R=0,O=d[_];O<c;){for(var P=g[_],k=p+R*A<<3;P<s;){if(l==1){var M=a[k>>3];M=M>>7-(k&7)&1,h[O*f+(P>>3)]|=M<<7-((P&3)<<0)}if(l==2){var M=a[k>>3];M=M>>6-(k&7)&3,h[O*f+(P>>2)]|=M<<6-((P&3)<<1)}if(l==4){var M=a[k>>3];M=M>>4-(k&7)&15,h[O*f+(P>>1)]|=M<<4-((P&1)<<2)}if(l>=8)for(var B=O*f+P*u,D=0;D<u;D++)h[B+D]=a[(k>>3)+D];k+=l,P+=b}R++,O+=y}w*E!=0&&(p+=E*(1+A)),_=_+1}return h},n.decode._getBPP=function(a){var o=[1,null,3,1,2,null,4][a.ctype];return o*a.depth},n.decode._filterZero=function(a,o,s,c,l){var u=n.decode._getBPP(o),f=Math.ceil(c*u/8),h=n.decode._paeth;u=Math.ceil(u/8);for(var p=0;p<l;p++){var d=s+p*f,g=d+p+1,m=a[g-1];if(m==0)for(var v=0;v<f;v++)a[d+v]=a[g+v];else if(m==1){for(var v=0;v<u;v++)a[d+v]=a[g+v];for(var v=u;v<f;v++)a[d+v]=a[g+v]+a[d+v-u]&255}else if(p==0){for(var v=0;v<u;v++)a[d+v]=a[g+v];if(m==2)for(var v=u;v<f;v++)a[d+v]=a[g+v]&255;if(m==3)for(var v=u;v<f;v++)a[d+v]=a[g+v]+(a[d+v-u]>>1)&255;if(m==4)for(var v=u;v<f;v++)a[d+v]=a[g+v]+h(a[d+v-u],0,0)&255}else{if(m==2)for(var v=0;v<f;v++)a[d+v]=a[g+v]+a[d+v-f]&255;if(m==3){for(var v=0;v<u;v++)a[d+v]=a[g+v]+(a[d+v-f]>>1)&255;for(var v=u;v<f;v++)a[d+v]=a[g+v]+(a[d+v-f]+a[d+v-u]>>1)&255}if(m==4){for(var v=0;v<u;v++)a[d+v]=a[g+v]+h(0,a[d+v-f],0)&255;for(var v=u;v<f;v++)a[d+v]=a[g+v]+h(a[d+v-u],a[d+v-f],a[d+v-u-f])&255}}}return a},n.decode._paeth=function(a,o,s){var c=a+o-s,l=Math.abs(c-a),u=Math.abs(c-o),f=Math.abs(c-s);return l<=u&&l<=f?a:u<=f?o:s},n.decode._IHDR=function(a,o,s){var c=n._bin;s.width=c.readUint(a,o),o+=4,s.height=c.readUint(a,o),o+=4,s.depth=a[o],o++,s.ctype=a[o],o++,s.compress=a[o],o++,s.filter=a[o],o++,s.interlace=a[o],o++},n._bin={nextZero:function(a,o){for(;a[o]!=0;)o++;return o},readUshort:function(a,o){return a[o]<<8|a[o+1]},writeUshort:function(a,o,s){a[o]=s>>8&255,a[o+1]=s&255},readUint:function(a,o){return a[o]*(256*256*256)+(a[o+1]<<16|a[o+2]<<8|a[o+3])},writeUint:function(a,o,s){a[o]=s>>24&255,a[o+1]=s>>16&255,a[o+2]=s>>8&255,a[o+3]=s&255},readASCII:function(a,o,s){for(var c="",l=0;l<s;l++)c+=String.fromCharCode(a[o+l]);return c},writeASCII:function(a,o,s){for(var c=0;c<s.length;c++)a[o+c]=s.charCodeAt(c)},readBytes:function(a,o,s){for(var c=[],l=0;l<s;l++)c.push(a[o+l]);return c},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,o,s){for(var c="",l,u=0;u<s;u++)c+="%"+n._bin.pad(a[o+u].toString(16));try{l=decodeURIComponent(c)}catch{return n._bin.readASCII(a,o,s)}return l}},n._copyTile=function(a,o,s,c,l,u,f,h,p){for(var d=Math.min(o,l),g=Math.min(s,u),m=0,v=0,_=0;_<g;_++)for(var y=0;y<d;y++)if(f>=0&&h>=0?(m=_*o+y<<2,v=(h+_)*l+f+y<<2):(m=(-h+_)*o-f+y<<2,v=_*l+y<<2),p==0)c[v]=a[m],c[v+1]=a[m+1],c[v+2]=a[m+2],c[v+3]=a[m+3];else if(p==1){var b=a[m+3]*.00392156862745098,w=a[m]*b,E=a[m+1]*b,C=a[m+2]*b,T=c[v+3]*(1/255),A=c[v]*T,R=c[v+1]*T,O=c[v+2]*T,P=1-b,k=b+T*P,M=k==0?0:1/k;c[v+3]=255*k,c[v+0]=(w+A*P)*M,c[v+1]=(E+R*P)*M,c[v+2]=(C+O*P)*M}else if(p==2){var b=a[m+3],w=a[m],E=a[m+1],C=a[m+2],T=c[v+3],A=c[v],R=c[v+1],O=c[v+2];b==T&&w==A&&E==R&&C==O?(c[v]=0,c[v+1]=0,c[v+2]=0,c[v+3]=0):(c[v]=w,c[v+1]=E,c[v+2]=C,c[v+3]=b)}else if(p==3){var b=a[m+3],w=a[m],E=a[m+1],C=a[m+2],T=c[v+3],A=c[v],R=c[v+1],O=c[v+2];if(b==T&&w==A&&E==R&&C==O)continue;if(b<220&&T>20)return!1}return!0},n.encode=function(a,o,s,c,l,u){c==null&&(c=0),u==null&&(u=!1);for(var f=new Uint8Array(a[0].byteLength*a.length+100),h=[137,80,78,71,13,10,26,10],p=0;p<8;p++)f[p]=h[p];var d=8,g=n._bin,m=n.crc.crc,v=g.writeUint,_=g.writeUshort,y=g.writeASCII,b=n.encode.compressPNG(a,o,s,c,u);v(f,d,13),d+=4,y(f,d,"IHDR"),d+=4,v(f,d,o),d+=4,v(f,d,s),d+=4,f[d]=b.depth,d++,f[d]=b.ctype,d++,f[d]=0,d++,f[d]=0,d++,f[d]=0,d++,v(f,d,m(f,d-17,17)),d+=4,v(f,d,1),d+=4,y(f,d,"sRGB"),d+=4,f[d]=1,d++,v(f,d,m(f,d-5,5)),d+=4;var w=a.length>1;if(w&&(v(f,d,8),d+=4,y(f,d,"acTL"),d+=4,v(f,d,a.length),d+=4,v(f,d,0),d+=4,v(f,d,m(f,d-12,12)),d+=4),b.ctype==3){var E=b.plte.length;v(f,d,E*3),d+=4,y(f,d,"PLTE"),d+=4;for(var p=0;p<E;p++){var C=p*3,T=b.plte[p],A=T&255,R=T>>8&255,O=T>>16&255;f[d+C+0]=A,f[d+C+1]=R,f[d+C+2]=O}if(d+=E*3,v(f,d,m(f,d-E*3-4,E*3+4)),d+=4,b.gotAlpha){v(f,d,E),d+=4,y(f,d,"tRNS"),d+=4;for(var p=0;p<E;p++)f[d+p]=b.plte[p]>>24&255;d+=E,v(f,d,m(f,d-E-4,E+4)),d+=4}}for(var P=0,k=0;k<b.frames.length;k++){var M=b.frames[k];w&&(v(f,d,26),d+=4,y(f,d,"fcTL"),d+=4,v(f,d,P++),d+=4,v(f,d,M.rect.width),d+=4,v(f,d,M.rect.height),d+=4,v(f,d,M.rect.x),d+=4,v(f,d,M.rect.y),d+=4,_(f,d,l[k]),d+=2,_(f,d,1e3),d+=2,f[d]=M.dispose,d++,f[d]=M.blend,d++,v(f,d,m(f,d-30,30)),d+=4);var B=M.cimg,E=B.length;v(f,d,E+(k==0?0:4)),d+=4;var D=d;y(f,d,k==0?"IDAT":"fdAT"),d+=4,k!=0&&(v(f,d,P++),d+=4);for(var p=0;p<E;p++)f[d+p]=B[p];d+=E,v(f,d,m(f,D,d-D)),d+=4}return v(f,d,0),d+=4,y(f,d,"IEND"),d+=4,v(f,d,m(f,d-4,4)),d+=4,f.buffer.slice(0,d)},n.encode.compressPNG=function(a,o,s,c,l){for(var u=n.encode.compress(a,o,s,c,!1,l),f=0;f<a.length;f++){var h=u.frames[f];h.rect.width;var p=h.rect.height,d=h.bpl,g=h.bpp,m=new Uint8Array(p*d+p);h.cimg=n.encode._filterZero(h.img,p,g,d,m)}return u},n.encode.compress=function(a,o,s,c,l,u){u==null&&(u=!1);for(var f=6,h=8,p=4,d=255,g=0;g<a.length;g++)for(var m=new Uint8Array(a[g]),v=m.length,_=0;_<v;_+=4)d&=m[_+3];var y=d!=255,b={},w=[];if(a.length!=0&&(b[0]=0,w.push(0),c!=0&&c--),c!=0){var E=n.quantize(a,c,l);a=E.bufs;for(var _=0;_<E.plte.length;_++){var C=E.plte[_].est.rgba;b[C]==null&&(b[C]=w.length,w.push(C))}}else for(var g=0;g<a.length;g++)for(var T=new Uint32Array(a[g]),v=T.length,_=0;_<v;_++){var C=T[_];if((_<o||C!=T[_-1]&&C!=T[_-o])&&b[C]==null&&(b[C]=w.length,w.push(C),w.length>=300))break}var A=y?l:!1,R=w.length;R<=256&&u==!1&&(R<=2?h=1:R<=4?h=2:R<=16?h=4:h=8,l&&(h=8),y=!0);for(var O=[],g=0;g<a.length;g++){var P=new Uint8Array(a[g]),k=new Uint32Array(P.buffer),M=0,B=0,D=o,H=s,ee=0;if(g!=0&&!A){for(var ne=l||g==1||O[O.length-2].dispose==2?1:2,Y=0,U=1e9,X=0;X<ne;X++){for(var ke=new Uint8Array(a[g-1-X]),V=new Uint32Array(a[g-1-X]),G=o,te=s,oe=-1,ge=-1,le=0;le<s;le++)for(var ye=0;ye<o;ye++){var _=le*o+ye;k[_]!=V[_]&&(ye<G&&(G=ye),ye>oe&&(oe=ye),le<te&&(te=le),le>ge&&(ge=le))}var Le=oe==-1?1:(oe-G+1)*(ge-te+1);Le<U&&(U=Le,Y=X,oe==-1?(M=B=0,D=H=1):(M=G,B=te,D=oe-G+1,H=ge-te+1))}var ke=new Uint8Array(a[g-1-Y]);Y==1&&(O[O.length-1].dispose=2);var Ee=new Uint8Array(D*H*4);new Uint32Array(Ee.buffer),n._copyTile(ke,o,s,Ee,D,H,-M,-B,0),n._copyTile(P,o,s,Ee,D,H,-M,-B,3)?(n._copyTile(P,o,s,Ee,D,H,-M,-B,2),ee=1):(n._copyTile(P,o,s,Ee,D,H,-M,-B,0),ee=0),P=Ee,k=new Uint32Array(P.buffer)}var Se=4*D;if(R<=256&&u==!1){Se=Math.ceil(h*D/8);for(var Ee=new Uint8Array(Se*H),le=0;le<H;le++){var _=le*Se,De=le*D;if(h==8)for(var ye=0;ye<D;ye++)Ee[_+ye]=b[k[De+ye]];else if(h==4)for(var ye=0;ye<D;ye++)Ee[_+(ye>>1)]|=b[k[De+ye]]<<4-(ye&1)*4;else if(h==2)for(var ye=0;ye<D;ye++)Ee[_+(ye>>2)]|=b[k[De+ye]]<<6-(ye&3)*2;else if(h==1)for(var ye=0;ye<D;ye++)Ee[_+(ye>>3)]|=b[k[De+ye]]<<7-(ye&7)*1}P=Ee,f=3,p=1}else if(y==!1&&a.length==1){for(var Ee=new Uint8Array(D*H*3),We=D*H,_=0;_<We;_++){var Ve=_*3,He=_*4;Ee[Ve]=P[He],Ee[Ve+1]=P[He+1],Ee[Ve+2]=P[He+2]}P=Ee,f=2,p=3,Se=3*D}O.push({rect:{x:M,y:B,width:D,height:H},img:P,bpl:Se,bpp:p,blend:ee,dispose:A?1:0})}return{ctype:f,depth:h,plte:w,gotAlpha:y,frames:O}},n.encode._filterZero=function(a,o,s,c,l){for(var u=[],f=0;f<5;f++)if(!(o*c>5e5&&(f==2||f==3||f==4))){for(var h=0;h<o;h++)n.encode._filterLine(l,a,h,c,s,f);if(u.push(i.deflate(l)),s==1)break}for(var p,d=1e9,g=0;g<u.length;g++)u[g].length<d&&(p=g,d=u[g].length);return u[p]},n.encode._filterLine=function(a,o,s,c,l,u){var f=s*c,h=f+s,p=n.decode._paeth;if(a[h]=u,h++,u==0)for(var d=0;d<c;d++)a[h+d]=o[f+d];else if(u==1){for(var d=0;d<l;d++)a[h+d]=o[f+d];for(var d=l;d<c;d++)a[h+d]=o[f+d]-o[f+d-l]+256&255}else if(s==0){for(var d=0;d<l;d++)a[h+d]=o[f+d];if(u==2)for(var d=l;d<c;d++)a[h+d]=o[f+d];if(u==3)for(var d=l;d<c;d++)a[h+d]=o[f+d]-(o[f+d-l]>>1)+256&255;if(u==4)for(var d=l;d<c;d++)a[h+d]=o[f+d]-p(o[f+d-l],0,0)+256&255}else{if(u==2)for(var d=0;d<c;d++)a[h+d]=o[f+d]+256-o[f+d-c]&255;if(u==3){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-(o[f+d-c]>>1)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-(o[f+d-c]+o[f+d-l]>>1)&255}if(u==4){for(var d=0;d<l;d++)a[h+d]=o[f+d]+256-p(0,o[f+d-c],0)&255;for(var d=l;d<c;d++)a[h+d]=o[f+d]+256-p(o[f+d-l],o[f+d-c],o[f+d-l-c])&255}}},n.crc={table:function(){for(var a=new Uint32Array(256),o=0;o<256;o++){for(var s=o,c=0;c<8;c++)s&1?s=3988292384^s>>>1:s=s>>>1;a[o]=s}return a}(),update:function(a,o,s,c){for(var l=0;l<c;l++)a=n.crc.table[(a^o[s+l])&255]^a>>>8;return a},crc:function(a,o,s){return n.crc.update(4294967295,a,o,s)^4294967295}},n.quantize=function(a,o,s){for(var c=[],l=0,u=0;u<a.length;u++)c.push(n.encode.alphaMul(new Uint8Array(a[u]),s)),l+=a[u].byteLength;for(var f=new Uint8Array(l),h=new Uint32Array(f.buffer),p=0,u=0;u<c.length;u++){for(var d=c[u],g=d.length,m=0;m<g;m++)f[p+m]=d[m];p+=g}var v={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};v.bst=n.quantize.stats(f,v.i0,v.i1),v.est=n.quantize.estats(v.bst);for(var _=[v];_.length<o;){for(var y=0,b=0,u=0;u<_.length;u++)_[u].est.L>y&&(y=_[u].est.L,b=u);if(y<.001)break;var w=_[b],E=n.quantize.splitPixels(f,h,w.i0,w.i1,w.est.e,w.est.eMq255),C={i0:w.i0,i1:E,bst:null,est:null,tdst:0,left:null,right:null};C.bst=n.quantize.stats(f,C.i0,C.i1),C.est=n.quantize.estats(C.bst);var T={i0:E,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};T.bst={R:[],m:[],N:w.bst.N-C.bst.N};for(var u=0;u<16;u++)T.bst.R[u]=w.bst.R[u]-C.bst.R[u];for(var u=0;u<4;u++)T.bst.m[u]=w.bst.m[u]-C.bst.m[u];T.est=n.quantize.estats(T.bst),w.left=C,w.right=T,_[b]=C,_.push(T)}_.sort(function(ne,Y){return Y.bst.N-ne.bst.N});for(var A=0;A<c.length;A++){for(var R=n.quantize.planeDst,O=new Uint8Array(c[A].buffer),P=new Uint32Array(c[A].buffer),k=O.length,u=0;u<k;u+=4){for(var M=O[u]*.00392156862745098,B=O[u+1]*(1/255),D=O[u+2]*(1/255),H=O[u+3]*(1/255),ee=v;ee.left;)ee=R(ee.est,M,B,D,H)<=0?ee.left:ee.right;P[u>>2]=ee.est.rgba}c[A]=P.buffer}return{bufs:c,plte:_}},n.quantize.getNearest=function(a,o,s,c,l){if(a.left==null)return a.tdst=n.quantize.dist(a.est.q,o,s,c,l),a;var u=n.quantize.planeDst(a.est,o,s,c,l),f=a.left,h=a.right;u>0&&(f=a.right,h=a.left);var p=n.quantize.getNearest(f,o,s,c,l);if(p.tdst<=u*u)return p;var d=n.quantize.getNearest(h,o,s,c,l);return d.tdst<p.tdst?d:p},n.quantize.planeDst=function(a,o,s,c,l){var u=a.e;return u[0]*o+u[1]*s+u[2]*c+u[3]*l-a.eMq},n.quantize.dist=function(a,o,s,c,l){var u=o-a[0],f=s-a[1],h=c-a[2],p=l-a[3];return u*u+f*f+h*h+p*p},n.quantize.splitPixels=function(a,o,s,c,l,u){var f=n.quantize.vecDot;for(c-=4;s<c;){for(;f(a,s,l)<=u;)s+=4;for(;f(a,c,l)>u;)c-=4;if(s>=c)break;var h=o[s>>2];o[s>>2]=o[c>>2],o[c>>2]=h,s+=4,c-=4}for(;f(a,s,l)>u;)s-=4;return s+4},n.quantize.vecDot=function(a,o,s){return a[o]*s[0]+a[o+1]*s[1]+a[o+2]*s[2]+a[o+3]*s[3]},n.quantize.stats=function(a,o,s){for(var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0],u=s-o>>2,f=o;f<s;f+=4){var h=a[f]*.00392156862745098,p=a[f+1]*(1/255),d=a[f+2]*(1/255),g=a[f+3]*(1/255);l[0]+=h,l[1]+=p,l[2]+=d,l[3]+=g,c[0]+=h*h,c[1]+=h*p,c[2]+=h*d,c[3]+=h*g,c[5]+=p*p,c[6]+=p*d,c[7]+=p*g,c[10]+=d*d,c[11]+=d*g,c[15]+=g*g}return c[4]=c[1],c[8]=c[2],c[12]=c[3],c[9]=c[6],c[13]=c[7],c[14]=c[11],{R:c,m:l,N:u}},n.quantize.estats=function(a){var o=a.R,s=a.m,c=a.N,l=s[0],u=s[1],f=s[2],h=s[3],p=c==0?0:1/c,d=[o[0]-l*l*p,o[1]-l*u*p,o[2]-l*f*p,o[3]-l*h*p,o[4]-u*l*p,o[5]-u*u*p,o[6]-u*f*p,o[7]-u*h*p,o[8]-f*l*p,o[9]-f*u*p,o[10]-f*f*p,o[11]-f*h*p,o[12]-h*l*p,o[13]-h*u*p,o[14]-h*f*p,o[15]-h*h*p],g=d,m=n.M4,v=[.5,.5,.5,.5],_=0,y=0;if(c!=0)for(var b=0;b<10&&(v=m.multVec(g,v),y=Math.sqrt(m.dot(v,v)),v=m.sml(1/y,v),!(Math.abs(y-_)<1e-9));b++)_=y;var w=[l*p,u*p,f*p,h*p],E=m.dot(m.sml(255,w),v),C=w[3]<.001?0:1/w[3];return{Cov:d,q:w,e:v,L:_,eMq255:E,eMq:m.dot(v,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2]*C)<<16|Math.round(255*w[1]*C)<<8|Math.round(255*w[0]*C)<<0)>>>0}},n.M4={multVec:function(a,o){return[a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3],a[4]*o[0]+a[5]*o[1]+a[6]*o[2]+a[7]*o[3],a[8]*o[0]+a[9]*o[1]+a[10]*o[2]+a[11]*o[3],a[12]*o[0]+a[13]*o[1]+a[14]*o[2]+a[15]*o[3]]},dot:function(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]+a[3]*o[3]},sml:function(a,o){return[a*o[0],a*o[1],a*o[2],a*o[3]]}},n.encode.alphaMul=function(a,o){for(var s=new Uint8Array(a.length),c=a.length>>2,l=0;l<c;l++){var u=l<<2,f=a[u+3];o&&(f=f<128?0:255);var h=f*(1/255);s[u+0]=a[u+0]*h,s[u+1]=a[u+1]*h,s[u+2]=a[u+2]*h,s[u+3]=f}return s}}(e,r)})()})(BY);var p7e=BY.exports;const xj=Yi(p7e);/*!
 * @tbminiapp/pixi-apng-textures - v6.2.1-beta.9
 * Compiled Thu, 17 Mar 2022 08:24:35 UTC
 *
 * @tbminiapp/pixi-apng-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RR=function(t,e){return RR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},RR(t,e)};function v7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");RR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g7e=function(t){v7e(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,delay:16});var i=this,a,o;typeof r=="string"?(a=r,o=new Uint8Array):(a=null,o=r),i=t.call(this,o,n)||this,i.loaded=!0;var s=n.delay;return i._delay=s||0,i.origin=a,i.buffer=o.buffer?new Nv(o.buffer):null,i}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),e}(Wu);function m7e(t,e,r){var n={textures:{},texture:null,frameCount:0,frameTextureKeys:[],frameDelay:[]};if(!e)return n;var i=e.map(function(a){return new Ot(new hr(a,Object.assign({mipmap:Ba.OFF,alphaMode:ba.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(a,o){var s=a.baseTexture,c=t+"-"+(o+1);hr.addToCache(s,c),Ot.addToCache(a,c),o===0&&(hr.addToCache(s,t),Ot.addToCache(a,t),n.texture=a),n.frameTextureKeys.push(c),n.frameDelay.push(s.resource.delay),n.textures[c]=a}),PIXI.utils.TextureCache.abcd="efg",n.frameCount=i.length,n}Ur.setExtensionXhrType("apng",Ur.XHR_RESPONSE_TYPE.BUFFER);var bj=[97,99,84,76],_7e=function(){function t(){}return t.use=async function(e,r){if(e.extension==="png"&&e.data)try{var n=e.url,i=e.name||n;async function a(o){const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch file: ${s.status} ${s.statusText}`);const c=await s.arrayBuffer(),l=new Uint8Array(c);if(t.validate(o,l))Object.assign(e,m7e(i,t.parse(i,l),e.metadata));else{r();return}}await a(n)}catch(a){r(a);return}r()},t.parse=function(e,r){var n=xj.decode(r),i=n.width,a=n.height,o=n.frames,s=xj.toRGBA8(n),c=[];s.forEach(function(u,f){var h=o[f],p=h.delay;c.push({data:new Uint8Array(u),delay:p})});var l=c.map(function(u){return new g7e(u.data,{width:i,height:a,framesCount:c.length,delay:u.delay})});return l},t.validate=function(e,r){const n=r.slice(37,41);for(var i=0;i<bj.length;i++)if(n[i]!==bj[i])return!1;return!0},t}();/*!
 * @pixi/gif - v1.1.3
 * https://github.com/pixijs/gif
 * Compiled Wed, 21 Sep 2022 20:13:39 UTC
 *
 * @pixi/gif is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var PR=function(t,e){return PR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},PR(t,e)},OR=function(){return OR=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},OR.apply(this,arguments)},Qc={},VY={},vl={};Object.defineProperty(vl,"__esModule",{value:!0}),vl.loop=vl.conditional=vl.parse=void 0;vl.parse=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(i[a]={},t(e,r[a],n,i[a])):i[a]=r[a](e,n,i,t)}return n};vl.conditional=function(t,e){return function(r,n,i,a){e(r,n,i)&&a(r,t,n,i)}};vl.loop=function(t,e){return function(r,n,i,a){for(var o=[],s=r.pos;e(r,n,i);){var c={};if(a(r,t,n,c),r.pos===s)break;s=r.pos,o.push(c)}return o}};var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.readBits=Wn.readArray=Wn.readUnsigned=Wn.readString=Wn.peekBytes=Wn.readBytes=Wn.peekByte=Wn.readByte=Wn.buildStream=void 0;Wn.buildStream=function(t){return{data:t,pos:0}};var y7e=function(){return function(t){return t.data[t.pos++]}};Wn.readByte=y7e;Wn.peekByte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var jb=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};Wn.readBytes=jb;Wn.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};Wn.readString=function(t){return function(e){return Array.from(jb(t)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};Wn.readUnsigned=function(t){return function(e){var r=jb(2)(e);return t?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};Wn.readArray=function(t,e){return function(r,n,i){for(var a=typeof e=="function"?e(r,n,i):e,o=jb(t),s=new Array(a),c=0;c<a;c++)s[c]=o(r);return s}};Wn.readBits=function(t){return function(e){for(var r=function(a){return a.data[a.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(t).reduce(function(a,o){var s=t[o];return s.length?a[o]=function(c,l,u){for(var f=0,h=0;h<u;h++)f+=c[l+h]&&Math.pow(2,u-h-1);return f}(n,s.index,s.length):a[o]=n[s.index],a},{})}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=vl,r=Wn,n={blocks:function(u){for(var f=[],h=u.data.length,p=0,d=(0,r.readByte)()(u);d!==0&&d;d=(0,r.readByte)()(u)){if(u.pos+d>=h){var g=h-u.pos;f.push((0,r.readBytes)(g)(u)),p+=g;break}f.push((0,r.readBytes)(d)(u)),p+=d}for(var m=new Uint8Array(p),v=0,_=0;_<f.length;_++)m.set(f[_],v),v+=f[_].length;return m}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(u,f,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(u,f,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(u){return(0,r.peekByte)()(u)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(u,f,h){return(0,r.readBytes)(h.text.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),s=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(u,f,h){return(0,r.readString)(h.blockSize)(u)}},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(u){var f=(0,r.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),l=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,s,c,a,o],function(u){var f=(0,r.peekByte)()(u);return f===33||f===44})}];t.default=l}(VY);var Ox={};Object.defineProperty(Ox,"__esModule",{value:!0}),Ox.deinterlace=void 0;Ox.deinterlace=function(t,e){for(var r=new Array(t.length),n=t.length/e,i=function(u,f){var h=t.slice(f*e,(f+1)*e);r.splice.apply(r,[u*e,e].concat(h))},a=[0,4,2,1],o=[8,8,4,2],s=0,c=0;c<4;c++)for(var l=a[c];l<n;l+=o[c])i(l,s),s++;return r};var kx={};Object.defineProperty(kx,"__esModule",{value:!0}),kx.lzw=void 0;kx.lzw=function(t,e,r){var n,i,a,o,s,c,l,u,f,h,p,d,g,m,v,_,y=4096,b=r,w=new Array(r),E=new Array(y),C=new Array(y),T=new Array(4097);for(s=(i=1<<(h=t))+1,n=i+2,l=-1,a=(1<<(o=h+1))-1,u=0;u<i;u++)E[u]=0,C[u]=u;for(p=d=g=m=v=_=0,f=0;f<b;){if(m===0){if(d<o){p+=e[_]<<d,d+=8,_++;continue}if(u=p&a,p>>=o,d-=o,u>n||u==s)break;if(u==i){a=(1<<(o=h+1))-1,n=i+2,l=-1;continue}if(l==-1){T[m++]=C[u],l=u,g=u;continue}for(c=u,u==n&&(T[m++]=g,u=l);u>i;)T[m++]=C[u],u=E[u];g=255&C[u],T[m++]=g,n<y&&(E[n]=l,C[n]=g,!(++n&a)&&n<y&&(o++,a+=n)),l=c}m--,w[v++]=T[m],f++}for(f=v;f<b;f++)w[f]=0;return w},Object.defineProperty(Qc,"__esModule",{value:!0});var T_,HY=Qc.decompressFrames=Qc.decompressFrame=zY=Qc.parseGIF=void 0,x7e=(T_=VY)&&T_.__esModule?T_:{default:T_},b7e=vl,w7e=Wn,E7e=Ox,S7e=kx,zY=Qc.parseGIF=function(t){var e=new Uint8Array(t);return(0,b7e.parse)((0,w7e.buildStream)(e),x7e.default)},XY=function(t,e,r){if(t.image){var n=t.image,i=n.descriptor.width*n.descriptor.height,a=(0,S7e.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(a=(0,E7e.deinterlace)(a,n.descriptor.width));var o={pixels:a,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?o.colorTable=n.lct:o.colorTable=e,t.gce&&(o.delay=10*(t.gce.delay||10),o.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(o.transparentIndex=t.gce.transparentColorIndex)),r&&(o.patch=function(s){for(var c=s.pixels.length,l=new Uint8ClampedArray(4*c),u=0;u<c;u++){var f=4*u,h=s.pixels[u],p=s.colorTable[h]||[0,0,0];l[f]=p[0],l[f+1]=p[1],l[f+2]=p[2],l[f+3]=h!==s.transparentIndex?255:0}return l}(o)),o}};Qc.decompressFrame=XY;HY=Qc.decompressFrames=function(t,e){return t.frames.filter(function(r){return r.image}).map(function(r){return XY(r,t.gct,e)})};var C7e=function(t){function e(r,n){var i=this,a=Object.assign({},e.defaultOptions,n),o=a.scaleMode,s=a.width,c=a.height,l=function(h,p){var d={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(d[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(g=Object.getOwnPropertySymbols(h);m<g.length;m++)p.indexOf(g[m])<0&&Object.prototype.propertyIsEnumerable.call(h,g[m])&&(d[g[m]]=h[g[m]])}return d}(a,["scaleMode","width","height"]),u=document.createElement("canvas"),f=u.getContext("2d");return u.width=s,u.height=c,(i=t.call(this,Ot.from(u,{scaleMode:o}))||this).duration=r[r.length-1].end,i._frames=r,i._context=f,i._playing=!1,i._currentTime=0,i._isConnectedToTicker=!1,Object.assign(i,l),i.currentFrame=0,i.autoPlay&&i.play(),i}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}PR(r,n),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}(e,t),e.fromBuffer=function(r,n){if(!r||r.byteLength===0)throw new Error("Invalid buffer");var i=zY(r);(function(M){for(var B,D=null,H=0,ee=M.frames;H<ee.length;H++){var ne=ee[H];D=(B=ne.gce)!==null&&B!==void 0?B:D,"image"in ne&&!("gce"in ne)&&(ne.gce=D)}})(i);var a=HY(i,!0),o=[],s=document.createElement("canvas"),c=s.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");s.width=i.lsd.width,s.height=i.lsd.height;for(var f=0,h=1e3/Object.assign({},e.defaultOptions,n).fps,p=0;p<a.length;p++){var d=a[p],g=d.disposalType,m=g===void 0?2:g,v=d.delay,_=v===void 0?h:v,y=d.patch,b=d.dims,w=b.width,E=b.height,C=b.left,T=b.top;l.width=w,l.height=E,u.clearRect(0,0,w,E);var A=u.createImageData(w,E);A.data.set(y),u.putImageData(A,0,0),c.drawImage(l,C,T);var R=c.getImageData(0,0,s.width,s.height);m!==2&&m!==3||c.clearRect(0,0,s.width,s.height),o.push({start:f,end:f+_,imageData:R}),f+=_}s.width=s.height=0,l.width=l.height=0;var O=i.lsd,P=O.width,k=O.height;return new e(o,OR({width:P,height:k},n))},e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(An.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(An.shared.add(this.update,this,ts.HIGH),this._isConnectedToTicker=!0),this.loop||this.currentFrame!==this._frames.length-1||(this._currentTime=0))},Object.defineProperty(e.prototype,"progress",{get:function(){return this._currentTime/this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),e.prototype.update=function(r){var n,i;if(this._playing){var a=this.animationSpeed*r/xt.TARGET_FPMS,o=this._currentTime+a,s=o%this.duration,c=this._frames.findIndex(function(l){return l.start<=s&&l.end>s});o>=this.duration?this.loop?(this._currentTime=s,this.updateFrameIndex(c),(n=this.onLoop)===null||n===void 0||n.call(this)):(this._currentTime=this.duration,this.updateFrameIndex(this._frames.length-1),(i=this.onComplete)===null||i===void 0||i.call(this),this.stop()):(this._currentTime=s,this.updateFrameIndex(c))}},e.prototype.updateFrame=function(){if(this.dirty){var r=this._frames[this._currentFrame].imageData;this._context.putImageData(r,0,0),this._context.fillStyle="transparent",this._context.fillRect(0,0,0,1),this.texture.update(),this.dirty=!1}},e.prototype._render=function(r){this.updateFrame(),t.prototype._render.call(this,r)},e.prototype._renderCanvas=function(r){this.updateFrame(),t.prototype._renderCanvas.call(this,r)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(An.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(An.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(r){this.updateFrameIndex(r),this._currentTime=this._frames[r].start},enumerable:!1,configurable:!0}),e.prototype.updateFrameIndex=function(r){var n;if(r<0||r>=this._frames.length)throw new Error("Frame index out of range, expecting 0 to ".concat(this.totalFrames,", got ").concat(r));this._currentFrame!==r&&(this._currentFrame=r,this.dirty=!0,(n=this.onFrameChange)===null||n===void 0||n.call(this,r))},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this,!0),this._context=null,this._frames=null,this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.prototype.clone=function(){return new e(function(r,n,i){if(i||arguments.length===2)for(var a,o=0,s=n.length;o<s;o++)!a&&o in n||(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}([],this._frames,!0),{autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.baseTexture.scaleMode,animationSpeed:this.animationSpeed,width:this._context.canvas.width,height:this._context.canvas.height,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop})},e.defaultOptions={scaleMode:Ri.LINEAR,fps:An.shared.FPS,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null},e}(qa);window.PIXI=$je;Da.registerPlugin(_7e);class T7e{constructor(){ut(this,"currentApp",null);ut(this,"effectsContainer");ut(this,"frameDuration",16.67);ut(this,"notUpdateBacklogEffects",!1);ut(this,"figureContainer");ut(this,"figureObjects",[]);ut(this,"backgroundContainer");ut(this,"backgroundObjects",[]);ut(this,"stageAnimations",[]);ut(this,"assetLoader",new Da);ut(this,"loadQueue",[]);ut(this,"live2dFigureRecorder",[]);ut(this,"lockTransformTarget",[]);ut(this,"stageWidth",Vp().width||qc.width);ut(this,"stageHeight",Vp().height||qc.height);ut(this,"MAX_TEX_COUNT",10);const e=new Tg({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this,window.__PIXI_APP__=e;const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(e.view)),e.renderer.view.style.position="absolute",e.renderer.view.style.display="block",e.renderer.view.id="pixiCanvas",e.renderer.autoResize=!0;const n=document.getElementById("root");n&&e.renderer.resize(n.clientWidth,n.clientHeight),bk&&(e.renderer.view.style.zIndex="-5"),e.stage.sortableChildren=!0,this.effectsContainer=new _i,this.effectsContainer.zIndex=3,this.figureContainer=new _i,this.figureContainer.zIndex=2,this.backgroundContainer=new _i,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const i=()=>{this.updateFps(),setTimeout(i,1e4)};i();const a=()=>{setTimeout(a,500),this.callLoader()};a()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,r,n="default"){var i;e&&(this.stageAnimations.push({uuid:ap(),animationObject:e,key:r,targetKey:n,type:"common"}),this.lockStageObject(n),e.setStartState(),(i=this.currentApp)==null||i.ticker.add(e.tickerFunc))}registerPresetAnimation(e,r,n="default",i){var o;if(!e)return;const a=i.find(s=>s.target===n);if(a){const s=this.getStageObjByKey(n);if(s){const c=s.pixiContainer;Object.assign(c,a.transform)}return}this.stageAnimations.push({uuid:ap(),animationObject:e,key:r,targetKey:n,type:"preset"}),this.lockStageObject(n),e.setStartState(),(o=this.currentApp)==null||o.ticker.add(e.tickerFunc)}stopPresetAnimationOnTarget(e){const r=this.stageAnimations.find(n=>n.targetKey===e&&n.type==="preset");r&&this.removeAnimation(r.key)}removeAnimation(e){var n;const r=this.stageAnimations.findIndex(i=>i.key===e);if(r>=0){const i=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(i.animationObject.tickerFunc),i.animationObject.setEndState(),this.unlockStageObject(i.targetKey??"default"),this.stageAnimations.splice(r,1)}}removeAnimationWithSetEffects(e){var n,i,a;const r=this.stageAnimations.findIndex(o=>o.key===e);if(r>=0){const o=this.stageAnimations[r];(n=this.currentApp)==null||n.ticker.remove(o.animationObject.tickerFunc),o.animationObject.setEndState();const s=((a=(i=o.animationObject).getEndFilterEffect)==null?void 0:a.call(i))??{};if(this.unlockStageObject(o.targetKey??"default"),o.targetKey){const c=this.getStageObjByKey(o.targetKey);if(c){const l={alpha:c.pixiContainer.alpha,scale:{x:c.pixiContainer.scale.x,y:c.pixiContainer.scale.y},position:{x:c.pixiContainer.x,y:c.pixiContainer.y},rotation:c.pixiContainer.rotation,blur:c.pixiContainer.blur,...s};let u={target:o.targetKey,transform:l};ce.dispatch(qn.updateEffect(u))}}this.stageAnimations.splice(r,1)}}performMouthSyncAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.mouthAnimation.open,half_open:r.mouthAnimation.halfOpen,closed:r.mouthAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new qa(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const g=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(g/2),i==="right"&&a.setBaseX(this.stageWidth-g/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}performBlinkAnimation(e,r,n,i){var s;const a=(s=this.getStageObjByKey(e))==null?void 0:s.pixiContainer;if(!a)return;const o={open:r.blinkAnimation.open,closed:r.blinkAnimation.close};this.loadAsset(o[n],()=>{const c=this.assetLoader.resources[o[n]].texture;if(!c)return;const l=c.width,u=c.height,f=this.stageWidth/l,h=this.stageHeight/u,p=Math.min(f,h),d=new qa(c);d.scale.x=p,d.scale.y=p,d.anchor.set(.5),d.position.y=this.stageHeight/2;const g=l*p,m=u*p;a.setBaseY(this.stageHeight/2),m<this.stageHeight&&a.setBaseY(this.stageHeight/2+this.stageHeight-m/2),i==="center"&&a.setBaseX(this.stageWidth/2),i==="left"&&a.setBaseX(g/2),i==="right"&&a.setBaseX(this.stageWidth-g/2),a.pivot.set(0,this.stageHeight/2),a.addChild(d)})}addBg(e,r,n,i){var h,p;const a=this.assetLoader,o=new TC;this.backgroundObjects.findIndex(d=>d.key===e)>=0&&this.removeStageObjectByKey(e);const l=(d,g,m,v)=>{fetch(d).then(_=>_.arrayBuffer()).then(C7e.fromBuffer).then(_=>{g&&(_.transform=g.transform),m&&(_.width=Tt(m)),v&&(_.height=Tt(v)),o.addChild(_)})};this.backgroundContainer.addChild(o);const u=ap();this.backgroundObjects.push({uuid:u,key:e,pixiContainer:o,sourceUrl:r,sourceType:r.includes(".gif")?"gif":"img",sourceExt:this.getExtName(r)});const f=()=>{var g,m;const d=(m=(g=a.resources)==null?void 0:g[r])==null?void 0:m.texture;if(d&&this.getStageObjByUuid(u)){const v=d.width,_=d.height,y=this.stageWidth/v,b=this.stageHeight/_,w=Math.max(y,b),E=new qa(d);if(E.scale.x=w,E.scale.y=w,E.anchor.set(.5),r.includes(".gif")){l(r,E,n,i);return}E.position.y=this.stageHeight/2,o.setBaseX(this.stageWidth/2),o.setBaseY(this.stageHeight/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(p=(h=a.resources)==null?void 0:h[r])!=null&&p.texture?f():this.loadAsset(r,f)}addFigure(e,r,n="center",i=!1){var f,h;const a=this.assetLoader,o=new TC;this.figureObjects.findIndex(p=>p.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=ap();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"img",sourceExt:this.getExtName(r)});const u=()=>{var g,m;const p=(m=(g=a.resources)==null?void 0:g[r])==null?void 0:m.texture;let d=[];if(p&&this.getStageObjByUuid(l)){const v=a.resources[r],_=[];if(i){const{frameDelay:b,textures:w,frameCount:E}=v;d=b,Object.values(w||[]).forEach(C=>{_.push(C)})}(b=>{const w=p.width,E=p.height,C=this.stageWidth/w,T=this.stageHeight/E,A=Math.min(C,T),R=i?new IW(b):new qa(p);e.startsWith("popImg-")||e!=="bg-popImg"?(R.scale.x=2,R.scale.y=2):(R.scale.x=A,R.scale.y=A),R.anchor.set(.5),R.position.y=this.stageHeight/2;const O=w*A,P=E*A;if(o.setBaseY(this.stageHeight/2),P<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-P/2),e.startsWith("popImg-")){R.x=680,R.y=420;const k=Vp().width===2560?2:3,M=90*k,B=n==="center"&&300*k||n==="left"&&20||n==="right"&&300*k*2-20||0;o.setBaseX(B),o.setBaseY(M)}else n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(O/2),n==="right"&&o.setBaseX(this.stageWidth-O/2);if(i){const k=R;let M=0,B=1;const D=()=>{k.gotoAndStop(M),setTimeout(()=>{M===b.length-1&&(B=-1),M===0&&(B=1),M+=B,D()},d[M])};D()}e.startsWith("popImg-")?o.pivot.set(0,0):o.pivot.set(0,this.stageHeight/2),o.addChild(R)})(_)}};this.cacheGC(),(h=(f=a.resources)==null?void 0:f[r])!=null&&h.texture?u():this.loadAsset(r,u,"",i)}addSpineFigure(e,r,n="center"){var f;const i=`spine-${r}`,a=this.assetLoader,o=new TC;this.figureObjects.findIndex(h=>h.key===e)>=0&&this.removeStageObjectByKey(e),this.figureContainer.addChild(o);const l=ap();this.figureObjects.push({uuid:l,key:e,pixiContainer:o,sourceUrl:r,sourceType:"live2d",sourceExt:this.getExtName(r)});const u=()=>{var p,d;console.log(this.assetLoader.resources);const h=(p=this.assetLoader.resources)==null?void 0:p[i];if(h&&this.getStageObjByUuid(l)){const g=new i7e(h.spineData),m=((d=h==null?void 0:h.spineData)==null?void 0:d.y)??0;console.log(g);const v=g.width,_=g.height,y=this.stageWidth/v,b=this.stageHeight/_;g.y=-(b*m)/2,console.log(g.state),g.state.setAnimation(0,"07",!0);const w=Math.min(y,b),E=new qa;E.addChild(g),E.scale.x=w,E.scale.y=w,E.anchor.set(.5),E.position.y=this.stageHeight/2;const C=v*w,T=_*w;o.setBaseY(this.stageHeight/2),T<this.stageHeight&&o.setBaseY(this.stageHeight/2+this.stageHeight-T/2),n==="center"&&o.setBaseX(this.stageWidth/2),n==="left"&&o.setBaseX(C/2),n==="right"&&o.setBaseX(this.stageWidth-C/2),o.pivot.set(0,this.stageHeight/2),o.addChild(E)}};this.cacheGC(),(f=a.resources)!=null&&f[r]?u():this.loadAsset(r,u,i)}changeModelMotionByKey(e,r){var a,o;const n=this.figureObjects.find(s=>s.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(s=>s.target===e);if(n&&(i==null?void 0:i.motion)!==r){const c=n.pixiContainer.children;for(const l of c){let u=r,f=0,h=3;const p=(l==null?void 0:l.internalModel)??void 0;(o=(a=p==null?void 0:p.motionManager)==null?void 0:a.stopAllMotions)==null||o.call(a),l.motion(u,f,h)}this.updateL2dMotionByKey(e,r)}}changeModelExpressionByKey(e,r){const n=this.figureObjects.find(a=>a.key===e);if((n==null?void 0:n.sourceType)!=="live2d")return;const i=this.live2dFigureRecorder.find(a=>a.target===e);if(n&&(i==null?void 0:i.expression)!==r){const o=n.pixiContainer.children;for(const s of o)s.expression(r);this.updateL2dExpressionByKey(e,r)}}setModelMouthY(e,r){var o,s,c,l,u,f,h,p,d;function n(g){return g<50?0:(g-50)/50}const i=n(r),a=this.figureObjects.find(g=>g.key===e);if(a){const m=a.pixiContainer.children;for(const v of m)v!=null&&v.internalModel&&((s=(o=v==null?void 0:v.internalModel)==null?void 0:o.coreModel)!=null&&s.setParamFloat&&((u=(l=(c=v==null?void 0:v.internalModel)==null?void 0:c.coreModel)==null?void 0:l.setParamFloat)==null||u.call(l,"PARAM_MOUTH_OPEN_Y",i)),(h=(f=v==null?void 0:v.internalModel)==null?void 0:f.coreModel)!=null&&h.setParameterValueById&&((d=(p=v==null?void 0:v.internalModel)==null?void 0:p.coreModel)==null||d.setParameterValueById("ParamMouthOpenY",i)))}}getStageObjByKey(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.key===e)}getStageObjByUuid(e){return[...this.figureObjects,...this.backgroundObjects].find(r=>r.uuid===e)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(e){const r=this.figureObjects.findIndex(i=>i.key===e),n=this.backgroundObjects.findIndex(i=>i.key===e);if(r>=0){const i=this.figureObjects[r];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(r,1)}if(n>=0){const i=this.backgroundObjects[n];for(const a of i.pixiContainer.children)a.destroy();i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){Zz()}updateL2dMotionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].motion=r:this.live2dFigureRecorder.push({target:e,motion:r,expression:""})}updateL2dExpressionByKey(e,r){const n=this.live2dFigureRecorder.findIndex(i=>i.target===e);n>=0?this.live2dFigureRecorder[n].expression=r:this.live2dFigureRecorder.push({target:e,motion:"",expression:r})}loadAsset(e,r,n,i){this.loadQueue.unshift({url:e,callback:r,name:n,extraInfo:{isApng:i??!1}}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const e=this.loadQueue.shift();if(e)try{this.assetLoader.resources[e.url]?(e.callback(),this.callLoader()):e.name?this.assetLoader.add(e.name,e.url).load(()=>{e.callback(),this.callLoader()}):this.assetLoader.add(e.url).load(()=>{e.callback(),this.callLoader()})}catch(r){Je.fatal("PIXI Loader ",r),e.callback(),this.callLoader()}}}updateFps(){$C==null||$C(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){const r=this.lockTransformTarget.findIndex(n=>n===e);r>=0&&this.lockTransformTarget.splice(r,1)}getExtName(e){return e.split(".").pop()??"png"}}const $C=(()=>{const t=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(e=>e);if(!t){console.error("requestAnimationFrame is not supported!");return}return(e=60)=>{if(e<1)throw new Error("targetCount cannot be less than 1.");const r=Date.now();let n=0;return new Promise(i=>{(function a(){t(()=>{if(++n>=e){const o=Date.now()-r,s=n/o*1e3;return i(s)}a()})})()})}})(),A7e="_Toaster_container_1phox_1",I7e="_Toaster_image_1phox_16",R7e="_Toaster_text_1phox_27",P7e="_Toaster_fadeIn_1phox_34",O7e="_K_Toaster_fadein_1phox_1",k7e="_Toaster_slideIn_1phox_38",F7e="_K_Toaster_slidein_1phox_1",N7e="_Toaster_out_1phox_45",M7e="_K_Toaster_fadeout_1phox_1",op={Toaster_container:A7e,Toaster_image:I7e,Toaster_text:R7e,Toaster_fadeIn:P7e,K_Toaster_fadein:O7e,Toaster_slideIn:k7e,K_Toaster_slidein:F7e,Toaster_out:N7e,K_Toaster_fadeout:M7e};let L7e=510;function B7e(){const[t,e]=de.useState(!1),[r,n]=de.useState({}),[i,a]=de.useState(!1),o=de.useRef({showTimer:null,animationTimer:null});if(de.useEffect(()=>{const c=()=>{o.current.showTimer&&(clearTimeout(o.current.showTimer),o.current.showTimer=null),o.current.animationTimer&&(clearTimeout(o.current.animationTimer),o.current.animationTimer=null),a(!1)},l=window.pubsub.subscribe("toaster",u=>{u.show&&(n({text:u.text,image:u.image,animation:u.animation||"fadeIn"}),c(),e(!0),o.current.showTimer=setTimeout(()=>{a(!0),o.current.animationTimer=setTimeout(()=>{e(!1),a(!1)},L7e)},u.duration??3e3))});return()=>{l(),c()}},[]),!t)return null;const s=[op.Toaster_container,r.image?op.Toaster_image:"",r.animation?op[`Toaster_${r.animation}`]:"",i?op.Toaster_out:""].join(" ");return F.jsxs("div",{className:s,children:[r.image&&F.jsx(Ev,{src:r.image}),r.text&&F.jsx("div",{className:op.Toaster_text,children:r.text})]})}const D7e="_BuyGame_container_1jftv_2",U7e="_BuyGame_inner_1jftv_15",j7e="_fadeIn_1jftv_1",$7e="_BuyGame_close_1jftv_20",G7e="_BuyGame_price_1jftv_26",V7e="_BuyGame_button_1jftv_36",H7e="_BuyGame_pay_container_1jftv_60",z7e="_BuyGame_pay_tip_1jftv_70",X7e="_BuyGame_pay_close_1jftv_83",W7e="_BuyGame_pay_title_1jftv_96",Y7e="_BuyGame_select_text_1jftv_108",q7e="_BuyGame_info_block_1jftv_118",K7e="_BuyGame_info_row_1jftv_127",Z7e="_BuyGame_game_cover_1jftv_132",J7e="_BuyGame_game_cover_inner_1jftv_141",Q7e="_BuyGame_info_name_1jftv_154",eVe="_BuyGame_info_text_1jftv_163",tVe="_BuyGame_info_tag_1jftv_171",rVe="_BuyGame_info_price_1jftv_178",nVe="_BuyGame_info_price_stone_1jftv_196",iVe="_BuyGame_price_row_1jftv_203",aVe="_BuyGame_price_stone_1jftv_210",oVe="_BuyGame_price_text_1jftv_217",sVe="_BuyGame_price_button_1jftv_225",Nr={BuyGame_container:D7e,BuyGame_inner:U7e,fadeIn:j7e,BuyGame_close:$7e,BuyGame_price:G7e,BuyGame_button:V7e,BuyGame_pay_container:H7e,BuyGame_pay_tip:z7e,BuyGame_pay_close:X7e,BuyGame_pay_title:W7e,BuyGame_select_text:Y7e,BuyGame_info_block:q7e,BuyGame_info_row:K7e,BuyGame_game_cover:Z7e,BuyGame_game_cover_inner:J7e,BuyGame_info_name:Q7e,BuyGame_info_text:eVe,BuyGame_info_tag:tVe,BuyGame_info_price:rVe,BuyGame_info_price_stone:nVe,BuyGame_price_row:iVe,BuyGame_price_stone:aVe,BuyGame_price_text:oVe,BuyGame_price_button:sVe},lVe=""+new URL("buy-game-success.png",import.meta.url).href;function uVe(){const[t,e]=de.useState(!1),{playSeEnter:r,playSeClick:n}=Wd(),{gameInfo:i}=ft(c=>c.storeData),a=de.useRef({buyGameCallback:()=>{},startGameCallback:()=>{}}),o=de.useRef(0),s=async()=>{n();const c=await LV();window.pubsub.publish("loading",{loading:!1}),await K1(2e3),c.code===0||c.code===10053?(c.code===0&&window.pubsub.publish("toaster",{show:!0,image:lVe,animation:"slideIn"}),e(!1),a.current.startGameCallback()):c.code===10014?(window.pubsub.publish("toaster",{show:!0,text:", "}),window.pubsub.publish("rechargeModal",{})):window.pubsub.publish("toaster",{show:!0,text:c.message})};return de.useEffect(()=>window.pubsub.subscribe("showBuyGameModal",({buyGameCallback:l,startGameCallback:u})=>{e(!0),a.current={buyGameCallback:l,startGameCallback:u}}),[]),t?F.jsx("div",{className:Nr.BuyGame_container,children:F.jsxs("div",{className:Nr.BuyGame_pay_container,children:[F.jsx("div",{className:Nr.BuyGame_pay_tip}),F.jsx("div",{className:`${Nr.BuyGame_pay_close} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Nr.BuyGame_pay_close} interactive btn-clicked`,o.current=Date.now()},onMouseUp:c=>{const l=Date.now()-o.current;let u=c.currentTarget;setTimeout(()=>{u.className=`${Nr.BuyGame_pay_close} interactive`,u=null,setTimeout(()=>{n(),e(!1),a.current.buyGameCallback()},320)},l-350>0?0:350-l)}}),F.jsx("div",{className:Nr.BuyGame_pay_title,children:""}),F.jsx("div",{className:Nr.BuyGame_select_text,children:"1"}),F.jsxs("div",{className:Nr.BuyGame_info_block,children:[F.jsxs("div",{className:Nr.BuyGame_info_row,children:[F.jsx("div",{className:Nr.BuyGame_game_cover,children:F.jsx("div",{className:Nr.BuyGame_game_cover_inner,children:F.jsx("img",{src:(i==null?void 0:i.coverPic)||""})})}),F.jsxs("div",{children:[F.jsx("div",{className:Nr.BuyGame_info_name,children:(i==null?void 0:i.name)||""}),F.jsx("div",{className:Nr.BuyGame_info_tag,children:i==null?void 0:i.tagList.map(c=>F.jsx("div",{className:Nr.BuyGame_info_text,children:c.tagName},c.tagId))})]})]}),F.jsxs("div",{className:Nr.BuyGame_info_row,children:[F.jsx("span",{className:Nr.BuyGame_info_text,children:":"}),F.jsxs("div",{className:Nr.BuyGame_info_price,children:[(i==null?void 0:i.salesAmount)||0,F.jsx("span",{className:Nr.BuyGame_info_price_stone})]})]})]}),F.jsxs("div",{className:Nr.BuyGame_price_row,children:[F.jsxs("div",{className:Nr.BuyGame_info_row,children:[F.jsx("span",{className:Nr.BuyGame_price_text,style:{marginRight:Tt(4)},children:":"}),F.jsxs("div",{className:Nr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,F.jsx("span",{className:Nr.BuyGame_price_stone})]})]}),F.jsxs("div",{className:Nr.BuyGame_info_row,children:[F.jsx("span",{className:Nr.BuyGame_price_text,style:{marginRight:Tt(4)},children:":"}),F.jsxs("div",{className:Nr.BuyGame_price_text,children:[(i==null?void 0:i.salesAmount)||0,F.jsx("span",{className:Nr.BuyGame_price_stone})]}),F.jsx("div",{className:`${Nr.BuyGame_price_button} interactive`,onMouseEnter:r,onMouseDown:c=>{const l=c.currentTarget;l.className=`${Nr.BuyGame_price_button} interactive btn-clicked`,o.current=Date.now()},onMouseUp:c=>{const l=Date.now()-o.current;let u=c.currentTarget;setTimeout(()=>{u.className=`${Nr.BuyGame_price_button} interactive`,u=null,setTimeout(s,320)},l-350>0?0:350-l)}})]})]})]})}):null}const cVe=""+new URL("xingshiIcon.webp",import.meta.url).href,fVe=""+new URL("modal-close.png",import.meta.url).href,hVe="_Recharge_container_1c39r_1",dVe="_Recharge_inner_1c39r_14",pVe="_fadeIn_1c39r_1",vVe="_RechargeModal_modalTitle_1c39r_23",gVe="_RechargeModal_rechargeModalItem_1c39r_40",mVe="_RechargeModal_rechargeModalItemChecked_1c39r_57",_Ve="_RechargeModal_rechargeCardIcon_1c39r_61",yVe="_RechargeModal_rechargeModalCard_1c39r_71",xVe="_RechargeModal_rechargeModalList_1c39r_78",bVe="_RechargeModal_rechargeCardDiscount_1c39r_87",wVe="_RechargeModal_rechargeModalItemHead_1c39r_114",EVe="_RechargeModal_rechargeModalItemContent_1c39r_144",SVe="_RechargeModal_rechargeModalItemBtn_1c39r_166",CVe="_RechargeModal_rechargeModalItemImg_1c39r_170",TVe="_RechargeModal_rechargeModalListBottom_1c39r_198",AVe="_RechargeModal_modalFooter_1c39r_208",IVe="_RechargeModal_modalFooterLeft_1c39r_223",RVe="_RechargeModal_modalFooterRight_1c39r_227",PVe="_RechargeModal_modalFooterConfirm_1c39r_236",OVe="_Recharge_modal_close_1c39r_255",Cn={Recharge_container:hVe,Recharge_inner:dVe,fadeIn:pVe,RechargeModal_modalTitle:vVe,RechargeModal_rechargeModalItem:gVe,RechargeModal_rechargeModalItemChecked:mVe,RechargeModal_rechargeCardIcon:_Ve,RechargeModal_rechargeModalCard:yVe,RechargeModal_rechargeModalList:xVe,RechargeModal_rechargeCardDiscount:bVe,RechargeModal_rechargeModalItemHead:wVe,RechargeModal_rechargeModalItemContent:EVe,RechargeModal_rechargeModalItemBtn:SVe,RechargeModal_rechargeModalItemImg:CVe,RechargeModal_rechargeModalListBottom:TVe,RechargeModal_modalFooter:AVe,RechargeModal_modalFooterLeft:IVe,RechargeModal_modalFooterRight:RVe,RechargeModal_modalFooterConfirm:PVe,Recharge_modal_close:OVe};function kVe(){const[t,e]=de.useState(!1),{playSeEnter:r,playSeClick:n}=Wd();ft(d=>d.storeData);const i=de.useRef({successCallback:()=>{},closeCallback:()=>{}}),[a,o]=de.useState([]),[s,c]=de.useState(),l=de.useRef(0),u=async d=>{var m,v;const g=await l2e(d);g.code===0?((m=g.data)==null?void 0:m.pay_status)===2?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),i.current.successCallback(),e(!1)):((v=g.data)==null?void 0:v.pay_status)===3?(window.pubsub.publish("toaster",{show:!0,text:""}),window.pubsub.publish("loading",{loading:!1}),e(!1)):setTimeout(()=>{u(d)},3e3):(window.pubsub.publish("toaster",{show:!0,text:g.message}),window.pubsub.publish("loading",{loading:!1}),e(!1))},f=async()=>{r(),window.pubsub.publish("loading",{loading:!0});const d=await s2e((s==null?void 0:s.id)||0);if(d.code===0){const g=d.data.order_no;u(g)}else window.pubsub.publish("toaster",{show:!0,text:d.message}),window.pubsub.publish("loading",{loading:!1})},h=async()=>{n(),f()},p=async()=>{var g;window.pubsub.publish("loading",{loading:!0});const d=await o2e();d.code===0?(o(Yd.chunk(d.data||[],3)),c((g=d.data)==null?void 0:g[0])):window.pubsub.publish("toaster",{show:!0,text:d.message}),window.pubsub.publish("loading",{loading:!1})};return de.useEffect(()=>window.pubsub.subscribe("rechargeModal",({successCallback:g,closeCallback:m})=>{e(!0),p(),g&&(i.current.successCallback=g),m&&(i.current.closeCallback=m)}),[]),!t||!a.length?null:F.jsx("div",{className:Cn.Recharge_container,children:F.jsxs("div",{className:Cn.Recharge_inner,children:[F.jsx("div",{className:Cn.RechargeModal_modalTitle,children:F.jsx("div",{children:""})}),F.jsx(Ev,{src:fVe,className:Cn.Recharge_modal_close,onMouseEnter:r,onMouseDown:d=>{const g=d.currentTarget;g.className=`${Cn.Recharge_modal_close} btn-clicked`,l.current=Date.now()},onMouseUp:d=>{const g=Date.now()-l.current;let m=d.currentTarget;setTimeout(()=>{m.className=Cn.Recharge_modal_close,m=null,setTimeout(()=>{n(),e(!1),i.current.closeCallback()},320)},g-350>0?0:350-g)}}),F.jsx("div",{className:Cn.RechargeModal_rechargeModalCard,children:a.map((d,g)=>F.jsxs("div",{className:Cn.RechargeModal_rechargeModalList,children:[d.map((m,v)=>F.jsxs("div",{className:`${Cn.RechargeModal_rechargeModalItem} ${m===s?Cn.RechargeModal_rechargeModalItemChecked:""} interactive`,onMouseEnter:r,onClick:()=>{n(),c(m)},children:[F.jsx("div",{className:Cn.RechargeModal_rechargeCardIcon}),!!m.discount&&F.jsxs("div",{className:Cn.RechargeModal_rechargeCardDiscount,children:[F.jsx("span",{children:m.discount}),""]}),F.jsx("div",{className:Cn.RechargeModal_rechargeModalItemHead,children:F.jsxs("div",{children:[m.bonus_packs_title,F.jsx("img",{src:cVe,alt:""}),m.bonus_packs_num]})}),F.jsxs("div",{className:Cn.RechargeModal_rechargeModalItemContent,children:[F.jsx("img",{src:m.icon||"http://dummyimage.com/100x100",alt:"",className:Cn.RechargeModal_rechargeModalItemImg}),F.jsxs("div",{children:[F.jsx("span",{children:"X"})," ",m.beans]})]}),F.jsxs("div",{className:Cn.RechargeModal_rechargeModalItemBtn,children:[F.jsx("span",{children:"$"}),m.price]})]},v)),F.jsx("div",{className:Cn.RechargeModal_rechargeModalListBottom})]},g))}),F.jsxs("div",{className:Cn.RechargeModal_modalFooter,children:[F.jsx("div",{className:Cn.RechargeModal_modalFooterLeft,children:""}),F.jsxs("div",{className:Cn.RechargeModal_modalFooterRight,children:[F.jsxs("span",{children:["$",s==null?void 0:s.price]}),F.jsx("div",{className:Cn.RechargeModal_modalFooterConfirm,onMouseEnter:r,onMouseDown:d=>{const g=d.currentTarget;g.className=`${Cn.RechargeModal_modalFooterConfirm} btn-clicked`,l.current=Date.now()},onMouseUp:d=>{const g=Date.now()-l.current;let m=d.currentTarget;setTimeout(()=>{m.className=Cn.RechargeModal_modalFooterConfirm,m=null,setTimeout(h,320)},g-350>0?0:350-g)}})]})]})]})})}const FVe="_progressAchievement_s0txt_2",NVe="_bg_s0txt_11",MVe="_btn_s0txt_17",LVe="_contentContainer_s0txt_24",BVe="_chapterTag_s0txt_46",DVe="_affinityTag_s0txt_65",UVe="_achievementTag_s0txt_84",jVe="_goBack_s0txt_103",pc={progressAchievement:FVe,bg:NVe,btn:MVe,contentContainer:LVe,chapterTag:BVe,affinityTag:DVe,achievementTag:UVe,goBack:jVe},$Ve="_affinity_d5bi0_1",GVe="_affinityList_d5bi0_13",GC={affinity:$Ve,affinityList:GVe},WY=()=>{const{playSeClick:t,playSeEnter:e}=On(),r=ft(o=>o.GUI),n=ft(o=>o.saveData.unlockAffinityData),i=ft(o=>o.GUI.gameUIConfigs[Ln.affinity]);de.useEffect(()=>{r.showAffinity&&gH()},[r.showAffinity]);const a=()=>{Sf()};return F.jsx(F.Fragment,{children:r.showAffinity&&F.jsxs("div",{className:GC.affinity,children:[F.jsx(Jn,{item:i.buttons.Affinity_back_button,defaultClass:`${GC.goBack} inactive`,onClick:a,onMouseEnter:e}),F.jsx(Jn,{item:i.other[vv.Affinity_title]}),F.jsx(hl,{item:i.other[vv.Affinity_bg],defaultClass:GC.affinityBg}),n==null?void 0:n.map((o,s)=>{const{name:c,url:l,x:u,y:f,isUnlocked:h}=o;return h?F.jsx(Ev,{src:jt(l,Ut.ui),alt:c,style:{position:"absolute",left:Tt(u),top:Tt(f)}},s):null}),F.jsx(pz,{})]})})},VVe=()=>{const{playSeClick:t,playSeEnter:e}=On(),r=en(),n=ft(c=>c.GUI),i=ft(c=>c.GUI.gameUIConfigs[Ln.progressAndAchievement]),[a,o]=de.useState("chapter"),s=()=>{Sf(),r(yt({component:"showAffinity",visibility:!1})),r(yt({component:"showProgressAndAchievement",visibility:!1})),r(yt({component:"showAchievement",visibility:!1})),r(yt({component:"showStoryLine",visibility:!1}))};return de.useEffect(()=>{n.showProgressAndAchievement&&vA()},[n.showProgressAndAchievement]),F.jsx(F.Fragment,{children:n.showProgressAndAchievement&&F.jsxs("div",{className:pc.progressAchievement,children:[F.jsx(hl,{defaultClass:pc.bg,item:i.other[pv.Progress_bg]}),F.jsx(Jn,{item:i.buttons.Progress_back_button,defaultClass:`${pc.goBack} interactive`,onClick:s,onMouseEnter:e}),F.jsx(Jn,{item:i.buttons.Progress_chapter_button,defaultClass:`${pc.chapterTag} interactive`,type:"checkbox",checked:a==="chapter",onClick:()=>{vA(),o("chapter")},onMouseEnter:e}),F.jsx(Jn,{item:i.buttons.Progress_achievement_button,defaultClass:`${pc.achievementTag} interactive`,type:"checkbox",checked:a==="achievement",onClick:()=>{JH(),o("achievement")},onMouseEnter:e}),F.jsx(Jn,{item:i.buttons.Progress_affinity_button,defaultClass:`${pc.affinityTag} interactive`,type:"checkbox",checked:a==="affinity",onClick:()=>{OAe(),o("affinity")},onMouseEnter:e}),F.jsxs(ez,{defaultClass:pc.contentContainer,item:i.other[pv.Progress_content_container],children:[a==="chapter"&&F.jsx(mz,{}),a==="achievement"&&F.jsx(_z,{}),a==="affinity"&&F.jsx(WY,{})]})]})})};function HVe(){const[t,e]=de.useState(!1),r=en(),n=ft(i=>i.GUI);return de.useEffect(()=>{_Pe(),vPe();const i=localStorage.getItem("editor-token"),a=new URLSearchParams(window.location.search).get("token");if(a||i){e(!0),r(T0e(a||""));let o={current:{gameReady:!1,previewMode:!1,previewModeValue:!1}};const s=()=>{o.current.gameReady&&!o.current.previewMode||(W.gameplay.pixiStage=new T7e,o.current.previewModeValue?a2e().then(c=>{window.pubsub.publish("gameInfoReady");const l=localStorage.getItem("editorUserInfo")||"{}",u=JSON.parse(l);c.code===0&&(c.data.authorId,u.userId)}):(GO().then(c=>{c.code===0?window.pubsub.publish("gameInfoReady"):(window.pubsub.publish("gameInfoReady"),es({title:`
`,rightText:"",rightFunc:()=>{window.location.reload()}}))}),i2e()))};window.pubsub.subscribe("gameReady",()=>{o.current.gameReady=!0,s()}),window.pubsub.subscribe("isPreviewMode",c=>{o.current.previewMode=!0,o.current.previewModeValue=c,r(r2e(c)),s()})}else alert("")},[]),tFe(),t?F.jsxs("div",{className:"App",children:[F.jsx(kVe,{}),F.jsx(uVe,{}),F.jsx(B7e,{}),F.jsx(pFe,{}),F.jsx(Q4e,{}),F.jsx(L3e,{}),F.jsx(B3e,{}),F.jsx($4e,{}),F.jsx(D3e,{}),F.jsx(tPe,{}),F.jsx(sPe,{}),F.jsx(M4e,{}),F.jsx(hke,{}),F.jsx(QSe,{}),F.jsx(eFe,{}),F.jsx(z4e,{}),!n.showProgressAndAchievement&&F.jsx(mz,{}),!n.showProgressAndAchievement&&F.jsx(_z,{}),F.jsx(kNe,{}),F.jsx(UNe,{}),F.jsx(cFe,{}),F.jsx(VVe,{}),!n.showProgressAndAchievement&&F.jsx(WY,{})]}):null}function Su(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kR(t,e){return kR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kR(t,e)}function $b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kR(t,e)}function Rg(t,e){if(e&&(Ai(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Su(t)}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ls(t)}function zVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XVe(t){return lz(t)||zVe(t)||uz(t)||cz()}function wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ej(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WVe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},YVe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};is(this,t),this.init(e,r)}return as(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||WVe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,Ej(Ej({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Ss=new YVe,$u=function(){function t(){is(this,t),this.observers={}}return as(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function sp(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function Sj(t){return t==null?"":""+t}function qVe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function x4(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function Cj(t,e,r){var n=x4(t,e,Object),i=n.obj,a=n.k;i[a]=r}function KVe(t,e,r,n){var i=x4(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function Fx(t,e){var r=x4(t,e),n=r.obj,i=r.k;if(n)return n[i]}function ZVe(t,e,r){var n=Fx(t,r);return n!==void 0?n:Fx(e,r)}function YY(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):YY(t[n],e[n],r):t[n]=e[n]);return t}function ch(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var JVe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function QVe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return JVe[e]}):t}var Gb=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,eHe=[" ",",","?","!",";"];function tHe(t,e,r){e=e||"",r=r||"";var n=eHe.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function Nx(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),c=i[s];c===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),c=i[s];if(c===void 0)return;if(c===null)return null;if(e.endsWith(s)){if(typeof c=="string")return c;if(s&&typeof c[s]=="string")return c[s]}var l=n.slice(a+o).join(r);return l?Nx(c,l,r):void 0}i=i[n[a]]}return i}}function Tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rHe(t){var e=nHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rg(this,i)}}function nHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var iHe=function(t){$b(r,t);var e=rHe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return is(this,r),i=e.call(this),Gb&&$u.call(Su(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return as(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(u=i.split("."));var f=Fx(this.data,u);return f||!l||typeof o!="string"?f:Nx(this.data&&this.data[i]&&this.data[i][a],o,c)}},{key:"addResource",value:function(i,a,o,s){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,u=[i,a];o&&(u=u.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(u=i.split("."),s=a,a=u[1]),this.addNamespaces(a),Cj(this.data,u,s),c.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,a,c,o[c],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=Fx(this.data,u)||{};s?YY(f,o,c):f=A_(A_({},f),o),Cj(this.data,u,f),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?A_(A_({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}($u),qY={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aHe(t){var e=oHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rg(this,i)}}function oHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ij={},Rj=function(t){$b(r,t);var e=aHe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return is(this,r),i=e.call(this),Gb&&$u.call(Su(i)),qVe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Su(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Ss.create("translator"),i}return as(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!tHe(i,o,s);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(c=h.shift()),i=h.join(s)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,o){var s=this;if(Ai(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),Ai(a)==="object"&&(a=Qi({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,h=u.namespaces,p=h[h.length-1],d=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(g){var m=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(p).concat(m).concat(f),usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:"".concat(p).concat(m).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:d,usedNS:p}:f}var v=this.resolve(i,a),_=v&&v.res,y=v&&v.usedKey||f,b=v&&v.exactUsedKey||f,w=Object.prototype.toString.apply(_),E=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,A=typeof _!="string"&&typeof _!="boolean"&&typeof _!="number";if(T&&_&&A&&E.indexOf(w)<0&&!(typeof C=="string"&&w==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,_,Qi(Qi({},a),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(v.res=R,v):R}if(l){var O=w==="[object Array]",P=O?[]:{},k=O?b:y;for(var M in _)if(Object.prototype.hasOwnProperty.call(_,M)){var B="".concat(k).concat(l).concat(M);P[M]=this.translate(B,Qi(Qi({},a),{joinArrays:!1,ns:h})),P[M]===B&&(P[M]=_[M])}_=P}}else if(T&&typeof C=="string"&&w==="[object Array]")_=_.join(C),_&&(_=this.extendTranslation(_,i,a,o));else{var D=!1,H=!1,ee=a.count!==void 0&&typeof a.count!="string",ne=r.hasDefaultValue(a),Y=ee?this.pluralResolver.getSuffix(d,a.count,a):"",U=a["defaultValue".concat(Y)]||a.defaultValue;!this.isValidLookup(_)&&ne&&(D=!0,_=U),this.isValidLookup(_)||(H=!0,_=f);var X=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,V=X&&H?void 0:_,G=ne&&U!==_&&this.options.updateMissing;if(H||D||G){if(this.logger.log(G?"updateKey":"missingKey",d,p,f,G?U:_),l){var te=this.resolve(f,Qi(Qi({},a),{},{keySeparator:!1}));te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var oe=[],ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(var le=0;le<ge.length;le++)oe.push(ge[le]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(a.lng||this.language):oe.push(a.lng||this.language);var ye=function(ke,Ee,Se){var De=ne&&Se!==_?Se:V;s.options.missingKeyHandler?s.options.missingKeyHandler(ke,p,Ee,De,G,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ke,p,Ee,De,G,a),s.emit("missingKey",ke,p,Ee,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?oe.forEach(function(Le){s.pluralResolver.getSuffixes(Le,a).forEach(function(ke){ye([Le],f+ke,a["defaultValue".concat(ke)]||U)})}):ye(oe,f,U))}_=this.extendTranslation(_,i,a,v,o),H&&_===f&&this.options.appendNamespaceToMissingKey&&(_="".concat(p,":").concat(f)),(H||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(p,":").concat(f):f,D?_:void 0):_=this.options.parseMissingKeyHandler(_))}return c?(v.res=_,v):_}},{key:"extendTranslation",value:function(i,a,o,s,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Qi(Qi({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Qi(Qi({},o),{interpolation:Qi(Qi({},this.options.interpolation),o.interpolation)}));var u=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var p=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(p=Qi(Qi({},this.options.interpolation.defaultVariables),p)),i=this.interpolator.interpolate(i,p,o.lng||this.language,o),u){var d=i.match(this.interpolator.nestingRegexp),g=d&&d.length;f<g&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var _=arguments.length,y=new Array(_),b=0;b<_;b++)y[b]=arguments[b];return c&&c[0]===y[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(y[0]," in key: ").concat(a[0])),null):l.translate.apply(l,y.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var m=o.postProcess||this.options.postProcess,v=typeof m=="string"?[m]:m;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=qY.handle(v,i,a,this.options&&this.options.postProcessPassResolved?Qi({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var p=a.extractFromKey(h,o),d=p.key;c=d;var g=p.namespaces;a.options.fallbackNS&&(g=g.concat(a.options.fallbackNS));var m=o.count!==void 0&&typeof o.count!="string",v=m&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),_=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",y=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);g.forEach(function(b){a.isValidLookup(s)||(f=b,!Ij["".concat(y[0],"-").concat(b)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(Ij["".concat(y[0],"-").concat(b)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(y.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(function(w){if(!a.isValidLookup(s)){u=w;var E=[d];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,d,w,b,o);else{var C;m&&(C=a.pluralResolver.getSuffix(w,o.count,o));var T="".concat(a.options.pluralSeparator,"zero");if(m&&(E.push(d+C),v&&E.push(d+T)),_){var A="".concat(d).concat(a.options.contextSeparator).concat(o.context);E.push(A),m&&(E.push(A+C),v&&E.push(A+T))}}for(var R;R=E.pop();)a.isValidLookup(s)||(l=R,s=a.getResource(w,b,R,o))}}))})}}),{res:s,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}($u);function VC(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Pj=function(){function t(e){is(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ss.create("languageUtils")}return as(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=VC(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=VC(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=VC(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(c){o.indexOf(c)<0&&s(i.formatLanguageCode(c))}),o}}]),t}(),sHe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lHe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},uHe=["v1","v2","v3"],Oj={zero:0,one:1,two:2,few:3,many:4,other:5};function cHe(){var t={};return sHe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:lHe[e.fc]}})}),t}var fHe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};is(this,t),this.languageUtils=e,this.options=r,this.logger=Ss.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=cHe()}return as(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return Oj[o]-Oj[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!uHe.includes(this.options.compatibilityJSON)}}]),t}();function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Do(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fj(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=ZVe(t,e,r);return!a&&i&&typeof r=="string"&&(a=Nx(t,r,n),a===void 0&&(a=Nx(e,r,n))),a}var hHe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};is(this,t),this.logger=Ss.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return as(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:QVe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ch(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ch(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ch(n.nestingPrefix):n.nestingPrefixEscaped||ch("$t("),this.nestingSuffix=n.nestingSuffix?ch(n.nestingSuffix):n.nestingSuffixEscaped||ch(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(m){return m.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(o.formatSeparator)<0){var _=Fj(n,u,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(_,void 0,i,Do(Do(Do({},a),n),{},{interpolationkey:v})):_}var y=v.split(o.formatSeparator),b=y.shift().trim(),w=y.join(o.formatSeparator).trim();return o.format(Fj(n,u,b,o.options.keySeparator,o.options.ignoreJSONStructure),w,i,Do(Do(Do({},a),n),{},{interpolationkey:b}))};this.resetRegExp();var p=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,g=[{regex:this.regexpUnescape,safeValue:function(v){return f(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?f(o.escape(v)):f(v)}}];return g.forEach(function(m){for(l=0;s=m.regex.exec(r);){var v=s[1].trim();if(c=h(v),c===void 0)if(typeof p=="function"){var _=p(r,s,a);c=typeof _=="string"?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))c="";else if(d){c=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=Sj(c));var y=m.safeValue(c);if(r=r.replace(s[0],y),d?(m.regex.lastIndex+=c.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,c;function l(p,d){var g=this.nestingOptionsSeparator;if(p.indexOf(g)<0)return p;var m=p.split(new RegExp("".concat(g,"[ ]*{"))),v="{".concat(m[1]);p=m[0],v=this.interpolate(v,c);var _=v.match(/'/g),y=v.match(/"/g);(_&&_.length%2===0&&!y||y.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),d&&(c=Do(Do({},d),c))}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(p),b),"".concat(p).concat(g).concat(v)}return delete c.defaultValue,p}for(;o=this.nestingRegexp.exec(r);){var u=[];c=Do({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(p){return p.trim()});o[1]=h.shift(),u=h,f=!0}if(s=n(l.call(this,o[1].trim(),c),c),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=Sj(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),f&&(s=u.reduce(function(p,d){return i.format(p,d,a.lng,Do(Do({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function Nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dHe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),c=XVe(s),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function fh(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var pHe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};is(this,t),this.logger=Ss.create("formatter"),this.options=e,this.formats={number:fh(function(r,n){var i=new Intl.NumberFormat(r,al({},n));return function(a){return i.format(a)}}),currency:fh(function(r,n){var i=new Intl.NumberFormat(r,al(al({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:fh(function(r,n){var i=new Intl.DateTimeFormat(r,al({},n));return function(a){return i.format(a)}}),relativetime:fh(function(r,n){var i=new Intl.RelativeTimeFormat(r,al({},n));return function(a){return i.format(a,n.range||"day")}}),list:fh(function(r,n){var i=new Intl.ListFormat(r,al({},n));return function(a){return i.format(a)}})},this.init(e)}return as(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=fh(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),c=s.reduce(function(l,u){var f=dHe(u),h=f.formatName,p=f.formatOptions;if(a.formats[h]){var d=l;try{var g=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},m=g.locale||g.lng||o.locale||o.lng||i;d=a.formats[h](l,m,al(al(al({},p),o),g))}catch(v){a.logger.warn(v)}return d}else a.logger.warn("there was no format function for ".concat(h));return l},r);return c}}]),t}();function Mj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vHe(t){var e=gHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rg(this,i)}}function gHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mHe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var _He=function(t){$b(r,t);var e=vHe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return is(this,r),o=e.call(this),Gb&&$u.call(Su(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Ss.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return as(r,[{key:"queueLoad",value:function(i,a,o,s){var c=this,l={},u={},f={},h={};return i.forEach(function(p){var d=!0;a.forEach(function(g){var m="".concat(p,"|").concat(g);!o.reload&&c.store.hasResourceBundle(p,g)?c.state[m]=2:c.state[m]<0||(c.state[m]===1?u[m]===void 0&&(u[m]=!0):(c.state[m]=1,d=!1,u[m]===void 0&&(u[m]=!0),l[m]===void 0&&(l[m]=!0),h[g]===void 0&&(h[g]=!0)))}),d||(f[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),c=s[0],l=s[1];a&&this.emit("failedLoading",c,l,a),o&&this.store.addResourceBundle(c,l,o),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){KVe(f.loaded,[c],l),mHe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){u[h]||(u[h]={});var p=f.loaded[h];p.length&&p.forEach(function(d){u[h][d]===void 0&&(u[h][d]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,o){var s=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(g,m){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&m&&c<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,c+1,l*2,u)},l);return}u(g,m)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var p=h(i,a);p&&typeof p.then=="function"?p.then(function(d){return f(null,d)}).catch(f):f(null,p)}catch(d){f(d)}return}return h(i,a,f)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),c=s[0],l=s[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,o,s,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=Lj(Lj({},l),{},{isUpdate:c}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var p;h.length===5?p=h(i,a,o,s,f):p=h(i,a,o,s),p&&typeof p.then=="function"?p.then(function(d){return u(null,d)}).catch(u):u(null,p)}catch(d){u(d)}else h(i,a,o,s,u,f)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}($u);function Bj(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Ai(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Ai(e[2])==="object"||Ai(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Dj(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){no(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yHe(t){var e=xHe();return function(){var n=Ls(t),i;if(e){var a=Ls(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rg(this,i)}}function xHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I_(){}function bHe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Mx=function(t){$b(r,t);var e=yHe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(is(this,r),n=e.call(this),Gb&&$u.call(Su(n)),n.options=Dj(i),n.services={},n.logger=Ss,n.modules={external:[]},bHe(Su(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),Rg(n,Su(n));setTimeout(function(){n.init(i,a)},0)}return n}return as(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=Bj();this.options=vs(vs(vs({},s),this.options),Dj(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=vs(vs({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?Ss.init(c(this.modules.logger),this.options):Ss.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=pHe);var u=new Pj(this.options);this.store=new iHe(this.options.resources,this.options);var f=this.services;f.logger=Ss,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new fHe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new hHe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new _He(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(v){for(var _=arguments.length,y=new Array(_>1?_-1:0),b=1;b<_;b++)y[b-1]=arguments[b];i.emit.apply(i,[v].concat(y))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Rj(this.services,this.options),this.translator.on("*",function(v){for(var _=arguments.length,y=new Array(_>1?_-1:0),b=1;b<_;b++)y[b-1]=arguments[b];i.emit.apply(i,[v].concat(y))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=I_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var p=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];p.forEach(function(v){i[v]=function(){var _;return(_=i.store)[v].apply(_,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){i[v]=function(){var _;return(_=i.store)[v].apply(_,arguments),i}});var g=sp(),m=function(){var _=function(b,w){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),g.resolve(w),o(b,w)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return _(null,i.t.bind(i));i.changeLanguage(i.options.lng,_)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),g}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I_,s=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return s();var l=[],u=function(p){if(p){var d=a.services.languageUtils.toResolveHierarchy(p);d.forEach(function(g){l.indexOf(g)<0&&l.push(g)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return u(h)})}this.options.preload&&this.options.preload.forEach(function(h){return u(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=sp();return i||(i=this.languages),a||(a=this.options.ns),o||(o=I_),this.services.backendConnector.reload(i,a,function(c){s.resolve(),o(c)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&qY.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=sp();this.emit("languageChanging",i);var c=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,p){p?(c(p),o.translator.changeLanguage(p),o.isLanguageChangingTo=void 0,o.emit("languageChanged",p),o.logger.log("languageChanged",p)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},u=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var p=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);p&&(o.language||c(p),o.translator.language||o.translator.changeLanguage(p),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(p)),o.loadResources(p,function(d){l(d,p)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,c=function l(u,f){var h;if(Ai(f)!=="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),g=2;g<p;g++)d[g-2]=arguments[g];h=s.options.overloadTranslationOptionHandler([u,f].concat(d))}else h=vs({},f);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var m=s.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(u)?v=u.map(function(_){return"".concat(h.keyPrefix).concat(m).concat(_)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(m).concat(u):u,s.t(v,h)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(p,d){var g=a.services.backendConnector.state["".concat(p,"|").concat(d)];return g===-1||g===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=sp();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){s.resolve(),a&&a(c)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=sp();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],c=i.filter(function(l){return s.indexOf(l)<0});return c.length?(this.options.preload=s.concat(c),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Pj(Bj());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I_,s=vs(vs(vs({},this.options),a),{isClone:!0}),c=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=vs({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new Rj(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];c.emit.apply(c,[u].concat(h))}),c.init(s,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}($u);no(Mx,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Mx(t,e)});var la=Mx.createInstance();la.createInstance=Mx.createInstance;la.createInstance;la.dir;la.init;la.loadResources;la.reloadResources;la.use;la.changeLanguage;la.getFixedT;la.t;la.exists;la.setDefaultNamespace;la.hasLoadedNamespace;la.loadNamespaces;la.loadLanguages;la.use(sOe).init({resources:E0e||{},lng:jd[S0e]||"zhCn",fallbackLng:"zhCn",interpolation:{escapeValue:!1}}).then(()=>console.log("IdolTime i18n Ready!"));Pu.render(F.jsx(Gr.StrictMode,{children:F.jsx(fOe,{children:F.jsx(SSe,{store:ce,children:F.jsx(HVe,{})})})}),document.getElementById("root"));export{_i as C,qc as S,Ot as T,W,qa as a,IHe as r,Vp as u};
